webpackJsonp([0],{"+E39":function(t,e,n){t.exports=!n("S82l")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"+MLA":function(t,e,n){var r=n("EqjI"),i=n("06OY").onFreeze;n("uqUo")("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},"+ZMJ":function(t,e,n){var r=n("lOnJ");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"+tPU":function(t,e,n){n("xGkn");for(var r=n("7KvD"),i=n("hJx8"),o=n("/bQp"),a=n("dSzd")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],h=l&&l.prototype;h&&!h[a]&&i(h,a,c),o[c]=o.Array}},"//Fk":function(t,e,n){t.exports={default:n("U5ju"),__esModule:!0}},"/bQp":function(t,e){t.exports={}},"/n6Q":function(t,e,n){n("zQR9"),n("+tPU"),t.exports=n("Kh4W").f("iterator")},"06OY":function(t,e,n){var r=n("3Eo+")("meta"),i=n("EqjI"),o=n("D2L2"),a=n("evD5").f,s=0,u=Object.isExtensible||function(){return!0},c=!n("S82l")(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return c&&h.NEED&&u(t)&&!o(t,r)&&l(t),t}}},"1kS7":function(t,e){e.f=Object.getOwnPropertySymbols},"1mcD":function(t,e,n){var r;r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e){var n;function r(t){return"function"==typeof t.key?t.key():t.key}function i(t){return"[object Object]"===Object.prototype.toString.call(t)}function o(t){var e=t.val(),n=i(e)?e:{".value":e};return n[".key"]=r(t),n}function a(t,e){for(var n=0;n<t.length;n++)if(t[n][".key"]===e)return n;return-1}function s(t,e,n){var s=!1,c=null,l=null;if(i(n)&&n.hasOwnProperty("source")&&(s=n.asObject,c=n.cancelCallback,l=n.readyCallback,n=n.source),!i(n))throw new Error("VueFire: invalid Firebase binding source.");var h,f=("function"==typeof(h=n).ref?h=h.ref():"object"==typeof h.ref&&(h=h.ref),h);t.$firebaseRefs[e]=f,t._firebaseSources[e]=n,c&&(c=c.bind(t)),s?function(t,e,n,r){u(t,e,{});var i=n.on("value",function(n){t[e]=o(n)},r);t._firebaseListeners[e]={value:i}}(t,e,n,c):function(t,e,n,i){var s=[];u(t,e,s);var c=n.on("child_added",function(t,e){var n=e?a(s,e)+1:0;s.splice(n,0,o(t))},i),l=n.on("child_removed",function(t){var e=a(s,r(t));s.splice(e,1)},i),h=n.on("child_changed",function(t){var e=a(s,r(t));s.splice(e,1,o(t))},i),f=n.on("child_moved",function(t,e){var n=a(s,r(t)),i=s.splice(n,1)[0],o=e?a(s,e)+1:0;s.splice(o,0,i)},i);t._firebaseListeners[e]={child_added:c,child_removed:l,child_changed:h,child_moved:f}}(t,e,n,c),l&&n.once("value",l.bind(t))}function u(t,e,r){e in t?t[e]=r:n.util.defineReactive(t,e,r)}function c(t){t.$firebaseRefs||(t.$firebaseRefs=Object.create(null),t._firebaseSources=Object.create(null),t._firebaseListeners=Object.create(null))}var l={created:function(){var t=this.$options.firebase;if("function"==typeof t&&(t=t.call(this)),t)for(var e in c(this),t)s(this,e,t[e])},beforeDestroy:function(){if(this.$firebaseRefs){for(var t in this.$firebaseRefs)this.$firebaseRefs[t]&&this.$unbind(t);this.$firebaseRefs=null,this._firebaseSources=null,this._firebaseListeners=null}}};function h(t){(n=t).mixin(l);var e=n.config.optionMergeStrategies;e.firebase=e.provide,n.prototype.$bindAsObject=function(t,e,n,r){c(this),s(this,t,{source:e,asObject:!0,cancelCallback:n,readyCallback:r})},n.prototype.$bindAsArray=function(t,e,n,r){c(this),s(this,t,{source:e,cancelCallback:n,readyCallback:r})},n.prototype.$unbind=function(t){!function(t,e){var n=t._firebaseSources&&t._firebaseSources[e];if(!n)throw new Error('VueFire: unbind failed: "'+e+'" is not bound to a Firebase reference.');var r=t._firebaseListeners[e];for(var i in r)n.off(i,r[i]);t[e]=null,t.$firebaseRefs[e]=null,t._firebaseSources[e]=null,t._firebaseListeners[e]=null}(this,t)}}"undefined"!=typeof window&&window.Vue&&h(window.Vue),t.exports=h}])},t.exports=r()},"21It":function(t,e,n){"use strict";var r=n("FtD3");t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},"2KxR":function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},"30KW":function(t,e,n){var r=n("kM2E"),i=n("7KvD").isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},"3Eo+":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},"3fs2":function(t,e,n){var r=n("RY/4"),i=n("dSzd")("iterator"),o=n("/bQp");t.exports=n("FeBl").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},"4mcu":function(t,e){t.exports=function(){}},"52gC":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"5PlU":function(t,e,n){var r=n("RY/4"),i=n("dSzd")("iterator"),o=n("/bQp");t.exports=n("FeBl").isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},"5QVw":function(t,e,n){t.exports={default:n("BwfY"),__esModule:!0}},"5VQ+":function(t,e,n){"use strict";var r=n("cGG2");t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},"5zde":function(t,e,n){n("zQR9"),n("qyJz"),t.exports=n("FeBl").Array.from},"7+uW":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){
/*!
 * Vue.js v2.5.17
 * (c) 2014-2018 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function r(t){return void 0===t||null===t}function i(t){return void 0!==t&&null!==t}function o(t){return!0===t}function a(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function s(t){return null!==t&&"object"==typeof t}var u=Object.prototype.toString;function c(t){return"[object Object]"===u.call(t)}function l(t){return"[object RegExp]"===u.call(t)}function h(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function f(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function d(t){var e=parseFloat(t);return isNaN(e)?t:e}function p(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var v=p("slot,component",!0),g=p("key,ref,slot,slot-scope,is");function m(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var y=Object.prototype.hasOwnProperty;function b(t,e){return y.call(t,e)}function _(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var w=/-(\w)/g,x=_(function(t){return t.replace(w,function(t,e){return e?e.toUpperCase():""})}),E=_(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),C=/\B([A-Z])/g,k=_(function(t){return t.replace(C,"-$1").toLowerCase()});var T=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function S(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function O(t,e){for(var n in e)t[n]=e[n];return t}function M(t){for(var e={},n=0;n<t.length;n++)t[n]&&O(e,t[n]);return e}function A(t,e,n){}var P=function(t,e,n){return!1},I=function(t){return t};function N(t,e){if(t===e)return!0;var n=s(t),r=s(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every(function(t,n){return N(t,e[n])});if(i||o)return!1;var a=Object.keys(t),u=Object.keys(e);return a.length===u.length&&a.every(function(n){return N(t[n],e[n])})}catch(t){return!1}}function D(t,e){for(var n=0;n<t.length;n++)if(N(t[n],e))return n;return-1}function R(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var j="data-server-rendered",L=["component","directive","filter"],F=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],B={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:P,isReservedAttr:P,isUnknownElement:P,getTagNamespace:A,parsePlatformTagName:I,mustUseProp:P,_lifecycleHooks:F};function $(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function U(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var z=/[^\w.$]/;var q,V="__proto__"in{},H="undefined"!=typeof window,W="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,G=W&&WXEnvironment.platform.toLowerCase(),K=H&&window.navigator.userAgent.toLowerCase(),Y=K&&/msie|trident/.test(K),Q=K&&K.indexOf("msie 9.0")>0,X=K&&K.indexOf("edge/")>0,J=(K&&K.indexOf("android"),K&&/iphone|ipad|ipod|ios/.test(K)||"ios"===G),Z=(K&&/chrome\/\d+/.test(K),{}.watch),tt=!1;if(H)try{var et={};Object.defineProperty(et,"passive",{get:function(){tt=!0}}),window.addEventListener("test-passive",null,et)}catch(t){}var nt=function(){return void 0===q&&(q=!H&&!W&&void 0!==t&&"server"===t.process.env.VUE_ENV),q},rt=H&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function it(t){return"function"==typeof t&&/native code/.test(t.toString())}var ot,at="undefined"!=typeof Symbol&&it(Symbol)&&"undefined"!=typeof Reflect&&it(Reflect.ownKeys);ot="undefined"!=typeof Set&&it(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var st=A,ut=0,ct=function(){this.id=ut++,this.subs=[]};ct.prototype.addSub=function(t){this.subs.push(t)},ct.prototype.removeSub=function(t){m(this.subs,t)},ct.prototype.depend=function(){ct.target&&ct.target.addDep(this)},ct.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},ct.target=null;var lt=[];function ht(t){ct.target&&lt.push(ct.target),ct.target=t}function ft(){ct.target=lt.pop()}var dt=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},pt={child:{configurable:!0}};pt.child.get=function(){return this.componentInstance},Object.defineProperties(dt.prototype,pt);var vt=function(t){void 0===t&&(t="");var e=new dt;return e.text=t,e.isComment=!0,e};function gt(t){return new dt(void 0,void 0,void 0,String(t))}function mt(t){var e=new dt(t.tag,t.data,t.children,t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.isCloned=!0,e}var yt=Array.prototype,bt=Object.create(yt);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=yt[t];U(bt,t,function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&a.observeArray(i),a.dep.notify(),o})});var _t=Object.getOwnPropertyNames(bt),wt=!0;function xt(t){wt=t}var Et=function(t){(this.value=t,this.dep=new ct,this.vmCount=0,U(t,"__ob__",this),Array.isArray(t))?((V?Ct:kt)(t,bt,_t),this.observeArray(t)):this.walk(t)};function Ct(t,e,n){t.__proto__=e}function kt(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];U(t,o,e[o])}}function Tt(t,e){var n;if(s(t)&&!(t instanceof dt))return b(t,"__ob__")&&t.__ob__ instanceof Et?n=t.__ob__:wt&&!nt()&&(Array.isArray(t)||c(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Et(t)),e&&n&&n.vmCount++,n}function St(t,e,n,r,i){var o=new ct,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get;s||2!==arguments.length||(n=t[e]);var u=a&&a.set,c=!i&&Tt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return ct.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(e)&&function t(e){for(var n=void 0,r=0,i=e.length;r<i;r++)(n=e[r])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&t(n)}(e))),e},set:function(e){var r=s?s.call(t):n;e===r||e!=e&&r!=r||(u?u.call(t,e):n=e,c=!i&&Tt(e),o.notify())}})}}function Ot(t,e,n){if(Array.isArray(t)&&h(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(St(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function Mt(t,e){if(Array.isArray(t)&&h(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||b(t,e)&&(delete t[e],n&&n.dep.notify())}}Et.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)St(t,e[n])},Et.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Tt(t[e])};var At=B.optionMergeStrategies;function Pt(t,e){if(!e)return t;for(var n,r,i,o=Object.keys(e),a=0;a<o.length;a++)r=t[n=o[a]],i=e[n],b(t,n)?c(r)&&c(i)&&Pt(r,i):Ot(t,n,i);return t}function It(t,e,n){return n?function(){var r="function"==typeof e?e.call(n,n):e,i="function"==typeof t?t.call(n,n):t;return r?Pt(r,i):i}:e?t?function(){return Pt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Nt(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function Dt(t,e,n,r){var i=Object.create(t||null);return e?O(i,e):i}At.data=function(t,e,n){return n?It(t,e,n):e&&"function"!=typeof e?t:It(t,e)},F.forEach(function(t){At[t]=Nt}),L.forEach(function(t){At[t+"s"]=Dt}),At.watch=function(t,e,n,r){if(t===Z&&(t=void 0),e===Z&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in O(i,t),e){var a=i[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},At.props=At.methods=At.inject=At.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return O(i,t),e&&O(i,e),i},At.provide=It;var Rt=function(t,e){return void 0===e?t:e};function jt(t,e,n){"function"==typeof e&&(e=e.options),function(t,e){var n=t.props;if(n){var r,i,o={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(i=n[r])&&(o[x(i)]={type:null});else if(c(n))for(var a in n)i=n[a],o[x(a)]=c(i)?i:{type:i};t.props=o}}(e),function(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(c(n))for(var o in n){var a=n[o];r[o]=c(a)?O({from:o},a):{from:a}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}(e);var r=e.extends;if(r&&(t=jt(t,r,n)),e.mixins)for(var i=0,o=e.mixins.length;i<o;i++)t=jt(t,e.mixins[i],n);var a,s={};for(a in t)u(a);for(a in e)b(t,a)||u(a);function u(r){var i=At[r]||Rt;s[r]=i(t[r],e[r],n,r)}return s}function Lt(t,e,n,r){if("string"==typeof n){var i=t[e];if(b(i,n))return i[n];var o=x(n);if(b(i,o))return i[o];var a=E(o);return b(i,a)?i[a]:i[n]||i[o]||i[a]}}function Ft(t,e,n,r){var i=e[t],o=!b(n,t),a=n[t],s=Ut(Boolean,i.type);if(s>-1)if(o&&!b(i,"default"))a=!1;else if(""===a||a===k(t)){var u=Ut(String,i.type);(u<0||s<u)&&(a=!0)}if(void 0===a){a=function(t,e,n){if(!b(e,"default"))return;var r=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n])return t._props[n];return"function"==typeof r&&"Function"!==Bt(e.type)?r.call(t):r}(r,i,t);var c=wt;xt(!0),Tt(a),xt(c)}return a}function Bt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function $t(t,e){return Bt(t)===Bt(e)}function Ut(t,e){if(!Array.isArray(e))return $t(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if($t(e[n],t))return n;return-1}function zt(t,e,n){if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(r,t,e,n))return}catch(t){qt(t,r,"errorCaptured hook")}}qt(t,e,n)}function qt(t,e,n){if(B.errorHandler)try{return B.errorHandler.call(null,t,e,n)}catch(t){Vt(t,null,"config.errorHandler")}Vt(t,e,n)}function Vt(t,e,n){if(!H&&!W||"undefined"==typeof console)throw t;console.error(t)}var Ht,Wt,Gt=[],Kt=!1;function Yt(){Kt=!1;var t=Gt.slice(0);Gt.length=0;for(var e=0;e<t.length;e++)t[e]()}var Qt=!1;if("undefined"!=typeof setImmediate&&it(setImmediate))Wt=function(){setImmediate(Yt)};else if("undefined"==typeof MessageChannel||!it(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())Wt=function(){setTimeout(Yt,0)};else{var Xt=new MessageChannel,Jt=Xt.port2;Xt.port1.onmessage=Yt,Wt=function(){Jt.postMessage(1)}}if("undefined"!=typeof Promise&&it(Promise)){var Zt=Promise.resolve();Ht=function(){Zt.then(Yt),J&&setTimeout(A)}}else Ht=Wt;function te(t,e){var n;if(Gt.push(function(){if(t)try{t.call(e)}catch(t){zt(t,e,"nextTick")}else n&&n(e)}),Kt||(Kt=!0,Qt?Wt():Ht()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){n=t})}var ee=new ot;function ne(t){!function t(e,n){var r,i;var o=Array.isArray(e);if(!o&&!s(e)||Object.isFrozen(e)||e instanceof dt)return;if(e.__ob__){var a=e.__ob__.dep.id;if(n.has(a))return;n.add(a)}if(o)for(r=e.length;r--;)t(e[r],n);else for(i=Object.keys(e),r=i.length;r--;)t(e[i[r]],n)}(t,ee),ee.clear()}var re,ie=_(function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}});function oe(t){function e(){var t=arguments,n=e.fns;if(!Array.isArray(n))return n.apply(null,arguments);for(var r=n.slice(),i=0;i<r.length;i++)r[i].apply(null,t)}return e.fns=t,e}function ae(t,e,n,i,o){var a,s,u,c;for(a in t)s=t[a],u=e[a],c=ie(a),r(s)||(r(u)?(r(s.fns)&&(s=t[a]=oe(s)),n(c.name,s,c.once,c.capture,c.passive,c.params)):s!==u&&(u.fns=s,t[a]=u));for(a in e)r(t[a])&&i((c=ie(a)).name,e[a],c.capture)}function se(t,e,n){var a;t instanceof dt&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function u(){n.apply(this,arguments),m(a.fns,u)}r(s)?a=oe([u]):i(s.fns)&&o(s.merged)?(a=s).fns.push(u):a=oe([s,u]),a.merged=!0,t[e]=a}function ue(t,e,n,r,o){if(i(e)){if(b(e,n))return t[n]=e[n],o||delete e[n],!0;if(b(e,r))return t[n]=e[r],o||delete e[r],!0}return!1}function ce(t){return a(t)?[gt(t)]:Array.isArray(t)?function t(e,n){var s=[];var u,c,l,h;for(u=0;u<e.length;u++)r(c=e[u])||"boolean"==typeof c||(l=s.length-1,h=s[l],Array.isArray(c)?c.length>0&&(le((c=t(c,(n||"")+"_"+u))[0])&&le(h)&&(s[l]=gt(h.text+c[0].text),c.shift()),s.push.apply(s,c)):a(c)?le(h)?s[l]=gt(h.text+c):""!==c&&s.push(gt(c)):le(c)&&le(h)?s[l]=gt(h.text+c.text):(o(e._isVList)&&i(c.tag)&&r(c.key)&&i(n)&&(c.key="__vlist"+n+"_"+u+"__"),s.push(c)));return s}(t):void 0}function le(t){return i(t)&&i(t.text)&&!1===t.isComment}function he(t,e){return(t.__esModule||at&&"Module"===t[Symbol.toStringTag])&&(t=t.default),s(t)?e.extend(t):t}function fe(t){return t.isComment&&t.asyncFactory}function de(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(i(n)&&(i(n.componentOptions)||fe(n)))return n}}function pe(t,e,n){n?re.$once(t,e):re.$on(t,e)}function ve(t,e){re.$off(t,e)}function ge(t,e,n){re=t,ae(e,n||{},pe,ve),re=void 0}function me(t,e){var n={};if(!t)return n;for(var r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,u=n[s]||(n[s]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var c in n)n[c].every(ye)&&delete n[c];return n}function ye(t){return t.isComment&&!t.asyncFactory||" "===t.text}function be(t,e){e=e||{};for(var n=0;n<t.length;n++)Array.isArray(t[n])?be(t[n],e):e[t[n].key]=t[n].fn;return e}var _e=null;function we(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function xe(t,e){if(e){if(t._directInactive=!1,we(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)xe(t.$children[n]);Ee(t,"activated")}}function Ee(t,e){ht();var n=t.$options[e];if(n)for(var r=0,i=n.length;r<i;r++)try{n[r].call(t)}catch(n){zt(n,t,e+" hook")}t._hasHookEvent&&t.$emit("hook:"+e),ft()}var Ce=[],ke=[],Te={},Se=!1,Oe=!1,Me=0;function Ae(){var t,e;for(Oe=!0,Ce.sort(function(t,e){return t.id-e.id}),Me=0;Me<Ce.length;Me++)e=(t=Ce[Me]).id,Te[e]=null,t.run();var n=ke.slice(),r=Ce.slice();Me=Ce.length=ke.length=0,Te={},Se=Oe=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,xe(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&Ee(r,"updated")}}(r),rt&&B.devtools&&rt.emit("flush")}var Pe=0,Ie=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Pe,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ot,this.newDepIds=new ot,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!z.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};Ie.prototype.get=function(){var t;ht(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;zt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ne(t),ft(),this.cleanupDeps()}return t},Ie.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},Ie.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Ie.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==Te[e]){if(Te[e]=!0,Oe){for(var n=Ce.length-1;n>Me&&Ce[n].id>t.id;)n--;Ce.splice(n+1,0,t)}else Ce.push(t);Se||(Se=!0,te(Ae))}}(this)},Ie.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||s(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){zt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},Ie.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Ie.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},Ie.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||m(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var Ne={enumerable:!0,configurable:!0,get:A,set:A};function De(t,e,n){Ne.get=function(){return this[e][n]},Ne.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Ne)}function Re(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[];t.$parent&&xt(!1);var o=function(o){i.push(o);var a=Ft(o,e,n,t);St(r,o,a),o in t||De(t,"_props",o)};for(var a in e)o(a);xt(!0)}(t,e.props),e.methods&&function(t,e){t.$options.props;for(var n in e)t[n]=null==e[n]?A:T(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;c(e=t._data="function"==typeof e?function(t,e){ht();try{return t.call(e,e)}catch(t){return zt(t,e,"data()"),{}}finally{ft()}}(e,t):e||{})||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);for(;i--;){var o=n[i];0,r&&b(r,o)||$(o)||De(t,"_data",o)}Tt(e,!0)}(t):Tt(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=nt();for(var i in e){var o=e[i],a="function"==typeof o?o:o.get;0,r||(n[i]=new Ie(t,a||A,A,je)),i in t||Le(t,i,o)}}(t,e.computed),e.watch&&e.watch!==Z&&function(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)Be(t,n,r[i]);else Be(t,n,r)}}(t,e.watch)}var je={lazy:!0};function Le(t,e,n){var r=!nt();"function"==typeof n?(Ne.get=r?Fe(e):n,Ne.set=A):(Ne.get=n.get?r&&!1!==n.cache?Fe(e):n.get:A,Ne.set=n.set?n.set:A),Object.defineProperty(t,e,Ne)}function Fe(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),ct.target&&e.depend(),e.value}}function Be(t,e,n,r){return c(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}function $e(t,e){if(t){for(var n=Object.create(null),r=at?Reflect.ownKeys(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}):Object.keys(t),i=0;i<r.length;i++){for(var o=r[i],a=t[o].from,s=e;s;){if(s._provided&&b(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in t[o]){var u=t[o].default;n[o]="function"==typeof u?u.call(e):u}else 0}return n}}function Ue(t,e){var n,r,o,a,u;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),r=0,o=t.length;r<o;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(s(t))for(a=Object.keys(t),n=new Array(a.length),r=0,o=a.length;r<o;r++)u=a[r],n[r]=e(t[u],u,r);return i(n)&&(n._isVList=!0),n}function ze(t,e,n,r){var i,o=this.$scopedSlots[t];if(o)n=n||{},r&&(n=O(O({},r),n)),i=o(n)||e;else{var a=this.$slots[t];a&&(a._rendered=!0),i=a||e}var s=n&&n.slot;return s?this.$createElement("template",{slot:s},i):i}function qe(t){return Lt(this.$options,"filters",t)||I}function Ve(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function He(t,e,n,r,i){var o=B.keyCodes[e]||n;return i&&r&&!B.keyCodes[e]?Ve(i,r):o?Ve(o,t):r?k(r)!==e:void 0}function We(t,e,n,r,i){if(n)if(s(n)){var o;Array.isArray(n)&&(n=M(n));var a=function(a){if("class"===a||"style"===a||g(a))o=t;else{var s=t.attrs&&t.attrs.type;o=r||B.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}a in o||(o[a]=n[a],i&&((t.on||(t.on={}))["update:"+a]=function(t){n[a]=t}))};for(var u in n)a(u)}else;return t}function Ge(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e?r:(Ye(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),r)}function Ke(t,e,n){return Ye(t,"__once__"+e+(n?"_"+n:""),!0),t}function Ye(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&Qe(t[r],e+"_"+r,n);else Qe(t,e,n)}function Qe(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Xe(t,e){if(e)if(c(e)){var n=t.on=t.on?O({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function Je(t){t._o=Ke,t._n=d,t._s=f,t._l=Ue,t._t=ze,t._q=N,t._i=D,t._m=Ge,t._f=qe,t._k=He,t._b=We,t._v=gt,t._e=vt,t._u=be,t._g=Xe}function Ze(t,e,r,i,a){var s,u=a.options;b(i,"_uid")?(s=Object.create(i))._original=i:(s=i,i=i._original);var c=o(u._compiled),l=!c;this.data=t,this.props=e,this.children=r,this.parent=i,this.listeners=t.on||n,this.injections=$e(u.inject,i),this.slots=function(){return me(r,i)},c&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=t.scopedSlots||n),u._scopeId?this._c=function(t,e,n,r){var o=un(s,t,e,n,r,l);return o&&!Array.isArray(o)&&(o.fnScopeId=u._scopeId,o.fnContext=i),o}:this._c=function(t,e,n,r){return un(s,t,e,n,r,l)}}function tn(t,e,n,r){var i=mt(t);return i.fnContext=n,i.fnOptions=r,e.slot&&((i.data||(i.data={})).slot=e.slot),i}function en(t,e){for(var n in e)t[x(n)]=e[n]}Je(Ze.prototype);var nn={init:function(t,e,n,r){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var o=t;nn.prepatch(o,o)}else{(t.componentInstance=function(t,e,n,r){var o={_isComponent:!0,parent:e,_parentVnode:t,_parentElm:n||null,_refElm:r||null},a=t.data.inlineTemplate;i(a)&&(o.render=a.render,o.staticRenderFns=a.staticRenderFns);return new t.componentOptions.Ctor(o)}(t,_e,n,r)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var r=e.componentOptions;!function(t,e,r,i,o){var a=!!(o||t.$options._renderChildren||i.data.scopedSlots||t.$scopedSlots!==n);if(t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=o,t.$attrs=i.data.attrs||n,t.$listeners=r||n,e&&t.$options.props){xt(!1);for(var s=t._props,u=t.$options._propKeys||[],c=0;c<u.length;c++){var l=u[c],h=t.$options.props;s[l]=Ft(l,h,e,t)}xt(!0),t.$options.propsData=e}r=r||n;var f=t.$options._parentListeners;t.$options._parentListeners=r,ge(t,r,f),a&&(t.$slots=me(o,i.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,r.propsData,r.listeners,e,r.children)},insert:function(t){var e,n=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,Ee(r,"mounted")),t.data.keepAlive&&(n._isMounted?((e=r)._inactive=!1,ke.push(e)):xe(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(!(n&&(e._directInactive=!0,we(e))||e._inactive)){e._inactive=!0;for(var r=0;r<e.$children.length;r++)t(e.$children[r]);Ee(e,"deactivated")}}(e,!0):e.$destroy())}},rn=Object.keys(nn);function on(t,e,a,u,c){if(!r(t)){var l=a.$options._base;if(s(t)&&(t=l.extend(t)),"function"==typeof t){var h;if(r(t.cid)&&void 0===(t=function(t,e,n){if(o(t.error)&&i(t.errorComp))return t.errorComp;if(i(t.resolved))return t.resolved;if(o(t.loading)&&i(t.loadingComp))return t.loadingComp;if(!i(t.contexts)){var a=t.contexts=[n],u=!0,c=function(){for(var t=0,e=a.length;t<e;t++)a[t].$forceUpdate()},l=R(function(n){t.resolved=he(n,e),u||c()}),h=R(function(e){i(t.errorComp)&&(t.error=!0,c())}),f=t(l,h);return s(f)&&("function"==typeof f.then?r(t.resolved)&&f.then(l,h):i(f.component)&&"function"==typeof f.component.then&&(f.component.then(l,h),i(f.error)&&(t.errorComp=he(f.error,e)),i(f.loading)&&(t.loadingComp=he(f.loading,e),0===f.delay?t.loading=!0:setTimeout(function(){r(t.resolved)&&r(t.error)&&(t.loading=!0,c())},f.delay||200)),i(f.timeout)&&setTimeout(function(){r(t.resolved)&&h(null)},f.timeout))),u=!1,t.loading?t.loadingComp:t.resolved}t.contexts.push(n)}(h=t,l,a)))return function(t,e,n,r,i){var o=vt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}(h,e,a,u,c);e=e||{},ln(t),i(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.props||(e.props={}))[n]=e.model.value;var o=e.on||(e.on={});i(o[r])?o[r]=[e.model.callback].concat(o[r]):o[r]=e.model.callback}(t.options,e);var f=function(t,e,n){var o=e.options.props;if(!r(o)){var a={},s=t.attrs,u=t.props;if(i(s)||i(u))for(var c in o){var l=k(c);ue(a,u,c,l,!0)||ue(a,s,c,l,!1)}return a}}(e,t);if(o(t.options.functional))return function(t,e,r,o,a){var s=t.options,u={},c=s.props;if(i(c))for(var l in c)u[l]=Ft(l,c,e||n);else i(r.attrs)&&en(u,r.attrs),i(r.props)&&en(u,r.props);var h=new Ze(r,u,a,o,t),f=s.render.call(null,h._c,h);if(f instanceof dt)return tn(f,r,h.parent,s);if(Array.isArray(f)){for(var d=ce(f)||[],p=new Array(d.length),v=0;v<d.length;v++)p[v]=tn(d[v],r,h.parent,s);return p}}(t,f,e,a,u);var d=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var p=e.slot;e={},p&&(e.slot=p)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<rn.length;n++){var r=rn[n];e[r]=nn[r]}}(e);var v=t.options.name||c;return new dt("vue-component-"+t.cid+(v?"-"+v:""),e,void 0,void 0,void 0,a,{Ctor:t,propsData:f,listeners:d,tag:c,children:u},h)}}}var an=1,sn=2;function un(t,e,n,u,c,l){return(Array.isArray(n)||a(n))&&(c=u,u=n,n=void 0),o(l)&&(c=sn),function(t,e,n,a,u){if(i(n)&&i(n.__ob__))return vt();i(n)&&i(n.is)&&(e=n.is);if(!e)return vt();0;Array.isArray(a)&&"function"==typeof a[0]&&((n=n||{}).scopedSlots={default:a[0]},a.length=0);u===sn?a=ce(a):u===an&&(a=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(a));var c,l;if("string"==typeof e){var h;l=t.$vnode&&t.$vnode.ns||B.getTagNamespace(e),c=B.isReservedTag(e)?new dt(B.parsePlatformTagName(e),n,a,void 0,void 0,t):i(h=Lt(t.$options,"components",e))?on(h,n,t,a,e):new dt(e,n,a,void 0,void 0,t)}else c=on(e,n,t,a);return Array.isArray(c)?c:i(c)?(i(l)&&function t(e,n,a){e.ns=n;"foreignObject"===e.tag&&(n=void 0,a=!0);if(i(e.children))for(var s=0,u=e.children.length;s<u;s++){var c=e.children[s];i(c.tag)&&(r(c.ns)||o(a)&&"svg"!==c.tag)&&t(c,n,a)}}(c,l),i(n)&&function(t){s(t.style)&&ne(t.style);s(t.class)&&ne(t.class)}(n),c):vt()}(t,e,n,u,c)}var cn=0;function ln(t){var e=t.options;if(t.super){var n=ln(t.super);if(n!==t.superOptions){t.superOptions=n;var r=function(t){var e,n=t.options,r=t.extendOptions,i=t.sealedOptions;for(var o in n)n[o]!==i[o]&&(e||(e={}),e[o]=hn(n[o],r[o],i[o]));return e}(t);r&&O(t.extendOptions,r),(e=t.options=jt(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function hn(t,e,n){if(Array.isArray(t)){var r=[];n=Array.isArray(n)?n:[n],e=Array.isArray(e)?e:[e];for(var i=0;i<t.length;i++)(e.indexOf(t[i])>=0||n.indexOf(t[i])<0)&&r.push(t[i]);return r}return t}function fn(t){this._init(t)}function dn(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=t.name||n.options.name;var a=function(t){this._init(t)};return(a.prototype=Object.create(n.prototype)).constructor=a,a.cid=e++,a.options=jt(n.options,t),a.super=n,a.options.props&&function(t){var e=t.options.props;for(var n in e)De(t.prototype,"_props",n)}(a),a.options.computed&&function(t){var e=t.options.computed;for(var n in e)Le(t.prototype,n,e[n])}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,L.forEach(function(t){a[t]=n[t]}),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=O({},a.options),i[r]=a,a}}function pn(t){return t&&(t.Ctor.options.name||t.tag)}function vn(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!l(t)&&t.test(e)}function gn(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var a=n[o];if(a){var s=pn(a.componentOptions);s&&!e(s)&&mn(n,o,r,i)}}}function mn(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,m(n,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=cn++,e._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r,n._parentElm=e._parentElm,n._refElm=e._refElm;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=jt(ln(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&ge(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,r=t.$vnode=e._parentVnode,i=r&&r.context;t.$slots=me(e._renderChildren,i),t.$scopedSlots=n,t._c=function(e,n,r,i){return un(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return un(t,e,n,r,i,!0)};var o=r&&r.data;St(t,"$attrs",o&&o.attrs||n,null,!0),St(t,"$listeners",e._parentListeners||n,null,!0)}(e),Ee(e,"beforeCreate"),function(t){var e=$e(t.$options.inject,t);e&&(xt(!1),Object.keys(e).forEach(function(n){St(t,n,e[n])}),xt(!0))}(e),Re(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),Ee(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(fn),function(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Ot,t.prototype.$delete=Mt,t.prototype.$watch=function(t,e,n){if(c(e))return Be(this,t,e,n);(n=n||{}).user=!0;var r=new Ie(this,t,e,n);return n.immediate&&e.call(this,r.value),function(){r.teardown()}}}(fn),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++)this.$on(t[r],n);else(this._events[t]||(this._events[t]=[])).push(n),e.test(t)&&(this._hasHookEvent=!0);return this},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)this.$off(t[r],e);return n}var o=n._events[t];if(!o)return n;if(!e)return n._events[t]=null,n;if(e)for(var a,s=o.length;s--;)if((a=o[s])===e||a.fn===e){o.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?S(n):n;for(var r=S(arguments,1),i=0,o=n.length;i<o;i++)try{n[i].apply(e,r)}catch(n){zt(n,e,'event handler for "'+t+'"')}}return e}}(fn),function(t){t.prototype._update=function(t,e){var n=this;n._isMounted&&Ee(n,"beforeUpdate");var r=n.$el,i=n._vnode,o=_e;_e=n,n._vnode=t,i?n.$el=n.__patch__(i,t):(n.$el=n.__patch__(n.$el,t,e,!1,n.$options._parentElm,n.$options._refElm),n.$options._parentElm=n.$options._refElm=null),_e=o,r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Ee(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||m(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Ee(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(fn),function(t){Je(t.prototype),t.prototype.$nextTick=function(t){return te(t,this)},t.prototype._render=function(){var t,e=this,r=e.$options,i=r.render,o=r._parentVnode;o&&(e.$scopedSlots=o.data.scopedSlots||n),e.$vnode=o;try{t=i.call(e._renderProxy,e.$createElement)}catch(n){zt(n,e,"render"),t=e._vnode}return t instanceof dt||(t=vt()),t.parent=o,t}}(fn);var yn=[String,RegExp,Array],bn={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:yn,exclude:yn,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)mn(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){gn(t,function(t){return vn(e,t)})}),this.$watch("exclude",function(e){gn(t,function(t){return!vn(e,t)})})},render:function(){var t=this.$slots.default,e=de(t),n=e&&e.componentOptions;if(n){var r=pn(n),i=this.include,o=this.exclude;if(i&&(!r||!vn(i,r))||o&&r&&vn(o,r))return e;var a=this.cache,s=this.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;a[u]?(e.componentInstance=a[u].componentInstance,m(s,u),s.push(u)):(a[u]=e,s.push(u),this.max&&s.length>parseInt(this.max)&&mn(a,s[0],s,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return B}};Object.defineProperty(t,"config",e),t.util={warn:st,extend:O,mergeOptions:jt,defineReactive:St},t.set=Ot,t.delete=Mt,t.nextTick=te,t.options=Object.create(null),L.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,O(t.options.components,bn),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=S(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=jt(this.options,t),this}}(t),dn(t),function(t){L.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&c(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}(t)}(fn),Object.defineProperty(fn.prototype,"$isServer",{get:nt}),Object.defineProperty(fn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(fn,"FunctionalRenderContext",{value:Ze}),fn.version="2.5.17";var _n=p("style,class"),wn=p("input,textarea,option,select,progress"),xn=function(t,e,n){return"value"===n&&wn(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},En=p("contenteditable,draggable,spellcheck"),Cn=p("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),kn="http://www.w3.org/1999/xlink",Tn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Sn=function(t){return Tn(t)?t.slice(6,t.length):""},On=function(t){return null==t||!1===t};function Mn(t){for(var e=t.data,n=t,r=t;i(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=An(r.data,e));for(;i(n=n.parent);)n&&n.data&&(e=An(e,n.data));return function(t,e){if(i(t)||i(e))return Pn(t,In(e));return""}(e.staticClass,e.class)}function An(t,e){return{staticClass:Pn(t.staticClass,e.staticClass),class:i(t.class)?[t.class,e.class]:e.class}}function Pn(t,e){return t?e?t+" "+e:t:e||""}function In(t){return Array.isArray(t)?function(t){for(var e,n="",r=0,o=t.length;r<o;r++)i(e=In(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):s(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var Nn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Dn=p("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Rn=p("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),jn=function(t){return Dn(t)||Rn(t)};function Ln(t){return Rn(t)?"svg":"math"===t?"math":void 0}var Fn=Object.create(null);var Bn=p("text,number,password,search,email,tel,url");function $n(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}var Un=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)},createElementNS:function(t,e){return document.createElementNS(Nn[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),zn={create:function(t,e){qn(e)},update:function(t,e){t.data.ref!==e.data.ref&&(qn(t,!0),qn(e))},destroy:function(t){qn(t,!0)}};function qn(t,e){var n=t.data.ref;if(i(n)){var r=t.context,o=t.componentInstance||t.elm,a=r.$refs;e?Array.isArray(a[n])?m(a[n],o):a[n]===o&&(a[n]=void 0):t.data.refInFor?Array.isArray(a[n])?a[n].indexOf(o)<0&&a[n].push(o):a[n]=[o]:a[n]=o}}var Vn=new dt("",{},[]),Hn=["create","activate","update","remove","destroy"];function Wn(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&i(t.data)===i(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,r=i(n=t.data)&&i(n=n.attrs)&&n.type,o=i(n=e.data)&&i(n=n.attrs)&&n.type;return r===o||Bn(r)&&Bn(o)}(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&r(e.asyncFactory.error))}function Gn(t,e,n){var r,o,a={};for(r=e;r<=n;++r)i(o=t[r].key)&&(a[o]=r);return a}var Kn={create:Yn,update:Yn,destroy:function(t){Yn(t,Vn)}};function Yn(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,r,i,o=t===Vn,a=e===Vn,s=Xn(t.data.directives,t.context),u=Xn(e.data.directives,e.context),c=[],l=[];for(n in u)r=s[n],i=u[n],r?(i.oldValue=r.value,Zn(i,"update",e,t),i.def&&i.def.componentUpdated&&l.push(i)):(Zn(i,"bind",e,t),i.def&&i.def.inserted&&c.push(i));if(c.length){var h=function(){for(var n=0;n<c.length;n++)Zn(c[n],"inserted",e,t)};o?se(e,"insert",h):h()}l.length&&se(e,"postpatch",function(){for(var n=0;n<l.length;n++)Zn(l[n],"componentUpdated",e,t)});if(!o)for(n in s)u[n]||Zn(s[n],"unbind",t,t,a)}(t,e)}var Qn=Object.create(null);function Xn(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++)(r=t[n]).modifiers||(r.modifiers=Qn),i[Jn(r)]=r,r.def=Lt(e.$options,"directives",r.name);return i}function Jn(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Zn(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(r){zt(r,n.context,"directive "+t.name+" "+e+" hook")}}var tr=[zn,Kn];function er(t,e){var n=e.componentOptions;if(!(i(n)&&!1===n.Ctor.options.inheritAttrs||r(t.data.attrs)&&r(e.data.attrs))){var o,a,s=e.elm,u=t.data.attrs||{},c=e.data.attrs||{};for(o in i(c.__ob__)&&(c=e.data.attrs=O({},c)),c)a=c[o],u[o]!==a&&nr(s,o,a);for(o in(Y||X)&&c.value!==u.value&&nr(s,"value",c.value),u)r(c[o])&&(Tn(o)?s.removeAttributeNS(kn,Sn(o)):En(o)||s.removeAttribute(o))}}function nr(t,e,n){t.tagName.indexOf("-")>-1?rr(t,e,n):Cn(e)?On(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):En(e)?t.setAttribute(e,On(n)||"false"===n?"false":"true"):Tn(e)?On(n)?t.removeAttributeNS(kn,Sn(e)):t.setAttributeNS(kn,e,n):rr(t,e,n)}function rr(t,e,n){if(On(n))t.removeAttribute(e);else{if(Y&&!Q&&"TEXTAREA"===t.tagName&&"placeholder"===e&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var ir={create:er,update:er};function or(t,e){var n=e.elm,o=e.data,a=t.data;if(!(r(o.staticClass)&&r(o.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var s=Mn(e),u=n._transitionClasses;i(u)&&(s=Pn(s,In(u))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var ar,sr,ur,cr,lr,hr,fr={create:or,update:or},dr=/[\w).+\-_$\]]/;function pr(t){var e,n,r,i,o,a=!1,s=!1,u=!1,c=!1,l=0,h=0,f=0,d=0;for(r=0;r<t.length;r++)if(n=e,e=t.charCodeAt(r),a)39===e&&92!==n&&(a=!1);else if(s)34===e&&92!==n&&(s=!1);else if(u)96===e&&92!==n&&(u=!1);else if(c)47===e&&92!==n&&(c=!1);else if(124!==e||124===t.charCodeAt(r+1)||124===t.charCodeAt(r-1)||l||h||f){switch(e){case 34:s=!0;break;case 39:a=!0;break;case 96:u=!0;break;case 40:f++;break;case 41:f--;break;case 91:h++;break;case 93:h--;break;case 123:l++;break;case 125:l--}if(47===e){for(var p=r-1,v=void 0;p>=0&&" "===(v=t.charAt(p));p--);v&&dr.test(v)||(c=!0)}}else void 0===i?(d=r+1,i=t.slice(0,r).trim()):g();function g(){(o||(o=[])).push(t.slice(d,r).trim()),d=r+1}if(void 0===i?i=t.slice(0,r).trim():0!==d&&g(),o)for(r=0;r<o.length;r++)i=vr(i,o[r]);return i}function vr(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var r=e.slice(0,n),i=e.slice(n+1);return'_f("'+r+'")('+t+(")"!==i?","+i:i)}function gr(t){console.error("[Vue compiler]: "+t)}function mr(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function yr(t,e,n){(t.props||(t.props=[])).push({name:e,value:n}),t.plain=!1}function br(t,e,n){(t.attrs||(t.attrs=[])).push({name:e,value:n}),t.plain=!1}function _r(t,e,n){t.attrsMap[e]=n,t.attrsList.push({name:e,value:n})}function wr(t,e,n,r,i,o){(t.directives||(t.directives=[])).push({name:e,rawName:n,value:r,arg:i,modifiers:o}),t.plain=!1}function xr(t,e,r,i,o,a){var s;(i=i||n).capture&&(delete i.capture,e="!"+e),i.once&&(delete i.once,e="~"+e),i.passive&&(delete i.passive,e="&"+e),"click"===e&&(i.right?(e="contextmenu",delete i.right):i.middle&&(e="mouseup")),i.native?(delete i.native,s=t.nativeEvents||(t.nativeEvents={})):s=t.events||(t.events={});var u={value:r.trim()};i!==n&&(u.modifiers=i);var c=s[e];Array.isArray(c)?o?c.unshift(u):c.push(u):s[e]=c?o?[u,c]:[c,u]:u,t.plain=!1}function Er(t,e,n){var r=Cr(t,":"+e)||Cr(t,"v-bind:"+e);if(null!=r)return pr(r);if(!1!==n){var i=Cr(t,e);if(null!=i)return JSON.stringify(i)}}function Cr(t,e,n){var r;if(null!=(r=t.attrsMap[e]))for(var i=t.attrsList,o=0,a=i.length;o<a;o++)if(i[o].name===e){i.splice(o,1);break}return n&&delete t.attrsMap[e],r}function kr(t,e,n){var r=n||{},i=r.number,o="$$v";r.trim&&(o="(typeof $$v === 'string'? $$v.trim(): $$v)"),i&&(o="_n("+o+")");var a=Tr(e,o);t.model={value:"("+e+")",expression:'"'+e+'"',callback:"function ($$v) {"+a+"}"}}function Tr(t,e){var n=function(t){if(t=t.trim(),ar=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<ar-1)return(cr=t.lastIndexOf("."))>-1?{exp:t.slice(0,cr),key:'"'+t.slice(cr+1)+'"'}:{exp:t,key:null};sr=t,cr=lr=hr=0;for(;!Or();)Mr(ur=Sr())?Pr(ur):91===ur&&Ar(ur);return{exp:t.slice(0,lr),key:t.slice(lr+1,hr)}}(t);return null===n.key?t+"="+e:"$set("+n.exp+", "+n.key+", "+e+")"}function Sr(){return sr.charCodeAt(++cr)}function Or(){return cr>=ar}function Mr(t){return 34===t||39===t}function Ar(t){var e=1;for(lr=cr;!Or();)if(Mr(t=Sr()))Pr(t);else if(91===t&&e++,93===t&&e--,0===e){hr=cr;break}}function Pr(t){for(var e=t;!Or()&&(t=Sr())!==e;);}var Ir,Nr="__r",Dr="__c";function Rr(t,e,n,r,i){var o;e=(o=e)._withTask||(o._withTask=function(){Qt=!0;var t=o.apply(null,arguments);return Qt=!1,t}),n&&(e=function(t,e,n){var r=Ir;return function i(){null!==t.apply(null,arguments)&&jr(e,i,n,r)}}(e,t,r)),Ir.addEventListener(t,e,tt?{capture:r,passive:i}:r)}function jr(t,e,n,r){(r||Ir).removeEventListener(t,e._withTask||e,n)}function Lr(t,e){if(!r(t.data.on)||!r(e.data.on)){var n=e.data.on||{},o=t.data.on||{};Ir=e.elm,function(t){if(i(t[Nr])){var e=Y?"change":"input";t[e]=[].concat(t[Nr],t[e]||[]),delete t[Nr]}i(t[Dr])&&(t.change=[].concat(t[Dr],t.change||[]),delete t[Dr])}(n),ae(n,o,Rr,jr,e.context),Ir=void 0}}var Fr={create:Lr,update:Lr};function Br(t,e){if(!r(t.data.domProps)||!r(e.data.domProps)){var n,o,a=e.elm,s=t.data.domProps||{},u=e.data.domProps||{};for(n in i(u.__ob__)&&(u=e.data.domProps=O({},u)),s)r(u[n])&&(a[n]="");for(n in u){if(o=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),o===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n){a._value=o;var c=r(o)?"":String(o);$r(a,c)&&(a.value=c)}else a[n]=o}}}function $r(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,r=t._vModifiers;if(i(r)){if(r.lazy)return!1;if(r.number)return d(n)!==d(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var Ur={create:Br,update:Br},zr=_(function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e});function qr(t){var e=Vr(t.style);return t.staticStyle?O(t.staticStyle,e):e}function Vr(t){return Array.isArray(t)?M(t):"string"==typeof t?zr(t):t}var Hr,Wr=/^--/,Gr=/\s*!important$/,Kr=function(t,e,n){if(Wr.test(e))t.style.setProperty(e,n);else if(Gr.test(n))t.style.setProperty(e,n.replace(Gr,""),"important");else{var r=Qr(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},Yr=["Webkit","Moz","ms"],Qr=_(function(t){if(Hr=Hr||document.createElement("div").style,"filter"!==(t=x(t))&&t in Hr)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Yr.length;n++){var r=Yr[n]+e;if(r in Hr)return r}});function Xr(t,e){var n=e.data,o=t.data;if(!(r(n.staticStyle)&&r(n.style)&&r(o.staticStyle)&&r(o.style))){var a,s,u=e.elm,c=o.staticStyle,l=o.normalizedStyle||o.style||{},h=c||l,f=Vr(e.data.style)||{};e.data.normalizedStyle=i(f.__ob__)?O({},f):f;var d=function(t,e){var n,r={};if(e)for(var i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=qr(i.data))&&O(r,n);(n=qr(t.data))&&O(r,n);for(var o=t;o=o.parent;)o.data&&(n=qr(o.data))&&O(r,n);return r}(e,!0);for(s in h)r(d[s])&&Kr(u,s,"");for(s in d)(a=d[s])!==h[s]&&Kr(u,s,null==a?"":a)}}var Jr={create:Xr,update:Xr};function Zr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function ti(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function ei(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&O(e,ni(t.name||"v")),O(e,t),e}return"string"==typeof t?ni(t):void 0}}var ni=_(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),ri=H&&!Q,ii="transition",oi="animation",ai="transition",si="transitionend",ui="animation",ci="animationend";ri&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ai="WebkitTransition",si="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ui="WebkitAnimation",ci="webkitAnimationEnd"));var li=H?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function hi(t){li(function(){li(t)})}function fi(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Zr(t,e))}function di(t,e){t._transitionClasses&&m(t._transitionClasses,e),ti(t,e)}function pi(t,e,n){var r=gi(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===ii?si:ci,u=0,c=function(){t.removeEventListener(s,l),n()},l=function(e){e.target===t&&++u>=a&&c()};setTimeout(function(){u<a&&c()},o+1),t.addEventListener(s,l)}var vi=/\b(transform|all)(,|$)/;function gi(t,e){var n,r=window.getComputedStyle(t),i=r[ai+"Delay"].split(", "),o=r[ai+"Duration"].split(", "),a=mi(i,o),s=r[ui+"Delay"].split(", "),u=r[ui+"Duration"].split(", "),c=mi(s,u),l=0,h=0;return e===ii?a>0&&(n=ii,l=a,h=o.length):e===oi?c>0&&(n=oi,l=c,h=u.length):h=(n=(l=Math.max(a,c))>0?a>c?ii:oi:null)?n===ii?o.length:u.length:0,{type:n,timeout:l,propCount:h,hasTransform:n===ii&&vi.test(r[ai+"Property"])}}function mi(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return yi(e)+yi(t[n])}))}function yi(t){return 1e3*Number(t.slice(0,-1))}function bi(t,e){var n=t.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=ei(t.data.transition);if(!r(o)&&!i(n._enterCb)&&1===n.nodeType){for(var a=o.css,u=o.type,c=o.enterClass,l=o.enterToClass,h=o.enterActiveClass,f=o.appearClass,p=o.appearToClass,v=o.appearActiveClass,g=o.beforeEnter,m=o.enter,y=o.afterEnter,b=o.enterCancelled,_=o.beforeAppear,w=o.appear,x=o.afterAppear,E=o.appearCancelled,C=o.duration,k=_e,T=_e.$vnode;T&&T.parent;)k=(T=T.parent).context;var S=!k._isMounted||!t.isRootInsert;if(!S||w||""===w){var O=S&&f?f:c,M=S&&v?v:h,A=S&&p?p:l,P=S&&_||g,I=S&&"function"==typeof w?w:m,N=S&&x||y,D=S&&E||b,j=d(s(C)?C.enter:C);0;var L=!1!==a&&!Q,F=xi(I),B=n._enterCb=R(function(){L&&(di(n,A),di(n,M)),B.cancelled?(L&&di(n,O),D&&D(n)):N&&N(n),n._enterCb=null});t.data.show||se(t,"insert",function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),I&&I(n,B)}),P&&P(n),L&&(fi(n,O),fi(n,M),hi(function(){di(n,O),B.cancelled||(fi(n,A),F||(wi(j)?setTimeout(B,j):pi(n,u,B)))})),t.data.show&&(e&&e(),I&&I(n,B)),L||F||B()}}}function _i(t,e){var n=t.elm;i(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=ei(t.data.transition);if(r(o)||1!==n.nodeType)return e();if(!i(n._leaveCb)){var a=o.css,u=o.type,c=o.leaveClass,l=o.leaveToClass,h=o.leaveActiveClass,f=o.beforeLeave,p=o.leave,v=o.afterLeave,g=o.leaveCancelled,m=o.delayLeave,y=o.duration,b=!1!==a&&!Q,_=xi(p),w=d(s(y)?y.leave:y);0;var x=n._leaveCb=R(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),b&&(di(n,l),di(n,h)),x.cancelled?(b&&di(n,c),g&&g(n)):(e(),v&&v(n)),n._leaveCb=null});m?m(E):E()}function E(){x.cancelled||(t.data.show||((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),b&&(fi(n,c),fi(n,h),hi(function(){di(n,c),x.cancelled||(fi(n,l),_||(wi(w)?setTimeout(x,w):pi(n,u,x)))})),p&&p(n,x),b||_||x())}}function wi(t){return"number"==typeof t&&!isNaN(t)}function xi(t){if(r(t))return!1;var e=t.fns;return i(e)?xi(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Ei(t,e){!0!==e.data.show&&bi(e)}var Ci=function(t){var e,n,s={},u=t.modules,c=t.nodeOps;for(e=0;e<Hn.length;++e)for(s[Hn[e]]=[],n=0;n<u.length;++n)i(u[n][Hn[e]])&&s[Hn[e]].push(u[n][Hn[e]]);function l(t){var e=c.parentNode(t);i(e)&&c.removeChild(e,t)}function h(t,e,n,r,a,u,l){if(i(t.elm)&&i(u)&&(t=u[l]=mt(t)),t.isRootInsert=!a,!function(t,e,n,r){var a=t.data;if(i(a)){var u=i(t.componentInstance)&&a.keepAlive;if(i(a=a.hook)&&i(a=a.init)&&a(t,!1,n,r),i(t.componentInstance))return f(t,e),o(u)&&function(t,e,n,r){for(var o,a=t;a.componentInstance;)if(a=a.componentInstance._vnode,i(o=a.data)&&i(o=o.transition)){for(o=0;o<s.activate.length;++o)s.activate[o](Vn,a);e.push(a);break}d(n,t.elm,r)}(t,e,n,r),!0}}(t,e,n,r)){var h=t.data,p=t.children,g=t.tag;i(g)?(t.elm=t.ns?c.createElementNS(t.ns,g):c.createElement(g,t),y(t),v(t,p,e),i(h)&&m(t,e),d(n,t.elm,r)):o(t.isComment)?(t.elm=c.createComment(t.text),d(n,t.elm,r)):(t.elm=c.createTextNode(t.text),d(n,t.elm,r))}}function f(t,e){i(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,g(t)?(m(t,e),y(t)):(qn(t),e.push(t))}function d(t,e,n){i(t)&&(i(n)?n.parentNode===t&&c.insertBefore(t,e,n):c.appendChild(t,e))}function v(t,e,n){if(Array.isArray(e))for(var r=0;r<e.length;++r)h(e[r],n,t.elm,null,!0,e,r);else a(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function g(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return i(t.tag)}function m(t,n){for(var r=0;r<s.create.length;++r)s.create[r](Vn,t);i(e=t.data.hook)&&(i(e.create)&&e.create(Vn,t),i(e.insert)&&n.push(t))}function y(t){var e;if(i(e=t.fnScopeId))c.setStyleScope(t.elm,e);else for(var n=t;n;)i(e=n.context)&&i(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),n=n.parent;i(e=_e)&&e!==t.context&&e!==t.fnContext&&i(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function b(t,e,n,r,i,o){for(;r<=i;++r)h(n[r],o,t,e,!1,n,r)}function _(t){var e,n,r=t.data;if(i(r))for(i(e=r.hook)&&i(e=e.destroy)&&e(t),e=0;e<s.destroy.length;++e)s.destroy[e](t);if(i(e=t.children))for(n=0;n<t.children.length;++n)_(t.children[n])}function w(t,e,n,r){for(;n<=r;++n){var o=e[n];i(o)&&(i(o.tag)?(x(o),_(o)):l(o.elm))}}function x(t,e){if(i(e)||i(t.data)){var n,r=s.remove.length+1;for(i(e)?e.listeners+=r:e=function(t,e){function n(){0==--n.listeners&&l(t)}return n.listeners=e,n}(t.elm,r),i(n=t.componentInstance)&&i(n=n._vnode)&&i(n.data)&&x(n,e),n=0;n<s.remove.length;++n)s.remove[n](t,e);i(n=t.data.hook)&&i(n=n.remove)?n(t,e):e()}else l(t.elm)}function E(t,e,n,r){for(var o=n;o<r;o++){var a=e[o];if(i(a)&&Wn(t,a))return o}}function C(t,e,n,a){if(t!==e){var u=e.elm=t.elm;if(o(t.isAsyncPlaceholder))i(e.asyncFactory.resolved)?S(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var l,f=e.data;i(f)&&i(l=f.hook)&&i(l=l.prepatch)&&l(t,e);var d=t.children,p=e.children;if(i(f)&&g(e)){for(l=0;l<s.update.length;++l)s.update[l](t,e);i(l=f.hook)&&i(l=l.update)&&l(t,e)}r(e.text)?i(d)&&i(p)?d!==p&&function(t,e,n,o,a){for(var s,u,l,f=0,d=0,p=e.length-1,v=e[0],g=e[p],m=n.length-1,y=n[0],_=n[m],x=!a;f<=p&&d<=m;)r(v)?v=e[++f]:r(g)?g=e[--p]:Wn(v,y)?(C(v,y,o),v=e[++f],y=n[++d]):Wn(g,_)?(C(g,_,o),g=e[--p],_=n[--m]):Wn(v,_)?(C(v,_,o),x&&c.insertBefore(t,v.elm,c.nextSibling(g.elm)),v=e[++f],_=n[--m]):Wn(g,y)?(C(g,y,o),x&&c.insertBefore(t,g.elm,v.elm),g=e[--p],y=n[++d]):(r(s)&&(s=Gn(e,f,p)),r(u=i(y.key)?s[y.key]:E(y,e,f,p))?h(y,o,t,v.elm,!1,n,d):Wn(l=e[u],y)?(C(l,y,o),e[u]=void 0,x&&c.insertBefore(t,l.elm,v.elm)):h(y,o,t,v.elm,!1,n,d),y=n[++d]);f>p?b(t,r(n[m+1])?null:n[m+1].elm,n,d,m,o):d>m&&w(0,e,f,p)}(u,d,p,n,a):i(p)?(i(t.text)&&c.setTextContent(u,""),b(u,null,p,0,p.length-1,n)):i(d)?w(0,d,0,d.length-1):i(t.text)&&c.setTextContent(u,""):t.text!==e.text&&c.setTextContent(u,e.text),i(f)&&i(l=f.hook)&&i(l=l.postpatch)&&l(t,e)}}}function k(t,e,n){if(o(n)&&i(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var T=p("attrs,class,staticClass,staticStyle,key");function S(t,e,n,r){var a,s=e.tag,u=e.data,c=e.children;if(r=r||u&&u.pre,e.elm=t,o(e.isComment)&&i(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(i(u)&&(i(a=u.hook)&&i(a=a.init)&&a(e,!0),i(a=e.componentInstance)))return f(e,n),!0;if(i(s)){if(i(c))if(t.hasChildNodes())if(i(a=u)&&i(a=a.domProps)&&i(a=a.innerHTML)){if(a!==t.innerHTML)return!1}else{for(var l=!0,h=t.firstChild,d=0;d<c.length;d++){if(!h||!S(h,c[d],n,r)){l=!1;break}h=h.nextSibling}if(!l||h)return!1}else v(e,c,n);if(i(u)){var p=!1;for(var g in u)if(!T(g)){p=!0,m(e,n);break}!p&&u.class&&ne(u.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,a,u,l){if(!r(e)){var f,d=!1,p=[];if(r(t))d=!0,h(e,p,u,l);else{var v=i(t.nodeType);if(!v&&Wn(t,e))C(t,e,p,a);else{if(v){if(1===t.nodeType&&t.hasAttribute(j)&&(t.removeAttribute(j),n=!0),o(n)&&S(t,e,p))return k(e,p,!0),t;f=t,t=new dt(c.tagName(f).toLowerCase(),{},[],void 0,f)}var m=t.elm,y=c.parentNode(m);if(h(e,p,m._leaveCb?null:y,c.nextSibling(m)),i(e.parent))for(var b=e.parent,x=g(e);b;){for(var E=0;E<s.destroy.length;++E)s.destroy[E](b);if(b.elm=e.elm,x){for(var T=0;T<s.create.length;++T)s.create[T](Vn,b);var O=b.data.hook.insert;if(O.merged)for(var M=1;M<O.fns.length;M++)O.fns[M]()}else qn(b);b=b.parent}i(y)?w(0,[t],0,0):i(t.tag)&&_(t)}}return k(e,p,d),e.elm}i(t)&&_(t)}}({nodeOps:Un,modules:[ir,fr,Fr,Ur,Jr,H?{create:Ei,activate:Ei,remove:function(t,e){!0!==t.data.show?_i(t,e):e()}}:{}].concat(tr)});Q&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Ii(t,"input")});var ki={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?se(n,"postpatch",function(){ki.componentUpdated(t,e,n)}):Ti(t,e,n.context),t._vOptions=[].map.call(t.options,Mi)):("textarea"===n.tag||Bn(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Ai),t.addEventListener("compositionend",Pi),t.addEventListener("change",Pi),Q&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Ti(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,Mi);if(i.some(function(t,e){return!N(t,r[e])}))(t.multiple?e.value.some(function(t){return Oi(t,i)}):e.value!==e.oldValue&&Oi(e.value,i))&&Ii(t,"change")}}};function Ti(t,e,n){Si(t,e,n),(Y||X)&&setTimeout(function(){Si(t,e,n)},0)}function Si(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,u=t.options.length;s<u;s++)if(a=t.options[s],i)o=D(r,Mi(a))>-1,a.selected!==o&&(a.selected=o);else if(N(Mi(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function Oi(t,e){return e.every(function(e){return!N(e,t)})}function Mi(t){return"_value"in t?t._value:t.value}function Ai(t){t.target.composing=!0}function Pi(t){t.target.composing&&(t.target.composing=!1,Ii(t.target,"input"))}function Ii(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Ni(t){return!t.componentInstance||t.data&&t.data.transition?t:Ni(t.componentInstance._vnode)}var Di={model:ki,show:{bind:function(t,e,n){var r=e.value,i=(n=Ni(n)).data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,bi(n,function(){t.style.display=o})):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&((n=Ni(n)).data&&n.data.transition?(n.data.show=!0,r?bi(n,function(){t.style.display=t.__vOriginalDisplay}):_i(n,function(){t.style.display="none"})):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}}},Ri={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function ji(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?ji(de(e.children)):t}function Li(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[x(o)]=i[o];return e}function Fi(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var Bi={name:"transition",props:Ri,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(function(t){return t.tag||fe(t)})).length){0;var r=this.mode;0;var i=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return i;var o=ji(i);if(!o)return i;if(this._leaving)return Fi(t,i);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var u=(o.data||(o.data={})).transition=Li(this),c=this._vnode,l=ji(c);if(o.data.directives&&o.data.directives.some(function(t){return"show"===t.name})&&(o.data.show=!0),l&&l.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(o,l)&&!fe(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var h=l.data.transition=O({},u);if("out-in"===r)return this._leaving=!0,se(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Fi(t,i);if("in-out"===r){if(fe(o))return c;var f,d=function(){f()};se(u,"afterEnter",d),se(u,"enterCancelled",d),se(h,"delayLeave",function(t){f=t})}}return i}}},$i=O({tag:String,moveClass:String},Ri);function Ui(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function zi(t){t.data.newPos=t.elm.getBoundingClientRect()}function qi(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}delete $i.mode;var Vi={Transition:Bi,TransitionGroup:{props:$i,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=Li(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(r){for(var c=[],l=[],h=0;h<r.length;h++){var f=r[h];f.data.transition=a,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?c.push(f):l.push(f)}this.kept=t(e,null,c),this.removed=l}return t(e,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Ui),t.forEach(zi),t.forEach(qi),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,r=n.style;fi(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(si,n._moveCb=function t(r){r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(si,t),n._moveCb=null,di(n,e))})}}))},methods:{hasMove:function(t,e){if(!ri)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){ti(n,t)}),Zr(n,e),n.style.display="none",this.$el.appendChild(n);var r=gi(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};fn.config.mustUseProp=xn,fn.config.isReservedTag=jn,fn.config.isReservedAttr=_n,fn.config.getTagNamespace=Ln,fn.config.isUnknownElement=function(t){if(!H)return!0;if(jn(t))return!1;if(t=t.toLowerCase(),null!=Fn[t])return Fn[t];var e=document.createElement(t);return t.indexOf("-")>-1?Fn[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Fn[t]=/HTMLUnknownElement/.test(e.toString())},O(fn.options.directives,Di),O(fn.options.components,Vi),fn.prototype.__patch__=H?Ci:A,fn.prototype.$mount=function(t,e){return function(t,e,n){return t.$el=e,t.$options.render||(t.$options.render=vt),Ee(t,"beforeMount"),new Ie(t,function(){t._update(t._render(),n)},A,null,!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Ee(t,"mounted")),t}(this,t=t&&H?$n(t):void 0,e)},H&&setTimeout(function(){B.devtools&&rt&&rt.emit("init",fn)},0);var Hi=/\{\{((?:.|\n)+?)\}\}/g,Wi=/[-.*+?^${}()|[\]\/\\]/g,Gi=_(function(t){var e=t[0].replace(Wi,"\\$&"),n=t[1].replace(Wi,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")});function Ki(t,e){var n=e?Gi(e):Hi;if(n.test(t)){for(var r,i,o,a=[],s=[],u=n.lastIndex=0;r=n.exec(t);){(i=r.index)>u&&(s.push(o=t.slice(u,i)),a.push(JSON.stringify(o)));var c=pr(r[1].trim());a.push("_s("+c+")"),s.push({"@binding":c}),u=i+r[0].length}return u<t.length&&(s.push(o=t.slice(u)),a.push(JSON.stringify(o))),{expression:a.join("+"),tokens:s}}}var Yi={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var n=Cr(t,"class");n&&(t.staticClass=JSON.stringify(n));var r=Er(t,"class",!1);r&&(t.classBinding=r)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}};var Qi,Xi={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var n=Cr(t,"style");n&&(t.staticStyle=JSON.stringify(zr(n)));var r=Er(t,"style",!1);r&&(t.styleBinding=r)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}},Ji=function(t){return(Qi=Qi||document.createElement("div")).innerHTML=t,Qi.textContent},Zi=p("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),to=p("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),eo=p("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),no=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,ro="[a-zA-Z_][\\w\\-\\.]*",io="((?:"+ro+"\\:)?"+ro+")",oo=new RegExp("^<"+io),ao=/^\s*(\/?)>/,so=new RegExp("^<\\/"+io+"[^>]*>"),uo=/^<!DOCTYPE [^>]+>/i,co=/^<!\--/,lo=/^<!\[/,ho=!1;"x".replace(/x(.)?/g,function(t,e){ho=""===e});var fo=p("script,style,textarea",!0),po={},vo={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"},go=/&(?:lt|gt|quot|amp);/g,mo=/&(?:lt|gt|quot|amp|#10|#9);/g,yo=p("pre,textarea",!0),bo=function(t,e){return t&&yo(t)&&"\n"===e[0]};function _o(t,e){var n=e?mo:go;return t.replace(n,function(t){return vo[t]})}var wo,xo,Eo,Co,ko,To,So,Oo,Mo=/^@|^v-on:/,Ao=/^v-|^@|^:/,Po=/([^]*?)\s+(?:in|of)\s+([^]*)/,Io=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,No=/^\(|\)$/g,Do=/:(.*)$/,Ro=/^:|^v-bind:/,jo=/\.[^.]+/g,Lo=_(Ji);function Fo(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:function(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n].name]=t[n].value;return e}(e),parent:n,children:[]}}function Bo(t,e){wo=e.warn||gr,To=e.isPreTag||P,So=e.mustUseProp||P,Oo=e.getTagNamespace||P,Eo=mr(e.modules,"transformNode"),Co=mr(e.modules,"preTransformNode"),ko=mr(e.modules,"postTransformNode"),xo=e.delimiters;var n,r,i=[],o=!1!==e.preserveWhitespace,a=!1,s=!1;function u(t){t.pre&&(a=!1),To(t.tag)&&(s=!1);for(var n=0;n<ko.length;n++)ko[n](t,e)}return function(t,e){for(var n,r,i=[],o=e.expectHTML,a=e.isUnaryTag||P,s=e.canBeLeftOpenTag||P,u=0;t;){if(n=t,r&&fo(r)){var c=0,l=r.toLowerCase(),h=po[l]||(po[l]=new RegExp("([\\s\\S]*?)(</"+l+"[^>]*>)","i")),f=t.replace(h,function(t,n,r){return c=r.length,fo(l)||"noscript"===l||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),bo(l,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""});u+=t.length-f.length,t=f,T(l,u-c,u)}else{var d=t.indexOf("<");if(0===d){if(co.test(t)){var p=t.indexOf("--\x3e");if(p>=0){e.shouldKeepComment&&e.comment(t.substring(4,p)),E(p+3);continue}}if(lo.test(t)){var v=t.indexOf("]>");if(v>=0){E(v+2);continue}}var g=t.match(uo);if(g){E(g[0].length);continue}var m=t.match(so);if(m){var y=u;E(m[0].length),T(m[1],y,u);continue}var b=C();if(b){k(b),bo(r,t)&&E(1);continue}}var _=void 0,w=void 0,x=void 0;if(d>=0){for(w=t.slice(d);!(so.test(w)||oo.test(w)||co.test(w)||lo.test(w)||(x=w.indexOf("<",1))<0);)d+=x,w=t.slice(d);_=t.substring(0,d),E(d)}d<0&&(_=t,t=""),e.chars&&_&&e.chars(_)}if(t===n){e.chars&&e.chars(t);break}}function E(e){u+=e,t=t.substring(e)}function C(){var e=t.match(oo);if(e){var n,r,i={tagName:e[1],attrs:[],start:u};for(E(e[0].length);!(n=t.match(ao))&&(r=t.match(no));)E(r[0].length),i.attrs.push(r);if(n)return i.unarySlash=n[1],E(n[0].length),i.end=u,i}}function k(t){var n=t.tagName,u=t.unarySlash;o&&("p"===r&&eo(n)&&T(r),s(n)&&r===n&&T(n));for(var c=a(n)||!!u,l=t.attrs.length,h=new Array(l),f=0;f<l;f++){var d=t.attrs[f];ho&&-1===d[0].indexOf('""')&&(""===d[3]&&delete d[3],""===d[4]&&delete d[4],""===d[5]&&delete d[5]);var p=d[3]||d[4]||d[5]||"",v="a"===n&&"href"===d[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;h[f]={name:d[1],value:_o(p,v)}}c||(i.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:h}),r=n),e.start&&e.start(n,h,c,t.start,t.end)}function T(t,n,o){var a,s;if(null==n&&(n=u),null==o&&(o=u),t&&(s=t.toLowerCase()),t)for(a=i.length-1;a>=0&&i[a].lowerCasedTag!==s;a--);else a=0;if(a>=0){for(var c=i.length-1;c>=a;c--)e.end&&e.end(i[c].tag,n,o);i.length=a,r=a&&i[a-1].tag}else"br"===s?e.start&&e.start(t,[],!0,n,o):"p"===s&&(e.start&&e.start(t,[],!1,n,o),e.end&&e.end(t,n,o))}T()}(t,{warn:wo,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,start:function(t,o,c){var l=r&&r.ns||Oo(t);Y&&"svg"===l&&(o=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];Vo.test(r.name)||(r.name=r.name.replace(Ho,""),e.push(r))}return e}(o));var h,f=Fo(t,o,r);l&&(f.ns=l),"style"!==(h=f).tag&&("script"!==h.tag||h.attrsMap.type&&"text/javascript"!==h.attrsMap.type)||nt()||(f.forbidden=!0);for(var d=0;d<Co.length;d++)f=Co[d](f,e)||f;function p(t){0}if(a||(!function(t){null!=Cr(t,"v-pre")&&(t.pre=!0)}(f),f.pre&&(a=!0)),To(f.tag)&&(s=!0),a?function(t){var e=t.attrsList.length;if(e)for(var n=t.attrs=new Array(e),r=0;r<e;r++)n[r]={name:t.attrsList[r].name,value:JSON.stringify(t.attrsList[r].value)};else t.pre||(t.plain=!0)}(f):f.processed||(Uo(f),function(t){var e=Cr(t,"v-if");if(e)t.if=e,zo(t,{exp:e,block:t});else{null!=Cr(t,"v-else")&&(t.else=!0);var n=Cr(t,"v-else-if");n&&(t.elseif=n)}}(f),function(t){null!=Cr(t,"v-once")&&(t.once=!0)}(f),$o(f,e)),n?i.length||n.if&&(f.elseif||f.else)&&(p(),zo(n,{exp:f.elseif,block:f})):(n=f,p()),r&&!f.forbidden)if(f.elseif||f.else)!function(t,e){var n=function(t){var e=t.length;for(;e--;){if(1===t[e].type)return t[e];t.pop()}}(e.children);n&&n.if&&zo(n,{exp:t.elseif,block:t})}(f,r);else if(f.slotScope){r.plain=!1;var v=f.slotTarget||'"default"';(r.scopedSlots||(r.scopedSlots={}))[v]=f}else r.children.push(f),f.parent=r;c?u(f):(r=f,i.push(f))},end:function(){var t=i[i.length-1],e=t.children[t.children.length-1];e&&3===e.type&&" "===e.text&&!s&&t.children.pop(),i.length-=1,r=i[i.length-1],u(t)},chars:function(t){if(r&&(!Y||"textarea"!==r.tag||r.attrsMap.placeholder!==t)){var e,n,i=r.children;if(t=s||t.trim()?"script"===(e=r).tag||"style"===e.tag?t:Lo(t):o&&i.length?" ":"")!a&&" "!==t&&(n=Ki(t,xo))?i.push({type:2,expression:n.expression,tokens:n.tokens,text:t}):" "===t&&i.length&&" "===i[i.length-1].text||i.push({type:3,text:t})}},comment:function(t){r.children.push({type:3,text:t,isComment:!0})}}),n}function $o(t,e){var n,r;(r=Er(n=t,"key"))&&(n.key=r),t.plain=!t.key&&!t.attrsList.length,function(t){var e=Er(t,"ref");e&&(t.ref=e,t.refInFor=function(t){var e=t;for(;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(t))}(t),function(t){if("slot"===t.tag)t.slotName=Er(t,"name");else{var e;"template"===t.tag?(e=Cr(t,"scope"),t.slotScope=e||Cr(t,"slot-scope")):(e=Cr(t,"slot-scope"))&&(t.slotScope=e);var n=Er(t,"slot");n&&(t.slotTarget='""'===n?'"default"':n,"template"===t.tag||t.slotScope||br(t,"slot",n))}}(t),function(t){var e;(e=Er(t,"is"))&&(t.component=e);null!=Cr(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var i=0;i<Eo.length;i++)t=Eo[i](t,e)||t;!function(t){var e,n,r,i,o,a,s,u=t.attrsList;for(e=0,n=u.length;e<n;e++){if(r=i=u[e].name,o=u[e].value,Ao.test(r))if(t.hasBindings=!0,(a=qo(r))&&(r=r.replace(jo,"")),Ro.test(r))r=r.replace(Ro,""),o=pr(o),s=!1,a&&(a.prop&&(s=!0,"innerHtml"===(r=x(r))&&(r="innerHTML")),a.camel&&(r=x(r)),a.sync&&xr(t,"update:"+x(r),Tr(o,"$event"))),s||!t.component&&So(t.tag,t.attrsMap.type,r)?yr(t,r,o):br(t,r,o);else if(Mo.test(r))r=r.replace(Mo,""),xr(t,r,o,a,!1);else{var c=(r=r.replace(Ao,"")).match(Do),l=c&&c[1];l&&(r=r.slice(0,-(l.length+1))),wr(t,r,i,o,l,a)}else br(t,r,JSON.stringify(o)),!t.component&&"muted"===r&&So(t.tag,t.attrsMap.type,r)&&yr(t,r,"true")}}(t)}function Uo(t){var e;if(e=Cr(t,"v-for")){var n=function(t){var e=t.match(Po);if(!e)return;var n={};n.for=e[2].trim();var r=e[1].trim().replace(No,""),i=r.match(Io);i?(n.alias=r.replace(Io,""),n.iterator1=i[1].trim(),i[2]&&(n.iterator2=i[2].trim())):n.alias=r;return n}(e);n&&O(t,n)}}function zo(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function qo(t){var e=t.match(jo);if(e){var n={};return e.forEach(function(t){n[t.slice(1)]=!0}),n}}var Vo=/^xmlns:NS\d+/,Ho=/^NS\d+:/;function Wo(t){return Fo(t.tag,t.attrsList.slice(),t.parent)}var Go=[Yi,Xi,{preTransformNode:function(t,e){if("input"===t.tag){var n,r=t.attrsMap;if(!r["v-model"])return;if((r[":type"]||r["v-bind:type"])&&(n=Er(t,"type")),r.type||n||!r["v-bind"]||(n="("+r["v-bind"]+").type"),n){var i=Cr(t,"v-if",!0),o=i?"&&("+i+")":"",a=null!=Cr(t,"v-else",!0),s=Cr(t,"v-else-if",!0),u=Wo(t);Uo(u),_r(u,"type","checkbox"),$o(u,e),u.processed=!0,u.if="("+n+")==='checkbox'"+o,zo(u,{exp:u.if,block:u});var c=Wo(t);Cr(c,"v-for",!0),_r(c,"type","radio"),$o(c,e),zo(u,{exp:"("+n+")==='radio'"+o,block:c});var l=Wo(t);return Cr(l,"v-for",!0),_r(l,":type",n),$o(l,e),zo(u,{exp:i,block:l}),a?u.else=!0:s&&(u.elseif=s),u}}}}];var Ko,Yo,Qo={expectHTML:!0,modules:Go,directives:{model:function(t,e,n){n;var r=e.value,i=e.modifiers,o=t.tag,a=t.attrsMap.type;if(t.component)return kr(t,r,i),!1;if("select"===o)!function(t,e,n){var r='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(n&&n.number?"_n(val)":"val")+"});";r=r+" "+Tr(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),xr(t,"change",r,null,!0)}(t,r,i);else if("input"===o&&"checkbox"===a)!function(t,e,n){var r=n&&n.number,i=Er(t,"value")||"null",o=Er(t,"true-value")||"true",a=Er(t,"false-value")||"false";yr(t,"checked","Array.isArray("+e+")?_i("+e+","+i+")>-1"+("true"===o?":("+e+")":":_q("+e+","+o+")")),xr(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+a+");if(Array.isArray($$a)){var $$v="+(r?"_n("+i+")":i)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Tr(e,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Tr(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Tr(e,"$$c")+"}",null,!0)}(t,r,i);else if("input"===o&&"radio"===a)!function(t,e,n){var r=n&&n.number,i=Er(t,"value")||"null";yr(t,"checked","_q("+e+","+(i=r?"_n("+i+")":i)+")"),xr(t,"change",Tr(e,i),null,!0)}(t,r,i);else if("input"===o||"textarea"===o)!function(t,e,n){var r=t.attrsMap.type,i=n||{},o=i.lazy,a=i.number,s=i.trim,u=!o&&"range"!==r,c=o?"change":"range"===r?Nr:"input",l="$event.target.value";s&&(l="$event.target.value.trim()"),a&&(l="_n("+l+")");var h=Tr(e,l);u&&(h="if($event.target.composing)return;"+h),yr(t,"value","("+e+")"),xr(t,c,h,null,!0),(s||a)&&xr(t,"blur","$forceUpdate()")}(t,r,i);else if(!B.isReservedTag(o))return kr(t,r,i),!1;return!0},text:function(t,e){e.value&&yr(t,"textContent","_s("+e.value+")")},html:function(t,e){e.value&&yr(t,"innerHTML","_s("+e.value+")")}},isPreTag:function(t){return"pre"===t},isUnaryTag:Zi,mustUseProp:xn,canBeLeftOpenTag:to,isReservedTag:jn,getTagNamespace:Ln,staticKeys:function(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}(Go)},Xo=_(function(t){return p("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(t?","+t:""))});function Jo(t,e){t&&(Ko=Xo(e.staticKeys||""),Yo=e.isReservedTag||P,function t(e){e.static=function(t){if(2===t.type)return!1;if(3===t.type)return!0;return!(!t.pre&&(t.hasBindings||t.if||t.for||v(t.tag)||!Yo(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(Ko)))}(e);if(1===e.type){if(!Yo(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var n=0,r=e.children.length;n<r;n++){var i=e.children[n];t(i),i.static||(e.static=!1)}if(e.ifConditions)for(var o=1,a=e.ifConditions.length;o<a;o++){var s=e.ifConditions[o].block;t(s),s.static||(e.static=!1)}}}(t),function t(e,n){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=n),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var r=0,i=e.children.length;r<i;r++)t(e.children[r],n||!!e.for);if(e.ifConditions)for(var o=1,a=e.ifConditions.length;o<a;o++)t(e.ifConditions[o].block,n)}}(t,!1))}var Zo=/^([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,ta=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,ea={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},na={esc:"Escape",tab:"Tab",enter:"Enter",space:" ",up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete"]},ra=function(t){return"if("+t+")return null;"},ia={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:ra("$event.target !== $event.currentTarget"),ctrl:ra("!$event.ctrlKey"),shift:ra("!$event.shiftKey"),alt:ra("!$event.altKey"),meta:ra("!$event.metaKey"),left:ra("'button' in $event && $event.button !== 0"),middle:ra("'button' in $event && $event.button !== 1"),right:ra("'button' in $event && $event.button !== 2")};function oa(t,e,n){var r=e?"nativeOn:{":"on:{";for(var i in t)r+='"'+i+'":'+aa(i,t[i])+",";return r.slice(0,-1)+"}"}function aa(t,e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return aa(t,e)}).join(",")+"]";var n=ta.test(e.value),r=Zo.test(e.value);if(e.modifiers){var i="",o="",a=[];for(var s in e.modifiers)if(ia[s])o+=ia[s],ea[s]&&a.push(s);else if("exact"===s){var u=e.modifiers;o+=ra(["ctrl","shift","alt","meta"].filter(function(t){return!u[t]}).map(function(t){return"$event."+t+"Key"}).join("||"))}else a.push(s);return a.length&&(i+=function(t){return"if(!('button' in $event)&&"+t.map(sa).join("&&")+")return null;"}(a)),o&&(i+=o),"function($event){"+i+(n?"return "+e.value+"($event)":r?"return ("+e.value+")($event)":e.value)+"}"}return n||r?e.value:"function($event){"+e.value+"}"}function sa(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=ea[t],r=na[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(r)+")"}var ua={on:function(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}},bind:function(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}},cloak:A},ca=function(t){this.options=t,this.warn=t.warn||gr,this.transforms=mr(t.modules,"transformCode"),this.dataGenFns=mr(t.modules,"genData"),this.directives=O(O({},ua),t.directives);var e=t.isReservedTag||P;this.maybeComponent=function(t){return!e(t.tag)},this.onceId=0,this.staticRenderFns=[]};function la(t,e){var n=new ca(e);return{render:"with(this){return "+(t?ha(t,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function ha(t,e){if(t.staticRoot&&!t.staticProcessed)return fa(t,e);if(t.once&&!t.onceProcessed)return da(t,e);if(t.for&&!t.forProcessed)return function(t,e,n,r){var i=t.for,o=t.alias,a=t.iterator1?","+t.iterator1:"",s=t.iterator2?","+t.iterator2:"";0;return t.forProcessed=!0,(r||"_l")+"(("+i+"),function("+o+a+s+"){return "+(n||ha)(t,e)+"})"}(t,e);if(t.if&&!t.ifProcessed)return pa(t,e);if("template"!==t.tag||t.slotTarget){if("slot"===t.tag)return function(t,e){var n=t.slotName||'"default"',r=ma(t,e),i="_t("+n+(r?","+r:""),o=t.attrs&&"{"+t.attrs.map(function(t){return x(t.name)+":"+t.value}).join(",")+"}",a=t.attrsMap["v-bind"];!o&&!a||r||(i+=",null");o&&(i+=","+o);a&&(i+=(o?"":",null")+","+a);return i+")"}(t,e);var n;if(t.component)n=function(t,e,n){var r=e.inlineTemplate?null:ma(e,n,!0);return"_c("+t+","+va(e,n)+(r?","+r:"")+")"}(t.component,t,e);else{var r=t.plain?void 0:va(t,e),i=t.inlineTemplate?null:ma(t,e,!0);n="_c('"+t.tag+"'"+(r?","+r:"")+(i?","+i:"")+")"}for(var o=0;o<e.transforms.length;o++)n=e.transforms[o](t,n);return n}return ma(t,e)||"void 0"}function fa(t,e){return t.staticProcessed=!0,e.staticRenderFns.push("with(this){return "+ha(t,e)+"}"),"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function da(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return pa(t,e);if(t.staticInFor){for(var n="",r=t.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+ha(t,e)+","+e.onceId+++","+n+")":ha(t,e)}return fa(t,e)}function pa(t,e,n,r){return t.ifProcessed=!0,function t(e,n,r,i){if(!e.length)return i||"_e()";var o=e.shift();return o.exp?"("+o.exp+")?"+a(o.block)+":"+t(e,n,r,i):""+a(o.block);function a(t){return r?r(t,n):t.once?da(t,n):ha(t,n)}}(t.ifConditions.slice(),e,n,r)}function va(t,e){var n="{",r=function(t,e){var n=t.directives;if(!n)return;var r,i,o,a,s="directives:[",u=!1;for(r=0,i=n.length;r<i;r++){o=n[r],a=!0;var c=e.directives[o.name];c&&(a=!!c(t,o,e.warn)),a&&(u=!0,s+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?',arg:"'+o.arg+'"':"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}if(u)return s.slice(0,-1)+"]"}(t,e);r&&(n+=r+","),t.key&&(n+="key:"+t.key+","),t.ref&&(n+="ref:"+t.ref+","),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'+t.tag+'",');for(var i=0;i<e.dataGenFns.length;i++)n+=e.dataGenFns[i](t);if(t.attrs&&(n+="attrs:{"+_a(t.attrs)+"},"),t.props&&(n+="domProps:{"+_a(t.props)+"},"),t.events&&(n+=oa(t.events,!1,e.warn)+","),t.nativeEvents&&(n+=oa(t.nativeEvents,!0,e.warn)+","),t.slotTarget&&!t.slotScope&&(n+="slot:"+t.slotTarget+","),t.scopedSlots&&(n+=function(t,e){return"scopedSlots:_u(["+Object.keys(t).map(function(n){return ga(n,t[n],e)}).join(",")+"])"}(t.scopedSlots,e)+","),t.model&&(n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var o=function(t,e){var n=t.children[0];0;if(1===n.type){var r=la(n,e.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}(t,e);o&&(n+=o+",")}return n=n.replace(/,$/,"")+"}",t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function ga(t,e,n){return e.for&&!e.forProcessed?function(t,e,n){var r=e.for,i=e.alias,o=e.iterator1?","+e.iterator1:"",a=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,"_l(("+r+"),function("+i+o+a+"){return "+ga(t,e,n)+"})"}(t,e,n):"{key:"+t+",fn:"+("function("+String(e.slotScope)+"){return "+("template"===e.tag?e.if?e.if+"?"+(ma(e,n)||"undefined")+":undefined":ma(e,n)||"undefined":ha(e,n))+"}")+"}"}function ma(t,e,n,r,i){var o=t.children;if(o.length){var a=o[0];if(1===o.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag)return(r||ha)(a,e);var s=n?function(t,e){for(var n=0,r=0;r<t.length;r++){var i=t[r];if(1===i.type){if(ya(i)||i.ifConditions&&i.ifConditions.some(function(t){return ya(t.block)})){n=2;break}(e(i)||i.ifConditions&&i.ifConditions.some(function(t){return e(t.block)}))&&(n=1)}}return n}(o,e.maybeComponent):0,u=i||ba;return"["+o.map(function(t){return u(t,e)}).join(",")+"]"+(s?","+s:"")}}function ya(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function ba(t,e){return 1===t.type?ha(t,e):3===t.type&&t.isComment?(r=t,"_e("+JSON.stringify(r.text)+")"):"_v("+(2===(n=t).type?n.expression:wa(JSON.stringify(n.text)))+")";var n,r}function _a(t){for(var e="",n=0;n<t.length;n++){var r=t[n];e+='"'+r.name+'":'+wa(r.value)+","}return e.slice(0,-1)}function wa(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");function xa(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),A}}var Ea,Ca,ka=(Ea=function(t,e){var n=Bo(t.trim(),e);!1!==e.optimize&&Jo(n,e);var r=la(n,e);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}},function(t){function e(e,n){var r=Object.create(t),i=[],o=[];if(r.warn=function(t,e){(e?o:i).push(t)},n)for(var a in n.modules&&(r.modules=(t.modules||[]).concat(n.modules)),n.directives&&(r.directives=O(Object.create(t.directives||null),n.directives)),n)"modules"!==a&&"directives"!==a&&(r[a]=n[a]);var s=Ea(e,r);return s.errors=i,s.tips=o,s}return{compile:e,compileToFunctions:function(t){var e=Object.create(null);return function(n,r,i){(r=O({},r)).warn,delete r.warn;var o=r.delimiters?String(r.delimiters)+n:n;if(e[o])return e[o];var a=t(n,r),s={},u=[];return s.render=xa(a.render,u),s.staticRenderFns=a.staticRenderFns.map(function(t){return xa(t,u)}),e[o]=s}}(e)}})(Qo).compileToFunctions;function Ta(t){return(Ca=Ca||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',Ca.innerHTML.indexOf("&#10;")>0}var Sa=!!H&&Ta(!1),Oa=!!H&&Ta(!0),Ma=_(function(t){var e=$n(t);return e&&e.innerHTML}),Aa=fn.prototype.$mount;fn.prototype.$mount=function(t,e){if((t=t&&$n(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=Ma(r));else{if(!r.nodeType)return this;r=r.innerHTML}else t&&(r=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(r){0;var i=ka(r,{shouldDecodeNewlines:Sa,shouldDecodeNewlinesForHref:Oa,delimiters:n.delimiters,comments:n.comments},this),o=i.render,a=i.staticRenderFns;n.render=o,n.staticRenderFns=a}}return Aa.call(this,t,e)},fn.compile=ka,e.default=fn}.call(e,n("DuR2"))},"77Pl":function(t,e,n){var r=n("EqjI");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},"7B5G":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("kW7t"),i=n("qwbZ");function o(t){return t.target.depth}function a(t){return t.depth}function s(t,e){return e-1-t.height}function u(t,e){return t.sourceLinks.length?t.depth:e-1}function c(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?Object(r.o)(t.sourceLinks,o)-1:0}function l(t){return function(){return t}}function h(t,e){return d(t.source,e.source)||t.index-e.index}function f(t,e){return d(t.target,e.target)||t.index-e.index}function d(t,e){return t.y0-e.y0}function p(t){return t.value}function v(t){return(t.y0+t.y1)/2}function g(t){return v(t.source)*t.value}function m(t){return v(t.target)*t.value}function y(t){return t.index}function b(t){return t.nodes}function _(t){return t.links}function w(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var x=function(){var t=0,e=0,n=1,o=1,a=24,s=8,c=y,x=u,E=b,C=_,k=32;function T(){var u={nodes:E.apply(null,arguments),links:C.apply(null,arguments)};return function(t){t.nodes.forEach(function(t,e){t.index=e,t.sourceLinks=[],t.targetLinks=[]});var e=Object(i.c)(t.nodes,c);t.links.forEach(function(t,n){t.index=n;var r=t.source,i=t.target;"object"!=typeof r&&(r=t.source=w(e,r)),"object"!=typeof i&&(i=t.target=w(e,i)),r.sourceLinks.push(t),i.targetLinks.push(t)})}(u),function(t){t.nodes.forEach(function(t){t.value=Math.max(Object(r.v)(t.sourceLinks,p),Object(r.v)(t.targetLinks,p))})}(u),function(e){var r,i,o;for(r=e.nodes,i=[],o=0;r.length;++o,r=i,i=[])r.forEach(function(t){t.depth=o,t.sourceLinks.forEach(function(t){i.indexOf(t.target)<0&&i.push(t.target)})});for(r=e.nodes,i=[],o=0;r.length;++o,r=i,i=[])r.forEach(function(t){t.height=o,t.targetLinks.forEach(function(t){i.indexOf(t.source)<0&&i.push(t.source)})});var s=(n-t-a)/(o-1);e.nodes.forEach(function(e){e.x1=(e.x0=t+Math.max(0,Math.min(o-1,Math.floor(x.call(null,e,o))))*s)+a})}(u),function(t){var n=Object(i.d)().key(function(t){return t.x0}).sortKeys(r.a).entries(t.nodes).map(function(t){return t.values});a=Object(r.o)(n,function(t){return(o-e-(t.length-1)*s)/Object(r.v)(t,p)}),n.forEach(function(t){t.forEach(function(t,e){t.y1=(t.y0=e)+t.value*a})}),t.links.forEach(function(t){t.width=t.value*a}),f();var a;for(var u=1,c=k;c>0;--c)h(u*=.99),f(),l(u),f();function l(t){n.forEach(function(e){e.forEach(function(e){if(e.targetLinks.length){var n=(Object(r.v)(e.targetLinks,g)/Object(r.v)(e.targetLinks,p)-v(e))*t;e.y0+=n,e.y1+=n}})})}function h(t){n.slice().reverse().forEach(function(e){e.forEach(function(e){if(e.sourceLinks.length){var n=(Object(r.v)(e.sourceLinks,m)/Object(r.v)(e.sourceLinks,p)-v(e))*t;e.y0+=n,e.y1+=n}})})}function f(){n.forEach(function(t){var n,r,i,a=e,u=t.length;for(t.sort(d),i=0;i<u;++i)n=t[i],(r=a-n.y0)>0&&(n.y0+=r,n.y1+=r),a=n.y1+s;if((r=a-s-o)>0)for(a=n.y0-=r,n.y1-=r,i=u-2;i>=0;--i)n=t[i],(r=n.y1+s-a)>0&&(n.y0-=r,n.y1-=r),a=n.y0})}}(u),S(u),u}function S(t){t.nodes.forEach(function(t){t.sourceLinks.sort(f),t.targetLinks.sort(h)}),t.nodes.forEach(function(t){var e=t.y0,n=e;t.sourceLinks.forEach(function(t){t.y0=e+t.width/2,e+=t.width}),t.targetLinks.forEach(function(t){t.y1=n+t.width/2,n+=t.width})})}return T.update=function(t){return S(t),t},T.nodeId=function(t){return arguments.length?(c="function"==typeof t?t:l(t),T):c},T.nodeAlign=function(t){return arguments.length?(x="function"==typeof t?t:l(t),T):x},T.nodeWidth=function(t){return arguments.length?(a=+t,T):a},T.nodePadding=function(t){return arguments.length?(s=+t,T):s},T.nodes=function(t){return arguments.length?(E="function"==typeof t?t:l(t),T):E},T.links=function(t){return arguments.length?(C="function"==typeof t?t:l(t),T):C},T.size=function(r){return arguments.length?(t=e=0,n=+r[0],o=+r[1],T):[n-t,o-e]},T.extent=function(r){return arguments.length?(t=+r[0][0],n=+r[1][0],e=+r[0][1],o=+r[1][1],T):[[t,e],[n,o]]},T.iterations=function(t){return arguments.length?(k=+t,T):k},T},E=n("8soT");function C(t){return[t.source.x1,t.y0]}function k(t){return[t.target.x0,t.y1]}var T=function(){return Object(E.x)().source(C).target(k)};n.d(e,"sankey",function(){return x}),n.d(e,"sankeyCenter",function(){return c}),n.d(e,"sankeyLeft",function(){return a}),n.d(e,"sankeyRight",function(){return s}),n.d(e,"sankeyJustify",function(){return u}),n.d(e,"sankeyLinkHorizontal",function(){return T})},"7GwW":function(t,e,n){"use strict";var r=n("cGG2"),i=n("21It"),o=n("DQCr"),a=n("oJlt"),s=n("GHBc"),u=n("FtD3"),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n("thJu");t.exports=function(t){return new Promise(function(e,l){var h=t.data,f=t.headers;r.isFormData(h)&&delete f["Content-Type"];var d=new XMLHttpRequest,p="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||s(t.url)||(d=new window.XDomainRequest,p="onload",v=!0,d.onprogress=function(){},d.ontimeout=function(){}),t.auth){var g=t.auth.username||"",m=t.auth.password||"";f.Authorization="Basic "+c(g+":"+m)}if(d.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d[p]=function(){if(d&&(4===d.readyState||v)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:t,request:d};i(e,l,r),d=null}},d.onerror=function(){l(u("Network Error",t,null,d)),d=null},d.ontimeout=function(){l(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var y=n("p1b6"),b=(t.withCredentials||s(t.url))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;b&&(f[t.xsrfHeaderName]=b)}if("setRequestHeader"in d&&r.forEach(f,function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete f[e]:d.setRequestHeader(e,t)}),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),l(t),d=null)}),void 0===h&&(h=null),d.send(h)})}},"7KvD":function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"7UMu":function(t,e,n){var r=n("R9M2");t.exports=Array.isArray||function(t){return"Array"==r(t)}},"82Mu":function(t,e,n){var r=n("7KvD"),i=n("L42u").set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n("R9M2")(a);t.exports=function(){var t,e,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(c)}}else n=function(){i.call(r,c)};else{var h=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=h=!h}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},"880/":function(t,e,n){t.exports=n("hJx8")},"8OAG":function(t,e,n){"use strict";var r=n("bOdI"),i=n.n(r),o=n("K6ED"),a=n.n(o),s=n("fZjL"),u=n.n(s),c=n("d7EF"),l=n.n(c),h=n("pFYg"),f=n.n(h),d={isTrueProp:function(t){return!0===t||""===t},isStringProp:function(t){return"string"==typeof t&&""!==t},isObject:function(t){return"object"===(void 0===t?"undefined":f()(t))&&null!==t&&t.constructor&&t.constructor===Object},now:function(){return Date.now()},extend:function(){for(var t=!0,e=void 0,n=void 0,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];if("boolean"==typeof i[0]){var s=l()(i,2);t=s[0],e=s[1],i.splice(0,2),n=i}else{e=l()(i,1)[0],i.splice(0,1),n=i}for(var c=0;c<n.length;c+=1){var h=i[c];if(void 0!==h&&null!==h)for(var f=u()(Object(h)),p=0,v=f.length;p<v;p+=1){var g=f[p],m=a()(h,g);void 0!==m&&m.enumerable&&(t?d.isObject(e[g])&&d.isObject(h[g])?d.extend(e[g],h[g]):!d.isObject(e[g])&&d.isObject(h[g])?(e[g]={},d.extend(e[g],h[g])):e[g]=h[g]:e[g]=h[g])}}return e}},p={};["color","color-theme","text-color","bg-color","border-color","ripple-color"].forEach(function(t){p["f7-"+t]=function(e,n){var r=n.value,i=n.oldValue;r!==i&&(r||i)&&(i&&e.classList.remove(t+"-"+i),r&&e.classList.add(t+"-"+r))}});var v=0,g={proto:{pageComponentLoader:function(t,e,n,r,i,o){var a=this.$el[0],s=void 0;if(function t(e){s||(e.$vnode&&e.$vnode.tag&&e.$vnode.tag.indexOf("f7-view")>=0&&e.pages?s=e:e.$children&&0!==e.$children.length&&e.$children.forEach(function(e){t(e)}))}(a.__vue__),s&&s.pages){var c=d.now()+"_"+(v+=1),l={component:e,id:c,params:d.extend({},r.route.params)};s.$f7route=r.route,s.pages.push(l),s.$nextTick(function(){var t=a.children[a.children.length-1];l.el=t;var n=void 0;if(e.on){for(var r=void 0,o=t.__vue__;o.$parent&&!r;)o.$parent.$el===t?o=o.$parent:r=!0;o&&(n=d.extend({},e.on),u()(n).forEach(function(t){n[t]=n[t].bind(o)}))}i(t,{on:n})})}else o()},removePage:function(t){if(t){var e=this.$el[0].__vue__,n=void 0;if("length"in t){if(0===t.length)return;n=t[0]}else n=t;if(n){var r=void 0;e.pages.forEach(function(t,i){t.el===n&&(r=!0,e.pages.splice(i,1))}),r||n.parentNode.removeChild(n)}}},tabComponentLoader:function(t,e,n,r,i,o){t||o();var a=t.__vue__;a||o();var s=d.now()+"_"+(v+=1);a.$set(a,"tabContent",{id:s,component:e,params:d.extend({},r.route.params)});var c=void 0;e.on&&(c=d.extend({},e.on),u()(c).forEach(function(t){c[t]=c[t].bind(a)})),a.$nextTick(function(){var e=t.children[0];i(e,{on:c})})},removeTabContent:function(t){if(t){var e=t.__vue__;e?e.$set(e,"tabContent",null):t.innerHTML=""}},modalComponentLoader:function(t,e,n,r,i,o){var a=this,s=document.querySelector(".framework7-modals");if(s){var c=s.__vue__;if(c){var l=d.now()+"_"+(v+=1),h={component:e,id:l,params:d.extend({},r.route.params)};c.$f7route=r.route,c.modals.push(h),c.$nextTick(function(){var t=s.children[s.children.length-1];h.el=t;for(var n=void 0,r=void 0,o=t.__vue__;o.$parent&&!r;)o.$parent.$el===t?o=o.$parent:r=!0;e.on&&o&&(n=d.extend({},e.on),u()(n).forEach(function(t){n[t]=n[t].bind(o)})),t.addEventListener("modal:closed",function(){c.$nextTick(function(){a.removeModal(t,o)})}),i(t,{on:n})})}else o()}else o()},removeModal:function(t,e){if(e){var n=document.querySelector(".framework7-modals");if(n){var r=n.__vue__;if(r){var i=void 0;r.modals.forEach(function(e,n){e.el===t&&(i=!0,r.modals.splice(n,1))}),i||t.parentNode.removeChild(t)}}}}}},m={colorProps:{color:String,colorTheme:String,textColor:String,bgColor:String,borderColor:String,rippleColor:String,themeDark:Boolean},colorClasses:function(t){var e,n=t.color,r=t.colorTheme,o=t.textColor,a=t.bgColor,s=t.borderColor,u=t.rippleColor;return e={"theme-dark":t.themeDark},i()(e,"color-"+n,n),i()(e,"color-theme-"+r,r),i()(e,"text-color-"+o,o),i()(e,"bg-color-"+a,a),i()(e,"border-color-"+s,s),i()(e,"ripple-color-"+u,u),e},linkIconProps:{icon:String,iconMaterial:String,iconIon:String,iconFa:String,iconF7:String,iconIfMd:String,iconIfIos:String,iconColor:String,iconSize:[String,Number]},linkRouterProps:{back:Boolean,external:Boolean,force:Boolean,animate:Boolean,ignoreCache:Boolean,pageName:String,reloadCurrent:Boolean,reloadAll:Boolean,reloadPrevious:Boolean,routeTabId:String,view:String},linkRouterAttrs:function(t){var e=t.force,n=t.reloadCurrent,r=t.reloadPrevious,i=t.reloadAll,o=t.animate,a=t.ignoreCache,s=t.routeTabId,u=t.view;return{"data-force":e,"data-reload-current":n,"data-reload-all":i,"data-reload-previous":r,"data-animate":"animate"in t.$options.propsData?o.toString():void 0,"data-ignore-cache":a,"data-route-tab-id":s,"data-view":!!d.isStringProp(u)&&u}},linkRouterClasses:function(t){var e=t.back,n=t.linkBack,r=t.external;return{back:e||n,external:r}},linkActionsProps:{panelOpen:[Boolean,String],panelClose:[Boolean,String],popupOpen:[Boolean,String],popupClose:[Boolean,String],actionsOpen:[Boolean,String],actionsClose:[Boolean,String],popoverOpen:[Boolean,String],popoverClose:[Boolean,String],loginScreenOpen:[Boolean,String],loginScreenClose:[Boolean,String],sheetOpen:[Boolean,String],sheetClose:[Boolean,String],sortableEnable:[Boolean,String],sortableDisable:[Boolean,String],sortableToggle:[Boolean,String]},linkActionsAttrs:function(t){var e=t.panelOpen,n=t.panelClose,r=t.popupOpen,i=t.popupClose,o=t.actionsOpen,a=t.actionsClose,s=t.popoverOpen,u=t.popoverClose,c=t.loginScreenOpen,l=t.loginScreenClose,h=t.sheetOpen,f=t.sheetClose,p=t.sortableEnable,v=t.sortableDisable,g=t.sortableToggle;return{"data-panel":d.isStringProp(e)&&e||d.isStringProp(n)&&n,"data-popup":d.isStringProp(r)&&r||d.isStringProp(i)&&i,"data-actions":d.isStringProp(o)&&o||d.isStringProp(a)&&a,"data-popover":d.isStringProp(s)&&s||d.isStringProp(u)&&u,"data-sheet":d.isStringProp(h)&&h||d.isStringProp(f)&&f,"data-login-screen":d.isStringProp(c)&&c||d.isStringProp(l)&&l,"data-sortable":d.isStringProp(p)&&p||d.isStringProp(v)&&v||d.isStringProp(g)&&g}},linkActionsClasses:function(t){var e=t.panelOpen,n=t.panelClose,r=t.popupOpen,i=t.actionsClose,o=t.actionsOpen,a=t.popupClose,s=t.popoverOpen,u=t.popoverClose,c=t.loginScreenOpen,l=t.loginScreenClose,h=t.sheetOpen,f=t.sheetClose,p=t.sortableEnable,v=t.sortableDisable,g=t.sortableToggle;return{"panel-close":d.isTrueProp(n),"panel-open":e||""===e,"popup-close":d.isTrueProp(a),"popup-open":r||""===r,"actions-close":d.isTrueProp(i),"actions-open":o||""===o,"popover-close":d.isTrueProp(u),"popover-open":s||""===s,"sheet-close":d.isTrueProp(f),"sheet-open":h||""===h,"login-screen-close":d.isTrueProp(l),"login-screen-open":c||""===c,"sortable-enable":d.isTrueProp(p),"sortable-disable":d.isTrueProp(v),"sortable-toggle":!0===g||g.length}}},y={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"accordion-item-content",class:this.classes},[this._t("default")],2)},staticRenderFns:[],props:m.colorProps,name:"f7-accordion-content",computed:{classes:function(){return m.colorClasses(this)}}},b={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"accordion-item",class:this.classes,on:{"accordion:open":this.onOpen,"accordion:opened":this.onOpened,"accordion:close":this.onClose,"accordion:closed":this.onClosed}},[this._t("default")],2)},staticRenderFns:[],name:"f7-accordion-item",props:d.extend({opened:Boolean},m.colorProps),computed:{classes:function(){return d.extend({"accordion-item-opened":this.opened},m.colorClasses(this))}},methods:{onOpen:function(t){this.$emit("accordion:open",t)},onOpened:function(t){this.$emit("accordion:opened",t)},onClose:function(t){this.$emit("accordion:close",t)},onClosed:function(t){this.$emit("accordion:closed",t)}}},_={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"accordion-item-toggle",class:this.classes},[this._t("default")],2)},staticRenderFns:[],props:m.colorProps,name:"f7-accordion-toggle",computed:{classes:function(){return m.colorClasses(this)}}},w={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"accordion-list",class:this.classes},[this._t("default")],2)},staticRenderFns:[],props:m.colorProps,name:"f7-accordion",computed:{classes:function(){return m.colorClasses(this)}}},x={name:"f7-actions-button",render:function(t){var e=void 0;this.$slots.media&&this.$slots.media.length&&(e=t("div",{staticClass:"actions-button-media"},this.$slots.media));var n=t("div",{staticClass:"actions-button-text"},this.$slots.default);return t("div",{staticClass:"actions-button",class:this.classes,on:{click:this.onClick}},[e,n])},props:d.extend({bold:Boolean,close:{type:Boolean,default:!0}},m.colorProps),computed:{classes:function(){return d.extend({"actions-button-bold":this.bold},m.colorClasses(this))}},methods:{onClick:function(t){var e=this.$$;this.close&&this.$f7&&this.$f7.actions.close(e(this.$el).parents(".actions-modal")),this.$emit("click",t)}}},E={name:"f7-actions-group",render:function(t){return t("div",{staticClass:"actions-group"},this.$slots.default)}},C={name:"f7-actions-label",render:function(t){return t("div",{staticClass:"actions-label",class:this.classes,on:{click:this.onClick}},this.$slots.default)},props:d.extend({bold:Boolean},m.colorProps),computed:{classes:function(){return d.extend({"actions-button-bold":this.bold},m.colorClasses(this))}},methods:{onClick:function(t){this.$emit("click",t)}}},k={name:"f7-actions",render:function(t){return t("div",{staticClass:"actions-modal",class:this.classes,on:{"actions:open":this.onOpen,"actions:opened":this.onOpened,"actions:close":this.onClose,"actions:closed":this.onClosed}},this.$slots.default)},watch:{opened:function(t){this.f7Actions&&(t?this.f7Actions.open():this.f7Actions.close())}},props:d.extend({opened:Boolean,grid:Boolean,convertToPopover:Boolean,forceToPopover:Boolean,target:[String,Object]},m.colorProps),computed:{classes:function(){return d.extend({"actions-grid":this.grid},m.colorClasses(this))}},beforeDestroy:function(){this.f7Actions&&this.f7Actions.destroy()},methods:{onOpen:function(t){this.$emit("actions:open",t)},onOpened:function(t){this.$emit("actions:opened",t)},onClose:function(t){this.$emit("actions:close",t)},onClosed:function(t){this.$emit("actions:closed",t)},open:function(t){if(this.$f7)return this.$f7.actions.open(this.$el,t)},close:function(t){if(this.$f7)return this.$f7.actions.close(this.$el,t)},onF7Ready:function(){var t={el:this.$el,grid:this.grid};this.target&&(t.targetEl=this.target),void 0!==this.$options.propsData.convertToPopover&&(t.convertToPopover=this.convertToPopover),void 0!==this.$options.propsData.forceToPopover&&(t.forceToPopover=this.forceToPopover),this.f7Actions=this.$f7.actions.create(t),this.opened&&this.f7Actions.open(!1)}}},T={render:function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"badge",class:this.classes},[this._t("default")],2)},staticRenderFns:[],props:m.colorProps,name:"f7-badge",computed:{classes:function(){return m.colorClasses(this)}}},S={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"block-footer",class:this.classes},[this._t("default")],2)},staticRenderFns:[],name:"f7-block-footer",props:m.colorProps,computed:{classes:function(){return m.colorClasses(this)}}},O={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"block-header",class:this.classes},[this._t("default")],2)},staticRenderFns:[],props:m.colorProps,name:"f7-block-header",computed:{classes:function(){return m.colorClasses(this)}}},M={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"block-title",class:this.classes},[this._t("default")],2)},staticRenderFns:[],props:m.colorProps,name:"f7-block-title",computed:{classes:function(){return m.colorClasses(this)}}},A={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"block",class:this.classes,on:{"tab:show":this.onTabShow,"tab:hide":this.onTabHide}},[this._t("default")],2)},staticRenderFns:[],name:"f7-block",props:d.extend({inset:Boolean,tabletInset:Boolean,strong:Boolean,tabs:Boolean,tab:Boolean,tabActive:Boolean,accordionList:Boolean,noHairlines:Boolean,noHairlinesMd:Boolean,noHairlinesIos:Boolean},m.colorProps),computed:{classes:function(){return d.extend({inset:this.inset,"block-strong":this.strong,"accordion-list":this.accordionList,"tablet-inset":this.tabletInset,tabs:this.tabs,tab:this.tab,"tab-active":this.tabActive,"no-hairlines":this.noHairlines,"no-hairlines-md":this.noHairlinesMd,"no-hairlines-ios":this.noHairlinesIos},m.colorClasses(this))}},methods:{onTabShow:function(t){this.$emit("tab:show",t)},onTabHide:function(t){this.$emit("tab:hide",t)}}},P={render:function(){var t=this.$createElement;return(this._self._c||t)("i",{staticClass:"icon",class:this.classes,style:{"font-size":this.sizeComputed}},[this._v(this._s(this.iconTextComputed)),this._t("default")],2)},staticRenderFns:[],name:"f7-icon",props:d.extend({material:String,f7:String,ion:String,fa:String,icon:String,ifMd:String,ifIos:String,size:[String,Number]},m.colorProps),computed:{sizeComputed:function(){var t=this.size;return"number"!=typeof t&&parseFloat(t)!==1*t||(t+="px"),t},iconTextComputed:function(){var t=this.material||this.f7;return this.ifMd&&this.$theme.md&&(this.ifMd.indexOf("material:")>=0||this.ifMd.indexOf("f7:")>=0)?t=this.ifMd.split(":")[1]:this.ifIos&&this.$theme.ios&&(this.ifIos.indexOf("material:")>=0||this.ifIos.indexOf("f7:")>=0)&&(t=this.ifIos.split(":")[1]),t},classes:function(){var t={};if(this.ifMd||this.ifIos){var e=this[this.$theme.md?"ifMd":"ifIos"].split(":"),n=e[0],r=e[1];"material"!==n&&"fa"!==n&&"f7"!==n||(t.fa="fa"===n,t["material-icons"]="material"===n,t["f7-icons"]="f7"===n),"fa"!==n&&"ion"!==n||(t[n+"-"+r]=!0),"icon"===n&&(t[r]=!0)}else t={"material-icons":this.material,"f7-icons":this.f7,fa:this.fa},this.ion&&(t["ion-"+this.ion]=!0),this.fa&&(t["fa-"+this.fa]=!0),this.icon&&(t[this.icon]=!0);return d.extend(t,m.colorClasses(this))}}},I=d.extend({noFastclick:Boolean,noFastClick:Boolean,text:String,tabLink:[Boolean,String],tabLinkActive:Boolean,href:{type:[String,Boolean],default:"#"},round:Boolean,roundMd:Boolean,roundIos:Boolean,fill:Boolean,fillMd:Boolean,fillIos:Boolean,big:Boolean,bigMd:Boolean,bigIos:Boolean,small:Boolean,smallMd:Boolean,smallIos:Boolean,raised:Boolean,outline:Boolean,active:Boolean,disabled:Boolean},m.colorProps,m.linkIconProps,m.linkRouterProps,m.linkActionsProps),N={name:"f7-button",components:{f7Icon:P},props:I,render:function(t){var e=void 0,n=void 0;return this.text&&(n=t("span",{},this.text)),(this.icon||this.iconMaterial||this.iconIon||this.iconFa||this.iconF7||this.iconIfMd||this.iconIfIos)&&(e=t("f7-icon",{props:{material:this.iconMaterial,ion:this.iconIon,fa:this.iconFa,f7:this.iconF7,icon:this.icon,ifMd:this.iconIfMd,ifIos:this.iconIfIos,color:this.iconColor,size:this.iconSize}})),this.classes.button=!0,t("a",{class:this.classes,attrs:this.attrs,on:{click:this.onClick}},[e,n,this.$slots.default])},computed:{attrs:function(){var t=this.href,e=this.target,n=this.tabLink,r=t;return!0===t&&(r="#"),!1===t&&(r=void 0),d.extend({href:r,target:e,"data-tab":d.isStringProp(n)&&n},m.linkRouterAttrs(this),m.linkActionsAttrs(this))},classes:function(){var t=this.noFastclick,e=this.noFastClick,n=this.tabLink,r=this.tabLinkActive,i=this.round,o=this.roundIos,a=this.roundMd,s=this.fill,u=this.fillIos,c=this.fillMd,l=this.big,h=this.bigIos,f=this.bigMd,p=this.small,v=this.smallIos,g=this.smallMd,y=this.raised,b=this.active,_=this.outline,w=this.disabled;return d.extend({"tab-link":n||""===n,"tab-link-active":r,"no-fastclick":t||e,"button-round":i,"button-round-ios":o,"button-round-md":a,"button-fill":s,"button-fill-ios":u,"button-fill-md":c,"button-big":l,"button-big-ios":h,"button-big-md":f,"button-small":p,"button-small-ios":v,"button-small-md":g,"button-raised":y,"button-active":b,"button-outline":_,disabled:w},m.colorClasses(this),m.linkRouterClasses(this),m.linkActionsClasses(this))}},methods:{onClick:function(t){this.$emit("click",t)}}},D={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"card-content",class:this.classes},[this._t("default")],2)},staticRenderFns:[],name:"f7-card-content",props:d.extend({padding:{type:Boolean,default:!0}},m.colorProps),computed:{classes:function(){return d.extend({"card-content-padding":this.padding},m.colorClasses(this))}}},R={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"card-footer",class:this.classes},[this._t("default")],2)},staticRenderFns:[],props:m.colorProps,name:"f7-card-footer",computed:{classes:function(){return m.colorClasses(this)}}},j={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"card-header",class:this.classes},[this._t("default")],2)},staticRenderFns:[],props:m.colorProps,name:"f7-card-header",computed:{classes:function(){return m.colorClasses(this)}}},L=d.extend({title:[String,Number],content:[String,Number],footer:[String,Number],padding:{type:Boolean,default:!0}},m.colorProps),F={name:"f7-card",components:{f7CardHeader:j,f7CardContent:D,f7CardFooter:R},props:L,render:function(t){var e=void 0,n=void 0,r=void 0;return(this.title||this.$slots&&this.$slots.header)&&(e=t("f7-card-header",[this.title,this.$slots.header])),(this.content||this.$slots&&this.$slots.content)&&(n=t("f7-card-content",{props:{padding:this.padding}},[this.content,this.$slots.content])),(this.footer||this.$slots&&this.$slots.footer)&&(r=t("f7-card-footer",[this.footer,this.$slots.footer])),t("div",{staticClass:"card",class:this.classes},[e,n,r,this.$slots.default])},computed:{classes:function(){return m.colorClasses(this)}}},B={name:"f7-checkbox",props:d.extend({checked:Boolean,name:[Number,String],value:[Number,String,Boolean],disabled:Boolean,readonly:Boolean},m.colorProps),render:function(t){var e=t("input",{attrs:{type:"checkbox",name:this.name},domProps:{value:this.value,disabled:this.disabled,readonly:this.readonly,checked:this.checked},on:{change:this.onChange}}),n=t("i",{staticClass:"icon-checkbox"});return t("label",{staticClass:"checkbox",class:this.classes},[e,n,this.$slots.default])},computed:{classes:function(){return d.extend({disabled:this.disabled},m.colorClasses(this))}},methods:{onChange:function(t){this.$emit("change",t)}}},$={name:"f7-chip",props:d.extend({media:String,text:[String,Number],deleteable:Boolean,mediaBgColor:String,mediaTextColor:String},m.colorProps),render:function(t){var e=void 0,n=void 0,r=void 0;return(this.media||this.$slots&&this.$slots.media)&&(e=t("div",{staticClass:"chip-media",class:this.mediaClasses},this.media||this.$slots.media)),(this.text||this.$slots&&this.$slots.text)&&(n=t("div",{staticClass:"chip-label"},[this.text,this.$slots.text])),this.deleteable&&(r=t("a",{staticClass:"chip-delete",attrs:{href:"#"},on:{click:this.onDeleteClick}})),t("div",{staticClass:"chip",class:this.classes,on:{click:this.onClick}},[e,n,r])},computed:{classes:function(){return m.colorClasses(this)},mediaClasses:function(){var t={};return this.mediaTextColor&&(t["text-color-"+this.mediaTextColor]=!0),this.mediaBgColor&&(t["bg-color-"+this.mediaBgColor]=!0),t}},methods:{onClick:function(t){this.$emit("click",t)},onDeleteClick:function(t){this.$emit("delete",t)}}},U={name:"f7-col",props:d.extend({tag:{type:String,default:"div"},width:{type:[Number,String],default:"auto"},tabletWidth:{type:[Number,String]},desktopWidth:{type:[Number,String]}},m.colorProps),render:function(t){return t(this.tag,{class:this.classes},[this.$slots.default])},computed:{classes:function(){var t;return d.extend((t={col:"auto"===this.width},i()(t,"col-"+this.width,"auto"!==this.width),i()(t,"tablet-"+this.tabletWidth,this.tabletWidth),i()(t,"desktop-"+this.desktopWidth,this.desktopWidth),t),m.colorClasses(this))}}},z={render:function(){var t=this.$createElement;return(this._self._c||t)("a",{class:this.classes,on:{click:this.onClick}},[this._t("default")],2)},staticRenderFns:[],name:"f7-fab-button",props:d.extend({fabClose:Boolean},m.colorProps),computed:{classes:function(){return d.extend({"fab-close":this.fabClose},m.colorClasses(this))}},methods:{onClick:function(t){this.$emit("click",t)}}},q={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"fab-buttons",class:this.classes},[this._t("default")],2)},staticRenderFns:[],name:"f7-fab-buttons",props:d.extend({position:{type:String,default:"top"}},m.colorProps),computed:{classes:function(){return d.extend(i()({},"fab-buttons-"+this.position,!0),m.colorClasses(this))}}},V={name:"f7-fab",props:d.extend({morphTo:String,href:[Boolean,String],position:{type:String,default:"right-bottom"}},m.colorProps),render:function(t){var e=this.href;!0===e&&(e="#"),!1===e&&(e=void 0);var n=[],r=[];if(this.$slots.default)for(var i=0;i<this.$slots.default.length;i+=1){var o=this.$slots.default[i];o.tag&&o.tag.indexOf("fab-buttons")>=0?r.push(o):n.push(o)}var a=t("a",{attrs:{href:e},on:{click:this.onClick}},n);return r.push(a),t("div",{staticClass:"fab",class:this.classes,attrs:{"data-morph-to":this.morphTo}},r)},computed:{classes:function(){return d.extend(i()({"fab-morph":this.morphTo},"fab-"+this.position,!0),m.colorClasses(this))}},methods:{onClick:function(t){this.$emit("click",t)}}},H={name:"f7-toggle",render:function(t){return t("label",{staticClass:"toggle",class:d.extend({disabled:this.disabled},m.colorClasses(this))},[t("input",{attrs:{type:"checkbox",name:this.name},domProps:{disabled:this.disabled,readonly:this.readonly,checked:this.checked,value:this.value},on:{change:this.onChange}}),t("span",{staticClass:"toggle-icon"})])},props:d.extend({init:{type:Boolean,default:!0},checked:Boolean,disabled:Boolean,readonly:Boolean,name:String,value:[String,Number,Array]},m.colorProps),watch:{checked:function(t){this.f7Toggle&&(this.f7Toggle.checked=t)}},beforeDestroy:function(){this.f7Toggle&&this.f7Toggle.destroy&&this.f7Toggle.$el&&this.f7Toggle.destroy()},methods:{toggle:function(){this.f7Toggle&&this.f7Toggle.setValue&&this.f7Toggle.toggle()},onChange:function(t){this.$emit("change",t)},onF7Ready:function(t){var e=this;e.init&&e.$nextTick(function(){e.f7Toggle=t.toggle.create({el:e.$el,on:{change:function(t){e.$emit("toggle:change",t.checked)}}})})}}},W={name:"f7-range",render:function(t){return t("div",{staticClass:"range-slider",class:d.extend({disabled:this.disabled},m.colorClasses(this))})},props:d.extend({init:{type:Boolean,default:!0},value:{type:[Number,Array,String],default:0},min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},label:{type:Boolean,default:!1},dual:{type:Boolean,default:!1},disabled:Boolean,draggableBar:{type:Boolean,default:!0}},m.colorProps),watch:{value:function(t){this.f7Range&&this.f7Range.setValue(t)}},beforeDestroy:function(){this.f7Range&&this.f7Range.destroy&&this.f7Range.destroy()},methods:{setValue:function(t){this.f7Range&&this.f7Range.setValue&&this.f7Range.setValue(t)},getValue:function(){if(this.f7Range&&this.f7Range.getValue)return this.f7Range.getValue()},onF7Ready:function(t){var e=this;e.init&&e.$nextTick(function(){e.f7Range=t.range.create({el:e.$el,value:e.value,min:e.min,max:e.max,step:e.step,label:e.label,dual:e.dual,draggableBar:e.draggableBar,on:{change:function(t,n){e.$emit("range:change",n)},changed:function(t,n){e.$emit("range:changed",n)}}})})}}},G=d.extend({type:String,name:String,value:[String,Number,Array],placeholder:String,id:String,size:[String,Number],accept:[String,Number],autocomplete:[String],autocorrect:[String],autocapitalize:[String],spellcheck:[String],autofocus:Boolean,autosave:String,checked:Boolean,disabled:Boolean,max:[String,Number],min:[String,Number],step:[String,Number],maxlength:[String,Number],minlength:[String,Number],multiple:Boolean,readonly:Boolean,required:Boolean,inputStyle:String,pattern:String,validate:Boolean,tabindex:[String,Number],resizable:Boolean,clearButton:Boolean,errorMessage:String,info:String,wrap:{type:Boolean,default:!0}},m.colorProps),K={name:"f7-input",components:{f7Toggle:H,f7Range:W},props:G,render:function(t){var e=void 0,n={name:this.name,type:this.type,placeholder:this.placeholder,id:this.id,value:this.value,size:this.size,accept:this.accept,autocomplete:this.autocomplete,autocorrect:this.autocorrect,autocapitalize:this.autocapitalize,spellcheck:this.spellcheck,autofocus:this.autofocus,autosave:this.autosave,checked:this.checked,disabled:this.disabled,max:this.max,maxlength:this.maxlength,min:this.min,minlength:this.minlength,step:this.step,multiple:this.multiple,readonly:this.readonly,required:this.required,pattern:this.pattern,validate:this.validate,tabindex:this.tabindex,"data-error-message":this.errorMessage},r={focus:this.onFocus,blur:this.onBlur,input:this.onInput,change:this.onChange,"textarea:resize":this.onTextareaResize,"input:notempty":this.onInputNotEmpty,"input:empty":this.onInputEmpty,"input:clear":this.onInputClear};"select"===this.type||"textarea"===this.type||"file"===this.type?(delete n.value,e="select"===this.type?t("select",{attrs:n,on:r,style:this.inputStyle,domProps:{value:this.value}},this.$slots.default):"file"===this.type?t("input",{attrs:n,style:this.inputStyle,on:r},this.$slots.default):t("textarea",{attrs:n,style:this.inputStyle,on:r,class:{resizable:this.resizable},domProps:{value:this.value}},this.$slots.default)):this.$slots.default&&this.$slots.default.length>0||!this.type?e=this.$slots.default:"toggle"===this.type?e=t("f7-toggle",{props:n,on:r,attrs:{id:n.id}}):"range"===this.type?(r["range:change"]=this.onChange,e=t("f7-range",{props:n,on:r,attrs:{id:n.id}})):e=t("input",{attrs:n,style:this.inputStyle,on:r,domProps:{value:this.value,checked:this.checked}});var i=void 0;this.clearButton&&(i=t("span",{staticClass:"input-clear-button"}));for(var o=this.$parent,a=void 0;o&&!a;){var s=o.$vnode&&o.$vnode.tag;s&&(s.indexOf("list-item")>0||s.indexOf("list-item-content")>0)&&(a=o),o=o.$parent}a&&(a.itemInputForced=!0),a&&(this.info||this.$slots.info&&this.$slots.info.length)&&(a.itemInputWithInfoForced=!0);var u=void 0;return(this.info||this.$slots.info&&this.$slots.info.length)&&(u=t("div",{staticClass:"item-input-info"},[this.info,this.$slots.info])),this.wrap?t("div",{staticClass:"item-input-wrap",class:this.classes},[e,i,u]):e},computed:{classes:function(){return m.colorClasses(this)}},watch:{value:function(){var t=this;if("range"!==t.type&&"toggle"!==t.type){var e=t.$f7;if(e){var n=t.wrap?t.$el.querySelector("input, select, textarea"):t.$el;t.$nextTick(function(){e.input.checkEmptyState(n),t.validate&&e.input.validate(n),t.resizable&&e.input.resizeTextarea(n)})}}}},methods:{onF7Ready:function(t){var e=this.wrap?this.$el.querySelector("input, select, textarea"):this.$el;t.input.checkEmptyState(e),this.validate&&t.input.validate(e),this.resizable&&t.input.resizeTextarea(e)},onTextareaResize:function(t){this.$emit("textarea:resize",t)},onInputNotEmpty:function(t){this.$emit("input:notempty",t)},onInputEmpty:function(t){this.$emit("input:empty",t)},onInputClear:function(t){this.$emit("input:clear",t)},onInput:function(t){this.$emit("input",t)},onFocus:function(t){this.$emit("focus",t)},onBlur:function(t){this.$emit("blur",t)},onChange:function(t){this.$emit("change",t)}}},Y={name:"f7-label",props:d.extend({floating:Boolean,inline:Boolean},m.colorProps),render:function(t){if(this.inline){for(var e=this.$parent,n=void 0;e&&!n;){var r=e.$vnode&&e.$vnode.tag;r&&(r.indexOf("list-item")>0||r.indexOf("list-item-content")>0)&&(n=e),e=e.$parent}n&&(n.inlineLabelForced=!0)}return t("div",{staticClass:"item-title",class:this.classes},[this.$slots.default])},computed:{classes:function(){return d.extend({"item-label":!this.floating,"item-floating-label":this.floating},m.colorClasses(this))}}},Q=d.extend({noLinkClass:Boolean,noFastClick:Boolean,noFastclick:Boolean,text:String,tabLink:[Boolean,String],tabLinkActive:Boolean,iconOnly:Boolean,badge:[String,Number],badgeColor:[String],iconBadge:[String,Number],href:{type:[String,Boolean],default:"#"}},m.colorProps,m.linkIconProps,m.linkRouterProps,m.linkActionsProps),X={name:"f7-link",components:{f7Badge:T,f7Icon:P},props:Q,render:function(t){var e=(this.tabLink||""===this.tabLink)&&this.$parent&&this.$parent.tabbar&&this.$parent.labels,n=void 0,r=void 0,i=void 0,o=void 0;return this.text&&(this.badge&&(i=t("f7-badge",{props:{color:this.badgeColor}},this.badge)),r=t("span",{class:{"tabbar-label":e}},[this.text,i])),(this.icon||this.iconMaterial||this.iconIon||this.iconFa||this.iconF7||this.iconIfMd&&this.$theme.md||this.iconIfIos&&this.$theme.ios)&&(this.iconBadge&&(o=t("f7-badge",{props:{color:this.badgeColor}},this.iconBadge)),n=t("f7-icon",{props:{material:this.iconMaterial,ion:this.iconIon,fa:this.iconFa,f7:this.iconF7,icon:this.icon,ifMd:this.iconIfMd,ifIos:this.iconIfIos,color:this.iconColor,size:this.iconSize}},[o])),(this.iconOnly||!this.text&&this.$slots.default&&0===this.$slots.default.length||!this.text&&!this.$slots.default)&&(this.classes["icon-only"]=!0),this.classes.link=!(this.noLinkClass||e),t("a",{class:this.classes,attrs:this.attrs,on:{click:this.onClick}},[n,r,this.$slots.default])},computed:{attrs:function(){var t=this.href,e=this.target,n=this.tabLink,r=t;return!0===t&&(r="#"),!1===t&&(r=void 0),d.extend({href:r,target:e,"data-tab":d.isStringProp(n)&&n},m.linkRouterAttrs(this),m.linkActionsAttrs(this))},classes:function(){var t=this.noFastclick,e=this.noFastClick,n=this.tabLink,r=this.tabLinkActive;return d.extend({"tab-link":n||""===n,"tab-link-active":r,"no-fastclick":t||e},m.colorClasses(this),m.linkRouterClasses(this),m.linkActionsClasses(this))}},methods:{onClick:function(t){this.$emit("click",t)}}},J={name:"f7-list-button",render:function(t){return t("li",{},[t("a",{staticClass:"item-link list-button",attrs:this.attrs,class:this.classes,on:{click:this.onClick}},[this.title||this.text,this.$slots.default])])},props:d.extend({noFastclick:Boolean,noFastClick:Boolean,title:[String,Number],text:[String,Number],tabLink:[Boolean,String],tabLinkActive:Boolean,link:[Boolean,String],href:[Boolean,String],target:String},m.colorProps,m.linkRouterProps,m.linkActionsProps),computed:{attrs:function(){var t=this.link,e=this.href,n=this.target,r=this.tabLink;return d.extend({href:"boolean"==typeof t&&"boolean"==typeof e?"#":t||e,target:n,"data-tab":d.isStringProp(r)&&r},m.linkRouterAttrs(this),m.linkActionsAttrs(this))},classes:function(){var t=this.noFastclick,e=this.noFastClick,n=this.tabLink,r=this.tabLinkActive;return d.extend({"tab-link":n||""===n,"tab-link-active":r,"no-fastclick":t||e},m.colorClasses(this),m.linkRouterClasses(this),m.linkActionsClasses(this))}},methods:{onClick:function(t){this.$emit("click",t)}}},Z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list-group",class:this.classes},[e("ul",[this._t("default")],2)])},staticRenderFns:[],name:"f7-list-group",props:d.extend({mediaList:Boolean,sortable:Boolean},m.colorProps),computed:{classes:function(){return m.colorClasses(this)},sortableComputed:function(){return this.sortable||this.$parent.sortable},mediaListComputed:function(){return this.mediaList||this.$parent.mediaList}},data:function(){return{}}},tt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"list-index",class:this.classes},[this._t("default")],2)},staticRenderFns:[],props:d.extend({init:{type:Boolean,default:!0},listEl:[String,Object],indexes:{type:[String,Array],default:"auto"},scrollList:{type:Boolean,default:!0},label:{type:Boolean,default:!1},iosItemHeight:{type:Number,default:14},mdItemHeight:{type:Number,default:14}},m.colorProps),name:"f7-list-index",computed:{classes:function(){return m.colorClasses(this)}},beforeDestroy:function(){this.init&&this.f7ListIndex&&this.f7ListIndex.destroy&&this.f7ListIndex.destroy()},watch:{indexes:function(){this.f7ListIndex&&(this.f7ListIndex.params.indexes=this.indexes,this.update())}},methods:{update:function(){this.f7ListIndex&&this.f7ListIndex.update()},scrollListToIndex:function(t){this.f7ListIndex&&this.f7ListIndex.scrollListToIndex(t)},onF7Ready:function(t){var e=this;if(e.init){var n=e.$el,r=e.listEl,i=e.indexes,o=e.iosItemHeight,a=e.mdItemHeight,s=e.scrollList,u=e.label;e.f7ListIndex=t.listIndex.create({el:n,listEl:r,indexes:i,iosItemHeight:o,mdItemHeight:a,scrollList:s,label:u,on:{select:function(t,n,r){e.$emit("listindex:select",n,r)}}})}}}},et={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"item-cell",class:this.classes},[this._t("default")],2)},staticRenderFns:[],name:"f7-list-item-cell",props:m.colorProps,computed:{classes:function(){return m.colorClasses(this)}}},nt=d.extend({title:[String,Number],text:[String,Number],media:String,subtitle:[String,Number],header:[String,Number],footer:[String,Number],after:[String,Number],badge:[String,Number],badgeColor:String,mediaList:Boolean,itemInput:Boolean,itemInputWithInfo:Boolean,inlineLabel:Boolean,checkbox:Boolean,checked:Boolean,radio:Boolean,name:String,value:[String,Number,Array],readonly:Boolean,required:Boolean,disabled:Boolean},m.colorProps),rt={name:"f7-list-item-content",components:{f7Badge:T},props:nt,render:function(t){var e,n=[],r=[],i=[],o=[],a=[],s=[],u=[],c=[],l=[],h=[],f=[],p=[],v=[],g=[],y=[],b=[],_=[],w=[],x=w[0],E=w[1],C=w[2],k=w[3],T=w[5],S=w[6],O=w[7],M=w[8],A=w[9],P=w[10],I=w[11],N=w[12];if(this.$slots.default&&this.$slots.default.length>0)for(var D=0;D<this.$slots.default.length;D+=1){var R=this.$slots.default[D].data?this.$slots.default[D].data.slot:void 0;R&&"inner"!==R||a.push(this.$slots.default[D]),"content-start"===R&&n.push(this.$slots.default[D]),"content"===R&&r.push(this.$slots.default[D]),"content-end"===R&&i.push(this.$slots.default[D]),"after-start"===R&&u.push(this.$slots.default[D]),"after"===R&&c.push(this.$slots.default[D]),"after-end"===R&&l.push(this.$slots.default[D]),"media"===R&&h.push(this.$slots.default[D]),"inner-start"===R&&o.push(this.$slots.default[D]),"inner-end"===R&&s.push(this.$slots.default[D]),"before-title"===R&&f.push(this.$slots.default[D]),"title"===R&&p.push(this.$slots.default[D]),"after-title"===R&&v.push(this.$slots.default[D]),"subtitle"===R&&g.push(this.$slots.default[D]),"text"===R&&y.push(this.$slots.default[D]),"header"===R&&b.push(this.$slots.default[D]),"footer"===R&&_.push(this.$slots.default[D])}if((this.radio||this.checkbox)&&(A=t("input",{attrs:{value:this.value,name:this.name,checked:this.checked,readonly:this.readonly,disabled:this.disabled,required:this.required,type:this.radio?"radio":"checkbox"},on:{change:this.onChange},domProps:{checked:this.checked,disabled:this.disabled,required:this.required}}),P=t("i",{staticClass:"icon icon-"+(this.radio?"radio":"checkbox")})),this.media||h.length){var j=void 0;this.media&&(j=t("img",{attrs:{src:this.media}})),M=t("div",{staticClass:"item-media"},[j,h])}return(this.header||b.length)&&(I=t("div",{staticClass:"item-header"},[this.header,b])),(this.footer||_.length)&&(N=t("div",{staticClass:"item-footer"},[this.footer,_])),(this.title||p.length)&&(x=t("div",{staticClass:"item-title"},[!this.mediaList&&I,this.title,p,!this.mediaList&&N])),(this.subtitle||g.length)&&(S=t("div",{staticClass:"item-subtitle"},[this.subtitle,g])),(this.text||y.length)&&(O=t("div",{staticClass:"item-text"},[this.text,y])),(this.after||this.badge||c.length)&&(this.after&&(C=t("span",[this.after])),this.badge&&(k=t("f7-badge",{props:{color:this.badgeColor}},[this.badge])),E=t("div",{staticClass:"item-after"},[u,C,k,c,l])),this.mediaList&&(T=t("div",{staticClass:"item-title-row"},[f,x,v,E])),e=t("div",{staticClass:"item-inner"},this.mediaList?[o,I,T,S,O,a,N,s]:[o,f,x,v,E,a,s]),t(this.checkbox||this.radio?"label":"div",{staticClass:"item-content",class:d.extend({"item-checkbox":this.checkbox,"item-radio":this.radio,"item-input":this.itemInput||this.itemInputForced,"inline-label":this.inlineLabel||this.inlineLabelForced,"item-input-with-info":this.itemInputWithInfo||this.itemInputWithInfoForced},m.colorClasses(this)),on:{click:this.onClick}},[n,A,P,M,e,r,i])},data:function(){return{itemInputForced:!1,inlineLabelForced:!1,itemInputWithInfoForced:!1}},methods:{onClick:function(t){this.$emit("click",t)},onChange:function(t){this.$emit("change",t)},onInput:function(t){this.$emit("input",t)}}},it={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"item-row",class:this.classes},[this._t("default")],2)},staticRenderFns:[],name:"f7-list-item-row",props:m.colorProps,computed:{classes:function(){return m.colorClasses(this)}}},ot=d.extend({title:[String,Number],text:[String,Number],media:String,subtitle:[String,Number],header:[String,Number],footer:[String,Number],link:[Boolean,String],target:String,noFastclick:Boolean,noFastClick:Boolean,after:[String,Number],badge:[String,Number],badgeColor:String,mediaItem:Boolean,mediaList:Boolean,divider:Boolean,groupTitle:Boolean,swipeout:Boolean,sortable:Boolean,accordionItem:Boolean,accordionItemOpened:Boolean,smartSelect:Boolean,smartSelectParams:Object,checkbox:Boolean,radio:Boolean,checked:Boolean,name:String,value:[String,Number,Array],readonly:Boolean,required:Boolean,disabled:Boolean,itemInput:Boolean,itemInputWithInfo:Boolean,inlineLabel:Boolean},m.colorProps,m.linkRouterProps,m.linkActionsProps),at={name:"f7-list-item",components:{f7ListItemContent:rt},props:ot,render:function(t){var e=void 0,n=void 0,r=void 0;if(this.simpleListComputed||(r=t("f7-list-item-content",{props:{title:this.title,text:this.text,media:this.media,subtitle:this.subtitle,after:this.after,header:this.header,footer:this.footer,badge:this.badge,badgeColor:this.badgeColor,mediaList:this.mediaListComputed,accordionItem:this.accordionItem,checkbox:this.checkbox,checked:this.checked,radio:this.radio,name:this.name,value:this.value,readonly:this.readonly,required:this.required,disabled:this.disabled,itemInput:this.itemInput||this.itemInputForced,itemInputWithInfo:this.itemInputWithInfo||this.itemInputWithInfoForced,inlineLabel:this.inlineLabel||this.inlineLabelForced},on:this.link||this.href||this.accordionItem||this.smartSelect?{}:{click:this.onClick,change:this.onChange}},[this.$slots["content-start"],this.$slots.content,this.$slots["content-end"],this.$slots.media,this.$slots["inner-start"],this.$slots.inner,this.$slots["inner-end"],this.$slots["after-start"],this.$slots.after,this.$slots["after-end"],this.$slots.header,this.$slots.footer,this.$slots["before-title"],this.$slots.title,this.$slots["after-title"],this.$slots.subtitle,this.$slots.text,this.swipeout||this.accordionItem?[]:this.$slots.default]),(this.link||this.href||this.accordionItem||this.smartSelect)&&(n=t("a",{attrs:d.extend({href:!0===this.link||this.accordionItem||this.smartSelect?"#":this.link||this.href,target:this.target},m.linkRouterAttrs(this),m.linkActionsAttrs(this)),class:d.extend({"item-link":!0,"no-fastclick":this.noFastclick||this.noFastClick,"smart-select":this.smartSelect},m.linkRouterClasses(this),m.linkActionsClasses(this)),on:{click:this.onClick}},[r]))),this.divider||this.groupTitle)e=[t("span",this.$slots.default||this.title)];else if(this.simpleListComputed)e=[this.title,this.$slots.default];else{var i=this.link||this.href||this.smartSelect||this.accordionItem?n:r;e=this.swipeout?[t("div",{class:{"swipeout-content":!0}},[i])]:[i],this.sortableComputed&&e.push(t("div",{class:{"sortable-handler":!0}})),(this.swipeout||this.accordionItem)&&e.push(this.$slots.default),e.unshift(this.$slots["root-start"]),e.push(this.$slots.root),e.push(this.$slots["root-end"])}return t("li",{class:d.extend({"item-divider":this.divider,"list-group-title":this.groupTitle,"media-item":this.mediaItem,swipeout:this.swipeout,"accordion-item":this.accordionItem,"accordion-item-opened":this.accordionItemOpened},m.colorClasses(this)),on:{"swipeout:open":this.onSwipeoutOpen,"swipeout:opened":this.onSwipeoutOpened,"swipeout:close":this.onSwipeoutClose,"swipeout:closed":this.onSwipeoutClosed,"swipeout:delete":this.onSwipeoutDelete,"swipeout:deleted":this.onSwipeoutDeleted,swipeout:this.onSwipeout,"accordion:open":this.onAccOpen,"accordion:opened":this.onAccOpened,"accordion:close":this.onAccClose,"accordion:closed":this.onAccClosed}},e)},data:function(){return{itemInputForced:!1,inlineLabelForced:!1,itemInputWithInfoForced:!1}},computed:{sortableComputed:function(){return this.sortable||this.$parent.sortable||this.$parent.sortableComputed},mediaListComputed:function(){return this.mediaList||this.mediaItem||this.$parent.mediaList||this.$parent.mediaListComputed},simpleListComputed:function(){return this.simpleList||this.$parent.simpleList||this.$parent.$parent&&this.$parent.simpleList}},beforeDestroy:function(){this.smartSelect&&this.f7SmartSelect&&this.f7SmartSelect.destroy()},methods:{onF7Ready:function(t){if(this.smartSelect){var e=d.extend({el:this.$el.querySelector("a.smart-select")},this.smartSelectParams||{});this.f7SmartSelect=t.smartSelect.create(e)}},onClick:function(t){this.smartSelect&&this.f7SmartSelect&&this.f7SmartSelect.open(),"input"!==t.target.tagName.toLowerCase()&&this.$emit("click",t)},onSwipeoutDeleted:function(t){this.$emit("swipeout:deleted",t)},onSwipeoutDelete:function(t){this.$emit("swipeout:delete",t)},onSwipeoutClose:function(t){this.$emit("swipeout:close",t)},onSwipeoutClosed:function(t){this.$emit("swipeout:closed",t)},onSwipeoutOpen:function(t){this.$emit("swipeout:open",t)},onSwipeoutOpened:function(t){this.$emit("swipeout:opened",t)},onSwipeout:function(t){this.$emit("swipeout",t)},onAccClose:function(t){this.$emit("accordion:close",t)},onAccClosed:function(t){this.$emit("accordion:closed",t)},onAccOpen:function(t){this.$emit("accordion:open",t)},onAccOpened:function(t){this.$emit("accordion:opened",t)},onChange:function(t){this.$emit("change",t)},onInput:function(t){this.$emit("input",t)}}},st={name:"f7-list",props:d.extend({inset:Boolean,tabletInset:Boolean,mediaList:Boolean,sortable:Boolean,sortableEnabled:Boolean,accordionList:Boolean,contactsList:Boolean,simpleList:Boolean,linksList:Boolean,noHairlines:Boolean,noHairlinesBetween:Boolean,noHairlinesMd:Boolean,noHairlinesBetweenMd:Boolean,noHairlinesIos:Boolean,noHairlinesBetweenIos:Boolean,tab:Boolean,tabActive:Boolean,form:Boolean,formStoreData:Boolean,inlineLabels:Boolean,virtualList:Boolean,virtualListParams:Object},m.colorProps),beforeDestroy:function(){this.virtualList&&this.f7VirtualList&&this.f7VirtualList.destroy&&this.f7VirtualList.destroy()},render:function(t){var e=[],n=this.$slots.list||[];if(this.$slots.default)for(var r=0;r<this.$slots.default.length;r+=1){var i=this.$slots.default[r].tag;i&&!("li"===i||i.indexOf("list-item")>=0||i.indexOf("list-button")>=0)?e.push(this.$slots.default[r]):i&&n.push(this.$slots.default[r])}return t(this.form?"form":"div",{staticClass:"list",class:d.extend({inset:this.inset,"tablet-inset":this.tabletInset,"media-list":this.mediaList,"simple-list":this.simpleList,"links-list":this.linksList,sortable:this.sortable,"accordion-list":this.accordionList,"contacts-list":this.contactsList,"virtual-list":this.virtualList,"sortable-enabled":this.sortableEnabled,tab:this.tab,"tab-active":this.tabActive,"no-hairlines":this.noHairlines,"no-hairlines-between":this.noHairlinesBetween,"no-hairlines-md":this.noHairlinesMd,"no-hairlines-between-md":this.noHairlinesBetweenMd,"no-hairlines-ios":this.noHairlinesIos,"no-hairlines-between-ios":this.noHairlinesBetweenIos,"form-store-data":this.formStoreData,"inline-labels":this.inlineLabels},m.colorClasses(this)),on:{"sortable:enable":this.onSortableEnable,"sortable:disable":this.onSortableDisable,"sortable:sort":this.onSortableSort,"tab:show":this.onTabShow,"tab:hide":this.onTabHide}},[n.length>0?[this.$slots["before-list"],t("ul",{},n),this.$slots["after-list"],e]:[this.$slots["before-list"],e,this.$slots["after-list"]]])},methods:{onSortableEnable:function(t){this.$emit("sortable:enable",t)},onSortableDisable:function(t){this.$emit("sortable:disable",t)},onSortableSort:function(t){this.$emit("sortable:sort",t,t.detail)},onTabShow:function(t){this.$emit("tab:show",t)},onTabHide:function(t){this.$emit("tab:hide",t)},onF7Ready:function(t){var e=this;if(e.virtualList){var n=(0,e.$$)(e.$el).find("script"),r=n.html();!r&&n.length>0&&(r=n[0].outerHTML,r=/\<script type="text\/template7"\>(.*)<\/script>/.exec(r)[1]);var i=e.virtualListParams||{};(r||i.renderItem||i.itemTemplate||i.renderExternal)&&(r&&(r=e.$t7.compile(r)),e.f7VirtualList=t.virtualList.create(d.extend({el:e.$el,itemTemplate:r,on:{itemBeforeInsert:function(t,n){e.$emit("virtual:itembeforeinsert",this,t,n)},beforeClear:function(t){e.$emit("virtual:beforeclear",this,t)},itemsBeforeInsert:function(t){e.$emit("virtual:itemsbeforeinsert",this,t)},itemsAfterInsert:function(t){e.$emit("virtual:itemsafterinsert",this,t)}}},i)))}}}},ut={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"login-screen-title",class:this.classes},[this._t("default")],2)},staticRenderFns:[],name:"f7-login-screen-title",props:m.colorProps,computed:{classes:function(){return m.colorClasses(this)}}},ct={name:"f7-login-screen",render:function(t){return t("div",{staticClass:"login-screen",class:this.classes,on:{"loginscreen:open":this.onOpen,"loginscreen:opened":this.onOpened,"loginscreen:close":this.onClose,"loginscreen:closed":this.onClosed}},this.$slots.default)},watch:{opened:function(t){this.f7LoginScreen&&(t?this.f7LoginScreen.open():this.f7LoginScreen.close())}},props:d.extend({opened:Boolean},m.colorProps),computed:{classes:function(){return m.colorClasses(this)}},beforeDestroy:function(){this.f7LoginScreen&&this.f7LoginScreen.destroy()},methods:{onOpen:function(t){this.$emit("loginscreen:open",t)},onOpened:function(t){this.$emit("loginscreen:opened",t)},onClose:function(t){this.$emit("loginscreen:close",t)},onClosed:function(t){this.$emit("loginscreen:closed",t)},open:function(t){if(this.$f7)return this.$f7.loginScreen.open(this.$el,t)},close:function(t){if(this.$f7)return this.$f7.loginScreen.close(this.$el,t)},onF7Ready:function(){this.f7LoginScreen=this.$f7.loginScreen.create({el:this.$el}),this.opened&&this.f7LoginScreen.open(!1)}}},lt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"message",class:t.classes,on:{click:t.onClick}},[t._t("start"),t._v(" "),t.avatar||t.$slots.avatar?n("div",{staticClass:"message-avatar",style:{"background-image":t.avatar&&"url("+t.avatar+")"},on:{click:t.onAvatarClick}}):t._e(),t._v(" "),n("div",{staticClass:"message-content"},[t._t("content-start"),t._v(" "),t.name||t.$slots.name?n("div",{staticClass:"message-name",on:{click:t.onNameClick}},[t._t("name",[t._v(t._s(t.name))])],2):t._e(),t._v(" "),t.header||t.$slots.header?n("div",{staticClass:"message-header",on:{click:t.onHeaderClick}},[t._t("header",[t._v(t._s(t.header))])],2):t._e(),t._v(" "),n("div",{staticClass:"message-bubble",on:{click:t.onBubbleClick}},[t._t("bubble-start"),t._v(" "),t.image||t.$slots.image?n("div",{staticClass:"message-image"},[t._t("image",[n("img",{attrs:{src:t.image}})])],2):t._e(),t._v(" "),t.textHeader||t.$slots["text-header"]?n("div",{staticClass:"message-text-header"},[t._t("text-header",[t._v(t._s(t.textHeader))])],2):t._e(),t._v(" "),t.text||t.$slots.text||t.typing?n("div",{staticClass:"message-text",on:{click:t.onTextClick}},[t._t("text",[t._v(t._s(t.text))]),t._v(" "),t.typing?n("div",{staticClass:"message-typing-indicator"},[n("div"),t._v(" "),n("div"),t._v(" "),n("div")]):t._e()],2):t._e(),t._v(" "),t.textFooter||t.$slots["text-footer"]?n("div",{staticClass:"message-text-footer"},[t._t("text-footer",[t._v(t._s(t.textFooter))])],2):t._e(),t._v(" "),t._t("bubble-end"),t._v(" "),t._t("default")],2),t._v(" "),t.footer||t.$slots.footer?n("div",{staticClass:"message-footer",on:{click:t.onFooterClick}},[t._t("footer",[t._v(t._s(t.footer))])],2):t._e(),t._v(" "),t._t("content-end")],2),t._v(" "),t._t("end")],2)},staticRenderFns:[],name:"f7-message",props:d.extend({text:String,name:String,avatar:String,type:{type:String,default:"sent"},image:String,header:String,footer:String,textHeader:String,textFooter:String,first:Boolean,last:Boolean,tail:Boolean,sameName:Boolean,sameHeader:Boolean,sameFooter:Boolean,sameAvatar:Boolean,typing:Boolean},m.colorProps),computed:{classes:function(){return d.extend({"message-sent":"sent"===this.type,"message-received":"received"===this.type,"message-typing":this.typing,"message-first":this.first,"message-last":this.last,"message-tail":this.tail,"message-same-name":this.sameName,"message-same-header":this.sameHeader,"message-same-footer":this.sameFooter,"message-same-avatar":this.sameAvatar},m.colorClasses(this))}},methods:{onClick:function(t){this.$emit("click",t)},onNameClick:function(t){this.$emit("click:name",t)},onTextClick:function(t){this.$emit("click:text",t)},onAvatarClick:function(t){this.$emit("click:avatar",t)},onHeaderClick:function(t){this.$emit("click:header",t)},onFooterClick:function(t){this.$emit("click:footer",t)},onBubbleClick:function(t){this.$emit("click:bubble",t)}}},ht={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"messagebar-attachment",class:t.classes,on:{click:t.onClick}},[t.image?n("img",{attrs:{src:t.image}}):t._e(),t._v(" "),t.deletable?n("span",{staticClass:"messagebar-attachment-delete",on:{click:t.onDeleteClick}}):t._e(),t._v(" "),t._t("default")],2)},staticRenderFns:[],props:d.extend({image:String,deletable:{type:Boolean,default:!0}},m.colorProps),name:"f7-messagebar-attachment",computed:{classes:function(){return m.colorClasses(this)}},methods:{onClick:function(t){this.$emit("attachment:click",t)},onDeleteClick:function(t){this.$emit("attachment:delete",t)}}},ft={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"messagebar-attachments",class:this.classes},[this._t("default")],2)},staticRenderFns:[],props:m.colorProps,name:"f7-messagebar-attachments",computed:{classes:function(){return m.colorClasses(this)}}},dt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"messagebar-sheet-image checkbox",class:t.classes,style:{"background-image":t.image&&"url("+t.image+")"}},[n("input",{attrs:{type:"checkbox"},domProps:{checked:t.checked},on:{change:t.onChange}}),t._v(" "),n("i",{staticClass:"icon icon-checkbox"}),t._v(" "),t._t("default")],2)},staticRenderFns:[],props:d.extend({image:String,checked:Boolean},m.colorProps),name:"f7-messagebar-sheet-image",computed:{classes:function(){return m.colorClasses(this)}},methods:{onChange:function(t){this.checked?this.$emit("checked",t):this.$emit("unchecked",t),this.$emit("change",t)}}},pt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"messagebar-sheet-item",class:this.classes},[this._t("default")],2)},staticRenderFns:[],props:m.colorProps,name:"f7-messagebar-sheet-item",computed:{classes:function(){return m.colorClasses(this)}}},vt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"messagebar-sheet",class:this.classes},[this._t("default")],2)},staticRenderFns:[],props:m.colorProps,name:"f7-messagebar-sheet",computed:{classes:function(){return m.colorClasses(this)}}},gt=d.extend({sheetVisible:Boolean,attachmentsVisible:Boolean,top:Boolean,resizable:{type:Boolean,default:!0},bottomOffset:{type:Number,default:0},topOffset:{type:Number,default:0},maxHeight:Number,sendLink:String,value:[String,Number,Array],disabled:Boolean,readonly:Boolean,name:String,placeholder:{type:String,default:"Message"},init:{type:Boolean,default:!0}},m.colorProps),mt={name:"f7-messagebar",components:{f7Input:K,f7Link:X},render:function(t){var e=[],n=[],r=[],i=[],o=[],a=[],s=void 0;(this.sendLink&&this.sendLink.length>0||this.$slots["send-link"])&&(s=t("f7-link",{on:{click:this.onClick}},[this.sendLink?this.sendLink:this.$slots["send-link"]]),i.push(s)),this.$slots["before-inner"]&&this.$slots["before-inner"].forEach(function(t){e.push(t)}),this.$slots["after-inner"]&&this.$slots["after-inner"].forEach(function(t){n.push(t)}),this.$slots["inner-start"]&&this.$slots["inner-start"].forEach(function(t){r.push(t)}),this.$slots["inner-end"]&&this.$slots["inner-end"].forEach(function(t){i.push(t)}),this.$slots["before-area"]&&this.$slots["before-area"].forEach(function(t){o.push(t)}),this.$slots["after-area"]&&this.$slots["after-area"].forEach(function(t){a.push(t)}),this.$slots.default&&this.$slots.default.forEach(function(t){var e=t.tag;e&&e.indexOf("messagebar-attachments")>=0?o.push(t):e&&e.indexOf("messagebar-sheet")>=0?n.push(t):i.push(t)});var u=t("f7-input",{props:{type:"textarea",wrap:!1,placeholder:this.placeholder,disabled:this.disabled,name:this.name,readonly:this.readonly,resizable:this.resizable,value:this.value},ref:"area",on:{input:this.onInput,change:this.onChange,focus:this.onFocus,blur:this.onBlur}}),c=t("div",{staticClass:"messagebar-area"},[o,u,a]),l=t("div",{staticClass:"toolbar-inner"},[r,c,i]);return t("div",{staticClass:"toolbar messagebar",class:this.classes,on:{"messagebar:attachmentdelete":this.onDeleteAttachment,"messagebar:attachmentclick":this.onClickAttachment,"messagebar:resizepage":this.onResizePage}},[e,l,n])},props:gt,computed:{classes:function(){return d.extend({"messagebar-attachments-visible":this.attachmentsVisible,"messagebar-sheet-visible":this.sheetVisible},m.colorClasses)}},watch:{sheetVisible:function(){var t=this;t.resizable&&t.$nextTick(function(){t.f7Messagebar&&(t.f7Messagebar.sheetVisible=t.sheetVisible,t.f7Messagebar.resizePage())})},attachmentsVisible:function(){var t=this;t.resizable&&t.$nextTick(function(){t.f7Messagebar&&(t.f7Messagebar.attachmentsVisible=t.attachmentsVisible,t.f7Messagebar.resizePage())})}},beforeDestroy:function(){this.f7Messagebar&&this.f7Messagebar.destroy&&this.f7Messagebar.destroy()},methods:{clear:function(){var t;if(this.f7Messagebar)return(t=this.f7Messagebar).clear.apply(t,arguments)},getValue:function(){var t;if(this.f7Messagebar)return(t=this.f7Messagebar).getValue.apply(t,arguments)},setValue:function(){var t;if(this.f7Messagebar)return(t=this.f7Messagebar).setValue.apply(t,arguments)},setPlaceholder:function(){var t;if(this.f7Messagebar)return(t=this.f7Messagebar).setPlaceholder.apply(t,arguments)},resizePage:function(){var t;if(this.f7Messagebar)return(t=this.f7Messagebar).resizePage.apply(t,arguments)},focus:function(){var t;if(this.f7Messagebar)return(t=this.f7Messagebar).focus.apply(t,arguments)},blur:function(){var t;if(this.f7Messagebar)return(t=this.f7Messagebar).blur.apply(t,arguments)},attachmentsShow:function(){var t;if(this.f7Messagebar)return(t=this.f7Messagebar).attachmentsShow.apply(t,arguments)},attachmentsHide:function(){var t;if(this.f7Messagebar)return(t=this.f7Messagebar).attachmentsHide.apply(t,arguments)},attachmentsToggle:function(){var t;if(this.f7Messagebar)return(t=this.f7Messagebar).attachmentsToggle.apply(t,arguments)},sheetShow:function(){var t;if(this.f7Messagebar)return(t=this.f7Messagebar).sheetShow.apply(t,arguments)},sheetHide:function(){var t;if(this.f7Messagebar)return(t=this.f7Messagebar).sheetHide.apply(t,arguments)},sheetToggle:function(){var t;if(this.f7Messagebar)return(t=this.f7Messagebar).sheetToggle.apply(t,arguments)},onChange:function(t){this.$emit("change",t)},onInput:function(t){this.$emit("input",t)},onFocus:function(t){this.$emit("focus",t)},onBlur:function(t){this.$emit("blur",t)},onClick:function(t){var e=this.$refs.area.$el.value,n=this.f7Messagebar?this.f7Messagebar.clear:function(){};this.$emit("submit",e,n),this.$emit("send",e,n),this.$emit("click",t)},onDeleteAttachment:function(t){this.$emit("messagebar:attachmentdelete",t)},onClickAttachment:function(t){this.$emit("messagebar:attachmentclick",t)},onResizePage:function(t){this.$emit("messagebar:resizepage",t)},onF7Ready:function(){this.init&&(this.f7Messagebar=this.$f7.messagebar.create({el:this.$el,top:this.top,resizePage:this.resizable,bottomOffset:this.bottomOffset,topOffset:this.topOffset,maxHeight:this.maxHeight}))}}},yt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"messages-title",class:this.classes},[this._t("default")],2)},staticRenderFns:[],props:m.colorProps,name:"f7-messages-title",computed:{classes:function(){return m.colorClasses(this)}}},bt={name:"f7-messages",render:function(t){return t("div",{staticClass:"messages",class:m.colorClasses(this)},this.$slots.default)},props:d.extend({autoLayout:{type:Boolean,default:!1},messages:{type:Array,default:function(){return[]}},newMessagesFirst:{type:Boolean,default:!1},scrollMessages:{type:Boolean,default:!0},scrollMessagesOnEdge:{type:Boolean,default:!0},firstMessageRule:Function,lastMessageRule:Function,tailMessageRule:Function,sameNameMessageRule:Function,sameHeaderMessageRule:Function,sameFooterMessageRule:Function,sameAvatarMessageRule:Function,customClassMessageRule:Function,renderMessage:Function,init:{type:Boolean,default:!0}},m.colorProps),beforeDestroy:function(){this.f7Messages&&this.f7Messages.destroy&&this.f7Messages.destroy()},beforeUpdate:function(){var t=this;t.init&&t.$children.forEach(function(e){t.$$(e.$el).addClass("message-appeared")})},updated:function(){var t=this;t.init&&(t.$children.forEach(function(e){var n=t.$$(e.$el);n.hasClass("message-appeared")||n.addClass("message-appear-from-bottom")}),t.f7Messages&&t.f7Messages.layout&&t.autoLayout&&t.f7Messages.layout(),t.f7Messages&&t.f7Messages.scroll&&t.scrollMessages&&t.f7Messages.scroll())},methods:{renderMessages:function(t,e){if(this.f7Messages)return this.renderMessages(t,e)},layout:function(){if(this.f7Messages)return this.layout()},scroll:function(t,e){if(this.f7Messages)return this.scroll(t,e)},clear:function(){if(this.f7Messages)return this.clear()},removeMessage:function(t,e){if(this.f7Messages)return this.removeMessage(t,e)},removeMessages:function(t,e){if(this.f7Messages)return this.removeMessages(t,e)},addMessage:function(){if(this.f7Messages)return this.addMessage.apply(this,arguments)},addMessages:function(){if(this.f7Messages)return this.addMessages.apply(this,arguments)},showTyping:function(t){if(this.f7Messages)return this.showTyping(t)},hideTyping:function(){if(this.f7Messages)return this.hideTyping()},destroy:function(){if(this.f7Messages)return this.destroy()},onF7Ready:function(t){this.init&&(this.f7Messages=t.messages.create({el:this.$el,autoLayout:this.autoLayout,messages:this.messages,newMessagesFirst:this.newMessagesFirst,scrollMessages:this.scrollMessages,scrollMessagesOnEdge:this.scrollMessagesOnEdge,firstMessageRule:this.firstMessageRule,lastMessageRule:this.lastMessageRule,tailMessageRule:this.tailMessageRule,sameNameMessageRule:this.sameNameMessageRule,sameHeaderMessageRule:this.sameHeaderMessageRule,sameFooterMessageRule:this.sameFooterMessageRule,sameAvatarMessageRule:this.sameAvatarMessageRule,customClassMessageRule:this.customClassMessageRule,renderMessage:this.renderMessage}))}}},_t=d.extend({backLink:[Boolean,String],backLinkUrl:String,backLinkForce:Boolean,sliding:Boolean},m.colorProps),wt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left",class:t.classes},[t.backLink?n("f7-link",{class:{"icon-only":!0===t.backLink||t.backLink&&t.$theme.md},attrs:{href:t.backLinkUrl||"#",back:"",icon:"icon-back",text:!0===t.backLink||t.$theme.md?void 0:t.backLink,force:t.backLinkForce||void 0},on:{click:t.onBackClick}}):t._e(),t._v(" "),t._t("default")],2)},staticRenderFns:[],name:"f7-nav-left",components:{f7Link:X},props:_t,computed:{classes:function(){return d.extend({sliding:this.slidng},m.colorClasses(this))}},methods:{onBackClick:function(t){this.$emit("back-click",t),this.$emit("click:back",t)}}},xt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"right",class:this.classes},[this._t("default")],2)},staticRenderFns:[],name:"f7-nav-right",props:d.extend({sliding:Boolean},m.colorProps),computed:{classes:function(){return d.extend({sliding:this.slidng},m.colorClasses(this))}}},Et={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title",class:t.classes},[t._t("default",[t._v(t._s(t.title)),t.subtitle?n("span",{staticClass:"subtitle"},[t._v(t._s(t.subtitle))]):t._e()])],2)},staticRenderFns:[],name:"f7-nav-title",props:d.extend({title:String,subtitle:String,sliding:Boolean},m.colorProps),computed:{classes:function(){return d.extend({sliding:this.slidng},m.colorClasses(this))}}},Ct=d.extend({backLink:[Boolean,String],backLinkUrl:String,backLinkForce:Boolean,sliding:{type:Boolean,default:!0},title:String,subtitle:String,hidden:Boolean,noShadow:Boolean,noHairline:Boolean,inner:{type:Boolean,default:!0}},m.colorProps),kt={name:"f7-navbar",components:{f7NavLeft:wt,f7NavTitle:Et},render:function(t){var e=void 0,n=void 0,r=void 0;return this.inner&&(this.backLink&&(n=t("f7-nav-left",{props:{backLink:this.backLink,backLinkUrl:this.backLinkUrl,backLinkForce:this.backLinkForce},on:{"back-click":this.onBackClick}})),(this.title||this.subtitle)&&(r=t("f7-nav-title",{props:{title:this.title,subtitle:this.subtitle}})),e=t("div",{ref:"inner",staticClass:"navbar-inner",class:{sliding:this.sliding}},[n,r,this.$slots.default])),t("div",{staticClass:"navbar",class:this.classes},[this.$slots["before-inner"],e,this.$slots["after-inner"]])},updated:function(){var t=this;t.$f7&&t.$nextTick(function(){t.$el&&t.$el.children&&t.$el.children.length?t.$f7.navbar.size(t.$el):t.$refs.inner&&t.$f7.navbar.size(t.$refs.inner)})},props:Ct,computed:{classes:function(){return d.extend({"navbar-hidden":this.hidden,"no-shadow":this.noShadow,"no-hairline":this.noHairline},m.colorClasses(this))}},methods:{hide:function(t){this.$f7&&this.$f7.navbar.hide(this.$el,t)},show:function(t){this.$f7&&this.$f7.navbar.show(this.$el,t)},size:function(){this.$f7&&this.$f7.navbar.size(this.$el)},onBackClick:function(t){this.$emit("back-click",t),this.$emit("click:back",t)}}},Tt={name:"f7-page-content",render:function(t){var e=void 0,n=void 0;return this.ptr&&this.ptrPreloader&&(e=t("div",{staticClass:"ptr-preloader"},[t("div",{staticClass:"preloader"}),t("div",{staticClass:"ptr-arrow"})])),this.infinite&&this.infinitePreloader&&(n=t("div",{staticClass:"preloader infinite-scroll-preloader"})),t("div",{staticClass:"page-content",class:this.classes,attrs:{"data-ptr-distance":this.ptrDistance,"data-infinite-distance":this.infiniteDistance},on:{"ptr:pullstart":this.onPtrPullStart,"ptr:pullmove":this.onPtrPullMove,"ptr:pullend":this.onPtrPullEnd,"ptr:refresh":this.onPtrRefresh,"ptr:done":this.onPtrRefreshDone,infinite:this.onInfinite,"tab:show":this.onTabShow,"tab:hide":this.onTabHide}},this.infiniteTop?[e,n,this.$slots.default]:[e,this.$slots.default,n])},props:d.extend({tab:Boolean,tabActive:Boolean,ptr:Boolean,ptrDistance:Number,ptrPreloader:{type:Boolean,default:!0},infinite:Boolean,infiniteTop:Boolean,infiniteDistance:Number,infinitePreloader:{type:Boolean,default:!0},hideBarsOnScroll:Boolean,hideNavbarOnScroll:Boolean,hideToolbarOnScroll:Boolean,messagesContent:Boolean,loginScreen:Boolean},m.colorProps),computed:{classes:function(){return d.extend({tab:this.tab,"tab-active":this.tabActive,"ptr-content":this.ptr,"infinite-scroll-content":this.infinite,"infinite-scroll-top":this.infiniteTop,"hide-bars-on-scroll":this.hideBarsOnScroll,"hide-navbar-on-scroll":this.hideNavbarOnScroll,"hide-toolbar-on-scroll":this.hideToolbarOnScroll,"messages-content":this.messagesContent,"login-screen-content":this.loginScreen},m.colorClasses(this))}},methods:{onPtrPullStart:function(t){this.$emit("ptr:pullstart",t)},onPtrPullMove:function(t){this.$emit("ptr:pullmove",t)},onPtrPullEnd:function(t){this.$emit("ptr:pullend",t)},onPtrRefresh:function(t){this.$emit("ptr:refresh",t,t.detail)},onPtrRefreshDone:function(t){this.$emit("ptr:done",t)},onInfinite:function(t){this.$emit("infinite",t)},onTabShow:function(t){this.$emit("tab:show",t)},onTabHide:function(t){this.$emit("tab:hide",t)}}},St=d.extend({name:String,stacked:Boolean,withSubnavbar:Boolean,subnavbar:Boolean,noNavbar:Boolean,noToolbar:Boolean,tabs:Boolean,pageContent:{type:Boolean,default:!0},noSwipeback:Boolean,ptr:Boolean,ptrDistance:Number,ptrPreloader:{type:Boolean,default:!0},infinite:Boolean,infiniteTop:Boolean,infiniteDistance:Number,infinitePreloader:{type:Boolean,default:!0},hideBarsOnScroll:Boolean,hideNavbarOnScroll:Boolean,hideToolbarOnScroll:Boolean,messagesContent:Boolean,loginScreen:Boolean},m.colorProps),Ot={name:"f7-page",components:{f7PageContent:Tt},render:function(t){var e=[],n=[],r=void 0,i="navbar toolbar tabbar subnavbar searchbar messagebar fab list-index".split(" "),o=void 0,a=void 0,s=void 0,u=void 0,c=this.$options.propsData.withMessages;if(this.$slots.default)for(var l=0;l<this.$slots.default.length;l+=1)if(o=(a=this.$slots.default[l]).tag){var h=!1;o.indexOf("subnavbar")>=0&&(s=!0),o.indexOf("searchbar")>=0&&(u=!0),void 0===c&&o.indexOf("messages")>=0&&(c=!0);for(var f=0;f<i.length;f+=1)o.indexOf(i[f])>=0&&(h=!0);h?e.push(a):n.push(a)}else n.push(a);if(e.length>0&&u&&e.push(t("div",{class:{"searchbar-overlay":!0}})),this.pageContent)r=t("f7-page-content",{props:{ptr:this.ptr,ptrDistance:this.ptrDistance,ptrPreloader:this.ptrPreloader,infinite:this.infinite,infiniteTop:this.infiniteTop,infiniteDistance:this.infiniteDistance,infinitePreloader:this.infinitePreloader,hideBarsOnScroll:this.hideBarsOnScroll,hideNavbarOnScroll:this.hideNavbarOnScroll,hideToolbarOnScroll:this.hideToolbarOnScroll,messagesContent:this.messagesContent||c,loginScreen:this.loginScreen},on:{"ptr:pullstart":this.onPtrPullStart,"ptr:pullmove":this.onPtrPullMove,"ptr:pullend":this.onPtrPullEnd,"ptr:refresh":this.onPtrRefresh,"ptr:done":this.onPtrRefreshDone,infinite:this.onInfinite}},[this.$slots.static,n]);else if(r=[],this.$slots.default&&e.length>0)for(var d=0;d<this.$slots.default.length;d+=1)e.indexOf(this.$slots.default[d])<0&&r.push(this.$slots.default[d]);else r=[this.$slots.default];return e.push(this.$slots.fixed),s&&(this.classes["page-with-subnavbar"]=!0),t("div",{staticClass:"page",class:this.classes,attrs:{"data-name":this.name},on:{"page:mounted":this.onPageMounted,"page:init":this.onPageInit,"page:reinit":this.onPageReinit,"page:beforein":this.onPageBeforeIn,"page:afterin":this.onPageAfterIn,"page:beforeout":this.onPageBeforeOut,"page:afterout":this.onPageAfterOut,"page:beforeremove":this.onPageBeforeRemove}},[e,r])},props:St,computed:{classes:function(){return d.extend({stacked:this.stacked,tabs:this.tabs,"page-with-subnavbar":this.subnavbar||this.withSubnavbar,"no-navbar":this.noNavbar,"no-toolbar":this.noToolbar,"no-swipeback":this.noSwipeback},m.colorClasses(this))}},methods:{onPtrPullStart:function(t){this.$emit("ptr:pullstart",t)},onPtrPullMove:function(t){this.$emit("ptr:pullmove",t)},onPtrPullEnd:function(t){this.$emit("ptr:pullend",t)},onPtrRefresh:function(t){this.$emit("ptr:refresh",t,t.detail)},onPtrRefreshDone:function(t){this.$emit("ptr:done",t)},onInfinite:function(t){this.$emit("infinite",t)},onPageMounted:function(t){this.$emit("page:mounted",t,t.detail)},onPageInit:function(t){this.$emit("page:init",t,t.detail)},onPageReinit:function(t){this.$emit("page:reinit",t,t.detail)},onPageBeforeIn:function(t){this.$emit("page:beforein",t,t.detail)},onPageBeforeOut:function(t){this.$emit("page:beforeout",t,t.detail)},onPageAfterOut:function(t){this.$emit("page:afterout",t,t.detail)},onPageAfterIn:function(t){this.$emit("page:afterin",t,t.detail)},onPageBeforeRemove:function(t){this.$emit("page:beforeremove",t,t.detail)}}},Mt={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"panel",class:t.classes,on:{"panel:open":t.onOpen,"panel:opened":t.onOpened,"panel:close":t.onClose,"panel:closed":t.onClosed,"panel:backdrop-click":t.onBackdropClick,"panel:swipe":t.onPanelSwipe,"panel:swipeopen":t.onPanelSwipeOpen,"panel:breakpoint":t.onBreakpoint}},[t._t("default")],2)},staticRenderFns:[],props:d.extend({side:String,effect:String,cover:Boolean,reveal:Boolean,left:Boolean,right:Boolean,opened:Boolean},m.colorProps),computed:{classes:function(){var t,e=this.side||(this.left?"left":"right"),n=this.effect||(this.reveal?"reveal":"cover");return d.extend((t={"panel-active":this.opened},i()(t,"panel-"+e,e),i()(t,"panel-"+n,n),t),m.colorClasses(this))}},watch:{opened:function(t){if(this.$f7){var e=this.side||(this.left?"left":"right");this.$f7.panel.open(e)}}},beforeDestroy:function(){this.f7Panel&&this.f7Panel.destroy()},mounted:function(){this.opened&&(this.$el.style.display="block");var t=this.$;if(t){var e=this.side||(this.left?"left":"right"),n=this.effect||(this.reveal?"reveal":"cover");this.opened&&t("html").addClass("with-panel-"+e+"-"+n)}},methods:{onOpen:function(t){this.$emit("panel:open",t)},onOpened:function(t){this.$emit("panel:opened",t)},onClose:function(t){this.$emit("panel:close",t)},onClosed:function(t){this.$emit("panel:closed",t)},onBackdropClick:function(t){this.$emit("panel:backdrop-click",t)},onPanelSwipe:function(t){this.$emit("panel:swipe",t)},onPanelSwipeOpen:function(t){this.$emit("panel:swipeopen",t)},onBreakpoint:function(t){this.$emit("panel:breakpoint",t)},onF7Ready:function(){var t=this.$$;t&&(0===t(".panel-backdrop").length&&t('<div class="panel-backdrop"></div>').insertBefore(this.$el),this.f7Panel=this.$f7.panel.create({el:this.$el}))},open:function(t){if(this.$f7){var e=this.side||(this.left?"left":"right");this.$f7.panel.open(e,t)}},close:function(t){if(this.$f7){var e=this.side||(this.left?"left":"right");this.$f7.panel.close(e,t)}}}},At={name:"f7-photo-browser",render:function(){},beforeDestroy:function(){this.f7PhotoBrowser&&this.f7PhotoBrowser.destroy&&this.f7PhotoBrowser.destroy()},watch:{photos:function(t){var e=this.f7PhotoBrowser;e&&(this.f7PhotoBrowser.photos=t,e.opened&&e.swiper&&e.swiper.update())}},props:{init:{type:Boolean,default:!0},params:Object,photos:Array,exposition:Boolean,expositionHideCaptions:Boolean,type:String,navbar:Boolean,toolbar:Boolean,theme:String,captionsTheme:String,swipeToClose:Boolean,backLinkText:String,navbarOfText:String,iconsColor:String,swiper:Object,url:String,view:[String,Object],routableModals:Boolean,renderNavbar:Function,renderToolbar:Function,renderCaption:Function,renderObject:Function,renderLazyPhoto:Function,renderPhoto:Function,renderPage:Function,renderPopup:Function,renderStandalone:Function},methods:{open:function(t){return this.f7PhotoBrowser.open(t)},close:function(){return this.f7PhotoBrowser.close()},expositionToggle:function(){return this.f7PhotoBrowser.expositionToggle()},expositionEnable:function(){return this.f7PhotoBrowser.expositionEnable()},expositionDisable:function(){return this.f7PhotoBrowser.expositionDisable()},onF7Init:function(t){var e=this;if(e.init){var n=void 0;n=void 0!==e.params?e.params:e.$options.propsData,n=d.extend({},n,{on:{open:function(){e.$emit("photobrowser:open")},close:function(){e.$emit("photobrowser:close")},opened:function(){e.$emit("photobrowser:opened")},closed:function(){e.$emit("photobrowser:closed")},swipeToClose:function(){e.$emit("photobrowser:swipetoclose")}}}),e.f7PhotoBrowser=t.photoBrowser.create(n)}}}},Pt={name:"f7-popover",render:function(t){var e=t("div",{staticClass:"popover-angle"}),n=t("div",{staticClass:"popover-inner"},this.$slots.default);return t("div",{class:this.classes,staticClass:"popover",on:{"popover:open":this.onOpen,"popover:opened":this.onOpened,"popover:close":this.onClose,"popover:closed":this.onClosed}},[e,n])},watch:{opened:function(t){this.f7Popover&&(t?this.f7Popover.open():this.f7Popover.close())}},props:d.extend({opened:Boolean,target:[String,Object]},m.colorProps),computed:{classes:function(){return m.colorClasses(this)}},beforeDestroy:function(){this.f7Popover&&this.f7Popover.destroy()},methods:{onOpen:function(t){this.$emit("popover:open",t)},onOpened:function(t){this.$emit("popover:opened",t)},onClose:function(t){this.$emit("popover:close",t)},onClosed:function(t){this.$emit("popover:closed",t)},open:function(t,e){if(this.$f7)return this.$f7.popover.open(this.$el,t,e)},close:function(t){if(this.$f7)return this.$f7.sheet.close(this.$el,t)},onF7Ready:function(){var t={el:this.$el};this.target&&(t.targetEl=this.target),this.f7Popover=this.$f7.popover.create(t),this.opened&&this.target&&this.f7Popover.open(this.target,!1)}}},It={name:"f7-popup",render:function(t){return t("div",{staticClass:"popup",class:this.classes,on:{"popup:open":this.onOpen,"popup:opened":this.onOpened,"popup:close":this.onClose,"popup:closed":this.onClosed}},this.$slots.default)},watch:{opened:function(t){this.f7Popup&&(t?this.f7Popup.open():this.f7Popup.close())}},props:d.extend({"tablet-fullscreen":Boolean,opened:Boolean},m.colorProps),computed:{classes:function(){return d.extend({"popup-tablet-fullscreen":this.tabletFullscreen},m.colorClasses(this))}},beforeDestroy:function(){this.f7Popup&&this.f7Popup.destroy()},methods:{onOpen:function(t){this.$emit("popup:open",t)},onOpened:function(t){this.$emit("popup:opened",t)},onClose:function(t){this.$emit("popup:close",t)},onClosed:function(t){this.$emit("popup:closed",t)},open:function(t){if(this.$f7)return this.$f7.popup.open(this.$el,t)},close:function(t){if(this.$f7)return this.$f7.popup.close(this.$el,t)},onF7Ready:function(){this.f7Popup=this.$f7.popup.create({el:this.$el}),this.opened&&this.f7Popup.open(!1)}}},Nt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"preloader",class:t.classes,style:{width:t.sizeComputed?t.sizeComputed+"px":"",height:t.sizeComputed?t.sizeComputed+"px":""}},[t.$theme.md?n("span",{staticClass:"preloader-inner"},[n("span",{staticClass:"preloader-inner-gap"}),t._v(" "),t._m(0),t._v(" "),t._m(1)]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"preloader-inner-left"},[e("span",{staticClass:"preloader-inner-half-circle"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"preloader-inner-right"},[e("span",{staticClass:"preloader-inner-half-circle"})])}],name:"f7-preloader",props:d.extend({size:[Number,String]},m.colorProps),computed:{classes:function(){return m.colorClasses(this)},sizeComputed:function(){var t=this.size;return t&&"string"==typeof t&&t.indexOf("px")>=0&&(t=t.replace("px","")),t}}},Dt={name:"f7-progressbar",render:function(t){var e=this.progress;return t("span",{staticClass:"progressbar",class:this.classes,attrs:{"data-progress":e}},[t("span",{style:{transform:e?"translate3d("+(-100+e)+"%, 0, 0)":"","-webkit-transform":e?"translate3d("+(-100+e)+"%, 0, 0)":""}})])},props:d.extend({progress:Number,infinite:Boolean},m.colorProps),computed:{classes:function(){return d.extend({"progressbar-infinite":this.infinite},m.colorClasses(this))}},methods:{set:function(t,e){this.$f7&&this.$f7.progressbar.set(this.$el,t,e)}}},Rt={name:"f7-radio",props:d.extend({checked:Boolean,name:[Number,String],value:[Number,String,Boolean],disabled:Boolean,readonly:Boolean},m.colorProps),render:function(t){var e=t("input",{attrs:{type:"radio",name:this.name},domProps:{value:this.value,disabled:this.disabled,readonly:this.readonly,checked:this.checked},on:{change:this.onChange}}),n=t("i",{staticClass:"icon-radio"});return t("label",{staticClass:"radio",class:d.extend({disabled:this.disabled},m.colorClasses(this))},[e,n,this.$slots.default])},methods:{onChange:function(t){this.$emit("change",t)}}},jt={name:"f7-routable-modals",data:function(){return{modals:[]}},render:function(t){var e=this.modals.map(function(e){return t(e.component,{tag:"component",props:e.params&&e.params||{},key:e.id})});return t("div",{staticClass:"framework7-modals",ref:"routableModals"},e)}},Lt={name:"f7-row",props:d.extend({noGap:Boolean,tag:{type:String,default:"div"}},m.colorProps),render:function(t){return t(this.tag,{staticClass:"row",class:this.classes},[this.$slots.default])},computed:{classes:function(){return d.extend({"no-gap":this.noGap},m.colorClasses(this))}}},Ft={name:"f7-searchbar",render:function(t){var e=void 0,n=void 0,r=t("input",{attrs:{placeholder:this.placeholder,type:"search"},on:{input:this.onInput,change:this.onChange,focus:this.onFocus,blur:this.onBlur}});this.clearButton&&(e=t("span",{staticClass:"input-clear-button",on:{click:this.onClearButtonClick}})),this.disableButton&&(n=t("span",{staticClass:"searchbar-disable-button",on:{click:this.onDisableButtonClick}},[this.disableButtonText]));var i=t("i",{staticClass:"searchbar-icon"}),o=t("div",{staticClass:"searchbar-input-wrap"},[this.$slots["input-wrap-start"],r,i,e,this.$slots["input-wrap-end"]]),a=t("div",{staticClass:"searchbar-inner"},[this.$slots["inner-start"],o,n,this.$slots["inner-end"],this.$slots.default]);return t(this.form?"form":"div",{staticClass:"searchbar",class:d.extend({"no-shadow":this.noShadow,"no-hairline":this.noHairline,"searchbar-expandable":this.expandable},m.colorClasses(this)),on:{submit:this.onSubmit}},[this.$slots["before-inner"],a,this.$slots["after-inner"]])},beforeDestroy:function(){this.f7Searchbar&&this.f7Searchbar.destroy&&this.f7Searchbar.destroy()},props:d.extend({noShadow:Boolean,noHairline:Boolean,form:{type:Boolean,default:!0},placeholder:{type:String,default:"Search"},disableButton:{type:Boolean,default:!0},disableButtonText:{type:String,default:"Cancel"},clearButton:{type:Boolean,default:!0},expandable:Boolean,searchContainer:[String,Object],searchIn:{type:String,default:".item-title"},searchItem:{type:String,default:"li"},foundEl:{type:[String,Object],default:".searchbar-found"},notFoundEl:{type:[String,Object],default:".searchbar-not-found"},backdrop:{type:Boolean,default:!0},backdropEl:[String,Object],hideOnEnableEl:{type:[String,Object],default:".searchbar-hide-on-enable"},hideOnSearchEl:{type:[String,Object],default:".searchbar-hide-on-search"},ignore:{type:String,default:".searchbar-ignore"},customSearch:{type:Boolean,default:!1},removeDiacritics:{type:Boolean,default:!1},hideDividers:{type:Boolean,default:!0},hideGroups:{type:Boolean,default:!0},init:{type:Boolean,default:!0}},m.colorProps),methods:{search:function(t){if(this.f7Searchbar)return this.f7Searchbar.search(t)},enable:function(){if(this.f7Searchbar)return this.f7Searchbar.enable()},disable:function(){if(this.f7Searchbar)return this.f7Searchbar.disable()},toggle:function(){if(this.f7Searchbar)return this.toggle.disable()},clear:function(){if(this.f7Searchbar)return this.f7Searchbar.clear()},onChange:function(t){this.$emit("change",t)},onInput:function(t){this.$emit("input",t)},onFocus:function(t){this.$emit("focus",t)},onBlur:function(t){this.$emit("blur",t)},onSubmit:function(t){this.$emit("submit",t)},onClearButtonClick:function(t){this.$emit("click:clear",t)},onDisableButtonClick:function(t){this.$emit("click:disable",t)},onF7Ready:function(){var t=this;if(t.init){var e={el:t.$el,searchContainer:t.searchContainer,searchIn:t.searchIn,searchItem:t.searchItem,hideOnEnableEl:t.hideOnEnableEl,hideOnSearchEl:t.hideOnSearchEl,foundEl:t.foundEl,notFoundEl:t.notFoundEl,backdrop:t.backdrop,backdropEl:t.backdropEl,disableButton:t.disableButton,ignore:t.ignore,customSearch:t.customSearch,removeDiacritics:t.removeDiacritics,hideDividers:t.hideDividers,hideGroups:t.hideGroups,on:{search:function(e,n,r){t.$emit("searchbar:search",e,n,r)},clear:function(e,n){t.$emit("searchbar:clear",e,n)},enable:function(e){t.$emit("searchbar:enable",e)},disable:function(e){t.$emit("searchbar:disable",e)}}};u()(e).forEach(function(t){void 0!==e[t]&&""!==e[t]||delete e[t]}),t.f7Searchbar=t.$f7.searchbar.create(e)}}}},Bt={name:"f7-segmented",props:d.extend({raised:Boolean,round:Boolean,tag:{type:String,default:"div"}},m.colorProps),render:function(t){return t(this.tag,{staticClass:"segmented",class:d.extend({"segmented-raised":this.raised,"segmented-round":this.round},m.colorClasses(this))},[this.$slots.default])}},$t={name:"f7-sheet",render:function(t){var e=[],n=[],r="navbar toolbar tabbar subnavbar searchbar messagebar fab".split(" "),i=void 0,o=void 0;if(this.$slots.default)for(var a=0;a<this.$slots.default.length;a+=1)if(i=(o=this.$slots.default[a]).tag){for(var s=!1,u=0;u<r.length;u+=1)i.indexOf(r[u])>=0&&(s=!0);s?e.push(o):n.push(o)}else n.push(o);var c=t("div",{staticClass:"sheet-modal-inner"},n);return t("div",{class:this.classes,staticClass:"sheet-modal",on:{"sheet:open":this.onOpen,"sheet:opened":this.onOpened,"sheet:close":this.onClose,"sheet:closed":this.onClosed}},[e,c])},watch:{opened:function(t){this.f7Sheet&&(t?this.f7Sheet.open():this.f7Sheet.close())}},props:d.extend({opened:Boolean,backdrop:Boolean},m.colorProps),computed:{classes:function(){return m.colorClasses(this)}},beforeDestroy:function(){this.f7Sheet&&this.f7Sheet.destroy()},methods:{onOpen:function(t){this.$emit("sheet:open",t)},onOpened:function(t){this.$emit("sheet:opened",t)},onClose:function(t){this.$emit("sheet:close",t)},onClosed:function(t){this.$emit("sheet:closed",t)},open:function(t){if(this.$f7)return this.$f7.sheet.open(this.$el,t)},close:function(t){if(this.$f7)return this.$f7.sheet.close(this.$el,t)},onF7Ready:function(){var t=this.backdrop;if(void 0===this.$options.propsData.backdrop){var e=this.$f7;t=e.params.sheet&&void 0!==e.params.sheet.backdrop?e.params.sheet.backdrop:this.$theme.md}this.f7Sheet=this.$f7.sheet.create({el:this.$el,backdrop:t}),this.opened&&this.f7Sheet.open(!1)}}},Ut={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"statusbar",class:this.classes})},staticRenderFns:[],name:"f7-statusbar",props:m.colorProps,computed:{classes:function(){return m.colorClasses(this)}}},zt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stepper",class:t.classes},[n("div",{staticClass:"stepper-button-minus",on:{click:t.onMinusClick}}),t._v(" "),t.input&&!t.buttonsOnly?n("div",{staticClass:"stepper-input-wrap"},[n("input",{attrs:{type:t.inputType,min:"number"===t.inputType?t.min:void 0,max:"number"===t.inputType?t.max:void 0,step:"number"===t.inputType?t.step:void 0,readonly:t.inputReadonly},domProps:{value:t.value},on:{input:t.onInput}})]):t._e(),t._v(" "),t.input||t.buttonsOnly?t._e():n("div",{staticClass:"stepper-value"},[t._v(t._s(t.value))]),t._v(" "),n("div",{staticClass:"stepper-button-plus",on:{click:t.onPlusClick}})])},staticRenderFns:[],props:d.extend({init:{type:Boolean,default:!0},value:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},formatValue:Function,input:{type:Boolean,default:!0},inputType:{type:String,default:"text"},inputReadonly:{type:Boolean,default:!0},autorepeat:{type:Boolean,default:!1},autorepeatDynamic:{type:Boolean,default:!1},wraps:{type:Boolean,default:!1},disabled:Boolean,buttonsOnly:Boolean,round:Boolean,roundMd:Boolean,roundIos:Boolean,fill:Boolean,fillMd:Boolean,fillIos:Boolean,big:Boolean,bigMd:Boolean,bigIos:Boolean,small:Boolean,smallMd:Boolean,smallIos:Boolean,raised:Boolean},m.colorProps),computed:{classes:function(){var t=this.round,e=this.roundIos,n=this.roundMd,r=this.fill,i=this.fillIos,o=this.fillMd,a=this.big,s=this.bigIos,u=this.bigMd,c=this.small,l=this.smallIos,h=this.smallMd,f=this.raised;return d.extend({disabled:this.disabled,"stepper-round":t,"stepper-round-ios":e,"stepper-round-md":n,"stepper-fill":r,"stepper-fill-ios":i,"stepper-fill-md":o,"stepper-big":a,"stepper-big-ios":s,"stepper-big-md":u,"stepper-small":c,"stepper-small-ios":l,"stepper-small-md":h,"stepper-raised":f},m.colorClasses(this))}},beforeDestroy:function(){this.init&&this.f7Stepper&&this.f7Stepper.destroy&&this.f7Stepper.destroy()},methods:{increment:function(){this.f7Stepper&&this.f7Stepper.increment()},decrement:function(){this.f7Stepper&&this.f7Stepper.decrement()},setValue:function(t){this.f7Stepper&&this.f7Stepper.setValue&&this.f7Stepper.setValue(t)},getValue:function(){if(this.f7Stepper&&this.f7Stepper.getValue)return this.f7Stepper.getValue()},onInput:function(t){this.$emit("input",t,this.f7Stepper)},onMinusClick:function(t){this.$emit("stepper:minusclick",t,this.f7Stepper)},onPlusClick:function(t){this.$emit("stepper:plusclick",t,this.f7Stepper)},onF7Ready:function(t){var e=this;if(e.init){var n=e.min,r=e.max,i=e.value,o=e.step,a=e.formatValue,s=e.$el,u=e.autorepeat,c=e.autorepeatDynamic,l=e.wraps;e.f7Stepper=t.stepper.create({el:s,min:n,max:r,value:i,step:o,formatValue:a,autorepeat:u,autorepeatDynamic:c,wraps:l,on:{change:function(t,n){e.$emit("stepper:change",n)}}})}}}},qt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"subnavbar",class:t.classes},[t.inner?n("div",{staticClass:"subnavbar-inner"},[t.title?n("div",{staticClass:"title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),t._t("default")],2):t._t("default")],2)},staticRenderFns:[],name:"f7-subnavbar",props:d.extend({sliding:Boolean,title:String,inner:{type:Boolean,default:!0}},m.colorProps),computed:{classes:function(){return d.extend({sliding:this.sliding},m.colorClasses(this))}}},Vt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.classes},[this._t("default")],2)},staticRenderFns:[],name:"f7-swipeout-actions",props:d.extend({left:Boolean,right:Boolean,side:String},m.colorProps),computed:{classes:function(){return d.extend(i()({},"swipeout-actions-"+this.sideComputed,!0),m.colorClasses(this))},sideComputed:function(){return this.side?this.side:this.left?"left":(this.right,"right")}},data:function(){return{}}},Ht={render:function(){var t=this.$createElement;return(this._self._c||t)("a",{class:this.classes,attrs:{"data-confirm":this.confirmText||void 0},on:{click:this.onClick}},[this._t("default",[this._v(this._s(this.text))])],2)},staticRenderFns:[],name:"f7-swipeout-button",props:d.extend({text:String,confirmText:String,overswipe:Boolean,close:Boolean,delete:Boolean},m.colorProps),computed:{classes:function(){return d.extend({"swipeout-overswipe":this.overswipe,"swipeout-delete":this.delete,"swipeout-close":this.close},m.colorClasses(this))}},methods:{onClick:function(t){this.$emit("click",t)}}},Wt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"swiper-slide"},[this.zoom?e("div",{staticClass:"swiper-zoom-container"},[this._t("default")],2):this._t("default")],2)},staticRenderFns:[],name:"f7-swiper-slide",props:{zoom:Boolean}},Gt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swiper-container",class:t.classes},[t._t("before-wrapper"),t._v(" "),n("div",{staticClass:"swiper-wrapper"},[t._t("default")],2),t._v(" "),!0===t.paginationComputed?n("div",{staticClass:"swiper-pagination"}):t._e(),t._v(" "),!0===t.scrollbarComputed?n("div",{staticClass:"swiper-scrollbar"}):t._e(),t._v(" "),!0===t.navigationComputed?n("div",{staticClass:"swiper-button-next"}):t._e(),t._v(" "),!0===t.navigationComputed?n("div",{staticClass:"swiper-button-prev"}):t._e(),t._v(" "),t._t("after-wrapper")],2)},staticRenderFns:[],name:"f7-swiper",beforeDestroy:function(){this.init&&this.swiper&&this.swiper.destroy&&this.swiper.destroy()},data:function(){return{initialUpdate:!1}},updated:function(){this.initialUpdate?this.swiper&&this.swiper.update&&this.swiper.update():this.initialUpdate=!0},props:d.extend({params:Object,pagination:Boolean,scrollbar:Boolean,navigation:Boolean,init:{type:Boolean,default:!0}},m.colorProps),computed:{classes:function(){return m.colorClasses(this)},paginationComputed:function(){return!!(!0===this.pagination||this.params&&this.params.pagination&&!this.params.pagination.el)},scrollbarComputed:function(){return!!(!0===this.scrollbar||this.params&&this.params.scrollbar&&!this.params.scrollbar.el)},navigationComputed:function(){return!(!0!==this.navigation&&(!this.params||!this.params.navigation||this.params.navigation.nextEl||this.params.navigation.prevEl))}},methods:{onF7Ready:function(t){if(this.init){var e={pagination:{},navigation:{},scrollbar:{}};this.params&&d.extend(e,this.params),this.pagination&&!e.pagination.el&&(e.pagination.el=".swiper-pagination"),!this.navigation||e.navigation.nextEl||e.navigation.prevEl||(e.navigation.nextEl=".swiper-button-next",e.navigation.prevEl=".swiper-button-prev"),this.scrollbar&&!e.scrollbar.el&&(e.scrollbar.el=".swiper-scrollbar"),this.swiper=t.swiper.create(this.$el,e)}}}},Kt={name:"f7-tab",props:d.extend({tabActive:Boolean,id:String},m.colorProps),data:function(){return{tabContent:null}},render:function(t){return t("div",{staticClass:"tab",attrs:{id:this.id},class:d.extend({"tab-active":this.tabActive},m.colorClasses(this)),on:{"tab:show":this.onTabShow,"tab:hide":this.onTabHide}},[this.tabContent?t(this.tabContent.component,{tag:"component",props:this.tabContent.params,key:this.tabContent.id}):this.$slots.default])},methods:{show:function(t){this.$f7&&this.$f7.tab.show(this.$el,t)},onTabShow:function(t){this.$emit("tab:show",t)},onTabHide:function(t){this.$emit("tab:hide",t)}}},Yt={name:"f7-tabs",render:function(t){var e=t("div",{staticClass:"tabs"},[this.$slots.default]);return this.animated||this.swipeable?t("div",{class:this.classes},[e]):e},props:d.extend({animated:Boolean,swipeable:Boolean,routable:Boolean},m.colorProps),computed:{classes:function(){return d.extend({"tabs-animated-wrap":this.animated,"tabs-swipeable-wrap":this.swipeable,"tabs-routable":this.routable},m.colorClasses(this))}}},Qt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toolbar",class:t.classes},[t._t("before-inner"),t._v(" "),t.inner?n("div",{staticClass:"toolbar-inner"},[t._t("default")],2):t._t("default"),t._v(" "),t._t("after-inner")],2)},staticRenderFns:[],name:"f7-toolbar",props:d.extend({bottomMd:Boolean,tabbar:Boolean,labels:Boolean,scrollable:Boolean,hidden:Boolean,noShadow:Boolean,noHairline:Boolean,inner:{type:Boolean,default:!0}},m.colorProps),updated:function(){var t=this;t.tabbar&&t.$f7&&t.$nextTick(function(){t.$f7.toolbar.setHighlight(t.$el)})},computed:{classes:function(){return d.extend({"toolbar-bottom-md":this.bottomMd,tabbar:this.tabbar,"tabbar-labels":this.labels,"tabbar-scrollable":this.scrollable,"toolbar-hidden":this.hidden,"no-shadow":this.noShadow,"no-hairline":this.noHairline},m.colorClasses(this))}},methods:{hide:function(t){this.$f7&&this.$f7.toolbar.hide(this.$el,t)},show:function(t){this.$f7&&this.$f7.toolbar.show(this.$el,t)},onF7Ready:function(t){this.tabbar&&t.toolbar.setHighlight(this.$el)}}},Xt={name:"f7-view",props:d.extend({tab:Boolean,tabActive:Boolean,name:String,router:Boolean,linksView:[Object,String],url:String,main:Boolean,stackPages:Boolean,xhrCache:String,xhrCacheIgnore:Array,xhrCacheIgnoreGetParameters:Boolean,xhrCacheDuration:Number,preloadPreviousPage:Boolean,uniqueHistory:Boolean,uniqueHistoryIgnoreGetParameters:Boolean,allowDuplicateUrls:Boolean,reloadPages:Boolean,removeElements:Boolean,removeElementsWithTimeout:Boolean,removeElementsTimeout:Number,restoreScrollTopOnBack:Boolean,iosSwipeBack:Boolean,iosSwipeBackAnimateShadow:Boolean,iosSwipeBackAnimateOpacity:Boolean,iosSwipeBackActiveArea:Number,iosSwipeBackThreshold:Number,pushState:Boolean,pushStateRoot:String,pushStateAnimate:Boolean,pushStateAnimateOnLoad:Boolean,pushStateSeparator:String,pushStateOnLoad:Boolean,animate:Boolean,iosDynamicNavbar:Boolean,iosSeparateDynamicNavbar:Boolean,iosAnimateNavbarBackIcon:Boolean,materialPageLoadDelay:Number,passRouteQueryToRequest:Boolean,passRouteParamsToRequest:Boolean,routes:Array,routesAdd:Array,init:{type:Boolean,default:!0}},m.colorProps),render:function(t){var e=this.pages.map(function(e){return t(e.component,{tag:"component",props:e.params&&e.params||{},key:e.id})});return t("div",{staticClass:"view",ref:"view",class:this.classes,on:{"swipeback:move":this.onSwipeBackMove,"swipeback:beforechange":this.onSwipeBackBeforeChange,"swipeback:afterchange":this.onSwipeBackAfterChange,"swipeback:beforereset":this.onSwipeBackBeforeReset,"swipeback:afterreset":this.onSwipeBackAfterReset,"tab:show":this.onTabShow,"tab:hide":this.onTabHide}},[this.$slots.default,e])},beforeDestroy:function(){this.f7View&&this.f7View.destroy&&this.f7View.destroy()},data:function(){return{pages:[]}},computed:{classes:function(){return d.extend({"view-main":this.main,"tab-active":this.tabActive,tab:this.tab},m.colorClasses(this))}},methods:{onF7Ready:function(t){this.init&&(this.f7View=t.views.create(this.$el,this.$options.propsData))},onSwipeBackMove:function(t){this.$emit("swipeback:move",t,t.detail)},onSwipeBackBeforeChange:function(t){this.$emit("swipeback:beforechange",t,t.detail)},onSwipeBackAfterChange:function(t){this.$emit("swipeback:afterchange",t,t.detail)},onSwipeBackBeforeReset:function(t){this.$emit("swipeback:beforereset",t,t.detail)},onSwipeBackAfterReset:function(t){this.$emit("swipeback:afterreset",t,t.detail)},onTabShow:function(t){this.$emit("tab:show",t)},onTabHide:function(t){this.$emit("tab:hide",t)}}},Jt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"views",class:this.classes},[this._t("default")],2)},staticRenderFns:[],name:"f7-views",props:d.extend({tabs:Boolean},m.colorProps),computed:{classes:function(){return d.extend({tabs:this.tabs},m.colorClasses(this))}}},Zt={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.Framework7;if(void 0===e)throw new Error("Framework7 is undefined, make sure you have passed it as an argument: Vue.use(Framework7Vue, Framework7)");var n=new t,r=!1,i=void 0;Object.defineProperty(t.prototype,"$f7",{get:function(){return i}});var o={};Object.defineProperty(t.prototype,"$theme",{get:function(){return{ios:i?"ios"===i.theme:o.ios,md:i?"md"===i.theme:o.md}}}),t.prototype.Dom7=e.$,t.prototype.$$=e.$,t.prototype.$device=e.device,t.prototype.$request=e.request,t.prototype.$utils=e.utils,e.Router.use(g).use({on:{routeChange:function(t,e,r){n.$emit("f7RouteChange",t,e,r)},routeChanged:function(t,e,r){n.$emit("f7RouteChanged",t,e,r)}}}),t.mixin({directives:p,components:{f7AccordionContent:y,f7AccordionItem:b,f7AccordionToggle:_,f7Accordion:w,f7ActionsButton:x,f7ActionsGroup:E,f7ActionsLabel:C,f7Actions:k,f7Badge:T,f7BlockFooter:S,f7BlockHeader:O,f7BlockTitle:M,f7Block:A,f7Button:N,f7CardContent:D,f7CardFooter:R,f7CardHeader:j,f7Card:F,f7Checkbox:B,f7Chip:$,f7Col:U,f7FabButton:z,f7FabButtons:q,f7Fab:V,f7Icon:P,f7Input:K,f7Label:Y,f7Link:X,f7ListButton:J,f7ListGroup:Z,f7ListIndex:tt,f7ListItemCell:et,f7ListItemContent:rt,f7ListItemRow:it,f7ListItem:at,f7List:st,f7LoginScreenTitle:ut,f7LoginScreen:ct,f7Message:lt,f7MessagebarAttachment:ht,f7MessagebarAttachments:ft,f7MessagebarSheetImage:dt,f7MessagebarSheetItem:pt,f7MessagebarSheet:vt,f7Messagebar:mt,f7MessagesTitle:yt,f7Messages:bt,f7NavLeft:wt,f7NavRight:xt,f7NavTitle:Et,f7Navbar:kt,f7PageContent:Tt,f7Page:Ot,f7Panel:Mt,f7PhotoBrowser:At,f7Popover:Pt,f7Popup:It,f7Preloader:Nt,f7Progressbar:Dt,f7Radio:Rt,f7Range:W,f7RoutableModals:jt,f7Row:Lt,f7Searchbar:Ft,f7Segmented:Bt,f7Sheet:$t,f7Statusbar:Ut,f7Stepper:zt,f7Subnavbar:qt,f7SwipeoutActions:Vt,f7SwipeoutButton:Ht,f7SwiperSlide:Wt,f7Swiper:Gt,f7Tab:Kt,f7Tabs:Yt,f7Toggle:H,f7Toolbar:Qt,f7View:Xt,f7Views:Jt},beforeCreate:function(){if(this===this.$root){var t=(this.$options.framework7||{}).theme;"md"===t&&(o.md=!0),"ios"===t&&(o.ios=!0),t&&"auto"!==t||(o.ios=!!(e.Device||e.device).ios,o.md=!(e.Device||e.device).ios)}for(var n=void 0,r=void 0,i=this;i&&!r&&!n;)i.$f7route&&(n=i.$f7route),i.$f7router?r=i.$f7router:i.f7View?r=i.f7View.router:i.$el&&i.$el.f7View&&(r=i.$el.f7View.router),i=i.$parent;n&&r&&(this.$f7route=n,this.$f7router=r,this.$f7Route=n,this.$f7Router=r)},beforeDestroy:function(){this.$f7RouteChangeCallback&&n.$off("f7RouteChange",this.$f7RouteChangeCallback),this.$f7RouteChangedCallback&&n.$off("f7RouteChanged",this.$f7RouteChangedCallback)},created:function(){var t=this,e=t.onF7RouteChange||t.F7RouteChange||t.f7RouteChange||t.f7routeChange,r=t.onF7RouteChanged||t.F7RouteChanged||t.f7RouteChanged||t.f7routeChanged;function i(e){return t.$f7router&&e===t.$f7router||!t.$f7router&&t.$f7&&t.$f7.router}function o(){e&&(t.$f7RouteChangeCallback=function(t,n,r){i(r)&&e(t,n,r)},n.$on("f7RouteChange",t.$f7RouteChangeCallback)),r&&(t.$f7RouteChangedCallback=function(t,e,n){i(n)&&r(t,e,n)},n.$on("f7RouteChanged",t.$f7RouteChangedCallback))}(e||r)&&(t.$f7?o():n.$once("f7Ready",o))},mounted:function(){var t,o,a,s;this===this.$root&&(t=this.$root.$el,o=this.$options.framework7,a=this.$options.routes,s=d.extend({},o||{},{root:t}),a&&a.length&&!s.routes&&(s.routes=a),i=new e(s),r=!0,n.$emit("f7Ready",i));var u=this.onF7Ready||this.onF7ready||this.onF7Init||this.onF7init||this.f7Ready||this.f7Init||this.f7ready||this.f7init;u&&(r?u(i):n.$once("f7Ready",function(t){u(t)}))}})}};e.a=Zt},"8soT":function(t,e,n){"use strict";var r=n("mhxW"),i=function(t){return function(){return t}},o=Math.abs,a=Math.atan2,s=Math.cos,u=Math.max,c=Math.min,l=Math.sin,h=Math.sqrt,f=1e-12,d=Math.PI,p=d/2,v=2*d;function g(t){return t>=1?p:t<=-1?-p:Math.asin(t)}function m(t){return t.innerRadius}function y(t){return t.outerRadius}function b(t){return t.startAngle}function _(t){return t.endAngle}function w(t){return t&&t.padAngle}function x(t,e,n,r,i,o,a){var s=t-n,c=e-r,l=(a?o:-o)/h(s*s+c*c),f=l*c,d=-l*s,p=t+f,v=e+d,g=n+f,m=r+d,y=(p+g)/2,b=(v+m)/2,_=g-p,w=m-v,x=_*_+w*w,E=i-o,C=p*m-g*v,k=(w<0?-1:1)*h(u(0,E*E*x-C*C)),T=(C*w-_*k)/x,S=(-C*_-w*k)/x,O=(C*w+_*k)/x,M=(-C*_+w*k)/x,A=T-y,P=S-b,I=O-y,N=M-b;return A*A+P*P>I*I+N*N&&(T=O,S=M),{cx:T,cy:S,x01:-f,y01:-d,x11:T*(i/E-1),y11:S*(i/E-1)}}var E=function(){var t=m,e=y,n=i(0),u=null,E=b,C=_,k=w,T=null;function S(){var i,m,y,b=+t.apply(this,arguments),_=+e.apply(this,arguments),w=E.apply(this,arguments)-p,S=C.apply(this,arguments)-p,O=o(S-w),M=S>w;if(T||(T=i=Object(r.a)()),_<b&&(m=_,_=b,b=m),_>f)if(O>v-f)T.moveTo(_*s(w),_*l(w)),T.arc(0,0,_,w,S,!M),b>f&&(T.moveTo(b*s(S),b*l(S)),T.arc(0,0,b,S,w,M));else{var A,P,I=w,N=S,D=w,R=S,j=O,L=O,F=k.apply(this,arguments)/2,B=F>f&&(u?+u.apply(this,arguments):h(b*b+_*_)),$=c(o(_-b)/2,+n.apply(this,arguments)),U=$,z=$;if(B>f){var q=g(B/b*l(F)),V=g(B/_*l(F));(j-=2*q)>f?(D+=q*=M?1:-1,R-=q):(j=0,D=R=(w+S)/2),(L-=2*V)>f?(I+=V*=M?1:-1,N-=V):(L=0,I=N=(w+S)/2)}var H=_*s(I),W=_*l(I),G=b*s(R),K=b*l(R);if($>f){var Y=_*s(N),Q=_*l(N),X=b*s(D),J=b*l(D);if(O<d){var Z=j>f?function(t,e,n,r,i,o,a,s){var u=n-t,c=r-e,l=a-i,h=s-o,f=(l*(e-o)-h*(t-i))/(h*u-l*c);return[t+f*u,e+f*c]}(H,W,X,J,Y,Q,G,K):[G,K],tt=H-Z[0],et=W-Z[1],nt=Y-Z[0],rt=Q-Z[1],it=1/l(((y=(tt*nt+et*rt)/(h(tt*tt+et*et)*h(nt*nt+rt*rt)))>1?0:y<-1?d:Math.acos(y))/2),ot=h(Z[0]*Z[0]+Z[1]*Z[1]);U=c($,(b-ot)/(it-1)),z=c($,(_-ot)/(it+1))}}L>f?z>f?(A=x(X,J,H,W,_,z,M),P=x(Y,Q,G,K,_,z,M),T.moveTo(A.cx+A.x01,A.cy+A.y01),z<$?T.arc(A.cx,A.cy,z,a(A.y01,A.x01),a(P.y01,P.x01),!M):(T.arc(A.cx,A.cy,z,a(A.y01,A.x01),a(A.y11,A.x11),!M),T.arc(0,0,_,a(A.cy+A.y11,A.cx+A.x11),a(P.cy+P.y11,P.cx+P.x11),!M),T.arc(P.cx,P.cy,z,a(P.y11,P.x11),a(P.y01,P.x01),!M))):(T.moveTo(H,W),T.arc(0,0,_,I,N,!M)):T.moveTo(H,W),b>f&&j>f?U>f?(A=x(G,K,Y,Q,b,-U,M),P=x(H,W,X,J,b,-U,M),T.lineTo(A.cx+A.x01,A.cy+A.y01),U<$?T.arc(A.cx,A.cy,U,a(A.y01,A.x01),a(P.y01,P.x01),!M):(T.arc(A.cx,A.cy,U,a(A.y01,A.x01),a(A.y11,A.x11),!M),T.arc(0,0,b,a(A.cy+A.y11,A.cx+A.x11),a(P.cy+P.y11,P.cx+P.x11),M),T.arc(P.cx,P.cy,U,a(P.y11,P.x11),a(P.y01,P.x01),!M))):T.arc(0,0,b,R,D,M):T.lineTo(G,K)}else T.moveTo(0,0);if(T.closePath(),i)return T=null,i+""||null}return S.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+E.apply(this,arguments)+ +C.apply(this,arguments))/2-d/2;return[s(r)*n,l(r)*n]},S.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),S):t},S.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),S):e},S.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:i(+t),S):n},S.padRadius=function(t){return arguments.length?(u=null==t?null:"function"==typeof t?t:i(+t),S):u},S.startAngle=function(t){return arguments.length?(E="function"==typeof t?t:i(+t),S):E},S.endAngle=function(t){return arguments.length?(C="function"==typeof t?t:i(+t),S):C},S.padAngle=function(t){return arguments.length?(k="function"==typeof t?t:i(+t),S):k},S.context=function(t){return arguments.length?(T=null==t?null:t,S):T},S};function C(t){this._context=t}C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var k=function(t){return new C(t)};function T(t){return t[0]}function S(t){return t[1]}var O=function(){var t=T,e=S,n=i(!0),o=null,a=k,s=null;function u(i){var u,c,l,h=i.length,f=!1;for(null==o&&(s=a(l=Object(r.a)())),u=0;u<=h;++u)!(u<h&&n(c=i[u],u,i))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(c,u,i),+e(c,u,i));if(l)return s=null,l+""||null}return u.x=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),u):t},u.y=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),u):e},u.defined=function(t){return arguments.length?(n="function"==typeof t?t:i(!!t),u):n},u.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),u):a},u.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),u):o},u},M=function(){var t=T,e=null,n=i(0),o=S,a=i(!0),s=null,u=k,c=null;function l(i){var l,h,f,d,p,v=i.length,g=!1,m=new Array(v),y=new Array(v);for(null==s&&(c=u(p=Object(r.a)())),l=0;l<=v;++l){if(!(l<v&&a(d=i[l],l,i))===g)if(g=!g)h=l,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),f=l-1;f>=h;--f)c.point(m[f],y[f]);c.lineEnd(),c.areaEnd()}g&&(m[l]=+t(d,l,i),y[l]=+n(d,l,i),c.point(e?+e(d,l,i):m[l],o?+o(d,l,i):y[l]))}if(p)return c=null,p+""||null}function h(){return O().defined(a).curve(u).context(s)}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:i(+n),e=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),l):t},l.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:i(+t),l):e},l.y=function(t){return arguments.length?(n="function"==typeof t?t:i(+t),o=null,l):n},l.y0=function(t){return arguments.length?(n="function"==typeof t?t:i(+t),l):n},l.y1=function(t){return arguments.length?(o=null==t?null:"function"==typeof t?t:i(+t),l):o},l.lineX0=l.lineY0=function(){return h().x(t).y(n)},l.lineY1=function(){return h().x(t).y(o)},l.lineX1=function(){return h().x(e).y(n)},l.defined=function(t){return arguments.length?(a="function"==typeof t?t:i(!!t),l):a},l.curve=function(t){return arguments.length?(u=t,null!=s&&(c=u(s)),l):u},l.context=function(t){return arguments.length?(null==t?s=c=null:c=u(s=t),l):s},l},A=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},P=function(t){return t},I=function(){var t=P,e=A,n=null,r=i(0),o=i(v),a=i(0);function s(i){var s,u,c,l,h,f=i.length,d=0,p=new Array(f),g=new Array(f),m=+r.apply(this,arguments),y=Math.min(v,Math.max(-v,o.apply(this,arguments)-m)),b=Math.min(Math.abs(y)/f,a.apply(this,arguments)),_=b*(y<0?-1:1);for(s=0;s<f;++s)(h=g[p[s]=s]=+t(i[s],s,i))>0&&(d+=h);for(null!=e?p.sort(function(t,n){return e(g[t],g[n])}):null!=n&&p.sort(function(t,e){return n(i[t],i[e])}),s=0,c=d?(y-f*_)/d:0;s<f;++s,m=l)u=p[s],l=m+((h=g[u])>0?h*c:0)+_,g[u]={data:i[u],index:s,value:h,startAngle:m,endAngle:l,padAngle:b};return g}return s.value=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),s):t},s.sortValues=function(t){return arguments.length?(e=t,n=null,s):e},s.sort=function(t){return arguments.length?(n=t,e=null,s):n},s.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:i(+t),s):r},s.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:i(+t),s):o},s.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:i(+t),s):a},s},N=R(k);function D(t){this._curve=t}function R(t){function e(e){return new D(t(e))}return e._curve=t,e}function j(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(R(t)):e()._curve},t}D.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var L=function(){return j(O().curve(N))},F=function(){var t=M().curve(N),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return j(n())},delete t.lineX0,t.lineEndAngle=function(){return j(r())},delete t.lineX1,t.lineInnerRadius=function(){return j(i())},delete t.lineY0,t.lineOuterRadius=function(){return j(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(R(t)):e()._curve},t},B=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},$=Array.prototype.slice;function U(t){return t.source}function z(t){return t.target}function q(t){var e=U,n=z,o=T,a=S,s=null;function u(){var i,u=$.call(arguments),c=e.apply(this,u),l=n.apply(this,u);if(s||(s=i=Object(r.a)()),t(s,+o.apply(this,(u[0]=c,u)),+a.apply(this,u),+o.apply(this,(u[0]=l,u)),+a.apply(this,u)),i)return s=null,i+""||null}return u.source=function(t){return arguments.length?(e=t,u):e},u.target=function(t){return arguments.length?(n=t,u):n},u.x=function(t){return arguments.length?(o="function"==typeof t?t:i(+t),u):o},u.y=function(t){return arguments.length?(a="function"==typeof t?t:i(+t),u):a},u.context=function(t){return arguments.length?(s=null==t?null:t,u):s},u}function V(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function H(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function W(t,e,n,r,i){var o=B(e,n),a=B(e,n=(n+i)/2),s=B(r,n),u=B(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}function G(){return q(V)}function K(){return q(H)}function Y(){var t=q(W);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var Q={draw:function(t,e){var n=Math.sqrt(e/d);t.moveTo(n,0),t.arc(0,0,n,0,v)}},X={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},J=Math.sqrt(1/3),Z=2*J,tt={draw:function(t,e){var n=Math.sqrt(e/Z),r=n*J;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},et=Math.sin(d/10)/Math.sin(7*d/10),nt=Math.sin(v/10)*et,rt=-Math.cos(v/10)*et,it={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=nt*n,i=rt*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=v*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},ot={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},at=Math.sqrt(3),st={draw:function(t,e){var n=-Math.sqrt(e/(3*at));t.moveTo(0,2*n),t.lineTo(-at*n,-n),t.lineTo(at*n,-n),t.closePath()}},ut=Math.sqrt(3)/2,ct=1/Math.sqrt(12),lt=3*(ct/2+1),ht={draw:function(t,e){var n=Math.sqrt(e/lt),r=n/2,i=n*ct,o=r,a=n*ct+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(-.5*r-ut*i,ut*r+-.5*i),t.lineTo(-.5*o-ut*a,ut*o+-.5*a),t.lineTo(-.5*s-ut*u,ut*s+-.5*u),t.lineTo(-.5*r+ut*i,-.5*i-ut*r),t.lineTo(-.5*o+ut*a,-.5*a-ut*o),t.lineTo(-.5*s+ut*u,-.5*u-ut*s),t.closePath()}},ft=[Q,X,tt,ot,it,st,ht],dt=function(){var t=i(Q),e=i(64),n=null;function o(){var i;if(n||(n=i=Object(r.a)()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return o.type=function(e){return arguments.length?(t="function"==typeof e?e:i(e),o):t},o.size=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),o):e},o.context=function(t){return arguments.length?(n=null==t?null:t,o):n},o},pt=function(){};function vt(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function gt(t){this._context=t}gt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vt(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var mt=function(t){return new gt(t)};function yt(t){this._context=t}yt.prototype={areaStart:pt,areaEnd:pt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:vt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var bt=function(t){return new yt(t)};function _t(t){this._context=t}_t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:vt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var wt=function(t){return new _t(t)};function xt(t,e){this._basis=new gt(t),this._beta=e}xt.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Et=function t(e){function n(t){return 1===e?new gt(t):new xt(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function Ct(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function kt(t,e){this._context=t,this._k=(1-e)/6}kt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ct(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ct(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Tt=function t(e){function n(t){return new kt(t,e)}return n.tension=function(e){return t(+e)},n}(0);function St(t,e){this._context=t,this._k=(1-e)/6}St.prototype={areaStart:pt,areaEnd:pt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ct(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ot=function t(e){function n(t){return new St(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Mt(t,e){this._context=t,this._k=(1-e)/6}Mt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ct(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var At=function t(e){function n(t){return new Mt(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Pt(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>f){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>f){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function It(t,e){this._context=t,this._alpha=e}It.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Pt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Nt=function t(e){function n(t){return e?new It(t,e):new kt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Dt(t,e){this._context=t,this._alpha=e}Dt.prototype={areaStart:pt,areaEnd:pt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Pt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Rt=function t(e){function n(t){return e?new Dt(t,e):new St(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function jt(t,e){this._context=t,this._alpha=e}jt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Pt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Lt=function t(e){function n(t){return e?new jt(t,e):new Mt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Ft(t){this._context=t}Ft.prototype={areaStart:pt,areaEnd:pt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var Bt=function(t){return new Ft(t)};function $t(t){return t<0?-1:1}function Ut(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return($t(o)+$t(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function zt(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function qt(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Vt(t){this._context=t}function Ht(t){this._context=new Wt(t)}function Wt(t){this._context=t}function Gt(t){return new Vt(t)}function Kt(t){return new Ht(t)}function Yt(t){this._context=t}function Qt(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}Vt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qt(this,this._t0,zt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,qt(this,zt(this,n=Ut(this,t,e)),n);break;default:qt(this,this._t0,n=Ut(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Ht.prototype=Object.create(Vt.prototype)).point=function(t,e){Vt.prototype.point.call(this,e,t)},Wt.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},Yt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Qt(t),i=Qt(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Xt=function(t){return new Yt(t)};function Jt(t,e){this._context=t,this._t=e}Jt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Zt=function(t){return new Jt(t,.5)};function te(t){return new Jt(t,0)}function ee(t){return new Jt(t,1)}var ne=function(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},re=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n};function ie(t,e){return t[e]}var oe=function(){var t=i([]),e=re,n=ne,r=ie;function o(i){var o,a,s=t.apply(this,arguments),u=i.length,c=s.length,l=new Array(c);for(o=0;o<c;++o){for(var h,f=s[o],d=l[o]=new Array(u),p=0;p<u;++p)d[p]=h=[0,+r(i[p],f,p,i)],h.data=i[p];d.key=f}for(o=0,a=e(l);o<c;++o)l[a[o]].index=o;return n(l,a),l}return o.keys=function(e){return arguments.length?(t="function"==typeof e?e:i($.call(e)),o):t},o.value=function(t){return arguments.length?(r="function"==typeof t?t:i(+t),o):r},o.order=function(t){return arguments.length?(e=null==t?re:"function"==typeof t?t:i($.call(t)),o):e},o.offset=function(t){return arguments.length?(n=null==t?ne:t,o):n},o},ae=function(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}ne(t,e)}},se=function(t,e){if((s=t.length)>1)for(var n,r,i,o,a,s,u=0,c=t[e[0]].length;u<c;++u)for(o=a=0,n=0;n<s;++n)(i=(r=t[e[n]][u])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},ue=function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}ne(t,e)}},ce=function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,c=0;s<i;++s){for(var l=t[e[s]],h=l[a][1]||0,f=(h-(l[a-1][1]||0))/2,d=0;d<s;++d){var p=t[e[d]];f+=(p[a][1]||0)-(p[a-1][1]||0)}u+=h,c+=f*h}n[a-1][1]+=n[a-1][0]=o,u&&(o-=c/u)}n[a-1][1]+=n[a-1][0]=o,ne(t,e)}},le=function(t){var e=t.map(he);return re(t).sort(function(t,n){return e[t]-e[n]})};function he(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}var fe=function(t){return le(t).reverse()},de=function(t){var e,n,r=t.length,i=t.map(he),o=re(t).sort(function(t,e){return i[e]-i[t]}),a=0,s=0,u=[],c=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],u.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(u)},pe=function(t){return re(t).reverse()};n.d(e,"a",function(){return E}),n.d(e,"b",function(){return M}),n.d(e,"v",function(){return O}),n.d(e,"A",function(){return I}),n.d(e,"c",function(){return F}),n.d(e,"C",function(){return F}),n.d(e,"w",function(){return L}),n.d(e,"D",function(){return L}),n.d(e,"B",function(){return B}),n.d(e,"x",function(){return G}),n.d(e,"z",function(){return K}),n.d(e,"y",function(){return Y}),n.d(e,"P",function(){return dt}),n.d(e,"X",function(){return ft}),n.d(e,"Q",function(){return Q}),n.d(e,"R",function(){return X}),n.d(e,"S",function(){return tt}),n.d(e,"T",function(){return ot}),n.d(e,"U",function(){return it}),n.d(e,"V",function(){return st}),n.d(e,"W",function(){return ht}),n.d(e,"e",function(){return bt}),n.d(e,"f",function(){return wt}),n.d(e,"d",function(){return mt}),n.d(e,"g",function(){return Et}),n.d(e,"i",function(){return Ot}),n.d(e,"j",function(){return At}),n.d(e,"h",function(){return Tt}),n.d(e,"l",function(){return Rt}),n.d(e,"m",function(){return Lt}),n.d(e,"k",function(){return Nt}),n.d(e,"o",function(){return Bt}),n.d(e,"n",function(){return k}),n.d(e,"p",function(){return Gt}),n.d(e,"q",function(){return Kt}),n.d(e,"r",function(){return Xt}),n.d(e,"s",function(){return Zt}),n.d(e,"t",function(){return ee}),n.d(e,"u",function(){return te}),n.d(e,"E",function(){return oe}),n.d(e,"G",function(){return ae}),n.d(e,"F",function(){return se}),n.d(e,"H",function(){return ne}),n.d(e,"I",function(){return ue}),n.d(e,"J",function(){return ce}),n.d(e,"K",function(){return le}),n.d(e,"L",function(){return fe}),n.d(e,"M",function(){return de}),n.d(e,"N",function(){return re}),n.d(e,"O",function(){return pe})},"94VQ":function(t,e,n){"use strict";var r=n("Yobk"),i=n("X8DO"),o=n("e6n0"),a={};n("hJx8")(a,n("dSzd")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},"9bBU":function(t,e,n){n("mClu");var r=n("FeBl").Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},AMV0:function(t,e,n){t.exports={default:n("k2Ib"),__esModule:!0}},ATXD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},o=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),i.hasOwnProperty(e)?{space:i[e],local:t}:t};var a=function(t){var e=o(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===r&&e.documentElement.namespaceURI===r?e.createElement(t):e.createElementNS(n,t)}})(e)},s=0;function u(){this._="@"+(++s).toString(36)}u.prototype=function(){return new u}.prototype={constructor:u,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var c=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var l=document.documentElement;if(!l.matches){var h=l.webkitMatchesSelector||l.msMatchesSelector||l.mozMatchesSelector||l.oMatchesSelector;c=function(t){return function(){return h.call(this,t)}}}}var f=c,d={},p=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(d={mouseenter:"mouseover",mouseleave:"mouseout"}));function v(t,e,n){return t=g(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function g(t,e,n){return function(r){var i=p;p=r;try{t.call(this,this.__data__,e,n)}finally{p=i}}}function m(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function y(t,e,n){var r=d.hasOwnProperty(t.type)?v:g;return function(i,o,a){var s,u=this.__on,c=r(e,o,a);if(u)for(var l=0,h=u.length;l<h;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function b(t,e,n,r){var i=p;t.sourceEvent=p,p=t;try{return e.apply(n,r)}finally{p=i}}var _=function(){for(var t,e=p;t=e.sourceEvent;)e=t;return e},w=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},x=function(t){var e=_();return e.changedTouches&&(e=e.changedTouches[0]),w(t,e)};function E(){}var C=function(t){return null==t?E:function(){return this.querySelector(t)}};function k(){return[]}var T=function(t){return new Array(t.length)};function S(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}S.prototype={constructor:S,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var O="$";function M(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new S(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function A(t,e,n,r,i,o,a){var s,u,c,l={},h=e.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(d[s]=c=O+a.call(u,u.__data__,s,e),c in l?i[s]=u:l[c]=u);for(s=0;s<f;++s)(u=l[c=O+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],l[c]=null):n[s]=new S(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&l[d[s]]===u&&(i[s]=u)}function P(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var I=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function N(t){return t.trim().split(/^|\s+/)}function D(t){return t.classList||new R(t)}function R(t){this._node=t,this._names=N(t.getAttribute("class")||"")}function j(t,e){for(var n=D(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function L(t,e){for(var n=D(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}R.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function F(){this.textContent=""}function B(){this.innerHTML=""}function $(){this.nextSibling&&this.parentNode.appendChild(this)}function U(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function z(){return null}function q(){var t=this.parentNode;t&&t.removeChild(this)}function V(t,e,n){var r=I(t),i=r.CustomEvent;i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var H=[null];function W(t,e){this._groups=t,this._parents=e}function G(){return new W([[document.documentElement]],H)}W.prototype=G.prototype={constructor:W,select:function(t){"function"!=typeof t&&(t=C(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new W(r,this._parents)},selectAll:function(t){var e;"function"!=typeof t&&(t=null==(e=t)?k:function(){return this.querySelectorAll(e)});for(var n=this._groups,r=n.length,i=[],o=[],a=0;a<r;++a)for(var s,u=n[a],c=u.length,l=0;l<c;++l)(s=u[l])&&(i.push(t.call(s,s.__data__,l,u)),o.push(s));return new W(i,o)},filter:function(t){"function"!=typeof t&&(t=f(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new W(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),l=-1,this.each(function(t){p[++l]=t}),p;var n,r=e?A:M,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),c=new Array(a),l=0;l<a;++l){var h=i[l],f=o[l],d=f.length,p=t.call(h,h&&h.__data__,l,i),v=p.length,g=u[l]=new Array(v),m=s[l]=new Array(v);r(h,f,g,m,c[l]=new Array(d),p,e);for(var y,b,_=0,w=0;_<v;++_)if(y=g[_]){for(_>=w&&(w=_+1);!(b=m[w])&&++w<v;);y._next=b||null}}return(s=new W(s,i))._enter=u,s._exit=c,s},enter:function(){return new W(this._enter||this._groups.map(T),this._parents)},exit:function(){return new W(this._exit||this._groups.map(T),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],h=c.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=c[d]||l[d])&&(f[d]=u);for(;s<r;++s)a[s]=e[s];return new W(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=P);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new W(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=o(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){var r;return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):I(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=N(t+"");if(arguments.length<2){for(var r=D(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?j:L)(this,t)}}:e?function(t){return function(){j(this,t)}}:function(t){return function(){L(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?F:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?B:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each($)},lower:function(){return this.each(U)},append:function(t){var e="function"==typeof t?t:a(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:a(t),r=null==e?z:"function"==typeof e?e:C(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(q)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?y:m,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return V(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return V(this,t,e)}})(t,e))}};var K=function(t){return"string"==typeof t?new W([[document.querySelector(t)]],[document.documentElement]):new W([[t]],H)},Y=function(t,e,n){arguments.length<3&&(n=e,e=_().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return w(t,r);return null},Q={value:function(){}};function X(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new J(r)}function J(t){this._=t}function Z(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function tt(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Q,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}J.prototype=X.prototype={constructor:J,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=tt(i[n],t.name,e);else if(null==e)for(n in i)i[n]=tt(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=Z(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new J(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var et=X;function nt(){p.stopImmediatePropagation()}var rt=function(){p.preventDefault(),p.stopImmediatePropagation()},it=function(t){var e=t.document.documentElement,n=K(t).on("dragstart.drag",rt,!0);"onselectstart"in e?n.on("selectstart.drag",rt,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};var ot=function(t){return function(){return t}};function at(t,e,n,r,i,o,a,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=c}function st(){return!p.button}function ut(){return this.parentNode}function ct(t){return null==t?{x:p.x,y:p.y}:t}at.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var lt=function(){var t,e,n=st,r=ut,i=ct,o={},a=et("start","drag","end"),s=0;function u(t){t.on("mousedown.drag",c).on("touchstart.drag",f).on("touchmove.drag",d).on("touchend.drag touchcancel.drag",v).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){if(!e&&n.apply(this,arguments)){var i=g("mouse",r.apply(this,arguments),x,this,arguments);i&&(K(p.view).on("mousemove.drag",l,!0).on("mouseup.drag",h,!0),it(p.view),nt(),t=!1,i("start"))}}function l(){rt(),t=!0,o.mouse("drag")}function h(){var e,n,r,i;K(p.view).on("mousemove.drag mouseup.drag",null),e=p.view,n=t,r=e.document.documentElement,i=K(e).on("dragstart.drag",null),n&&(i.on("click.drag",rt,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect),rt(),o.mouse("end")}function f(){if(n.apply(this,arguments)){var t,e,i=p.changedTouches,o=r.apply(this,arguments),a=i.length;for(t=0;t<a;++t)(e=g(i[t].identifier,o,Y,this,arguments))&&(nt(),e("start"))}}function d(){var t,e,n=p.changedTouches,r=n.length;for(t=0;t<r;++t)(e=o[n[t].identifier])&&(rt(),e("drag"))}function v(){var t,n,r=p.changedTouches,i=r.length;for(e&&clearTimeout(e),e=setTimeout(function(){e=null},500),t=0;t<i;++t)(n=o[r[t].identifier])&&(nt(),n("end"))}function g(t,e,n,r,c){var l,h,f,d=n(e,t),v=a.copy();if(b(new at(u,"beforestart",l,t,s,d[0],d[1],0,0,v),function(){return null!=(p.subject=l=i.apply(r,c))&&(h=l.x-d[0]||0,f=l.y-d[1]||0,!0)}))return function i(a){var p,g=d;switch(a){case"start":o[t]=i,p=s++;break;case"end":delete o[t],--s;case"drag":d=n(e,t),p=s}b(new at(u,a,l,t,p,d[0]+h,d[1]+f,d[0]-g[0],d[1]-g[1],v),v.apply,v,[a,r,c])}}return u.filter=function(t){return arguments.length?(n="function"==typeof t?t:ot(!!t),u):n},u.container=function(t){return arguments.length?(r="function"==typeof t?t:ot(t),u):r},u.subject=function(t){return arguments.length?(i="function"==typeof t?t:ot(t),u):i},u.on=function(){var t=a.on.apply(a,arguments);return t===a?u:t},u},ht=n("mhxW"),ft=function(t){return function(){return t}},dt=1e-12,pt=Math.PI,vt=pt/2,gt=2*pt;function mt(t){return t.innerRadius}function yt(t){return t.outerRadius}function bt(t){return t.startAngle}function _t(t){return t.endAngle}function wt(t){return t&&t.padAngle}function xt(t){return t>=1?vt:t<=-1?-vt:Math.asin(t)}function Et(t,e,n,r,i,o,a){var s=t-n,u=e-r,c=(a?o:-o)/Math.sqrt(s*s+u*u),l=c*u,h=-c*s,f=t+l,d=e+h,p=n+l,v=r+h,g=(f+p)/2,m=(d+v)/2,y=p-f,b=v-d,_=y*y+b*b,w=i-o,x=f*v-p*d,E=(b<0?-1:1)*Math.sqrt(Math.max(0,w*w*_-x*x)),C=(x*b-y*E)/_,k=(-x*y-b*E)/_,T=(x*b+y*E)/_,S=(-x*y+b*E)/_,O=C-g,M=k-m,A=T-g,P=S-m;return O*O+M*M>A*A+P*P&&(C=T,k=S),{cx:C,cy:k,x01:-l,y01:-h,x11:C*(i/w-1),y11:k*(i/w-1)}}function Ct(t){this._context=t}Ct.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var kt=function(t){return new Ct(t)};function Tt(t){return t[0]}function St(t){return t[1]}var Ot=function(){var t=Tt,e=St,n=ft(!0),r=null,i=kt,o=null;function a(a){var s,u,c,l=a.length,h=!1;for(null==r&&(o=i(c=Object(ht.a)())),s=0;s<=l;++s)!(s<l&&n(u=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(u,s,a),+e(u,s,a));if(c)return o=null,c+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:ft(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:ft(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:ft(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a};At(kt);function Mt(t){this._curve=t}function At(t){function e(e){return new Mt(t(e))}return e._curve=t,e}Mt.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};Math.sqrt(1/3);var Pt=Math.sin(pt/10)/Math.sin(7*pt/10),It=(Math.sin(gt/10),Math.cos(gt/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});function Nt(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Dt(t){this._context=t}Dt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nt(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Rt(t){this._context=t}Rt.prototype={areaStart:It,areaEnd:It,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Nt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jt(t){this._context=t}jt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Nt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Lt(t,e){this._basis=new Dt(t),this._beta=e}Lt.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};(function t(e){function n(t){return 1===e?new Dt(t):new Lt(t,e)}return n.beta=function(e){return t(+e)},n})(.85);function Ft(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Bt(t,e){this._context=t,this._k=(1-e)/6}Bt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ft(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ft(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new Bt(t,e)}return n.tension=function(e){return t(+e)},n})(0);function $t(t,e){this._context=t,this._k=(1-e)/6}$t.prototype={areaStart:It,areaEnd:It,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ft(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new $t(t,e)}return n.tension=function(e){return t(+e)},n})(0);function Ut(t,e){this._context=t,this._k=(1-e)/6}Ut.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ft(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new Ut(t,e)}return n.tension=function(e){return t(+e)},n})(0);function zt(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>dt){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>dt){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function qt(t,e){this._context=t,this._alpha=e}qt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:zt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Vt=function t(e){function n(t){return e?new qt(t,e):new Bt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Ht(t,e){this._context=t,this._alpha=e}Ht.prototype={areaStart:It,areaEnd:It,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:zt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new Ht(t,e):new $t(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function Wt(t,e){this._context=t,this._alpha=e}Wt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:zt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new Wt(t,e):new Ut(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function Gt(t){this._context=t}Gt.prototype={areaStart:It,areaEnd:It,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Kt(t){return t<0?-1:1}function Yt(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Kt(o)+Kt(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Qt(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Xt(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Jt(t){this._context=t}function Zt(t){this._context=new te(t)}function te(t){this._context=t}function ee(t){this._context=t}function ne(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}Jt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xt(this,this._t0,Qt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Xt(this,Qt(this,n=Yt(this,t,e)),n);break;default:Xt(this,this._t0,n=Yt(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Zt.prototype=Object.create(Jt.prototype)).point=function(t,e){Jt.prototype.point.call(this,e,t)},te.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},ee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=ne(t),i=ne(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function re(t,e){this._context=t,this._t=e}re.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};Array.prototype.slice;n.d(e,"annotation",function(){return Be}),n.d(e,"annotationTypeBase",function(){return Ee}),n.d(e,"annotationLabel",function(){return Te}),n.d(e,"annotationCallout",function(){return Se}),n.d(e,"annotationCalloutCurve",function(){return Me}),n.d(e,"annotationCalloutElbow",function(){return Oe}),n.d(e,"annotationCalloutCircle",function(){return Pe}),n.d(e,"annotationCalloutRect",function(){return Ie}),n.d(e,"annotationXYThreshold",function(){return De}),n.d(e,"annotationBadge",function(){return Ae}),n.d(e,"annotationCustomType",function(){return Ce});var ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oe=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},ae=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),se=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ue=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},ce=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},le=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},he=function(){function t(e){var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.nx,s=e.ny,u=e.dy,c=void 0===u?0:u,l=e.dx,h=void 0===l?0:l,f=e.color,d=void 0===f?"grey":f,p=e.data,v=e.type,g=e.subject,m=e.connector,y=e.note,b=e.disable,_=e.id,w=e.className;oe(this,t),this._dx=void 0!==a?a-r:h,this._dy=void 0!==s?s-o:c,this._x=r,this._y=o,this._color=d,this.id=_,this._className=w||"",this._type=v||"",this.data=p,this.note=y||{},this.connector=m||{},this.subject=g||{},this.disable=b||[]}return ae(t,[{key:"updatePosition",value:function(){this.type.setPosition&&(this.type.setPosition(),this.type.subject&&0!==this.type.subject.selectAll(":not(.handle)").nodes().length&&this.type.redrawSubject())}},{key:"clearComponents",value:function(){this.type.clearComponents&&this.type.clearComponents()}},{key:"updateOffset",value:function(){this.type.setOffset&&(this.type.setOffset(),0!==this.type.connector.selectAll(":not(.handle)").nodes().length&&this.type.redrawConnector(),this.type.redrawNote())}},{key:"className",get:function(){return this._className},set:function(t){this._className=t,this.type.setClassName&&this.type.setClassName()}},{key:"type",get:function(){return this._type},set:function(t){this._type=t,this.clearComponents()}},{key:"x",get:function(){return this._x},set:function(t){this._x=t,this.updatePosition()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this.updatePosition()}},{key:"color",get:function(){return this._color},set:function(t){this._color=t,this.updatePosition()}},{key:"dx",get:function(){return this._dx},set:function(t){this._dx=t,this.updateOffset()}},{key:"dy",get:function(){return this._dy},set:function(t){this._dy=t,this.updateOffset()}},{key:"nx",set:function(t){this._dx=t-this._x,this.updateOffset()}},{key:"ny",set:function(t){this._dy=t-this._y,this.updateOffset()}},{key:"offset",get:function(){return{x:this._dx,y:this._dy}},set:function(t){var e=t.x,n=t.y;this._dx=e,this._dy=n,this.updateOffset()}},{key:"position",get:function(){return{x:this._x,y:this._y}},set:function(t){var e=t.x,n=t.y;this._x=e,this._y=n,this.updatePosition()}},{key:"translation",get:function(){return{x:this._x+this._dx,y:this._y+this._dy}}},{key:"json",get:function(){var t={x:this._x,y:this._y,dx:this._dx,dy:this._dy};return this.data&&Object.keys(this.data).length>0&&(t.data=this.data),this.type&&(t.type=this.type),this._className&&(t.className=this._className),Object.keys(this.connector).length>0&&(t.connector=this.connector),Object.keys(this.subject).length>0&&(t.subject=this.subject),Object.keys(this.note).length>0&&(t.note=this.note),t}}]),t}(),fe=function(){function t(e){var n=e.annotations,r=e.accessors,i=e.accessorsInverse;oe(this,t),this.accessors=r,this.accessorsInverse=i,this.annotations=n}return ae(t,[{key:"clearTypes",value:function(t){this.annotations.forEach(function(e){e.type=void 0,e.subject=t&&t.subject||e.subject,e.connector=t&&t.connector||e.connector,e.note=t&&t.note||e.note})}},{key:"setPositionWithAccessors",value:function(){var t=this;this.annotations.forEach(function(e){e.type.setPositionWithAccessors(t.accessors)})}},{key:"editMode",value:function(t){this.annotations.forEach(function(e){e.type&&(e.type.editMode=t,e.type.updateEditMode())})}},{key:"updateDisable",value:function(t){this.annotations.forEach(function(e){e.disable=t,e.type&&t.forEach(function(t){e.type[t]&&(e.type[t].remove&&e.type[t].remove(),e.type[t]=void 0)})})}},{key:"updateTextWrap",value:function(t){this.annotations.forEach(function(e){e.type&&e.type.updateTextWrap&&e.type.updateTextWrap(t)})}},{key:"updateText",value:function(){this.annotations.forEach(function(t){t.type&&t.type.drawText&&t.type.drawText()})}},{key:"updateNotePadding",value:function(t){this.annotations.forEach(function(e){e.type&&(e.type.notePadding=t)})}},{key:"json",get:function(){var t=this;return this.annotations.map(function(e){var n=e.json;return t.accessorsInverse&&e.data&&(n.data={},Object.keys(t.accessorsInverse).forEach(function(r){n.data[r]=t.accessorsInverse[r]({x:e.x,y:e.y})})),n})}},{key:"noteNodes",get:function(){return this.annotations.map(function(t){return se({},t.type.getNoteBBoxOffset(),{positionX:t.x,positionY:t.y})})}}]),t}(),de=function(t,e){return"dynamic"!==t&&"left"!==t&&"right"!==t||(t=e<0?"top":"bottom"),t},pe=function(t,e){return"dynamic"!==t&&"top"!==t&&"bottom"!==t||(t=e<0?"right":"left"),t},ve=["topBottom","top","bottom"],ge=["leftRight","left","right"],me=function(t){var e=t.data,n=t.curve,r=void 0===n?kt:n,i=t.canvasContext,o=t.className,a=t.classID,s=Ot().curve(r),u={type:"path",className:o,classID:a,data:e};return i?(s.context(i),u.pathMethods=s):u.attrs={d:s(e)},u},ye=function(t){var e=t.data,n=t.canvasContext,r={type:"path",className:t.className,classID:t.classID,data:e},i=function(){var t=mt,e=yt,n=ft(0),r=null,i=bt,o=_t,a=wt,s=null;function u(){var u,c,l=+t.apply(this,arguments),h=+e.apply(this,arguments),f=i.apply(this,arguments)-vt,d=o.apply(this,arguments)-vt,p=Math.abs(d-f),v=d>f;if(s||(s=u=Object(ht.a)()),h<l&&(c=h,h=l,l=c),h>dt)if(p>gt-dt)s.moveTo(h*Math.cos(f),h*Math.sin(f)),s.arc(0,0,h,f,d,!v),l>dt&&(s.moveTo(l*Math.cos(d),l*Math.sin(d)),s.arc(0,0,l,d,f,v));else{var g,m,y=f,b=d,_=f,w=d,x=p,E=p,C=a.apply(this,arguments)/2,k=C>dt&&(r?+r.apply(this,arguments):Math.sqrt(l*l+h*h)),T=Math.min(Math.abs(h-l)/2,+n.apply(this,arguments)),S=T,O=T;if(k>dt){var M=xt(k/l*Math.sin(C)),A=xt(k/h*Math.sin(C));(x-=2*M)>dt?(_+=M*=v?1:-1,w-=M):(x=0,_=w=(f+d)/2),(E-=2*A)>dt?(y+=A*=v?1:-1,b-=A):(E=0,y=b=(f+d)/2)}var P=h*Math.cos(y),I=h*Math.sin(y),N=l*Math.cos(w),D=l*Math.sin(w);if(T>dt){var R=h*Math.cos(b),j=h*Math.sin(b),L=l*Math.cos(_),F=l*Math.sin(_);if(p<pt){var B=x>dt?function(t,e,n,r,i,o,a,s){var u=n-t,c=r-e,l=a-i,h=s-o,f=(l*(e-o)-h*(t-i))/(h*u-l*c);return[t+f*u,e+f*c]}(P,I,L,F,R,j,N,D):[N,D],$=P-B[0],U=I-B[1],z=R-B[0],q=j-B[1],V=1/Math.sin(Math.acos(($*z+U*q)/(Math.sqrt($*$+U*U)*Math.sqrt(z*z+q*q)))/2),H=Math.sqrt(B[0]*B[0]+B[1]*B[1]);S=Math.min(T,(l-H)/(V-1)),O=Math.min(T,(h-H)/(V+1))}}E>dt?O>dt?(g=Et(L,F,P,I,h,O,v),m=Et(R,j,N,D,h,O,v),s.moveTo(g.cx+g.x01,g.cy+g.y01),O<T?s.arc(g.cx,g.cy,O,Math.atan2(g.y01,g.x01),Math.atan2(m.y01,m.x01),!v):(s.arc(g.cx,g.cy,O,Math.atan2(g.y01,g.x01),Math.atan2(g.y11,g.x11),!v),s.arc(0,0,h,Math.atan2(g.cy+g.y11,g.cx+g.x11),Math.atan2(m.cy+m.y11,m.cx+m.x11),!v),s.arc(m.cx,m.cy,O,Math.atan2(m.y11,m.x11),Math.atan2(m.y01,m.x01),!v))):(s.moveTo(P,I),s.arc(0,0,h,y,b,!v)):s.moveTo(P,I),l>dt&&x>dt?S>dt?(g=Et(N,D,R,j,l,-S,v),m=Et(P,I,L,F,l,-S,v),s.lineTo(g.cx+g.x01,g.cy+g.y01),S<T?s.arc(g.cx,g.cy,S,Math.atan2(g.y01,g.x01),Math.atan2(m.y01,m.x01),!v):(s.arc(g.cx,g.cy,S,Math.atan2(g.y01,g.x01),Math.atan2(g.y11,g.x11),!v),s.arc(0,0,l,Math.atan2(g.cy+g.y11,g.cx+g.x11),Math.atan2(m.cy+m.y11,m.cx+m.x11),v),s.arc(m.cx,m.cy,S,Math.atan2(m.y11,m.x11),Math.atan2(m.y01,m.x01),!v))):s.arc(0,0,l,w,_,v):s.lineTo(N,D)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-pt/2;return[Math.cos(r)*n,Math.sin(r)*n]},u.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:ft(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:ft(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:ft(+t),u):n},u.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:ft(+t),u):r},u.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:ft(+t),u):i},u.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:ft(+t),u):o},u.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:ft(+t),u):a},u.context=function(t){return arguments.length?(s=null==t?null:t,u):s},u}().innerRadius(e.innerRadius||0).outerRadius(e.outerRadius||e.radius||2).startAngle(e.startAngle||0).endAngle(e.endAngle||2*Math.PI);return n?(i.context(n),r.pathMethods=lineGen):r.attrs={d:i()},r},be=function(t){var e=t.type,n=t.subjectType,r=e.annotation,i=r.position,o=r.x-i.x,a=o+r.dx,s=r.y-i.y,u=s+r.dy,c=r.subject;if("circle"===n&&(c.outerRadius||c.radius)){var l=Math.sqrt((o-a)*(o-a)+(s-u)*(s-u)),h=Math.asin(-u/l),f=c.outerRadius||c.radius+(c.radiusPadding||0);o=Math.abs(Math.cos(h)*f)*(a<0?-1:1),s=Math.abs(Math.sin(h)*f)*(u<0?-1:1)}if("rect"===n){var d=c.width,p=c.height;(d>0&&r.dx>0||d<0&&r.dx<0)&&(o=Math.abs(d)>Math.abs(r.dx)?d/2:d),(p>0&&r.dy>0||p<0&&r.dy<0)&&(s=Math.abs(p)>Math.abs(r.dy)?p/2:p),o===d/2&&s===p/2&&(o=a,s=u)}return[[o,s],[a,u]]},_e=function(t){var e=t.type,n=t.connectorData,r=t.subjectType;n||(n={}),n.points&&"number"!=typeof n.points||(n.points=we(e.annotation.offset,n.points)),n.curve||(n.curve=Vt);var i=[];if(e.editMode){var o=n.points.map(function(t,e){return se({},(n={cx:t[0],cy:t[1]},r=n.cx,i=void 0===r?0:r,o=n.cy,{move:{x:i,y:void 0===o?0:o}}),{index:e});var n,r,i,o});i=e.mapHandles(o.map(function(t){return se({},t.move,{drag:function(t){n.points[t][0]+=p.dx,n.points[t][1]+=p.dy,e.redrawConnector()}.bind(e,t.index)})}))}var a=be({type:e,subjectType:r});return a=[a[0]].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(n.points),[a[1]]),{components:[me({data:a,curve:n.curve,className:"connector"})],handles:i}},we=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t.x/(e+1),r=t.y/(e+1),i=[],o=1;o<=e;o++)i.push([n*o+o%2*20,r*o-o%2*20]);return i},xe=function(t){var e=t.subjectData,n=t.type;e.radius||e.outerRadius||(e.radius=20);var r=[],i=ye({data:e,className:"subject"});if(n.editMode){var o=function(t){var e=t.cx,n=void 0===e?0:e,r=t.cy,i=void 0===r?0:r,o=t.r1,a=t.r2,s=t.padding,u={move:{x:n,y:i}};return void 0!==o&&(u.r1={x:n+o/Math.sqrt(2),y:i+o/Math.sqrt(2)}),void 0!==a&&(u.r2={x:n+a/Math.sqrt(2),y:i+a/Math.sqrt(2)}),void 0!==s&&(u.padding={x:n+o+s,y:i}),u}({r1:i.data.outerRadius||i.data.radius,r2:i.data.innerRadius,padding:e.radiusPadding}),a=function(t){var r=e[t]+p.dx*Math.sqrt(2);e[t]=r,n.redrawSubject(),n.redrawConnector()},s=[se({},o.r1,{drag:a.bind(n,void 0!==e.outerRadius?"outerRadius":"radius")})];e.innerRadius&&s.push(se({},o.r2,{drag:a.bind(n,"innerRadius")})),r=n.mapHandles(s)}return i.attrs["fill-opacity"]=0,{components:[i],handles:r}},Ee=function(){function t(e){var n=e.a,r=e.annotation,i=e.editMode,o=e.dispatcher,a=e.notePadding,s=e.accessors;if(oe(this,t),this.a=n,this.note=-1===r.disable.indexOf("note")&&n.select("g.annotation-note"),this.noteContent=this.note&&n.select("g.annotation-note-content"),this.connector=-1===r.disable.indexOf("connector")&&n.select("g.annotation-connector"),this.subject=-1===r.disable.indexOf("subject")&&n.select("g.annotation-subject"),this.dispatcher=o,o){var u=je.bind(null,o,r);u({component:this.note,name:"note"}),u({component:this.connector,name:"connector"}),u({component:this.subject,name:"subject"})}this.annotation=r,this.editMode=r.editMode||i,this.notePadding=void 0!==a?a:3,this.offsetCornerX=0,this.offsetCornerY=0,s&&r.data&&this.init(s)}return ae(t,[{key:"init",value:function(t){this.annotation.x||this.mapX(t),this.annotation.y||this.mapY(t)}},{key:"mapY",value:function(t){t.y&&(this.annotation.y=t.y(this.annotation.data))}},{key:"mapX",value:function(t){t.x&&(this.annotation.x=t.x(this.annotation.data))}},{key:"updateEditMode",value:function(){this.a.selectAll("circle.handle").remove()}},{key:"drawOnSVG",value:function(t,e){var n=this;Array.isArray(e)||(e=[e]),e.filter(function(t){return t}).forEach(function(e){var r=e.type,i=e.className,o=e.attrs,a=e.handles,s=e.classID;if("handle"===r)!function(t){var e=t.group,n=t.handles,r=t.r,i=void 0===r?10:r,o=e.selectAll("circle.handle").data(n);o.enter().append("circle").attr("class","handle").attr("fill","grey").attr("fill-opacity",.1).attr("cursor","move").attr("stroke-dasharray",5).attr("stroke","grey").call(lt().container(K("g.annotations").node()).on("start",function(t){return t.start&&t.start(t)}).on("drag",function(t){return t.drag&&t.drag(t)}).on("end",function(t){return t.end&&t.end(t)})),e.selectAll("circle.handle").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("r",function(t){return t.r||i}).attr("class",function(t){return"handle "+(t.className||"")}),o.exit().remove()}({group:t,r:o&&o.r,handles:a});else{Re(t,[n.annotation],r,i,s);for(var u=t.select(r+"."+(s||i)),c=Object.keys(o),l=[],h=u.node().attributes,f=h.length-1;f>=0;f--){var d=h[f].name;-1===c.indexOf(d)&&"class"!==d&&l.push(d)}c.forEach(function(t){"text"===t?u.text(o[t]):u.attr(t,o[t])}),l.forEach(function(t){return u.attr(t,null)})}})}},{key:"getNoteBBox",value:function(){return Fe(this.note,".annotation-note-content text")}},{key:"getNoteBBoxOffset",value:function(){var t=Fe(this.note,".annotation-note-content"),e=this.noteContent.attr("transform").split(/\(|\,|\)/g);return t.offsetCornerX=parseFloat(e[1])+this.annotation.dx,t.offsetCornerY=parseFloat(e[2])+this.annotation.dy,t.offsetX=this.annotation.dx,t.offsetY=this.annotation.dy,t}},{key:"drawSubject",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.annotation.subject,r=e.type,i={type:this,subjectData:n},o={};"circle"===r?o=xe(i):"rect"===r?o=function(t){var e=t.subjectData,n=t.type;e.width||(e.width=100),e.height||(e.height=100);var r=[],i=e.width,o=e.height,a=me({data:[[0,0],[i,0],[i,o],[0,o],[0,0]],className:"subject"});if(n.editMode){var s=[{x:i,y:o/2,drag:function(){e.width=p.x,n.redrawSubject(),n.redrawConnector()}.bind(n)},{x:i/2,y:o,drag:function(){e.height=p.y,n.redrawSubject(),n.redrawConnector()}.bind(n)}];r=n.mapHandles(s)}return a.attrs["fill-opacity"]=.1,{components:[a],handles:r}}(i):"threshold"===r?o=function(t){var e=t.subjectData,n=t.type.annotation.position,r=(void 0!==e.x1?e.x1:n.x)-n.x,i=(void 0!==e.x2?e.x2:n.x)-n.x,o=(void 0!==e.y1?e.y1:n.y)-n.y,a=(void 0!==e.y2?e.y2:n.y)-n.y;return{components:[me({data:[[r,o],[i,a]],className:"subject"})]}}(i):"badge"===r&&(o=function(t){var e=t.subjectData,n=void 0===e?{}:e,r=t.type,i=void 0===r?{}:r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.typeSettings&&i.typeSettings.subject;n.radius||(a&&a.radius?n.radius=a.radius:n.radius=14),n.x||a&&a.x&&(n.x=a.x),n.y||a&&a.y&&(n.y=a.y);var s=[],u=[],c=n.radius,l=.7*c,h=0,f=0,d=Math.sqrt(2)*c,v={xleftcorner:-c,xrightcorner:c,ytopcorner:-c,ybottomcorner:c,xleft:-d,xright:d,ytop:-d,ybottom:d};n.x&&!n.y?h=v["x"+n.x]:n.y&&!n.x?f=v["y"+n.y]:n.x&&n.y&&(h=v["x"+n.x+"corner"],f=v["y"+n.y+"corner"]);var g="translate("+h+", "+f+")",m=ye({className:"subject",data:{radius:c}});m.attrs.transform=g,m.attrs.fill=o.color,m.attrs["stroke-linecap"]="round",m.attrs["stroke-width"]="3px";var y=ye({className:"subject-ring",data:{outerRadius:c,innerRadius:l}});y.attrs.transform=g,y.attrs["stroke-width"]="3px",y.attrs.fill="white";var b=void 0;if(h&&f||!h&&!f)b=me({className:"subject-pointer",data:[[0,0],[h||0,0],[0,f||0],[0,0]]});else if(h||f){var _=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t&&t/Math.sqrt(2)/Math.sqrt(2)||e*c/Math.sqrt(2)};b=me({className:"subject-pointer",data:[[0,0],[_(h),_(f)],[_(h,-1),_(f,-1)],[0,0]]})}if(b&&(b.attrs.fill=o.color,b.attrs["stroke-linecap"]="round",b.attrs["stroke-width"]="3px",u.push(b)),i.editMode){var w={x:2*h,y:2*f,drag:function(){n.x=p.x<2*-c?"left":p.x>2*c?"right":void 0,n.y=p.y<2*-c?"top":p.y>2*c?"bottom":void 0,i.redrawSubject()}.bind(i)};w.x||w.y||(w.y=-c),s=i.mapHandles([w])}var x=void 0;return n.text&&(x={type:"text",className:"badge-text",attrs:{fill:"white",stroke:"none","font-size":".7em",text:n.text,"text-anchor":"middle",dy:".25em",x:h,y:f}}),u.push(m),u.push(y),u.push(x),{components:u,handles:s}}(i,this.annotation));var a=o,s=a.components,u=void 0===s?[]:s,c=a.handles,l=void 0===c?[]:c;return u.forEach(function(e){e&&e.attrs&&!e.attrs.stroke&&(e.attrs.stroke=t.annotation.color)}),this.editMode&&(l=l.concat(this.mapHandles([{drag:this.dragSubject.bind(this)}])),u.push({type:"handle",handles:l})),u}},{key:"drawConnector",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.annotation.connector,r=n.type||e.type,i={type:this,connectorData:n};i.subjectType=this.typeSettings&&this.typeSettings.subject&&this.typeSettings.subject.type;var o="curve"===r?_e(i):"elbow"===r?function(t){var e=t.type,n=t.subjectType,r=e.annotation,i=r.position,o=r.x-i.x,a=o+r.dx,s=r.y-i.y,u=s+r.dy,c=r.subject;if("rect"===n){var l=c.width,h=c.height;(l>0&&r.dx>0||l<0&&r.dx<0)&&(o=Math.abs(l)>Math.abs(r.dx)?l/2:l),(h>0&&r.dy>0||h<0&&r.dy<0)&&(s=Math.abs(h)>Math.abs(r.dy)?h/2:h),o===l/2&&s===h/2&&(o=a,s=u)}var f=[[o,s],[a,u]],d=u-s,p=a-o,v=a,g=u,m=u<s&&a>o||a<o&&u>s?-1:1;if(Math.abs(p)<Math.abs(d)?(v=a,g=s+p*m):(g=u,v=o+d*m),"circle"===n&&(c.outerRadius||c.radius)){var y=(c.outerRadius||c.radius)+(c.radiusPadding||0),b=y/Math.sqrt(2);if(Math.abs(p)>b&&Math.abs(d)>b)f=[[o=b*(a<0?-1:1),s=b*(u<0?-1:1)],[v,g],[a,u]];else if(Math.abs(p)>Math.abs(d)){var _=Math.asin(-u/y);f=[[o=Math.abs(Math.cos(_)*y)*(a<0?-1:1),u],[a,u]]}else{var w=Math.acos(a/y);f=[[a,s=Math.abs(Math.sin(w)*y)*(u<0?-1:1)],[a,u]]}}else f=[[o,s],[v,g],[a,u]];return{components:[me({data:f,className:"connector"})]}}(i):function(t){var e=be(t);return{components:[me({data:e,className:"connector"})]}}(i),a=o.components,s=void 0===a?[]:a,u=o.handles,c=void 0===u?[]:u,l=s[0];l&&(l.attrs.stroke=this.annotation.color,l.attrs.fill="none");var h=n.end||e.end,f={};if("arrow"===h){var d=l.data[1],p=l.data[0];Math.sqrt(Math.pow(d[0]-p[0],2)+Math.pow(d[1]-p[1],2))<5&&l.data[2]&&(d=l.data[2]),f=function(t){var e=t.annotation,n=t.start,r=t.end,i=t.scale,o=void 0===i?1:i,a=e.position;n=n?[-r[0]+n[0],-r[1]+n[1]]:[e.dx,e.dy],r||(r=[e.x-a.x,e.y-a.y]);var s=r[0],u=r[1],c=n[0],l=n[1],h=10*o,f=16/180*Math.PI,d=Math.atan(l/c);c<0&&(d+=Math.PI);var p=[[s,u],[Math.cos(d+f)*h+s,Math.sin(d+f)*h+u],[Math.cos(d-f)*h+s,Math.sin(d-f)*h+u],[s,u]];return{components:[me({data:p,className:"connector-end connector-arrow",classID:"connector-end"})]}}({annotation:this.annotation,start:d,end:p,scale:n.endScale})}else"dot"===h?f=function(t){var e=t.line,n=t.scale,r=void 0===n?1:n,i=ye({className:"connector-end connector-dot",classID:"connector-end",data:{radius:3*Math.sqrt(r)}});return i.attrs.transform="translate("+e.data[0][0]+", "+e.data[0][1]+")",{components:[i]}}({line:l,scale:n.endScale}):h&&"none"!==h||this.connector&&this.connector.select(".connector-end").remove();return f.components&&(f.components.forEach(function(e){e.attrs.fill=t.annotation.color,e.attrs.stroke=t.annotation.color}),s=s.concat(f.components)),this.editMode&&0!==c.length&&s.push({type:"handle",handles:c}),s}},{key:"drawNote",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.annotation.note,r=n.align||e.align||"dynamic",i={bbox:e.bbox,align:r,offset:this.annotation.offset},o=n.lineType||e.lineType,a={};"vertical"===o?a=function(t){var e=t.align,n=t.x,r=void 0===n?0:n,i=t.y,o=void 0===i?0:i,a=t.bbox,s=t.offset;"top"===(e=de(e,s.y))?o-=a.height:"middle"===e&&(o-=a.height/2);var u=[[r,o],[r,o+a.height]];return{components:[me({data:u,className:"note-line"})]}}(i):"horizontal"===o&&(a=function(t){var e=t.align,n=t.x,r=void 0===n?0:n,i=t.y,o=void 0===i?0:i,a=t.offset,s=t.bbox;"right"===(e=pe(e,a.x))?r-=s.width:"middle"===e&&(r-=s.width/2);var u=[[r,o],[r+s.width,o]];return{components:[me({data:u,className:"note-line"})]}}(i));var s=a,u=s.components,c=void 0===u?[]:u,l=s.handles,h=void 0===l?[]:l;if(c.forEach(function(e){e.attrs.stroke=t.annotation.color}),this.editMode){h=this.mapHandles([{x:0,y:0,drag:this.dragNote.bind(this)}]),c.push({type:"handle",handles:h});var f=this.dragNote.bind(this),d=this.dragstarted.bind(this),p=this.dragended.bind(this);this.note.call(lt().container(K("g.annotations").node()).on("start",function(t){return d(t)}).on("drag",function(t){return f(t)}).on("end",function(t){return p(t)}))}else this.note.on("mousedown.drag",null);return c}},{key:"drawNoteContent",value:function(t){var e=this.annotation.note,n=void 0!==e.padding?e.padding:this.notePadding,r=e.orientation||t.orientation||"topBottom",i=e.lineType||t.lineType,o=e.align||t.align||"dynamic";"vertical"===i?r="leftRight":"horizontal"===i&&(r="topBottom");var a=function(t){var e=t.padding,n=void 0===e?0:e,r=t.bbox,i=void 0===r?{x:0,y:0,width:0,height:0}:r,o=t.align,a=t.orientation,s=t.offset,u=void 0===s?{x:0,y:0}:s,c=-i.x,l=0;return-1!==ve.indexOf(a)?(o=pe(o,u.x),u.y<0&&"topBottom"===a||"top"===a?l-=i.height+n:l+=n,"middle"===o?c-=i.width/2:"right"===o&&(c-=i.width)):-1!==ge.indexOf(a)&&(o=de(o,u.y),u.x<0&&"leftRight"===a||"left"===a?c-=i.width+n:c+=n,"middle"===o?l-=i.height/2:"top"===o&&(l-=i.height)),{x:c,y:l}}({padding:n,bbox:t.bbox,offset:this.annotation.offset,orientation:r,align:o}),s=a.x,u=a.y;return this.offsetCornerX=s+this.annotation.dx,this.offsetCornerY=u+this.annotation.dy,this.note&&this.noteContent.attr("transform","translate("+s+", "+u+")"),[]}},{key:"drawOnScreen",value:function(t,e){return this.drawOnSVG(t,e)}},{key:"redrawSubject",value:function(){this.subject&&this.drawOnScreen(this.subject,this.drawSubject())}},{key:"redrawConnector",value:function(){this.connector&&this.drawOnScreen(this.connector,this.drawConnector())}},{key:"redrawNote",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNoteBBox();this.noteContent&&this.drawOnScreen(this.noteContent,this.drawNoteContent({bbox:t})),this.note&&this.drawOnScreen(this.note,this.drawNote({bbox:t}))}},{key:"setPosition",value:function(){var t=this.annotation.position;this.a.attr("transform","translate("+t.x+", "+t.y+")")}},{key:"clearComponents",value:function(){this.subject&&this.subject.select("*").remove(),this.connector&&this.connector.select("*").remove()}},{key:"setOffset",value:function(){if(this.note){var t=this.annotation.offset;this.note.attr("transform","translate("+t.x+", "+t.y+")")}}},{key:"setPositionWithAccessors",value:function(t){t&&this.annotation.data&&(this.mapX(t),this.mapY(t)),this.setPosition()}},{key:"setClassName",value:function(){this.a.attr("class","annotation "+(this.className&&this.className())+" "+(this.editMode?"editable":"")+" "+(this.annotation.className||""))}},{key:"draw",value:function(){this.setClassName(),this.setPosition(),this.setOffset(),this.redrawSubject(),this.redrawConnector(),this.redrawNote()}},{key:"dragstarted",value:function(){p.sourceEvent.stopPropagation(),this.dispatcher&&this.dispatcher.call("dragstart",this.a,this.annotation),this.a.classed("dragging",!0),this.a.selectAll("circle.handle").style("pointer-events","none")}},{key:"dragended",value:function(){this.dispatcher&&this.dispatcher.call("dragend",this.a,this.annotation),this.a.classed("dragging",!1),this.a.selectAll("circle.handle").style("pointer-events","all")}},{key:"dragSubject",value:function(){var t=this.annotation.position;t.x+=p.dx,t.y+=p.dy,this.annotation.position=t}},{key:"dragNote",value:function(){var t=this.annotation.offset;t.x+=p.dx,t.y+=p.dy,this.annotation.offset=t}},{key:"mapHandles",value:function(t){var e=this;return t.map(function(t){return se({},t,{start:e.dragstarted.bind(e),end:e.dragended.bind(e)})})}}]),t}(),Ce=function(t,e,n){return function(r){function i(t){oe(this,i);var n=le(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t));return n.typeSettings=e,e.disable&&e.disable.forEach(function(t){n[t]&&n[t].remove(),n[t]=void 0,"note"===t&&(n.noteContent=void 0)}),n}return ce(i,t),ae(i,[{key:"className",value:function(){return""+(e.className||ue(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"className",this)&&ue(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"className",this).call(this)||"")}},{key:"drawSubject",value:function(t){return this.typeSettings.subject=se({},e.subject,this.typeSettings.subject),ue(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"drawSubject",this).call(this,se({},t,this.typeSettings.subject))}},{key:"drawConnector",value:function(t){return this.typeSettings.connector=se({},e.connector,this.typeSettings.connector),ue(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"drawConnector",this).call(this,se({},t,e.connector,this.typeSettings.connector))}},{key:"drawNote",value:function(t){return this.typeSettings.note=se({},e.note,this.typeSettings.note),ue(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"drawNote",this).call(this,se({},t,e.note,this.typeSettings.note))}},{key:"drawNoteContent",value:function(t){return ue(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"drawNoteContent",this).call(this,se({},t,e.note,this.typeSettings.note))}}],[{key:"init",value:function(t,e){return ue(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,t,e),n&&(t=n(t,e)),t}}]),i}()},ke=function(t){function e(t){oe(this,e);var n=le(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.textWrap=t.textWrap||120,n.drawText(),n}return ce(e,Ee),ae(e,[{key:"updateTextWrap",value:function(t){this.textWrap=t,this.drawText()}},{key:"drawText",value:function(){if(this.note){Re(this.note,[this.annotation],"g","annotation-note-content");var t=this.note.select("g.annotation-note-content");Re(t,[this.annotation],"rect","annotation-note-bg"),Re(t,[this.annotation],"text","annotation-note-label"),Re(t,[this.annotation],"text","annotation-note-title");var e={height:0},n=this.a.select("text.annotation-note-label"),r=this.annotation.note&&this.annotation.note.wrap||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrap||this.textWrap,i=this.annotation.note&&this.annotation.note.wrapSplitter||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrapSplitter,o=this.annotation.note&&this.annotation.note.bgPadding||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.bgPadding,a={top:0,bottom:0,left:0,right:0};if("number"==typeof o?a={top:o,bottom:o,left:o,right:o}:o&&"object"===(void 0===o?"undefined":ie(o))&&(a=se(a,o)),this.annotation.note.title){var s=this.a.select("text.annotation-note-title");s.text(this.annotation.note.title),s.attr("fill",this.annotation.color),s.attr("font-weight","bold"),s.call(Le,r,i),e=s.node().getBBox()}n.text(this.annotation.note.label).attr("dx","0"),n.call(Le,r,i),n.attr("y",1.1*e.height||0),n.attr("fill",this.annotation.color);var u=this.getNoteBBox();this.a.select("rect.annotation-note-bg").attr("width",u.width+a.left+a.right).attr("height",u.height+a.top+a.bottom).attr("x",u.x-a.left).attr("y",-a.top).attr("fill","white").attr("fill-opacity",0)}}}]),e}(),Te=Ce(ke,{className:"label",note:{align:"middle"}}),Se=Ce(ke,{className:"callout",note:{lineType:"horizontal"}}),Oe=Ce(Se,{className:"callout elbow",connector:{type:"elbow"}}),Me=Ce(Se,{className:"callout curve",connector:{type:"curve"}}),Ae=Ce(Ee,{className:"badge",subject:{type:"badge"},disable:["connector","note"]}),Pe=Ce(ke,{className:"callout circle",subject:{type:"circle"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),Ie=Ce(ke,{className:"callout rect",subject:{type:"rect"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),Ne=function(t){function e(){return oe(this,e),le(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return ce(e,Se),ae(e,[{key:"mapY",value:function(t){ue(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mapY",this).call(this,t);var n=this.annotation;(n.subject.x1||n.subject.x2)&&n.data&&t.y&&(n.y=t.y(n.data)),!n.subject.x1&&!n.subject.x2||n.x||(n.x=n.subject.x1||n.subject.x2)}},{key:"mapX",value:function(t){ue(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mapX",this).call(this,t);var n=this.annotation;(n.subject.y1||n.subject.y2)&&n.data&&t.x&&(n.x=t.x(n.data)),!n.subject.y1&&!n.subject.y2||n.y||(n.y=n.subject.y1||n.subject.y2)}}]),e}(),De=Ce(Ne,{className:"callout xythreshold",subject:{type:"threshold"}}),Re=function(t,e,n,r,i){var o=t.selectAll(n+"."+(i||r)).data(e);return o.enter().append(n).merge(o).attr("class",r),o.exit().remove(),t},je=function(t,e,n){var r=n.component,i=n.name;r&&r.on("mouseover.annotations",function(){t.call(i+"over",r,e)}).on("mouseout.annotations",function(){return t.call(i+"out",r,e)}).on("click.annotations",function(){return t.call(i+"click",r,e)})},Le=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.2;t.each(function(){for(var t=K(this),i=t.text().split(n||/[ \t\r\n]+/).reverse().filter(function(t){return""!==t}),o=void 0,a=[],s=t.text(null).append("tspan").attr("x",0).attr("dy","0.8em");o=i.pop();)a.push(o),s.text(a.join(" ")),s.node().getComputedTextLength()>e&&a.length>1&&(a.pop(),s.text(a.join(" ")),a=[o],s=t.append("tspan").attr("x",0).attr("dy",r+"em").text(o))})},Fe=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":not(.handle)";return t?t.selectAll(e).nodes().reduce(function(t,e){var n=e.getBBox();t.x=Math.min(t.x,n.x),t.y=Math.min(t.y,n.y),t.width=Math.max(t.width,n.width);var r=e&&e.attributes&&e.attributes.y;return t.height=Math.max(t.height,(r&&parseFloat(r.value)||0)+n.height),t},{x:0,y:0,width:0,height:0}):{x:0,y:0,width:0,height:0}};function Be(){var t=[],e=void 0,n=void 0,r=[],i={},o={},a=!1,s=void 0,u=Se,c=void 0,l=void 0,h=et("subjectover","subjectout","subjectclick","connectorover","connectorout","connectorclick","noteover","noteout","noteclick","dragend","dragstart"),f=void 0,d=function(n){f=n,a||n.selectAll("circle.handle").remove();var d=t.map(function(t){return t.type||(t.type=u),t.disable||(t.disable=r),new he(t)});e=e||new fe({annotations:d,accessors:i,accessorsInverse:o,ids:s}),n.selectAll("g").data([e]).enter().append("g").attr("class","annotations");var p=n.select("g.annotations");Re(p,e.annotations,"g","annotation");var v=p.selectAll("g.annotation");v.each(function(t){var e=K(this);e.attr("class","annotation"),Re(e,[t],"g","annotation-connector"),Re(e,[t],"g","annotation-subject"),Re(e,[t],"g","annotation-note"),Re(e.select("g.annotation-note"),[t],"g","annotation-note-content"),t.type="[object Object]"===t.type.toString()?t.type:new t.type({a:e,annotation:t,textWrap:c,notePadding:l,editMode:a,dispatcher:h,accessors:i}),t.type.draw(),t.type.drawText&&t.type.drawText()})};return d.json=function(){return console.log("Annotations JSON was copied to your clipboard. Please note the annotation type is not JSON compatible. It appears in the objects array in the console, but not in the copied JSON.",e.json),window.copy(JSON.stringify(e.json.map(function(t){return delete t.type,t}))),d},d.update=function(){return t&&e&&(t=e.annotations.map(function(t){return t.type.draw(),t})),d},d.updateText=function(){return e&&(e.updateText(c),t=e.annotations),d},d.updatedAccessors=function(){return e.setPositionWithAccessors(),t=e.annotations,d},d.disable=function(n){return arguments.length?(r=n,e&&(e.updateDisable(r),t=e.annotations),d):r},d.textWrap=function(n){return arguments.length?(c=n,e&&(e.updateTextWrap(c),t=e.annotations),d):c},d.notePadding=function(n){return arguments.length?(l=n,e&&(e.updateNotePadding(l),t=e.annotations),d):l},d.type=function(n,r){return arguments.length?(u=n,e&&(e.annotations.map(function(t){t.type.note&&t.type.note.selectAll("*:not(.annotation-note-content)").remove(),t.type.noteContent&&t.type.noteContent.selectAll("*").remove(),t.type.subject&&t.type.subject.selectAll("*").remove(),t.type.connector&&t.type.connector.selectAll("*").remove(),t.type.typeSettings={},t.type=u,t.subject=r&&r.subject||t.subject,t.connector=r&&r.connector||t.connector,t.note=r&&r.note||t.note}),t=e.annotations),d):u},d.annotations=function(n){if(!arguments.length)return e&&e.annotations||t;(t=n,e&&e.annotations)&&(t.some(function(t){return!t.type||"[object Object]"!==t.type.toString()})?(e=null,d(f)):e.annotations=t);return d},d.context=function(t){return arguments.length?(n=t,d):n},d.accessors=function(t){return arguments.length?(i=t,d):i},d.accessorsInverse=function(t){return arguments.length?(o=t,d):o},d.ids=function(t){return arguments.length?(s=t,d):s},d.editMode=function(n){return arguments.length?(a=n,f&&f.selectAll("g.annotation").classed("editable",a),e&&(e.editMode(a),t=e.annotations),d):a},d.collection=function(t){return arguments.length?(e=t,d):e},d.on=function(){var t=h.on.apply(h,arguments);return t===h?d:t},d}var $e={annotation:Be,annotationTypeBase:Ee,annotationLabel:Te,annotationCallout:Se,annotationCalloutCurve:Me,annotationCalloutElbow:Oe,annotationCalloutCircle:Pe,annotationCalloutRect:Ie,annotationXYThreshold:De,annotationBadge:Ae,annotationCustomType:Ce};e.default=$e},BO1k:function(t,e,n){t.exports={default:n("fxRn"),__esModule:!0}},BwfY:function(t,e,n){n("fWfb"),n("M6a0"),n("OYls"),n("QWe/"),t.exports=n("FeBl").Symbol},"C/JF":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"icon",function(){return le}),n.d(e,"noAuto",function(){return ae}),n.d(e,"config",function(){return R}),n.d(e,"toHtml",function(){return wt}),n.d(e,"layer",function(){return de}),n.d(e,"text",function(){return he}),n.d(e,"counter",function(){return fe}),n.d(e,"library",function(){return oe}),n.d(e,"dom",function(){return ue}),n.d(e,"parse",function(){return ce}),n.d(e,"findIconDefinition",function(){return re});
/*!
 * Font Awesome Free 5.3.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */
var r=function(){},i={},o={},a=null,s={mark:r,measure:r};try{"undefined"!=typeof window&&(i=window),"undefined"!=typeof document&&(o=document),"undefined"!=typeof MutationObserver&&(a=MutationObserver),"undefined"!=typeof performance&&(s=performance)}catch(t){}var u=(i.navigator||{}).userAgent,c=void 0===u?"":u,l=i,h=o,f=a,d=s,p=!!h.documentElement&&!!h.head&&"function"==typeof h.addEventListener&&"function"==typeof h.createElement,v=~c.indexOf("MSIE")||~c.indexOf("Trident/"),g=16,m="data-fa-i2svg",y="data-fa-pseudo-element",b="data-prefix",_="data-icon",w="fontawesome-i2svg",x=["HTML","HEAD","STYLE","SCRIPT"],E=function(){try{return!0}catch(t){return!1}}(),C=[1,2,3,4,5,6,7,8,9,10],k=C.concat([11,12,13,14,15,16,17,18,19,20]),T=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],S=["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter"].concat(C.map(function(t){return t+"x"})).concat(k.map(function(t){return"w-"+t})),O=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),I=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},N=l.FontAwesomeConfig||{};if(h&&"function"==typeof h.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=P(t,2),n=e[0],r=e[1],i=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=h.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(n));void 0!==i&&null!==i&&(N[r]=i)})}var D=A({familyPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},N);D.autoReplaceSvg||(D.observeMutations=!1);var R=A({},D);l.FontAwesomeConfig=R;var j=l||{};j.___FONT_AWESOME___||(j.___FONT_AWESOME___={}),j.___FONT_AWESOME___.styles||(j.___FONT_AWESOME___.styles={}),j.___FONT_AWESOME___.hooks||(j.___FONT_AWESOME___.hooks={}),j.___FONT_AWESOME___.shims||(j.___FONT_AWESOME___.shims=[]);var L=j.___FONT_AWESOME___,F=[],B=!1;p&&((B=(h.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(h.readyState))||h.addEventListener("DOMContentLoaded",function t(){h.removeEventListener("DOMContentLoaded",t),B=1,F.map(function(t){return t()})}));var $=g,U={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function z(t){if(t&&p){var e=h.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=h.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}return h.head.insertBefore(e,r),t}}var q=0;function V(){return++q}function H(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function W(t){return t.classList?H(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(t){return t})}function G(t,e){var n,r=e.split("-"),i=r[0],o=r.slice(1).join("-");return i!==t||""===o||(n=o,~S.indexOf(n))?null:o}function K(t){return(""+t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Y(t){return Object.keys(t||{}).reduce(function(e,n){return e+(n+": ")+t[n]+";"},"")}function Q(t){return t.size!==U.size||t.x!==U.x||t.y!==U.y||t.rotate!==U.rotate||t.flipX||t.flipY}function X(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth;return{outer:{transform:"translate("+n/2+" 256)"},inner:{transform:"translate("+32*e.x+", "+32*e.y+") "+" "+("scale("+e.size/16*(e.flipX?-1:1)+", "+e.size/16*(e.flipY?-1:1)+") ")+" "+("rotate("+e.rotate+" 0 0)")},path:{transform:"translate("+r/2*-1+" -256)"}}}var J={x:0,y:0,width:"100%",height:"100%"},Z=function(t){var e=t.children,n=t.attributes,r=t.main,i=t.mask,o=t.transform,a=r.width,s=r.icon,u=i.width,c=i.icon,l=X({transform:o,containerWidth:u,iconWidth:a}),h={tag:"rect",attributes:A({},J,{fill:"white"})},f={tag:"g",attributes:A({},l.inner),children:[{tag:"path",attributes:A({},s.attributes,l.path,{fill:"black"})}]},d={tag:"g",attributes:A({},l.outer),children:[f]},p="mask-"+V(),v="clip-"+V(),g={tag:"defs",children:[{tag:"clipPath",attributes:{id:v},children:[c]},{tag:"mask",attributes:A({},J,{id:p,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,d]}]};return e.push(g,{tag:"rect",attributes:A({fill:"currentColor","clip-path":"url(#"+v+")",mask:"url(#"+p+")"},J)}),{children:e,attributes:n}},tt=function(t){var e=t.children,n=t.attributes,r=t.main,i=t.transform,o=Y(t.styles);if(o.length>0&&(n.style=o),Q(i)){var a=X({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:A({},a.outer),children:[{tag:"g",attributes:A({},a.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:A({},r.icon.attributes,a.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}},et=function(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,a=t.transform;if(Q(a)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=Y(A({},o,{"transform-origin":s.x+a.x/16+"em "+(s.y+a.y/16)+"em"}))}return[{tag:"svg",attributes:i,children:e}]},nt=function(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,o=t.symbol,a=!0===o?e+"-"+R.familyPrefix+"-"+n:o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:A({},i,{id:a}),children:r}]}]};function rt(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,a=t.transform,s=t.symbol,u=t.title,c=t.extra,l=t.watchable,h=void 0!==l&&l,f=r.found?r:n,d=f.width,p=f.height,v="fa-w-"+Math.ceil(d/p*16),g=[R.replacementClass,o?R.familyPrefix+"-"+o:"",v].filter(function(t){return-1===c.classes.indexOf(t)}).concat(c.classes).join(" "),y={children:[],attributes:A({},c.attributes,{"data-prefix":i,"data-icon":o,class:g,role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+d+" "+p})};h&&(y.attributes[m]=""),u&&y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-"+V()},children:[u]});var b=A({},y,{prefix:i,iconName:o,main:n,mask:r,transform:a,symbol:s,styles:c.styles}),_=r.found&&n.found?Z(b):tt(b),w=_.children,x=_.attributes;return b.children=w,b.attributes=x,s?nt(b):et(b)}function it(t){var e=t.content,n=t.width,r=t.height,i=t.transform,o=t.title,a=t.extra,s=t.watchable,u=void 0!==s&&s,c=A({},a.attributes,o?{title:o}:{},{class:a.classes.join(" ")});u&&(c[m]="");var l=A({},a.styles);Q(i)&&(l.transform=function(t){var e=t.transform,n=t.width,r=void 0===n?g:n,i=t.height,o=void 0===i?g:i,a=t.startCentered,s=void 0!==a&&a,u="";return u+=s&&v?"translate("+(e.x/$-r/2)+"em, "+(e.y/$-o/2)+"em) ":s?"translate(calc(-50% + "+e.x/$+"em), calc(-50% + "+e.y/$+"em)) ":"translate("+e.x/$+"em, "+e.y/$+"em) ",u+="scale("+e.size/$*(e.flipX?-1:1)+", "+e.size/$*(e.flipY?-1:1)+") ",u+="rotate("+e.rotate+"deg) "}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var h=Y(l);h.length>0&&(c.style=h);var f=[];return f.push({tag:"span",attributes:c,children:[e]}),o&&f.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),f}var ot=function(){},at=R.measurePerformance&&d&&d.mark&&d.measure?d:{mark:ot,measure:ot},st=function(t){at.mark('FA "5.3.1" '+t+" ends"),at.measure('FA "5.3.1" '+t,'FA "5.3.1" '+t+" begins",'FA "5.3.1" '+t+" ends")},ut={begin:function(t){return at.mark('FA "5.3.1" '+t+" begins"),function(){return st(t)}},end:st},ct=function(t,e,n,r){var i,o,a,s=Object.keys(t),u=s.length,c=void 0!==r?function(t,e){return function(n,r,i,o){return t.call(e,n,r,i,o)}}(e,r):e;for(void 0===n?(i=1,a=t[s[0]]):(i=0,a=n);i<u;i++)a=c(a,t[o=s[i]],o,t);return a},lt=L.styles,ht=L.shims,ft={},dt={},pt={},vt=function(){var t=function(t){return ct(lt,function(e,n,r){return e[r]=ct(n,t,{}),e},{})};ft=t(function(t,e,n){return t[e[3]]=n,t}),dt=t(function(t,e,n){var r=e[2];return t[n]=n,r.forEach(function(e){t[e]=n}),t});var e="far"in lt;pt=ct(ht,function(t,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||e||(i="fas"),t[r]={prefix:i,iconName:o},t},{})};function gt(t,e){return ft[t][e]}vt();var mt=L.styles,yt=function(){return{prefix:null,iconName:null,rest:[]}};function bt(t){return t.reduce(function(t,e){var n=G(R.familyPrefix,e);if(mt[e])t.prefix=e;else if(n){var r="fa"===t.prefix?pt[n]||{prefix:null,iconName:null}:{};t.iconName=r.iconName||n,t.prefix=r.prefix||t.prefix}else e!==R.replacementClass&&0!==e.indexOf("fa-w-")&&t.rest.push(e);return t},yt())}function _t(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function wt(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,o=void 0===i?[]:i;return"string"==typeof t?K(t):"<"+e+" "+function(t){return Object.keys(t||{}).reduce(function(e,n){return e+(n+'="')+K(t[n])+'" '},"").trim()}(r)+">"+o.map(wt).join("")+"</"+e+">"}var xt=function(){};function Et(t){return"string"==typeof(t.getAttribute?t.getAttribute(m):null)}var Ct={replace:function(t){var e=t[0],n=t[1].map(function(t){return wt(t)}).join("\n");if(e.parentNode&&e.outerHTML)e.outerHTML=n+(R.keepOriginalSource&&"svg"!==e.tagName.toLowerCase()?"\x3c!-- "+e.outerHTML+" --\x3e":"");else if(e.parentNode){var r=document.createElement("span");e.parentNode.replaceChild(r,e),r.outerHTML=n}},nest:function(t){var e=t[0],n=t[1];if(~W(e).indexOf(R.replacementClass))return Ct.replace(t);var r=new RegExp(R.familyPrefix+"-.*");delete n[0].attributes.style;var i=n[0].attributes.class.split(" ").reduce(function(t,e){return e===R.replacementClass||e.match(r)?t.toSvg.push(e):t.toNode.push(e),t},{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" ");var o=n.map(function(t){return wt(t)}).join("\n");e.setAttribute("class",i.toNode.join(" ")),e.setAttribute(m,""),e.innerHTML=o}};function kt(t,e){var n="function"==typeof e?e:xt;0===t.length?n():(l.requestAnimationFrame||function(t){return t()})(function(){var e=!0===R.autoReplaceSvg?Ct.replace:Ct[R.autoReplaceSvg]||Ct.replace,r=ut.begin("mutate");t.map(e),r(),n()})}var Tt=!1;var St=null;var Ot=function(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(t,e){var n=e.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(t[r]=i.join(":").trim()),t},{})),n};function Mt(t){for(var e="",n=0;n<t.length;n++){e+=("000"+t.charCodeAt(n).toString(16)).slice(-4)}return e}var At=function(t){var e,n,r=t.getAttribute("data-prefix"),i=t.getAttribute("data-icon"),o=void 0!==t.innerText?t.innerText.trim():"",a=bt(W(t));return r&&i&&(a.prefix=r,a.iconName=i),a.prefix&&o.length>1?a.iconName=(e=a.prefix,n=t.innerText,dt[e][n]):a.prefix&&1===o.length&&(a.iconName=gt(a.prefix,Mt(t.innerText))),a},Pt=function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce(function(t,e){var n=e.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(i=parseFloat(i),isNaN(i))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i}return t},e):e},It=function(t){return Pt(t.getAttribute("data-fa-transform"))},Nt=function(t){var e=t.getAttribute("data-fa-symbol");return null!==e&&(""===e||e)},Dt=function(t){var e=H(t.attributes).reduce(function(t,e){return"class"!==t.name&&"style"!==t.name&&(t[e.name]=e.value),t},{}),n=t.getAttribute("title");return R.autoA11y&&(n?e["aria-labelledby"]=R.replacementClass+"-title-"+V():e["aria-hidden"]="true"),e},Rt=function(t){var e=t.getAttribute("data-fa-mask");return e?bt(e.split(" ").map(function(t){return t.trim()})):yt()},jt={iconName:null,title:null,prefix:null,transform:U,symbol:!1,mask:null,extra:{classes:[],styles:{},attributes:{}}};function Lt(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}Lt.prototype=Object.create(Error.prototype),Lt.prototype.constructor=Lt;var Ft={fill:"currentColor"},Bt={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},$t={tag:"path",attributes:A({},Ft,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},Ut=A({},Bt,{attributeName:"opacity"}),zt={tag:"g",children:[$t,{tag:"circle",attributes:A({},Ft,{cx:"256",cy:"364",r:"28"}),children:[{tag:"animate",attributes:A({},Bt,{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:A({},Ut,{values:"1;0;1;1;0;1;"})}]},{tag:"path",attributes:A({},Ft,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:[{tag:"animate",attributes:A({},Ut,{values:"1;0;0;0;0;1;"})}]},{tag:"path",attributes:A({},Ft,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:A({},Ut,{values:"0;0;1;1;0;0;"})}]}]},qt=L.styles,Vt="fa-layers-text",Ht=/Font Awesome 5 (Solid|Regular|Light|Brands|Free|Pro)/,Wt={Solid:"fas",Regular:"far",Light:"fal",Brands:"fab"},Gt={900:"fas",400:"far",300:"fal"};function Kt(t,e){var n={found:!1,width:512,height:512,icon:zt};if(t&&e&&qt[e]&&qt[e][t]){var r=qt[e][t];n={found:!0,width:r[0],height:r[1],icon:{tag:"path",attributes:{fill:"currentColor",d:r.slice(4)[0]}}}}else if(t&&e&&!R.showMissingIcons)throw new Lt("Icon is missing for prefix "+e+" with icon name "+t);return n}function Yt(t){var e=function(t){var e=At(t),n=e.iconName,r=e.prefix,i=e.rest,o=Ot(t),a=It(t),s=Nt(t),u=Dt(t),c=Rt(t);return{iconName:n,title:t.getAttribute("title"),prefix:r,transform:a,symbol:s,mask:c,extra:{classes:i,styles:o,attributes:u}}}(t);return~e.extra.classes.indexOf(Vt)?function(t,e){var n=e.title,r=e.transform,i=e.extra,o=null,a=null;if(v){var s=parseInt(getComputedStyle(t).fontSize,10),u=t.getBoundingClientRect();o=u.width/s,a=u.height/s}return R.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),[t,it({content:t.innerHTML,width:o,height:a,transform:r,title:n,extra:i,watchable:!0})]}(t,e):function(t,e){var n=e.iconName,r=e.title,i=e.prefix,o=e.transform,a=e.symbol,s=e.mask,u=e.extra;return[t,rt({icons:{main:Kt(n,i),mask:Kt(s.iconName,s.prefix)},prefix:i,iconName:n,transform:o,symbol:a,mask:s,title:r,extra:u,watchable:!0})]}(t,e)}function Qt(t){if(p){var e=ut.begin("searchPseudoElements");Tt=!0,function(){H(t.querySelectorAll("*")).filter(function(t){return!(t.parentNode===document.head||~x.indexOf(t.tagName.toUpperCase())||t.getAttribute(y)||t.parentNode&&"svg"===t.parentNode.tagName)}).forEach(function(t){[":before",":after"].forEach(function(e){var n=H(t.children).filter(function(t){return t.getAttribute(y)===e})[0],r=l.getComputedStyle(t,e),i=r.getPropertyValue("font-family").match(Ht),o=r.getPropertyValue("font-weight");if(n&&!i)t.removeChild(n);else if(i){var a=r.getPropertyValue("content"),s=~["Light","Regular","Solid","Brands"].indexOf(i[1])?Wt[i[1]]:Gt[o],u=gt(s,Mt(3===a.length?a.substr(1,1):a));if(!n||n.getAttribute(b)!==s||n.getAttribute(_)!==u){n&&t.removeChild(n);var c=jt.extra;c.attributes[y]=e;var f=rt(A({},jt,{icons:{main:Kt(u,s),mask:yt()},prefix:s,iconName:u,extra:c,watchable:!0})),d=h.createElement("svg");":before"===e?t.insertBefore(d,t.firstChild):t.appendChild(d),d.outerHTML=f.map(function(t){return wt(t)}).join("\n")}}})})}(),Tt=!1,e()}}function Xt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(p){var n=h.documentElement.classList,r=function(t){return n.add(w+"-"+t)},i=function(t){return n.remove(w+"-"+t)},o=Object.keys(qt),a=["."+Vt+":not(["+m+"])"].concat(o.map(function(t){return"."+t+":not(["+m+"])"})).join(", ");if(0!==a.length){var s=H(t.querySelectorAll(a));if(s.length>0){r("pending"),i("complete");var u=ut.begin("onTree"),c=s.reduce(function(t,e){try{var n=Yt(e);n&&t.push(n)}catch(t){E||t instanceof Lt&&console.error(t)}return t},[]);u(),kt(c,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e()})}}}}function Jt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Yt(t);n&&kt([n],e)}var Zt=function(){var t="svg-inline--fa",e=R.familyPrefix,n=R.replacementClass,r='svg:not(:root).svg-inline--fa {\n  overflow: visible; }\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -.125em; }\n  .svg-inline--fa.fa-lg {\n    vertical-align: -.225em; }\n  .svg-inline--fa.fa-w-1 {\n    width: 0.0625em; }\n  .svg-inline--fa.fa-w-2 {\n    width: 0.125em; }\n  .svg-inline--fa.fa-w-3 {\n    width: 0.1875em; }\n  .svg-inline--fa.fa-w-4 {\n    width: 0.25em; }\n  .svg-inline--fa.fa-w-5 {\n    width: 0.3125em; }\n  .svg-inline--fa.fa-w-6 {\n    width: 0.375em; }\n  .svg-inline--fa.fa-w-7 {\n    width: 0.4375em; }\n  .svg-inline--fa.fa-w-8 {\n    width: 0.5em; }\n  .svg-inline--fa.fa-w-9 {\n    width: 0.5625em; }\n  .svg-inline--fa.fa-w-10 {\n    width: 0.625em; }\n  .svg-inline--fa.fa-w-11 {\n    width: 0.6875em; }\n  .svg-inline--fa.fa-w-12 {\n    width: 0.75em; }\n  .svg-inline--fa.fa-w-13 {\n    width: 0.8125em; }\n  .svg-inline--fa.fa-w-14 {\n    width: 0.875em; }\n  .svg-inline--fa.fa-w-15 {\n    width: 0.9375em; }\n  .svg-inline--fa.fa-w-16 {\n    width: 1em; }\n  .svg-inline--fa.fa-w-17 {\n    width: 1.0625em; }\n  .svg-inline--fa.fa-w-18 {\n    width: 1.125em; }\n  .svg-inline--fa.fa-w-19 {\n    width: 1.1875em; }\n  .svg-inline--fa.fa-w-20 {\n    width: 1.25em; }\n  .svg-inline--fa.fa-pull-left {\n    margin-right: .3em;\n    width: auto; }\n  .svg-inline--fa.fa-pull-right {\n    margin-left: .3em;\n    width: auto; }\n  .svg-inline--fa.fa-border {\n    height: 1.5em; }\n  .svg-inline--fa.fa-li {\n    width: 2em; }\n  .svg-inline--fa.fa-fw {\n    width: 1.25em; }\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0; }\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -.125em;\n  width: 1em; }\n  .fa-layers svg.svg-inline--fa {\n    -webkit-transform-origin: center center;\n            transform-origin: center center; }\n\n.fa-layers-text, .fa-layers-counter {\n  display: inline-block;\n  position: absolute;\n  text-align: center; }\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center; }\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: .25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right; }\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right; }\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left; }\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right; }\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left; }\n\n.fa-lg {\n  font-size: 1.33333em;\n  line-height: 0.75em;\n  vertical-align: -.0667em; }\n\n.fa-xs {\n  font-size: .75em; }\n\n.fa-sm {\n  font-size: .875em; }\n\n.fa-1x {\n  font-size: 1em; }\n\n.fa-2x {\n  font-size: 2em; }\n\n.fa-3x {\n  font-size: 3em; }\n\n.fa-4x {\n  font-size: 4em; }\n\n.fa-5x {\n  font-size: 5em; }\n\n.fa-6x {\n  font-size: 6em; }\n\n.fa-7x {\n  font-size: 7em; }\n\n.fa-8x {\n  font-size: 8em; }\n\n.fa-9x {\n  font-size: 9em; }\n\n.fa-10x {\n  font-size: 10em; }\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em; }\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0; }\n  .fa-ul > li {\n    position: relative; }\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit; }\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: .1em;\n  padding: .2em .25em .15em; }\n\n.fa-pull-left {\n  float: left; }\n\n.fa-pull-right {\n  float: right; }\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: .3em; }\n\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: .3em; }\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear; }\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8); }\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg); }\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg); }\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg); }\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1); }\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1); }\n\n.fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1); }\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical {\n  -webkit-filter: none;\n          filter: none; }\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2em; }\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0; }\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1em; }\n\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2em; }\n\n.fa-inverse {\n  color: #fff; }\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px; }\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto; }\n';if("fa"!==e||n!==t){var i=new RegExp("\\.fa\\-","g"),o=new RegExp("\\."+t,"g");r=r.replace(i,"."+e+"-").replace(o,"."+n)}return r};function te(t){return{found:!0,width:t[0],height:t[1],icon:{tag:"path",attributes:{fill:"currentColor",d:t.slice(4)[0]}}}}function ee(){R.autoAddCss&&!se&&(z(Zt()),se=!0)}function ne(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(t){return wt(t)})}}),Object.defineProperty(t,"node",{get:function(){if(p){var e=h.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function re(t){var e=t.prefix,n=void 0===e?"fa":e,r=t.iconName;if(r)return _t(oe.definitions,n,r)||_t(L.styles,n,r)}var ie,oe=new(function(){function t(){O(this,t),this.definitions={}}return M(t,[{key:"add",value:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(e){t.definitions[e]=A({},t.definitions[e]||{},i[e]),function t(e,n){var r=Object.keys(n).reduce(function(t,e){var r=n[e];return r.icon?t[r.iconName]=r.icon:t[e]=r,t},{});"function"==typeof L.hooks.addPack?L.hooks.addPack(e,r):L.styles[e]=A({},L.styles[e]||{},r),"fas"===e&&t("fa",n)}(e,i[e]),vt()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(function(e){var r=n[e],i=r.prefix,o=r.iconName,a=r.icon;t[i]||(t[i]={}),t[i][o]=a}),t}}]),t}()),ae=function(){R.autoReplaceSvg=!1,R.observeMutations=!1,St&&St.disconnect()},se=!1,ue={i2svg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(p){ee();var e=t.node,n=void 0===e?h:e,r=t.callback,i=void 0===r?function(){}:r;R.searchPseudoElements&&Qt(n),Xt(n,i)}},css:Zt,insertCss:function(){se||(z(Zt()),se=!0)},watch:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot,r=e.observeMutationsRoot;!1===R.autoReplaceSvg&&(R.autoReplaceSvg=!0),R.observeMutations=!0,t=function(){ve({autoReplaceSvgRoot:n}),function(t){if(f&&R.observeMutations){var e=t.treeCallback,n=t.nodeCallback,r=t.pseudoElementsCallback,i=t.observeMutationsRoot,o=void 0===i?h.body:i;St=new f(function(t){Tt||H(t).forEach(function(t){if("childList"===t.type&&t.addedNodes.length>0&&!Et(t.addedNodes[0])&&(R.searchPseudoElements&&r(t.target),e(t.target)),"attributes"===t.type&&t.target.parentNode&&R.searchPseudoElements&&r(t.target.parentNode),"attributes"===t.type&&Et(t.target)&&~T.indexOf(t.attributeName))if("class"===t.attributeName){var i=bt(W(t.target)),o=i.prefix,a=i.iconName;o&&t.target.setAttribute("data-prefix",o),a&&t.target.setAttribute("data-icon",a)}else n(t.target)})}),p&&St.observe(o,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}({treeCallback:Xt,nodeCallback:Jt,pseudoElementsCallback:Qt,observeMutationsRoot:r})},p&&(B?setTimeout(t,0):F.push(t))}},ce={transform:function(t){return Pt(t)}},le=(ie=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?U:n,i=e.symbol,o=void 0!==i&&i,a=e.mask,s=void 0===a?null:a,u=e.title,c=void 0===u?null:u,l=e.classes,h=void 0===l?[]:l,f=e.attributes,d=void 0===f?{}:f,p=e.styles,v=void 0===p?{}:p;if(t){var g=t.prefix,m=t.iconName,y=t.icon;return ne(A({type:"icon"},t),function(){return ee(),R.autoA11y&&(c?d["aria-labelledby"]=R.replacementClass+"-title-"+V():d["aria-hidden"]="true"),rt({icons:{main:te(y),mask:s?te(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:g,iconName:m,transform:A({},U,r),symbol:o,title:c,extra:{attributes:d,styles:v,classes:h}})})}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:re(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:re(r||{})),ie(n,A({},e,{mask:r}))}),he=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?U:n,i=e.title,o=void 0===i?null:i,a=e.classes,s=void 0===a?[]:a,u=e.attributes,c=void 0===u?{}:u,l=e.styles,h=void 0===l?{}:l;return ne({type:"text",content:t},function(){return ee(),it({content:t,transform:A({},U,r),title:o,extra:{attributes:c,styles:h,classes:[R.familyPrefix+"-layers-text"].concat(I(s))}})})},fe=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.title,r=void 0===n?null:n,i=e.classes,o=void 0===i?[]:i,a=e.attributes,s=void 0===a?{}:a,u=e.styles,c=void 0===u?{}:u;return ne({type:"counter",content:t},function(){return ee(),function(t){var e=t.content,n=t.title,r=t.extra,i=A({},r.attributes,n?{title:n}:{},{class:r.classes.join(" ")}),o=Y(r.styles);o.length>0&&(i.style=o);var a=[];return a.push({tag:"span",attributes:i,children:[e]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}({content:t.toString(),title:r,extra:{attributes:s,styles:c,classes:[R.familyPrefix+"-layers-counter"].concat(I(o))}})})},de=function(t){return ne({type:"layer"},function(){ee();var e=[];return t(function(t){Array.isArray(t)?t.map(function(t){e=e.concat(t.abstract)}):e=e.concat(t.abstract)}),[{tag:"span",attributes:{class:R.familyPrefix+"-layers"},children:e}]})},pe={noAuto:ae,config:R,dom:ue,library:oe,parse:ce,findIconDefinition:re,icon:le,text:he,counter:fe,layer:de,toHtml:wt},ve=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,e=void 0===t?h:t;Object.keys(L.styles).length>0&&p&&R.autoReplaceSvg&&pe.dom.i2svg({node:e})}},C4MV:function(t,e,n){t.exports={default:n("9bBU"),__esModule:!0}},CXw9:function(t,e,n){"use strict";var r,i,o,a,s=n("O4g8"),u=n("7KvD"),c=n("+ZMJ"),l=n("RY/4"),h=n("kM2E"),f=n("EqjI"),d=n("lOnJ"),p=n("2KxR"),v=n("NWt+"),g=n("t8x9"),m=n("L42u").set,y=n("82Mu")(),b=n("qARP"),_=n("dNDb"),w=n("iUbK"),x=n("fJUb"),E=u.TypeError,C=u.process,k=C&&C.versions,T=k&&k.v8||"",S=u.Promise,O="process"==l(C),M=function(){},A=i=b.f,P=!!function(){try{var t=S.resolve(1),e=(t.constructor={})[n("dSzd")("species")]=function(t){t(M,M)};return(O||"function"==typeof PromiseRejectionEvent)&&t.then(M)instanceof e&&0!==T.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),I=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},N=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,s=i?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{s?(i||(2==t._h&&j(t),t._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===e.promise?c(E("Promise-chain cycle")):(o=I(n))?o.call(n,u,c):u(n)):c(r)}catch(t){l&&!a&&l.exit(),c(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&D(t)})}},D=function(t){m.call(u,function(){var e,n,r,i=t._v,o=R(t);if(o&&(e=_(function(){O?C.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=O||R(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},j=function(t){m.call(u,function(){var e;O?C.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},L=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},F=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw E("Promise can't be resolved itself");(e=I(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,c(F,r,1),c(L,r,1))}catch(t){L.call(r,t)}}):(n._v=t,n._s=1,N(n,!1))}catch(t){L.call({_w:n,_d:!1},t)}}};P||(S=function(t){p(this,S,"Promise","_h"),d(t),r.call(this);try{t(c(F,this,1),c(L,this,1))}catch(t){L.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n("xH/j")(S.prototype,{then:function(t,e){var n=A(g(this,S));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=O?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=c(F,t,1),this.reject=c(L,t,1)},b.f=A=function(t){return t===S||t===a?new o(t):i(t)}),h(h.G+h.W+h.F*!P,{Promise:S}),n("e6n0")(S,"Promise"),n("bRrM")("Promise"),a=n("FeBl").Promise,h(h.S+h.F*!P,"Promise",{reject:function(t){var e=A(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!P),"Promise",{resolve:function(t){return x(s&&this===a?S:this,t)}}),h(h.S+h.F*!(P&&n("dY0y")(function(t){S.all(t).catch(M)})),"Promise",{all:function(t){var e=this,n=A(e),r=n.resolve,i=n.reject,o=_(function(){var n=[],o=0,a=1;v(t,!1,function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=A(e),r=n.reject,i=_(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},Cdx3:function(t,e,n){var r=n("sB3e"),i=n("lktj");n("uqUo")("keys",function(){return function(t){return i(r(t))}})},D2L2:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},D8I6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"registerStorage",function(){return Wt});var r=n("O4tu"),i=n.n(r),o="https://firebasestorage.googleapis.com",a="https://firebasestorage.googleapis.com",s="/v0",u="/v0",c=12e4,l=6e4,h=-9007199254740991,f=function(){function t(t,e){this.code_=p(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return p(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),d={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function p(t){return"storage/"+t}function v(){return new f(d.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function g(){return new f(d.CANCELED,"User canceled the upload/download.")}function m(){return new f(d.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function y(t,e,n){return new f(d.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function b(){return new f(d.APP_DELETED,"The Firebase app was deleted.")}function _(t,e){return new f(d.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function w(t){throw new f(d.INTERNAL_ERROR,"Internal error: "+t)}var x={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function E(t){switch(t){case x.RAW:case x.BASE64:case x.BASE64URL:case x.DATA_URL:return;default:throw"Expected one of the event types: ["+x.RAW+", "+x.BASE64+", "+x.BASE64URL+", "+x.DATA_URL+"]."}}var C=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function k(t,e){switch(t){case x.RAW:return new C(T(e));case x.BASE64:case x.BASE64URL:return new C(S(t,e));case x.DATA_URL:return new C(function(t){var e=new O(t);return e.base64?S(x.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw _(x.DATA_URL,"Malformed data URL.")}return T(e)}(e.rest)}(e),function(t){return new O(t).contentType}(e))}throw v()}function T(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function S(t,e){switch(t){case x.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw _(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case x.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw _(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(e){throw _(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var O=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw _(x.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var r,i}}();var M,A={STATE_CHANGED:"state_changed"},P={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},I={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function N(t){switch(t){case P.RUNNING:case P.PAUSING:case P.CANCELING:return I.RUNNING;case P.PAUSED:return I.PAUSED;case P.SUCCESS:return I.SUCCESS;case P.CANCELED:return I.CANCELED;case P.ERROR:default:return I.ERROR}}function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function R(t,e){for(var n in t)D(t,n)&&e(n,t[n])}function j(t){if(null==t)return{};var e={};return R(t,function(t,n){e[t]=n}),e}function L(t){return new Promise(t)}function F(t){return Promise.resolve(t)}function B(t){return null!=t}function $(t){return void 0!==t}function U(t){return"function"==typeof t}function z(t){return"object"==typeof t}function q(t){return z(t)&&null!==t}function V(t){return"string"==typeof t||t instanceof String}function H(t){return W()&&t instanceof Blob}function W(){return"undefined"!=typeof Blob}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(M||(M={}));var G=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=M.NO_ERROR,this.sendPromise_=L(function(e,n){t.xhr_.addEventListener("abort",function(n){t.errorCode_=M.ABORT,e(t)}),t.xhr_.addEventListener("error",function(n){t.errorCode_=M.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(n){e(t)})})}return t.prototype.send=function(t,e,n,r){var i=this;if(this.sent_)throw w("cannot .send() more than once");(this.sent_=!0,this.xhr_.open(e,t,!0),B(r))&&R(r,function(t,e){i.xhr_.setRequestHeader(t,e.toString())});return B(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw w("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw w("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw w("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){B(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){B(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),K=function(){function t(){}return t.prototype.createXhrIo=function(){return new G},t}();function Y(t){var e,n;try{e=JSON.parse(t)}catch(t){return null}return z(n=e)&&!Array.isArray(n)?e:null}var Q=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n,r;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw r=e,new f(d.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")},t.makeFromUrl=function(e){var n=null;for(var r=[{regex:new RegExp("^gs://([A-Za-z0-9.\\-]+)(/(.*))?$","i"),indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://firebasestorage\\.googleapis\\.com/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],i=0;i<r.length;i++){var o=r[i],a=o.regex.exec(e);if(a){var s=a[o.indices.bucket],u=a[o.indices.path];u||(u=""),n=new t(s,u),o.postModify(n);break}}if(null==n)throw function(t){return new f(d.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return n},t}();function X(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function J(t){return o+s+t}function Z(t){return o+u+t}function tt(t){var e=encodeURIComponent,n="?";return R(t,function(t,r){var i=e(t)+"="+e(r);n=n+i+"&"}),n=n.slice(0,-1)}function et(t,e){return e}var nt=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||et}}(),rt=null;function it(){if(rt)return rt;var t=[];t.push(new nt("bucket")),t.push(new nt("generation")),t.push(new nt("metageneration")),t.push(new nt("name","fullPath",!0));var e=new nt("name");e.xform=function(t,e){return function(t){return!V(t)||t.length<2?t:X(t=t)}(e)},t.push(e);var n=new nt("size");return n.xform=function(t,e){return B(e)?+e:e},t.push(n),t.push(new nt("timeCreated")),t.push(new nt("updated")),t.push(new nt("md5Hash",null,!0)),t.push(new nt("cacheControl",null,!0)),t.push(new nt("contentDisposition",null,!0)),t.push(new nt("contentEncoding",null,!0)),t.push(new nt("contentLanguage",null,!0)),t.push(new nt("contentType",null,!0)),t.push(new nt("metadata","customMetadata",!0)),rt=t}function ot(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new Q(n,r);return e.makeStorageReference(i)}})}(r,t),r}function at(t,e,n){var r=Y(e);return null===r?null:ot(t,r,n)}function st(t,e){var n=Y(e);if(null===n)return null;if(!V(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.bucket,r=t.fullPath;return function(t){return a+s+t}("/b/"+i(n)+"/o/"+i(r))+tt({alt:"media",token:e})})[0]}function ut(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function ct(t){if(!(t&&z(t)))throw"Expected Metadata object.";for(var e in t){var n=t[e];if("customMetadata"===e){if(!z(n))throw"Expected object for 'customMetadata' mapping."}else if(q(n))throw"Mapping for '"+e+"' cannot be an object."}}function lt(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}var a,s,u,c,l,h;if(!(r<=n.length&&n.length<=i))throw a=r,s=i,u=t,c=n.length,a===s?(l=a,h=1===a?"argument":"arguments"):(l="between "+a+" and "+s,h="arguments"),new f(d.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+u+"`: Expected "+l+" "+h+", received "+c+".");for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(e){throw e instanceof Error?y(o,t,e.message):y(o,t,e)}}var ht=function(){return function(t,e){var n=this;this.validator=function(e){n.optional&&!$(e)||t(e)},this.optional=!!e}}();function ft(t,e){function n(t){if(!V(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new ht(r,e)}function dt(t){return new ht(ct,t)}function pt(){return new ht(function(t){if(!(function(t){return"number"==typeof t||t instanceof Number}(t)&&t>=0))throw"Expected a number 0 or greater."})}function vt(t,e){return new ht(function(e){if(!(null===e||B(e)&&e instanceof Object))throw"Expected an Object.";void 0!==t&&null!==t&&t(e)},e)}function gt(t){return new ht(function(t){if(null!==t&&!U(t))throw"Expected a Function."},t)}function mt(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}var yt=function(){function t(t,e){var n=0,r="";H(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(H(this.data_)){var r=this.data_,i=(a=e,s=n,(o=r).webkitSlice?o.webkitSlice(a,s):o.mozSlice?o.mozSlice(a,s):o.slice?o.slice(a,s):null);return null===i?null:new t(i)}var o,a,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(W()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=mt();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(W())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}.apply(null,r))}var i=e.map(function(t){return V(t)?k(x.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();function bt(t,e){return-1!==t.indexOf(e)}var _t=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function wt(t){if(!t)throw v()}function xt(t,e){return function(n,r){var i=at(t,r,e);return wt(null!==i),i}}function Et(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=new f(d.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new f(d.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new f(d.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.setServerResponseProp(n.serverResponseProp()),r}}function Ct(t){var e=Et(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new f(d.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),o.setServerResponseProp(r.serverResponseProp()),o}}function kt(t,e,n){var r=J(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new _t(r,"GET",xt(t,n),i);return o.errorHandler=Ct(e),o}function Tt(t,e,n){var r=J(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new _t(r,"GET",function(t,e){return function(n,r){var i=at(t,r,e);return wt(null!==i),st(i,r)}}(t,n),i);return o.errorHandler=Ct(e),o}function St(t,e,n){var r=j(n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var Ot=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function Mt(t,e){var n;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){wt(!1)}return wt(bt(e||["active"],n)),n}function At(t,e,n,r,i,o,a,s){var u=new Ot(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new f(d.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,p=h+l,v={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},g=r.slice(h,p);if(null===g)throw m();var y=e.maxUploadRetryTime(),b=new _t(n,"POST",function(t,n){var i,a=Mt(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?xt(e,o)(t,n):null,new Ot(s,c,"final"===a,i)},y);return b.headers=v,b.body=g.uploadData(),b.progressCallback=s||null,b.errorHandler=Et(t),b}var Pt=function(){return function(t,e,n){if(U(t)||B(e)||B(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}(),It=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function Nt(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];F(!0).then(function(){t.apply(null,e)})}}var Dt=function(){function t(t,e,n,r,i,o){void 0===o&&(o=null);var a=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=P.RUNNING,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(d.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_(P.ERROR))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(d.CANCELED)?a.completeTransitions_():(a.error_=t,a.transition_(P.ERROR))},this.promise_=L(function(t,e){a.resolve_=t,a.reject_=e,a.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n,r){t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===P.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then(function(n){switch(e.state_){case P.RUNNING:t(n);break;case P.CANCELING:e.transition_(P.CANCELED);break;case P.PAUSING:e.transition_(P.PAUSED)}})},t.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=St(e,r,i),s={name:a.fullPath},u=Z(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=ut(a,n),h=t.maxUploadRetryTime(),f=new _t(u,"POST",function(t,e){var n;Mt(t);try{n=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){wt(!1)}return wt(V(n)),n},h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=Et(e),f}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime(),o=new _t(n,"POST",function(t,e){var n,i=Mt(t,["active","final"]);try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){wt(!1)}var o=parseInt(n,10);return wt(!isNaN(o)),new Ot(o,r.size(),"final"===i)},i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Et(e),o}(t.authWrapper_,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then(function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new Ot(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(i){var o;try{o=At(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(e){return t.error_=e,void t.transition_(P.ERROR)}var a=t.authWrapper_.makeRequest(o,i);t.request_=a,a.getPromise().then(function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(P.SUCCESS)):t.completeTransitions_()},t.errorHandler_)})},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(e){var n=kt(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.transition_(P.SUCCESS)},t.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=St(e,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ut(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=yt.getBlob(c,r,l);if(null===h)throw m();var f={name:u.fullPath},d=Z(o),p=t.maxUploadRetryTime(),v=new _t(d,"POST",xt(t,n),p);return v.urlParams=f,v.headers=a,v.body=h.uploadData(),v.errorHandler=Et(e),v}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(P.SUCCESS)},t.errorHandler_)})},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case P.CANCELING:case P.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case P.RUNNING:var e=this.state_===P.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case P.PAUSED:this.state_=t,this.notifyObservers_();break;case P.CANCELED:this.error_=g(),this.state_=t,this.notifyObservers_();break;case P.ERROR:case P.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case P.PAUSING:this.transition_(P.PAUSED);break;case P.CANCELING:this.transition_(P.CANCELED);break;case P.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=N(this.state_);return new It(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){void 0===e&&(e=void 0),void 0===n&&(n=void 0),void 0===r&&(r=void 0);var i="Expected a function or an Object with one of `next`, `error`, `complete` properties.",o=gt(!0).validator,a=vt(null,!0).validator;function s(t){try{return void o(t)}catch(t){}try{if(a(t),!($(t.next)||$(t.error)||$(t.complete)))throw"";return}catch(t){throw i}}lt("on",[ft(function(e){if(t!==A.STATE_CHANGED)throw"Expected one of the event types: ["+A.STATE_CHANGED+"]."}),vt(s,!0),gt(!0),gt(!0)],arguments);var u=this;function c(t){return function(e,n,i){null!==t&&lt("on",t,arguments);var o=new Pt(e,n,r);return u.addObserver_(o),function(){u.removeObserver_(o)}}}var l=[vt(function(t){if(null===t)throw i;s(t)}),gt(!0),gt(!0)];return!($(e)||$(n)||$(r))?c(l):c(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e,n,r;e=this.observers_,n=t,-1!==(r=e.indexOf(n))&&e.splice(r,1)},t.prototype.notifyObservers_=function(){var t,e=this;this.finishPromise_(),(t=this.observers_,Array.prototype.slice.call(t)).forEach(function(t){e.notifyObserver_(t)})},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(N(this.state_)){case I.SUCCESS:Nt(this.resolve_.bind(null,this.snapshot))();break;case I.CANCELED:case I.ERROR:Nt(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(N(this.state_)){case I.RUNNING:case I.PAUSED:null!==t.next&&Nt(t.next.bind(t,this.snapshot))();break;case I.SUCCESS:null!==t.complete&&Nt(t.complete.bind(t))();break;case I.CANCELED:case I.ERROR:null!==t.error&&Nt(t.error.bind(t,this.error_))();break;default:null!==t.error&&Nt(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){lt("resume",[],arguments);var t=this.state_===P.PAUSED||this.state_===P.PAUSING;return t&&this.transition_(P.RUNNING),t},t.prototype.pause=function(){lt("pause",[],arguments);var t=this.state_===P.RUNNING;return t&&this.transition_(P.PAUSING),t},t.prototype.cancel=function(){lt("cancel",[],arguments);var t=this.state_===P.RUNNING||this.state_===P.PAUSING;return t&&this.transition_(P.CANCELING),t},t}(),Rt=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof Q?e:Q.makeFromUrl(e)}return t.prototype.toString=function(){return lt("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return it()},t.prototype.child=function(t){lt("child",[ft()],arguments);var e=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(this.location.path,t),n=new Q(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0==t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new Q(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new Q(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return X(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),lt("put",[new ht(function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||W()&&t instanceof Blob))throw"Expected Blob or File."}),dt(!0)],arguments),this.throwIfRoot_("put"),new Dt(this,this.authWrapper,this.location,this.mappings(),new yt(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=x.RAW),lt("putString",[ft(),ft(E,!0),dt(!0)],arguments),this.throwIfRoot_("putString");var r=k(e,t),i=j(n);return!B(i.contentType)&&B(r.contentType)&&(i.contentType=r.contentType),new Dt(this,this.authWrapper,this.location,this.mappings(),new yt(r.data,!0),i)},t.prototype.delete=function(){lt("delete",[],arguments),this.throwIfRoot_("delete");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=function(t,e){var n=J(e.fullServerUrl()),r=t.maxOperationRetryTime(),i=new _t(n,"DELETE",function(t,e){},r);return i.successCodes=[200,204],i.errorHandler=Ct(e),i}(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.getMetadata=function(){lt("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=kt(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.updateMetadata=function(t){lt("updateMetadata",[dt()],arguments),this.throwIfRoot_("updateMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(n){var r=function(t,e,n,r){var i=J(e.fullServerUrl()),o=ut(n,r),a=t.maxOperationRetryTime(),s=new _t(i,"PATCH",xt(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Ct(e),s}(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()})},t.prototype.getDownloadURL=function(){lt("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=Tt(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new f(d.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return t})})},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new f(d.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),jt=function(){function t(t){this.promise_=function(t){return Promise.reject(t)}(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){void 0===t&&(t=!1)},t}(),Lt=function(){function t(){this.map_={},this.id_=h}return t.prototype.addRequest=function(t){var e=this.id_;this.id_++,this.map_[e]=t;var n=this;function r(){delete n.map_[e]}t.getPromise().then(r,r)},t.prototype.clear=function(){R(this.map_,function(t,e){e&&e.cancel(!0)}),this.map_={}},t}(),Ft=function(){function t(e,n,r,i,o){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var a=this.app_.options;B(a)&&(this.bucket_=t.extractBucket_(a))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=o,this.service_=i,this.maxOperationRetryTime_=c,this.maxUploadRetryTime_=l,this.requestMap_=new Lt}return t.extractBucket_=function(t){var e=t.storageBucket||null;return null==e?null:Q.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){return null!==this.app_&&B(this.app_.INTERNAL)&&B(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(t){return null!==t?t.accessToken:null},function(t){return null}):F(null)},t.prototype.bucket=function(){if(this.deleted_)throw b();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new jt(b());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}();var Bt=function(){function t(t,e,n,r,i,o,a,s,u,c,l){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l;var h=this;this.promise_=L(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());$(s)?i(s):i()}catch(t){o(t)}else null!==a?((r=v()).setServerResponseProp(a.getResponseText()),t.errorCallback_?o(t.errorCallback_(a,r)):o(r)):n.canceled?o(r=t.appDelete_?b():g()):o(r=new f(d.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new $t(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){u||(u=!0,e.apply(null,arguments))}function l(e){i=setTimeout(function(){i=null,t(h,s())},e)}function h(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];u||(t?c.apply(null,arguments):s()||o?c.apply(null,arguments):(r<64&&(r*=2),1===a?(a=2,e=0):e=1e3*(r+Math.random()),l(e)))}var f=!1;function d(t){f||(f=!0,u||(null!==i?(t||(a=2),clearTimeout(i),l(0)):t||(a=1)))}return l(0),setTimeout(function(){o=!0,d(!0)},n),d}(function(e,n){if(n)e(!1,new $t(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===M.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=bt(t.successCodes_,o);e(!0,new $t(a,n))}else{var s=n.getErrorCode()===M.ABORT;e(!1,new $t(!1,null,s))}})}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}},e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=bt([408,429],t),r=bt(this.additionalRetryCodes_,t);return e||n||r},t}(),$t=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function Ut(t,e,n){var r=tt(t.urlParams),o=t.url+r,a=j(t.headers);return function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,e),function(t){var e=void 0!==i.a?i.a.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}(a),new Bt(o,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}var zt=function(){function t(t,e,n){if(this.bucket_=null,this.authWrapper_=new Ft(t,function(t,e){return new Rt(t,e)},Ut,this,e),this.app_=t,null!=n)this.bucket_=Q.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new Q(r,""))}this.internals_=new qt(this)}return t.prototype.ref=function(t){if(lt("ref",[ft(function(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var e=new Rt(this.authWrapper_,this.bucket_);return null!=t?e.child(t):e},t.prototype.refFromURL=function(t){return lt("refFromURL",[ft(function(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{Q.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new Rt(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){lt("setMaxUploadRetryTime",[pt()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.authWrapper_.maxOperationRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){lt("setMaxOperationRetryTime",[pt()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),qt=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),F(void 0)},t}(),Vt="storage";function Ht(t,e,n){return new zt(t,new K,n)}function Wt(t){var e={TaskState:I,TaskEvent:A,StringFormat:x,Storage:zt,Reference:Rt};t.INTERNAL.registerService(Vt,Ht,e,void 0,!0)}Wt(i.a)},DFDv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var e=n("ls6R"),r=(n.n(e),setTimeout);function i(){}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void u(e.promise,t)}s(e.promise,r)}else(1===t._state?s:u)(e.promise,t._value)})):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void l((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,c(t)}catch(e){u(t,e)}var r,i}function u(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function l(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,u(e,t))})}catch(t){if(n)return;n=!0,u(e,t)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return a(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,e,n)),n},o.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},o.all=function(t){return new o(function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){o(t,e)},n)}r[t]=a,0==--i&&e(r)}catch(t){n(t)}}for(var a=0;a<r.length;a++)o(a,r[a])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})},o._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){r(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var h=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();function f(t,e){return t(e={exports:{}},e.exports),e.exports}h.Promise||(h.Promise=o);var d=f(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),p=f(function(t){var e=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=e)}),v=(p.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),g=function(t){if(!v(t))throw TypeError(t+" is not an object!");return t},m=function(t){try{return!!t()}catch(t){return!0}},y=!m(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),b=d.document,_=v(b)&&v(b.createElement),w=function(t){return _?b.createElement(t):{}},x=!y&&!m(function(){return 7!=Object.defineProperty(w("div"),"a",{get:function(){return 7}}).a}),E=function(t,e){if(!v(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!v(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!v(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!v(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},C=Object.defineProperty,k={f:y?Object.defineProperty:function(t,e,n){if(g(t),e=E(e,!0),g(n),x)try{return C(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},T=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},S=y?function(t,e,n){return k.f(t,e,T(1,n))}:function(t,e,n){return t[e]=n,t},O={}.hasOwnProperty,M=function(t,e){return O.call(t,e)},A=0,P=Math.random(),I=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++A+P).toString(36))},N=f(function(t){var e=I("src"),n=Function.toString,r=(""+n).split("toString");p.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,i,o){var a="function"==typeof i;a&&(M(i,"name")||S(i,"name",n)),t[n]!==i&&(a&&(M(i,e)||S(i,e,t[n]?""+t[n]:r.join(String(n)))),t===d?t[n]=i:o?t[n]?t[n]=i:S(t,n,i):(delete t[n],S(t,n,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),D=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},R=function(t,e,n){var r,i,o,a,s=t&R.F,u=t&R.G,c=t&R.S,l=t&R.P,h=t&R.B,f=u?d:c?d[e]||(d[e]={}):(d[e]||{}).prototype,v=u?p:p[e]||(p[e]={}),g=v.prototype||(v.prototype={});for(r in u&&(n=e),n)o=((i=!s&&f&&void 0!==f[r])?f:n)[r],a=h&&i?D(o,d):l&&"function"==typeof o?D(Function.call,o):o,f&&N(f,r,o,t&R.U),v[r]!=o&&S(v,r,a),l&&g[r]!=o&&(g[r]=o)};d.core=p,R.F=1,R.G=2,R.S=4,R.P=8,R.B=16,R.W=32,R.U=64,R.R=128;var j=R,L={}.toString,F=function(t){return L.call(t).slice(8,-1)},B=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==F(t)?t.split(""):Object(t)},$=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},U=function(t){return Object($(t))},z=Math.ceil,q=Math.floor,V=function(t){return isNaN(t=+t)?0:(t>0?q:z)(t)},H=Math.min,W=function(t){return t>0?H(V(t),9007199254740991):0},G=Array.isArray||function(t){return"Array"==F(t)},K=d["__core-js_shared__"]||(d["__core-js_shared__"]={}),Y=function(t){return K[t]||(K[t]={})},Q=f(function(t){var e=Y("wks"),n=d.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:I)("Symbol."+t))}).store=e}),X=Q("species"),J=function(t,e){return new(function(t){var e;return G(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!G(e.prototype)||(e=void 0),v(e)&&null===(e=e[X])&&(e=void 0)),void 0===e?Array:e}(t))(e)},Z=function(t,e){var n=1==t,r=2==t,i=3==t,o=4==t,a=6==t,s=5==t||a,u=e||J;return function(e,c,l){for(var h,f,d=U(e),p=B(d),v=D(c,l,3),g=W(p.length),m=0,y=n?u(e,g):r?u(e,0):void 0;g>m;m++)if((s||m in p)&&(f=v(h=p[m],m,d),t))if(n)y[m]=f;else if(f)switch(t){case 3:return!0;case 5:return h;case 6:return m;case 2:y.push(h)}else if(o)return!1;return a?-1:i||o?o:y}},tt=Q("unscopables"),et=Array.prototype;void 0==et[tt]&&S(et,tt,{});var nt=function(t){et[tt][t]=!0},rt=Z(5),it=!0;"find"in[]&&Array(1).find(function(){it=!1}),j(j.P+j.F*it,"Array",{find:function(t){return rt(this,t,arguments.length>1?arguments[1]:void 0)}}),nt("find");p.Array.find;var ot=Z(6),at=!0;"findIndex"in[]&&Array(1).findIndex(function(){at=!1}),j(j.P+j.F*at,"Array",{findIndex:function(t){return ot(this,t,arguments.length>1?arguments[1]:void 0)}}),nt("findIndex");p.Array.findIndex;var st,ut=function(t){return B($(t))},ct=Math.max,lt=Math.min,ht=Y("keys"),ft=function(t){return ht[t]||(ht[t]=I(t))},dt=(st=!1,function(t,e,n){var r,i=ut(t),o=W(i.length),a=function(t,e){return(t=V(t))<0?ct(t+e,0):lt(t,e)}(n,o);if(st&&e!=e){for(;o>a;)if((r=i[a++])!=r)return!0}else for(;o>a;a++)if((st||a in i)&&i[a]===e)return st||a||0;return!st&&-1}),pt=ft("IE_PROTO"),vt=function(t,e){var n,r=ut(t),i=0,o=[];for(n in r)n!=pt&&M(r,n)&&o.push(n);for(;e.length>i;)M(r,n=e[i++])&&(~dt(o,n)||o.push(n));return o},gt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),mt=Object.keys||function(t){return vt(t,gt)},yt={f:Object.getOwnPropertySymbols},bt={f:{}.propertyIsEnumerable},_t=Object.assign,wt=!_t||m(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=_t({},t)[n]||Object.keys(_t({},e)).join("")!=r})?function(t,e){for(var n=U(t),r=arguments.length,i=1,o=yt.f,a=bt.f;r>i;)for(var s,u=B(arguments[i++]),c=o?mt(u).concat(o(u)):mt(u),l=c.length,h=0;l>h;)a.call(u,s=c[h++])&&(n[s]=u[s]);return n}:_t;j(j.S+j.F,"Object",{assign:wt});p.Object.assign;var xt=Q("match"),Et=function(t,e,n){if(v(r=e)&&(void 0!==(i=r[xt])?i:"RegExp"==F(r)))throw TypeError("String#"+n+" doesn't accept regex!");var r,i;return String($(t))},Ct=Q("match"),kt="".startsWith;j(j.P+j.F*function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Ct]=!1,!"/./"[t](e)}catch(t){}}return!0}("startsWith"),"String",{startsWith:function(t){var e=Et(this,t,"startsWith"),n=W(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return kt?kt.call(e,r,n):e.slice(n,n+r.length)===r}});p.String.startsWith;j(j.P,"String",{repeat:function(t){var e=String($(this)),n="",r=V(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}});p.String.repeat;var Tt=f(function(t){var e=I("meta"),n=k.f,r=0,i=Object.isExtensible||function(){return!0},o=!m(function(){return i(Object.preventExtensions({}))}),a=function(t){n(t,e,{value:{i:"O"+ ++r,w:{}}})},s=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!v(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!M(t,e)){if(!i(t))return"F";if(!n)return"E";a(t)}return t[e].i},getWeak:function(t,n){if(!M(t,e)){if(!i(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return o&&s.NEED&&i(t)&&!M(t,e)&&a(t),t}}}),St=(Tt.KEY,Tt.NEED,Tt.fastKey,Tt.getWeak,Tt.onFreeze,k.f),Ot=Q("toStringTag"),Mt=function(t,e,n){t&&!M(t=n?t:t.prototype,Ot)&&St(t,Ot,{configurable:!0,value:e})},At={f:Q},Pt=k.f,It=function(t){var e=p.Symbol||(p.Symbol=d.Symbol||{});"_"==t.charAt(0)||t in e||Pt(e,t,{value:At.f(t)})},Nt=y?Object.defineProperties:function(t,e){g(t);for(var n,r=mt(e),i=r.length,o=0;i>o;)k.f(t,n=r[o++],e[n]);return t},Dt=d.document,Rt=Dt&&Dt.documentElement,jt=ft("IE_PROTO"),Lt=function(){},Ft=function(){var t,e=w("iframe"),n=gt.length;for(e.style.display="none",Rt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Ft=t.F;n--;)delete Ft.prototype[gt[n]];return Ft()},Bt=Object.create||function(t,e){var n;return null!==t?(Lt.prototype=g(t),n=new Lt,Lt.prototype=null,n[jt]=t):n=Ft(),void 0===e?n:Nt(n,e)},$t=gt.concat("length","prototype"),Ut={f:Object.getOwnPropertyNames||function(t){return vt(t,$t)}},zt=Ut.f,qt={}.toString,Vt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ht={f:function(t){return Vt&&"[object Window]"==qt.call(t)?function(t){try{return zt(t)}catch(t){return Vt.slice()}}(t):zt(ut(t))}},Wt=Object.getOwnPropertyDescriptor,Gt={f:y?Wt:function(t,e){if(t=ut(t),e=E(e,!0),x)try{return Wt(t,e)}catch(t){}if(M(t,e))return T(!bt.f.call(t,e),t[e])}},Kt=Tt.KEY,Yt=Gt.f,Qt=k.f,Xt=Ht.f,Jt=d.Symbol,Zt=d.JSON,te=Zt&&Zt.stringify,ee=Q("_hidden"),ne=Q("toPrimitive"),re={}.propertyIsEnumerable,ie=Y("symbol-registry"),oe=Y("symbols"),ae=Y("op-symbols"),se=Object.prototype,ue="function"==typeof Jt,ce=d.QObject,le=!ce||!ce.prototype||!ce.prototype.findChild,he=y&&m(function(){return 7!=Bt(Qt({},"a",{get:function(){return Qt(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=Yt(se,e);r&&delete se[e],Qt(t,e,n),r&&t!==se&&Qt(se,e,r)}:Qt,fe=function(t){var e=oe[t]=Bt(Jt.prototype);return e._k=t,e},de=ue&&"symbol"==typeof Jt.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof Jt},pe=function(t,e,n){return t===se&&pe(ae,e,n),g(t),e=E(e,!0),g(n),M(oe,e)?(n.enumerable?(M(t,ee)&&t[ee][e]&&(t[ee][e]=!1),n=Bt(n,{enumerable:T(0,!1)})):(M(t,ee)||Qt(t,ee,T(1,{})),t[ee][e]=!0),he(t,e,n)):Qt(t,e,n)},ve=function(t,e){g(t);for(var n,r=function(t){var e=mt(t),n=yt.f;if(n)for(var r,i=n(t),o=bt.f,a=0;i.length>a;)o.call(t,r=i[a++])&&e.push(r);return e}(e=ut(e)),i=0,o=r.length;o>i;)pe(t,n=r[i++],e[n]);return t},ge=function(t){var e=re.call(this,t=E(t,!0));return!(this===se&&M(oe,t)&&!M(ae,t))&&(!(e||!M(this,t)||!M(oe,t)||M(this,ee)&&this[ee][t])||e)},me=function(t,e){if(t=ut(t),e=E(e,!0),t!==se||!M(oe,e)||M(ae,e)){var n=Yt(t,e);return!n||!M(oe,e)||M(t,ee)&&t[ee][e]||(n.enumerable=!0),n}},ye=function(t){for(var e,n=Xt(ut(t)),r=[],i=0;n.length>i;)M(oe,e=n[i++])||e==ee||e==Kt||r.push(e);return r},be=function(t){for(var e,n=t===se,r=Xt(n?ae:ut(t)),i=[],o=0;r.length>o;)!M(oe,e=r[o++])||n&&!M(se,e)||i.push(oe[e]);return i};ue||(N((Jt=function(){if(this instanceof Jt)throw TypeError("Symbol is not a constructor!");var t=I(arguments.length>0?arguments[0]:void 0),e=function(n){this===se&&e.call(ae,n),M(this,ee)&&M(this[ee],t)&&(this[ee][t]=!1),he(this,t,T(1,n))};return y&&le&&he(se,t,{configurable:!0,set:e}),fe(t)}).prototype,"toString",function(){return this._k}),Gt.f=me,k.f=pe,Ut.f=Ht.f=ye,bt.f=ge,yt.f=be,y&&N(se,"propertyIsEnumerable",ge,!0),At.f=function(t){return fe(Q(t))}),j(j.G+j.W+j.F*!ue,{Symbol:Jt});for(var _e="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),we=0;_e.length>we;)Q(_e[we++]);for(var xe=mt(Q.store),Ee=0;xe.length>Ee;)It(xe[Ee++]);j(j.S+j.F*!ue,"Symbol",{for:function(t){return M(ie,t+="")?ie[t]:ie[t]=Jt(t)},keyFor:function(t){if(!de(t))throw TypeError(t+" is not a symbol!");for(var e in ie)if(ie[e]===t)return e},useSetter:function(){le=!0},useSimple:function(){le=!1}}),j(j.S+j.F*!ue,"Object",{create:function(t,e){return void 0===e?Bt(t):ve(Bt(t),e)},defineProperty:pe,defineProperties:ve,getOwnPropertyDescriptor:me,getOwnPropertyNames:ye,getOwnPropertySymbols:be}),Zt&&j(j.S+j.F*(!ue||m(function(){var t=Jt();return"[null]"!=te([t])||"{}"!=te({a:t})||"{}"!=te(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(v(e)||void 0!==t)&&!de(t))return G(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!de(e))return e}),r[1]=e,te.apply(Zt,r)}}),Jt.prototype[ne]||S(Jt.prototype,ne,Jt.prototype.valueOf),Mt(Jt,"Symbol"),Mt(Math,"Math",!0),Mt(d.JSON,"JSON",!0);var Ce=Q("toStringTag"),ke="Arguments"==F(function(){return arguments}()),Te={};Te[Q("toStringTag")]="z",Te+""!="[object z]"&&N(Object.prototype,"toString",function(){return"[object "+(void 0===(t=this)?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Ce))?n:ke?F(e):"Object"==(r=F(e))&&"function"==typeof e.callee?"Arguments":r)+"]";var t,e,n,r},!0),It("asyncIterator"),It("observable");p.Symbol;var Se={},Oe={};S(Oe,Q("iterator"),function(){return this});var Me,Ae=function(t,e,n){t.prototype=Bt(Oe,{next:T(1,n)}),Mt(t,e+" Iterator")},Pe=ft("IE_PROTO"),Ie=Object.prototype,Ne=Object.getPrototypeOf||function(t){return t=U(t),M(t,Pe)?t[Pe]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Ie:null},De=Q("iterator"),Re=!([].keys&&"next"in[].keys()),je=function(){return this},Le=function(t,e,n,r,i,o,a){Ae(n,e,r);var s,u,c,l=function(t){if(!Re&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+" Iterator",f="values"==i,d=!1,p=t.prototype,v=p[De]||p["@@iterator"]||i&&p[i],g=v||l(i),m=i?f?l("entries"):g:void 0,y="Array"==e&&p.entries||v;if(y&&(c=Ne(y.call(new t)))!==Object.prototype&&c.next&&(Mt(c,h,!0),"function"!=typeof c[De]&&S(c,De,je)),f&&v&&"values"!==v.name&&(d=!0,g=function(){return v.call(this)}),(Re||d||!p[De])&&S(p,De,g),Se[e]=g,Se[h]=je,i)if(s={values:f?g:l("values"),keys:o?g:l("keys"),entries:m},a)for(u in s)u in p||N(p,u,s[u]);else j(j.P+j.F*(Re||d),e,s);return s},Fe=(Me=!0,function(t,e){var n,r,i=String($(t)),o=V(e),a=i.length;return o<0||o>=a?Me?"":void 0:(n=i.charCodeAt(o))<55296||n>56319||o+1===a||(r=i.charCodeAt(o+1))<56320||r>57343?Me?i.charAt(o):n:Me?i.slice(o,o+2):r-56320+(n-55296<<10)+65536});Le(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=Fe(e,n),this._i+=t.length,{value:t,done:!1})});var Be=function(t,e){return{value:e,done:!!t}},$e=Le(Array,"Array",function(t,e){this._t=ut(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Be(1)):Be(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");Se.Arguments=Se.Array,nt("keys"),nt("values"),nt("entries");for(var Ue=Q("iterator"),ze=Q("toStringTag"),qe=Se.Array,Ve={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},He=mt(Ve),We=0;We<He.length;We++){var Ge,Ke=He[We],Ye=Ve[Ke],Qe=d[Ke],Xe=Qe&&Qe.prototype;if(Xe&&(Xe[Ue]||S(Xe,Ue,qe),Xe[ze]||S(Xe,ze,Ke),Se[Ke]=qe,Ye))for(Ge in $e)Xe[Ge]||N(Xe,Ge,$e[Ge],!0)}At.f("iterator")}.call(e,n("DuR2"))},DQCr:function(t,e,n){"use strict";var r=n("cGG2");function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,function(t,e){null!==t&&void 0!==t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))}))}),o=a.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},DZbR:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("vwbq"),i=n("ATXD"),o=n("tW1G"),a=n("7B5G");!function(t,e){if("undefined"==typeof document)return e;t=t||"";var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}('.d2b-draggable{cursor:move}.d2b-vue-container{width:100%;height:100%}.d2b-pie-chart .d2b-pie-arc path{stroke-width:1px;stroke:#fff}.d2b-pie-chart .d2b-pie-arc text{fill:#fff;font-weight:700;pointer-events:none;text-anchor:middle}.d2b-axis-wrapper .d2b-axis-background{opacity:0}.d2b-chart-breadcrumbs{width:200px;padding-left:10px}.d2b-sunburst-breadcrumb .d2b-sunburst-label,.d2b-sunburst-tooltip .d2b-sunburst-label{text-align:center}.d2b-sunburst-breadcrumb .d2b-sunburst-value,.d2b-sunburst-tooltip .d2b-sunburst-value{font-size:14pt;margin-top:5px}.d2b-sunburst-breadcrumb .d2b-sunburst-percent{float:right}.d2b-breadcrumbs:not(.d2b-vertical) .d2b-sunburst-percent{margin-left:30px}.d2b-sunburst-tooltip{text-align:center}.d2b-sunburst-tooltip .d2b-sunburst-percent{display:inline}.d2b-sunburst-tooltip .d2b-sunburst-percent:before{content:"("}.d2b-sunburst-tooltip .d2b-sunburst-percent:after{content:")"}.d2b-sankey-link-arrow{font-size:10px;position:relative;top:-2px}.d2b-line-graph .d2b-line{stroke-width:1.5px;fill:none}.d2b-area-graph .d2b-area{stroke:none;fill-opacity:0.3}.d2b-box .d2b-box-center,.d2b-box .d2b-box-dash,.d2b-box .d2b-box-outlier,.d2b-box .d2b-box-rect{stroke-width:1.5px}.d2b-box .d2b-box-rect{fill:#fff}.d2b-box .d2b-box-center{stroke-dasharray:3 3}.d2b-box .d2b-box-label{fill:#555;font-size:10pt}.d2b-box .d2b-box-outlier{fill:none;stroke-opacity:0.4}\n/*.d2b-box-graph {\n  .d2b-box-dash,\n  .d2b-box-center,\n  .d2b-box-rect,\n  .d2b-box-outlier {\n    stroke-width: 1.5px;\n  }\n\n  .d2b-box-rect {\n    fill: #fff;\n  }\n\n  .d2b-box-center {\n    stroke-dasharray: 3 3;\n  }\n\n  .d2b-box-label {\n    fill: #555;\n    font-size: 10pt;\n    dominant-baseline: middle;\n  }\n\n  .d2b-box-outlier {\n    fill: none;\n    stroke: #888;\n    opacity: 0.4;\n  }\n}*/.d2b-bar-graph .d2b-bar-group rect{opacity:0.8}.d2b-bubble-pack-graph .d2b-bubble-point{opacity:0.75}.d2b-bubble-pack-graph .d2b-bubble-indicator rect{fill-opacity:0.25;stroke-opacity:0.9;cursor:pointer;stroke-width:1px}.d2b-bubble-pack-graph .d2b-bubble-indicator rect:hover{stroke-width:2px}.d2b-bubble-pack-graph .d2b-bubble-indicator path,.d2b-bubble-pack-graph .d2b-bubble-indicator text{pointer-events:none}.d2b-plane text{font-size:10pt}.d2b-plane .d2b-y2-axis .d2b-axis-label,.d2b-plane .d2b-y-axis .d2b-axis-label{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.d2b-plane .d2b-y2-axis .tick line,.d2b-plane .d2b-y-axis .tick line{stroke-width:0.6px}.d2b-plane .d2b-grid .tick line{shape-rendering:crispEdges;stroke-width:0.5px;stroke-opacity:0.15}.d2b-plane .d2b-grid .tick text{display:none}.d2b-plane .d2b-axis-label{fill:#000;font-weight:700}.d2b-plane path.domain{stroke-width:0.4px;stroke-opacity:0.4}.d2b-sunburst-arc{transition:opacity 0.2s,stroke-width 0.2s;cursor:pointer;opacity:0.9;stroke-width:0.8px;stroke:#fff}.d2b-sunburst-arc.d2b-transparent{fill-opacity:0.2}.d2b-sunburst-label{font-size:8pt;fill-opacity:0.8;pointer-events:none;font-family:arial}.d2b-sunburst-label.d2b-transparent{fill-opacity:0.2}.d2b-sunburst-center{fill-opacity:0;stroke:none;cursor:pointer}.d2b-sunburst-ancestor{opacity:0.4}.d2b-sankey-links path{fill:none}.d2b-sankey-links path,.d2b-sankey-links rect{opacity:0.4}.d2b-sankey-links path:hover,.d2b-sankey-links rect:hover{opacity:0.6}.d2b-sankey-nodes rect{stroke-width:0.3px;stroke:#000;opacity:0.6}.d2b-sankey-nodes rect:hover{opacity:0.8}.d2b-text-anchor-end{text-anchor:end}\n/*.d2b-tooltip-area {\n  pointer-events: none;*/.d2b-tooltip{pointer-events:none;background:#fff;border:1px solid #bbb;border-radius:2px;position:fixed;box-shadow:0px 0px 2px #ccc;margin:0}.d2b-tooltip:before{left:0;top:0;position:absolute;z-index:2;content:""}.d2b-tooltip-content{white-space:nowrap;padding:6px 10px}.d2b-tooltip-top{-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%);margin-left:0;margin-top:-15px}.d2b-tooltip-top:before{-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%;top:100%;width:0;height:0;border-style:solid;border-color:transparent;border-width:6px 6px 0;border-top-color:inherit}.d2b-tooltip-bottom{-webkit-transform:translate(-50%,0);transform:translate(-50%,0);margin-left:0;margin-top:15px}.d2b-tooltip-bottom:before{-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%;top:-6px;width:0;height:0;border-style:solid;border-color:transparent;border-width:0 6px 6px;border-bottom-color:inherit}.d2b-tooltip-right{-webkit-transform:translate(0,-50%);transform:translate(0,-50%);margin-left:15px;margin-top:0}.d2b-tooltip-right:before{-webkit-transform:translateY(-50%);transform:translateY(-50%);left:-6px;top:50%;width:0;height:0;border-style:solid;border-color:transparent;border-width:6px 6px 6px 0;border-right-color:inherit}.d2b-tooltip-left{-webkit-transform:translate(-100%,-50%);transform:translate(-100%,-50%);margin-left:-15px;margin-top:0}.d2b-tooltip-left:before{-webkit-transform:translateY(-50%);transform:translateY(-50%);left:100%;top:50%;width:0;height:0;border-style:solid;border-color:transparent;border-width:6px 0 6px 6px;border-left-color:inherit}\n/*}*/\n/*.d2b-tooltip-axis-area {\n  pointer-events: none;\n  font-family: \'Arial\';*/.d2b-tooltip-marker{stroke-width:2px;stroke:#bbb;stroke-dasharray:5,5}.d2b-tooltip-axis{pointer-events:none;font-family:Arial;opacity:0.9;white-space:nowrap;border:1px solid #ddd;background:hsla(0,0%,100%,.8);position:absolute;box-shadow:0px 0px 2px #ccc}.d2b-tooltip-axis .d2b-tooltip-title{text-align:center;background:rgba(150,165,175,.8);padding:5px 10px;font-weight:700;color:#fff}.d2b-tooltip-axis .d2b-tooltip-content{padding:5px 10px}.d2b-tooltip-axis .d2b-tooltip-content .d2b-tooltip-row{padding-left:5px;border-left-width:3px;border-left-style:solid;margin-bottom:5px}.d2b-tooltip-axis .d2b-tooltip-content .d2b-tooltip-row:last-child{margin-bottom:0px}\n/*}*/.d2b-breadcrumbs{color:#555;font-size:9pt;box-sizing:content-box}.d2b-breadcrumbs .d2b-breadcrumb{border:0px solid transparent;border-left-width:8px;border-bottom-width:1px;padding:6px 13px;margin-bottom:10px;text-transform:uppercase;position:relative}.d2b-breadcrumbs .d2b-breadcrumb:first-child .d2b-breadcrumb-icon:after,.d2b-breadcrumbs .d2b-breadcrumb:last-child .d2b-breadcrumb-icon:after{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);left:-15.5px;width:13px;height:13px;text-align:center;font-family:FontAwesome;color:#fff;background-color:inherit;padding:5px;border-radius:15px}.d2b-breadcrumbs .d2b-breadcrumb:first-child .d2b-breadcrumb-icon:after{content:"\\f015"}.d2b-breadcrumbs .d2b-breadcrumb:not(:first-child):last-child .d2b-breadcrumb-icon:after{content:"\\f25a"}.d2b-breadcrumbs:not(.d2b-vertical){white-space:nowrap}.d2b-breadcrumbs:not(.d2b-vertical) .d2b-breadcrumb{border-right-width:1px;border-top-width:1px;white-space:nowrap;display:inline-block}.d2b-breadcrumbs:not(.d2b-vertical) .d2b-breadcrumb:not(:last-child){margin-right:20px}.d2b-breadcrumbs:not(.d2b-vertical) .d2b-breadcrumb:not(:last-child):after{width:0;height:0;border-style:solid;border-color:transparent;border-width:6px 0 6px 6px;border-left-color:inherit;position:absolute;z-index:2;content:"";top:50%;left:100%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.d2b-breadcrumbs.d2b-vertical .d2b-breadcrumb{/*&:after {\n      triangle: pointing-right;\n      width: 100px;\n      height: 100px;\n      background-color: inherit;\n      position: absolute;\n      z-index: 2;\n      content: \'\';\n\n      top: 100%;\n      left: 50%;\n\n      transform: translateX(-50%);\n\n    }*/}.d2b-breadcrumbs.d2b-vertical .d2b-breadcrumb:not(:last-child):after{width:0;height:0;border-style:solid;border-color:transparent;border-width:6px 6px 0;border-top-color:inherit;position:absolute;z-index:2;content:"";top:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.stuff{display:none}.d2b-legend{color:#555;font-size:9pt}.d2b-legend .d2b-legend-item{border:0px solid transparent;padding:2px;padding-left:18px;position:relative;cursor:pointer}.d2b-legend .d2b-legend-item .d2b-legend-icon{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);left:7px;width:12px;height:12px}.d2b-legend .d2b-legend-item .d2b-legend-svg-icon{margin-left:-5px;margin-top:-5px;pointer-events:none}.d2b-legend .d2b-legend-item .d2b-legend-svg-icon path,.d2b-legend .d2b-legend-item .d2b-legend-svg-icon text{font-family:FontAwesome;text-anchor:middle;stroke-width:1px;fill-opacity:0.8}.d2b-legend:not(.d2b-vertical) .d2b-legend-item{display:inline-block}.d2b-legend:not(.d2b-vertical) .d2b-legend-item:not(:last-child){margin-right:10px}.d2b-legend:not(.d2b-vertical) .d2b-legend-icon{margin-top:1.5px}.d2b-chart-frame{height:100%;width:100%;position:relative}.d2b-chart-frame .d2b-breadcrumbs-frame,.d2b-chart-frame .d2b-chart,.d2b-chart-frame .d2b-legend-frame{position:absolute;overflow:auto}.d2b-chart-frame .d2b-breadcrumbs-frame .d2b-breadcrumbs,.d2b-chart-frame .d2b-legend-frame .d2b-breadcrumbs{padding-left:10px;padding-right:2px}.d2b-chart-frame .d2b-breadcrumbs-frame:not(.d2b-vertical),.d2b-chart-frame .d2b-legend-frame:not(.d2b-vertical){overflow-y:hidden}.d2b-chart-frame .d2b-breadcrumbs-frame:not(.d2b-vertical) .d2b-breadcrumbs,.d2b-chart-frame .d2b-breadcrumbs-frame:not(.d2b-vertical) .d2b-legend,.d2b-chart-frame .d2b-breadcrumbs-frame:not(.d2b-vertical) .d2b-legend-item,.d2b-chart-frame .d2b-legend-frame:not(.d2b-vertical) .d2b-breadcrumbs,.d2b-chart-frame .d2b-legend-frame:not(.d2b-vertical) .d2b-legend,.d2b-chart-frame .d2b-legend-frame:not(.d2b-vertical) .d2b-legend-item{white-space:nowrap;overflow-y:hidden}.d2b-chart-frame .d2b-breadcrumbs-frame:not(.d2b-vertical).d2b-legend-frame,.d2b-chart-frame .d2b-legend-frame:not(.d2b-vertical).d2b-legend-frame{height:20px;text-align:center}.d2b-chart-frame .d2b-breadcrumbs-frame:not(.d2b-vertical).d2b-breadcrumbs-frame,.d2b-chart-frame .d2b-legend-frame:not(.d2b-vertical).d2b-breadcrumbs-frame{height:55px}.d2b-chart-frame .d2b-breadcrumbs-frame.d2b-vertical .d2b-breadcrumbs-container,.d2b-chart-frame .d2b-breadcrumbs-frame.d2b-vertical .d2b-legend-container,.d2b-chart-frame .d2b-legend-frame.d2b-vertical .d2b-breadcrumbs-container,.d2b-chart-frame .d2b-legend-frame.d2b-vertical .d2b-legend-container{display:table;height:100%;width:100%}.d2b-chart-frame .d2b-breadcrumbs-frame.d2b-vertical .d2b-breadcrumbs-container .d2b-legend,.d2b-chart-frame .d2b-breadcrumbs-frame.d2b-vertical .d2b-legend-container .d2b-legend,.d2b-chart-frame .d2b-legend-frame.d2b-vertical .d2b-breadcrumbs-container .d2b-legend,.d2b-chart-frame .d2b-legend-frame.d2b-vertical .d2b-legend-container .d2b-legend{display:table-cell;vertical-align:middle}.d2b-chart-frame .d2b-breadcrumbs-frame.d2b-vertical .d2b-breadcrumbs-container .d2b-breadcrumbs,.d2b-chart-frame .d2b-breadcrumbs-frame.d2b-vertical .d2b-legend-container .d2b-breadcrumbs,.d2b-chart-frame .d2b-legend-frame.d2b-vertical .d2b-breadcrumbs-container .d2b-breadcrumbs,.d2b-chart-frame .d2b-legend-frame.d2b-vertical .d2b-legend-container .d2b-breadcrumbs{display:table-cell;vertical-align:top}.d2b-chart-frame .d2b-breadcrumbs-frame.d2b-vertical.d2b-breadcrumbs-frame,.d2b-chart-frame .d2b-legend-frame.d2b-vertical.d2b-breadcrumbs-frame{width:180px}.d2b-chart-frame .d2b-breadcrumbs-frame.d2b-vertical.d2b-legend-frame,.d2b-chart-frame .d2b-legend-frame.d2b-vertical.d2b-legend-frame{width:110px}',void 0);function s(t){return"function"==typeof t?t:function(){return t}}function u(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0];return e.forEach(function(t){null!==r&&void 0!==r&&!1!==r||(r=t)}),r}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t.label},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"start";e=s(e),n=s(n),i=s(i),t.each(function(t,o){var a=r.select(this),s=(""+e.call(this,t,o)).split(/\s+/).reverse(),c=void 0,l=[],h=[s.pop()],f=n.call(this,t,o),d=i.call(this,t,o),p=+a.attr("x"),v=+a.attr("y"),g=parseFloat(a.attr("dy"))||0;for(-1===u(a.html(),"").indexOf("tspan")&&a.text(""),c=s.pop();c;)h.join(" ").length+c.length>f&&(l.push(h),h=[]),h.push(c),c=s.pop();l.push(h);var m=a.selectAll("tspan").data(l),y=1.1*(l.length-1),b="end"===d?y:"middle"===d?y/2:0;m.merge(m.enter().append("tspan")).text(function(t){return t.join(" ")}).attr("x",p).attr("y",v).attr("dy",function(t,e){return g+1.1*e-b+"em"})})}function l(t,e){function n(t){return{innerRadius:e.innerRadius()(t),outerRadius:e.outerRadius()(t),startAngle:e.startAngle()(t),endAngle:e.endAngle()(t)}}if(!t.selection)return t.attr("d",function(t){return this.current=n(t),e(t)});t.attrTween("d",function(t){var i=this;t=n(t),this.current=this.current||t;var o=r.interpolate(this.current,t);return function(t){return i.current=o(t),e(i.current)}})}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return isNaN(t)||null===t?e:t}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};if(e=s(e),!t.selection)return t.text(function(t,r){return this.current=h(e.call(this,t,r)),n(this.current)});t.tween("text",function(t,i){var o=this,a=h(e.call(this,t,i));this.current=h(this.current,a);var s=r.interpolate(this.current,a);return function(t){o.textContent=n(o.current=s(t))}})}function d(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t.rotate};function i(t){return{innerRadius:e.innerRadius()(t),outerRadius:e.outerRadius()(t),startAngle:e.startAngle()(t),endAngle:e.endAngle()(t),rotate:n(t)||0}}if(n=s(n),!t.selection)return t.attr("transform",function(t){return this.current=i(t),"translate("+e.centroid(this.current)+")rotate("+this.current.rotate+")"});t.attrTween("transform",function(t){var n=this;t=i(t),this.current=this.current||t;var o=r.interpolate(this.current,t);return function(t){return n.current=o(t),"translate("+e.centroid(n.current)+") rotate("+(n.current.rotate||0)+")"}})}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2],o=function(e,r){return function(i){if(!arguments.length)return n[e];var o=n[e];return n[e]=i,r&&r(i,o),t}},a=function(e,r){return function(i){if(!arguments.length)return n[e];var o=n[e];return n[e]=s(i),r&&r(n[e],o),t}},u={base:function(){return t},values:function(){return n},removeProp:function(e){return-1!==i.indexOf(e)?u:(n[e]=null,t[e]=null,u)},addProp:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o(e),a=arguments[3];return n[e]||t[e]?u:((i=i||o(e,a))(r),t[e]=i,u)},addPropGet:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return function(){return n[t]}}(e);return n[e]||t[e]?u:(n[e]=r,t[e]=i,u)},addMethod:function(e,n){return t[e]?u:(t[e]=n,u)},addPropFunctor:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a(e),o=arguments[3];return n[e]||t[e]?u:((i=i||a(e,o))(r),t[e]=i,u)},addScaleFunctor:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,r){return function(i){if(!arguments.length)return n[e];var o=n[e];return i&&i.domain?n[e]=function(){return i}:n[e]=s(i),r&&r(n[e],o),t}}(e),o=arguments[3];return u.addProp(e,r,i,o)},addDispatcher:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"on",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"dispatch";return t[o]?u:n[a]?u:(t[o]=function(e,r){return 0===arguments.length?n[a]:1===arguments.length?n[a].on(e):(n[a].on(e,r),t)},n[a]=r.dispatch.apply(e,i),u)}};return u}var v=function(){return"ontouchstart"in window||window.navigator.msPointerEnabled};function g(){var t={},e=function t(e){var r=e.selection?e.selection():e;return r.on(a("mouseover"),n).on(a("mouseout"),o),v()?r.on(a("click"),o):r.on(a("mousemove"),i),t},n=function(e,n){var r=t.container.selectAll(".d2b-tooltip").data(function(t){return[t]}),o=r.enter().append("div").style("opacity",0).attr("class","d2b-tooltip");o.append("div").attr("class","d2b-tooltip-content"),(r=r.merge(o)).transition().duration(100).style("opacity",1),t.dispatch.call("insert",r,this,e,n),i.call(this,e,n)},i=function(e,n){var i=t.html.call(this,e,n),o=t.target.call(this,e,n),a=t.color.call(this,e,n),s=o?o.node():this,u=t.followMouse.call(this,e,n)?{x:r.event.clientX,y:r.event.clientY}:function(e,n){var i=this.getBoundingClientRect(),o={},a=(t.at.call(this,e,n)||(r.event.clientX>window.innerWidth/2?"center left":"center right")).split(" ");switch((a={x:a[1],y:a[0]}).x){case"left":o.x=i.left;break;case"center":o.x=i.left+i.width/2;break;default:o.x=i.left+i.width}switch(a.y){case"bottom":o.y=i.top+i.height;break;case"center":o.y=i.top+i.height/2;break;default:o.y=i.top}return o}.call(s,e,n),c=t.container.selectAll(".d2b-tooltip").data(function(t){return[t]}),l=t.my.call(this,e,n)||(r.event.clientX>window.innerWidth/2?"left":"right");c.attr("class","d2b-tooltip d2b-tooltip-"+l).style("top",u.y+"px").style("left",u.x+"px").style("border-color",a).select(".d2b-tooltip-content").html(i),t.dispatch.call("move",c,this,e,n)},o=function(e,n){var r=t.container.selectAll(".d2b-tooltip").data(function(t){return[t]});r.transition().duration(100).style("opacity",0).remove(),t.dispatch.call("remove",r,this,e,n)},a=function(t){return t+".d2b-tooltip"};return p(e,t).addProp("container",r.select("body")).addMethod("clear",function(t){return(t.selection?t.selection():t).on(a("mouseover"),null).on(a("mouseout"),null).on(a("mousemove"),null),e}).addPropFunctor("followMouse",!1).addPropFunctor("color",null).addPropFunctor("my",null).addPropFunctor("at",null).addPropFunctor("target",null).addPropFunctor("html",null).addDispatcher(["insert","move","remove"]),e}function m(){var t={},e={},n=function(e,n,r){if("y"===r){if(n.y===1/0)return e.style("opacity",0);e.style("opacity",1).attr("transform","translate(0, "+n.y+")").attr("y1",0).attr("y2",0).attr("x1",0).attr("x2",t.size.width)}else{if(n.x===1/0)return e.style("opacity",0);e.style("opacity",1).attr("transform","translate("+n.x+", 0)").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",t.size.height)}},i=function(e,n,i){if(e.node()){var o=e.node().getBoundingClientRect(),a=i.x,s=i.y;t.trackY?n.y>t.size.height/2?s+=n.y-10-o.height:s+=n.y+10:s=r.event.clientY-i.y>t.size.height/2?r.event.clientY-10-o.height:r.event.clientY+10,t.trackX?n.x>t.size.width/2?a+=n.x-10-o.width:a+=n.x+10:a=r.event.clientX-i.x>t.size.width/2?r.event.clientX-10-o.width:r.event.clientX+10,a+=window.pageXOffset,s+=window.pageYOffset,e.style("left",a+"px").style("top",s+"px")}},o=function(e,n){var r=t.title(n.points.map(function(t){return t.data}));e.select(".d2b-tooltip-title").style("display",r?"block":"none").html(r);var i=e.select(".d2b-tooltip-content").selectAll(".d2b-tooltip-row").data(n.points),o=i.enter().append("div").attr("class","d2b-tooltip-row");i.exit().remove(),i=i.merge(o).html(function(t){return t.row}).style("border-left-color",function(t){return t.color||"transparent"})},a=function(t){t.transition().duration(50).style("opacity",0).remove()},s=function(t){t.transition().duration(50).style("opacity",1)},c=function(){t.svgContainer.selectAll(".d2b-tooltip-marker-x").data([]).exit().call(a),t.svgContainer.selectAll(".d2b-tooltip-marker-y").data([]).exit().call(a),t.htmlContainer.selectAll(".d2b-tooltip").data([]).exit().call(a)},l=function(a,l){var h=t.svgContainer.selectAll(".d2b-tooltip-base").data([a]),f=(h=h.merge(h.enter().append("rect").attr("class","d2b-tooltip-base"))).node().getBoundingClientRect(),p=function(e){var n=r.event.clientX-e.x,i=r.event.clientY-e.y,o=1/0,a=1/0,s=[];for(var c in d)if(d.hasOwnProperty(c)){var l=d[c],h=function(e){if(!l.hasOwnProperty(e))return"continue";var r=l[e],c=[];r.config.data.forEach(function(e,l){var h={data:e,x:u(r.config.x(e,l),t.x(e,l)),y:u(r.config.y(e,l),t.y(e,l)),color:u(r.config.color(e,l),t.color(e,l)),row:u(r.config.row(e,l),t.row(e,l))};if(t.trackX&&t.trackY){if(h.x===o&&h.y===a)return c.push(h);var f=Math.sqrt(Math.pow(o-n,2)+Math.pow(a-i,2)),d=Math.sqrt(Math.pow(h.x-n,2)+Math.pow(h.y-i,2));d<f&&d<t.threshold&&(o=h.x,a=h.y,s=[],c=[h])}else if(t.trackX){if(h.x===o)return c.push(h);var p=Math.abs(o-n),v=Math.abs(h.x-n);v<p&&v<t.threshold&&(o=h.x,s=[],c=[h])}else if(t.trackY){if(h.y===a)return c.push(h);var g=Math.abs(a-i),m=Math.abs(h.y-i);m<g&&m<t.threshold&&(a=h.y,s=[],c=[h])}}),s=s.concat(c)};for(var f in l)h(f)}return s=s.sort(function(t,e){return r.ascending(t.x,e.x)||r.ascending(t.y,e.y)}),{x:o,y:a,points:s}}(f={x:f.left,y:f.top});if(!p.points.length)return c();!function(n,r){var i=t.svgContainer.selectAll(".d2b-tooltip-marker-x").data(t.trackX?[e]:[]),o=i.enter().append("line").attr("class","d2b-tooltip-marker-x d2b-tooltip-marker"),a=t.svgContainer.selectAll(".d2b-tooltip-marker-y").data(t.trackY?[e]:[]),u=a.enter().append("line").attr("class","d2b-tooltip-marker-y d2b-tooltip-marker"),c=t.htmlContainer.selectAll(".d2b-tooltip").data([e]),l=c.enter().append("div").attr("class","d2b-tooltip d2b-tooltip-axis");l.merge(c).call(s),a.merge(u).call(s),i.merge(o).call(s),l.append("div").attr("class","d2b-tooltip-title"),l.append("div").attr("class","d2b-tooltip-content"),t.dispatch.call("insert",t.tooltip,n,r)}(),t.svgContainer.select(".d2b-tooltip-marker-x").call(n,p,"x"),t.svgContainer.select(".d2b-tooltip-marker-y").call(n,p,"y"),t.htmlContainer.select(".d2b-tooltip").call(o,p).call(i,p,f),t.dispatch.call("move",t.tooltip,a,l)},h=function(e,n){c(),t.dispatch.call("remove",t.tooltip,e,n)},f=function(t){return t+".d2b-tooltip-axis"};p(e,t).addProp("htmlContainer",r.select("body")).addProp("svgContainer",null).addProp("tracker",r.select("body"),null,function(t,e){e&&e.on(f("mouseout"),null).on(f("mousemove"),null),t&&t.on(f("mouseout"),h).on(f("mousemove"),l)}).addProp("size",{height:0,width:0}).addProp("trackX",!0).addProp("trackY",!1).addProp("threshold",1/0).addMethod("clear",function(t,n){return 0===arguments.length?d={}:1===arguments.length?delete d[t]:arguments.length>=2&&delete d[t][n],e}).addPropFunctor("title",null).addPropFunctor("x",function(t){return t.x}).addPropFunctor("y",function(t){return t.y}).addPropFunctor("color",null).addPropFunctor("row",null).addDispatcher(["move","insert","remove"]);var d={};return e.graph=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=d[t]=d[t]||{},r=n[e];r||p((r=n[e]={interface:{},config:{}}).interface,r.config).addProp("data",[]).addMethod("clear",function(){return r.config.data=[],r.interface}).addMethod("addPoint",function(t){return r.config.data.push(t),r.interface}).addPropFunctor("x",null).addPropFunctor("y",null).addPropFunctor("color",null).addPropFunctor("row",null);return r.interface},e}function y(){var t={},e=function(e){var n=this,i=e,o=[],a=(e=e.map(t.values)).map(function(e){var r={};return e.forEach(function(e,i){var a=t.x.call(n,e,i);o.push(a),r[a]=t.y.call(n,e,i)}),r}),s=(o=r.set(o).values()).reduce(function(t,e,n){return t[e]=n,t},{}),u=r.range(0,e.length),c=o.map(function(t){return a.map(function(e){return e[t]||0})});t.stack.keys(u).value(function(t,e){return t[e]||0});var l=t.stack(c);return e.forEach(function(e,r){e.forEach(function(e,i){var o=t.x.call(n,e,i),a=l[r][s[o]];t.out.call(n,e,a[0],a[1],o)})}),i};return p(e,t).addProp("stack",r.stack()).addPropFunctor("values",function(t){return t}).addPropFunctor("x",function(t){return t.x}).addPropFunctor("y",function(t){return t.y}).addProp("out",function(t,e,n){t.y0=e,t.y1=n}),e}function b(){var t={},e=function e(n){var r=n.selection?n.selection():n,i=r.selectAll(".d2b-breadcrumbs").data(function(t){return[t]}),o=i.enter().append("div").attr("class","d2b-breadcrumbs"),a=(i=i.merge(o).classed("d2b-vertical",t.vertical)).selectAll(".d2b-breadcrumb").data(t.values,t.key),s=a.exit(),u=a.enter().append("div").attr("class","d2b-breadcrumb").style("opacity",0);return u.append("div").attr("class","d2b-breadcrumb-icon"),u.append("div").attr("class","d2b-breadcrumb-content"),(a=a.merge(u).order()).select(".d2b-breadcrumb-content").html(t.html),n!==r&&(a=a.transition(n),s=s.transition(n).style("opacity",0)),a.style("border-color",t.color).style("opacity",1).select(".d2b-breadcrumb-icon").style("background-color",t.color),s.remove(),r.dispatch("breadcrumbs-updated",{bubbles:!0}),e};return p(e,t).addPropFunctor("values",function(t){return t}).addPropFunctor("key",function(t,e){return e}).addPropFunctor("color","blue").addPropFunctor("html",function(t){return t.html}).addPropFunctor("vertical",!0),e}var _=r.scaleOrdinal(r.schemeCategory10);function w(){var t={},e=r.symbol().size(80),n=function n(i){var o=i.selection?i.selection():i,a=o.selectAll(".d2b-legend").data(function(t){return[t]}),s=a.enter().append("div").attr("class","d2b-legend"),u=(a=a.merge(s).classed("d2b-vertical",t.vertical)).selectAll(".d2b-legend-item").data(t.values,t.key),c=u.exit(),l=u.enter().append("div").attr("class","d2b-legend-item").style("opacity",0);l.append("div").attr("class","d2b-legend-icon"),l.append("div").attr("class","d2b-legend-content"),(u=u.merge(l).order()).select(".d2b-legend-content").html(t.html),i!==o&&(u=u.transition(i),c=c.transition(i).style("opacity",0)),u.style("opacity",1).each(function(n,i){var o=r.select(this),a=t.color(n,i),s=t.empty(n,i);o.style("border-color",a);var u=t.icon(n,i),c=o.select(".d2b-legend-icon"),l=[],h=[],f=c.node().getBoundingClientRect(),d={width:f.width,height:f.height},p=d.width/2,v=d.height/2;"string"==typeof u?l.push(u):h.push(u);var g=c.selectAll(".d2b-legend-svg-icon").data(function(t){return[t]}),m=g.enter().append("svg");m.attr("class","d2b-legend-svg-icon").attr("width",d.width).attr("height",d.height);var y=(g=g.merge(m)).selectAll("text").data(l),b=y.enter().append("text");y.exit().remove(),b.append("tspan"),(y=y.merge(b)).style("stroke",a).style("fill",s?"white":a).attr("transform","translate("+p+","+1.65*v+")").select("tspan").text(function(t){return t});var _=g.selectAll("path").data(h);_.exit().remove(),(_=_.merge(_.enter().append("path"))).style("stroke",a).style("fill",s?"white":a).attr("d",function(t){return e.type(t)()}).attr("transform","translate("+p+","+v+")")}),a.each(function(e,i){var a=t.allowEmptied(e,i),s=r.select(this).selectAll(".d2b-legend-item"),u=function(e){s.each(function(n,r){t.setEmpty(n,r,e)})},c=function(e,i){t.setEmpty(e,i,!t.empty(e,i)),!a&&function(){var e=!0;return s.each(function(n,r){t.empty(n,r)||(e=!1)}),e}()&&u(!1),o.call(n),r.select(this.parentNode).dispatch("change",{bubbles:!0})},l=function(e,i){u(!0),t.setEmpty(e,i,!1),o.call(n),r.select(this.parentNode).dispatch("change",{bubbles:!0})};s.each(function(e,n){var i=t.clickable(e,n),o=t.dblclickable(e,n);r.select(this).on("click",i?c:null).on("dblclick",o?l:null)})}),o.dispatch("legend-updated",{bubbles:!0}),c.remove()};return p(n,t).addPropFunctor("values",function(t){return t}).addPropFunctor("key",function(t,e){return e}).addPropFunctor("color",function(t){return _(t.html)}).addPropFunctor("html",function(t){return t.html}).addPropFunctor("icon","").addPropFunctor("vertical",!1).addPropFunctor("allowEmptied",!1).addPropFunctor("clickable",!1).addPropFunctor("dblclickable",!1).addPropFunctor("empty",function(t){return t.empty}).addPropFunctor("setEmpty",function(t,e,n){return t.empty=n}),n}function x(){function t(t){var e={top:0,left:0,right:0,bottom:0};return"number"==typeof t?{top:t,left:t,right:t,bottom:t}:(["top","bottm","right","left"].forEach(function(e){t[e]&&t[e]}),e)}var e={},n=function n(a){var s=a.selection?a.selection():a,u=s.selectAll(".d2b-chart-frame").data(function(t){return[t]}),c=u.enter().append("div").attr("class","d2b-chart-frame");return u=u.merge(c),s.each(function(n){var u,c,l=r.select(this).select(".d2b-chart-frame"),h=l,f=t(e.padding(n)),d=t(e.chartPadding(n)),p=(u=e.size(n),c=this.getBoundingClientRect(),{width:u&&u.width>0?u.width:c.width,height:u&&u.height>0?u.height:c.height});i(l,h,function(t){t.style("width",p.width+"px").style("height",p.height+"px")}),p.width-=f.left+f.right,p.height-=f.top+f.bottom;var v=e.legendEnabled(n)?[n]:[],g=l.selectAll(".d2b-legend-frame").data(v),m=g.enter().append("div").attr("class","d2b-legend-frame");g.exit().remove(),m.append("div").attr("class","d2b-legend-container");var y=g=g.merge(m),b=e.breadcrumbsEnabled(n)?[n]:[],_=l.selectAll(".d2b-breadcrumbs-frame").data(b),w=_.enter().append("div").attr("class","d2b-breadcrumbs-frame");_.exit().remove(),w.append("div").attr("class","d2b-breadcrumbs-container");var x=_=_.merge(w),E=l.selectAll(".d2b-chart").data(function(t){return[t]}),C=E.enter().append("svg").attr("class","d2b-chart");C.append("g").attr("class","d2b-chart-container");var k=E=E.merge(C);a!==s&&(h=h.transition(a),y=y.transition(a),x=x.transition(a),k=k.transition(a)),o(_,w,x,e.breadcrumbsOrient(n),f,p),o(g,m,y,e.legendOrient(n),f,p),i(C,k,function(t){t.style("left",f.left+"px").style("top",f.top+"px").style("width",p.width+"px").style("height",p.height+"px"),t.select(".d2b-chart-container").attr("transform","translate("+[d.left,d.top]+")")}),p.width-=d.left+d.right,p.height-=d.top+d.bottom,E.select(".d2b-chart-container").node().__size__=p}),s.dispatch("chart-frame-updated",{bubbles:!0}),n};function i(t,e,n){n(t),n(e)}function o(t,e,n,r,o,a){var s=t.node();if(s){n.style("top","").style("left","").style("right","").style("bottom","").style("width","").style("height","");var u=void 0;"right"===r||"left"===r?(t.classed("d2b-vertical",!0),u=s.getBoundingClientRect(),i(e,n,function(t){t.style(r,o[r]+"px").style("top",o.top+"px").style("height",a.height+"px")}),o[r]+=u.width,a.width-=u.width):"top"===r||"bottom"===r?(t.classed("d2b-vertical",!1),u=s.getBoundingClientRect(),i(e,n,function(t){t.style(r,o[r]+"px").style("left",o.left+"px").style("width",a.width+"px")}),o[r]+=u.height,a.height-=u.height):t.classed("d2b-vertical",!1)}}return p(n,e).addPropFunctor("size",null).addPropFunctor("legendEnabled",!0).addPropFunctor("legendOrient","bottom").addPropFunctor("breadcrumbsEnabled",!1).addPropFunctor("breadcrumbsOrient","right").addPropFunctor("chartPadding",10).addPropFunctor("padding",10),n}var E=function(){return Math.random().toString(36).substr(2,9)};var C=function(t){return null===t?NaN:+t};function k(t,e,n){var r=0,i=0;if(n=s(n||1),e=s(e||function(t){return t}),t.filter(function(t){return!isNaN(C(n(t)))&&!isNaN(C(e(t)))}).forEach(function(t){var o=n(t),a=e(t);r+=o,i+=a*o}),t.length&&r)return i/r}function T(t,e,n){n=s(n||1),e=s(e||function(t){return t});var i,o=[],a=t.filter(function(t){return 0!==n(t)&&!isNaN(C(n(t)))&&!isNaN(C(e(t)))}).sort(function(t,n){return r.ascending(e(t),e(n))});i=Math.round(r.sum(a,function(t){return n(t)})/2*1e12)/1e12;var u=0,c=!1;if(a.forEach(function(t){c&&(o.push(e(t)),c=!1),(u+=n(t))===i&&(o.push(e(t)),c=!0),u>i&&0===o.length&&o.push(e(t))}),t.length)return k(o)}function S(t,e,n){n=s(n||1),e=s(e||function(t){return t});var r=[],i=0,o={};return t.forEach(function(t){var a=C(e(t));isNaN(e(t))||(o[a]=o[a]||0,o[a]+=n(t),o[a]>i?(i=o[e(t)],r=[e(t)]):o[e(t)]==i&&r.push(e(t)))}),i<=1||!r.length?null:1===r.length?r[0]:r}function O(t,e){e=s(e||function(t){return t});var n=r.extent(t,e);if(t.length)return n[1]-n[0]}function M(t,e){if(e=s(e||function(t){return t}),t.length)return r.mean(r.extent(t,e))}function A(t){return t*(180/Math.PI)}k.tendancy="mean",T.tendancy="median",S.tendancy="mode",O.tendancy="range",M.tendancy="midpoint";var P=Math.PI,I=Math.sqrt(8),N=Math.sqrt(2),D={draw:function(t,e){var n=Math.sqrt(e/(P+5/4)),r=.3125*n,i=2*Math.asin(.25),o=(P/2-i)/2,a=n/I-n*Math.cos(o),s=n*Math.sin(o);t.arc(a,s,n,-o,2*P-i-o),t.lineTo(n*(5/4-1/N),-n*(1/I+5/4-1/N)),t.lineTo(n*(5/4-1/N)-r,-n*(1/I+5/4-1/N)),t.lineTo(n*(5/4-1/N)-r,-n*(1/I+7/4-1/N)),t.lineTo(n*(7/4-1/N+1/I),-n*(1/I+7/4-1/N)),t.lineTo(n*(7/4-1/N+1/I),-n*(5/4-1/N)+r),t.lineTo(n*(5/4-1/N+1/I),-n*(5/4-1/N)+r),t.lineTo(n*(5/4-1/N+1/I),-n*(5/4-1/N)),t.closePath()}},R={draw:function(t,e){var n=Math.sqrt(e/(P+5/4)),r=2*Math.asin(.25),i=n/4-n*Math.cos(r/2);t.arc(0,i,n,3*-P/2+r/2,P/2-r/2),t.lineTo(n/4,3*n/4),t.lineTo(3*n/4,3*n/4),t.lineTo(3*n/4,5*n/4),t.lineTo(n/4,5*n/4),t.lineTo(n/4,7*n/4),t.lineTo(-n/4,7*n/4),t.lineTo(-n/4,5*n/4),t.lineTo(3*-n/4,5*n/4),t.lineTo(3*-n/4,3*n/4),t.lineTo(-n/4,3*n/4),t.closePath()}};function j(){var t={},e=function e(n){var o=n.selection?n.selection():n,l=o.selectAll("path.d2b-point-back").data(function(t){return[t]});l.enter().append("path").attr("class","d2b-point-back").attr("d",s).style("fill-opacity",0).style("stroke",t.stroke).style("stroke-width",t.strokeWidth),n!==o&&(l=l.transition(n)),l.attr("d",s).style("stroke",t.stroke).style("stroke-width",t.strokeWidth);var h=o.selectAll("path.d2b-point-front").data(function(t){return[t]});return h.enter().append("path").attr("class","d2b-point-front").attr("d",a).style("opacity",i).style("fill",t.fill).style("stroke",t.stroke).style("stroke-width",t.strokeWidth),n!==o&&(h=h.transition(n)),h.attr("d",a).style("opacity",i).style("fill",t.fill).style("stroke",t.stroke).style("stroke-width",t.strokeWidth),o.each(function(e,n){var i=t.active.call(this,e,n);r.select(this).on("mouseover.d2b-point",i?u:null).on("mouseout.d2b-point",i?c:null)}),o.dispatch("point-updated",{bubbles:!0}),e},n=r.symbol();function i(e,n){return t.empty.call(this,e,n)?0:1}function o(e,r){var i=t.size.call(this,e,r),o=t.empty.call(this,e,r);return n.size(o?i:2.5*i).call(this,e,r)}function a(e,r){var i=t.size.call(this,e,r),o=t.empty.call(this,e,r);return n.size(o?i/3:i).call(this,e,r)}function s(e,r){var i=t.size.call(this,e,r);return n.size(i).call(this,e,r)}function u(e,n){var i=t.empty.call(this,e,n);r.select(this).select("path.d2b-point-back").transition().duration(100).attr("d",o),r.select(this).select("path.d2b-point-front").transition().duration(100).style("opacity",i?.5:1).attr("d",a)}function c(e,n){var i=t.empty.call(this,e,n);r.select(this).select("path.d2b-point-back").transition().duration(100).attr("d",s),r.select(this).select("path.d2b-point-front").transition().duration(100).style("opacity",i?0:1).attr("d",a)}return p(e,t).addPropFunctor("size",150,null,function(t){return n.size(t)}).addPropFunctor("type",r.symbolCircle,null,function(t){return n.type(t)}).addPropFunctor("active",!1).addPropFunctor("empty",!1).addPropFunctor("fill","steelblue").addPropFunctor("stroke",function(e,n){return r.rgb(t.fill.call(this,e,n)).darker(.3)}).addPropFunctor("strokeWidth","1px"),e}function L(){var t={},e=function e(i){var o=i.selection?i.selection():i;t.pie.value(t.value),t.arc.startAngle(function(t){return t.startAngle}).endAngle(function(t){return t.endAngle}).padAngle(function(t){return t.padAngle});var a=o.selectAll(".d2b-pie").data(function(e){return[t.pie(t.values(e))]}),s=a.enter().append("g").attr("class","d2b-pie");return(a=a.merge(s)).each(function(e){var a=r.select(this).selectAll(".d2b-pie-arc"),s=a.data(),u=(a=a.data(e,function(e,n){return e.key=t.key(e.data,n),e.key})).enter().append("g").attr("class","d2b-pie-arc"),c=a.exit(),h=a.merge(u).order();u.append("path").attr("fill",function(e,n){return t.color.call(this,e.data,n)});var f=h.data();u.select("path").each(function(t,e){this.current=n(e,s,f)}),c.datum(function(t,e){var r=n(e,f,s);return r.data=t.data,r.innerRadius=t.innerRadius,r.outerRadius=t.outerRadius,r}),i!==o&&(c=c.transition(i),h=h.transition(i)),h.select("path").call(l,t.arc).attr("fill",function(e,n){return t.color.call(this,e.data,n)}),c.remove().select("path").call(l,t.arc)}),o.dispatch("svg-pie-updated",{bubbles:!0}),e};function n(e,n,r){var i=function(e,n,r){var i=n.length;for(;--e>=0;)for(var o=t.key(r[e].data,e),a=0;a<i;++a)if(t.key(n[a].data,a)===o)return n[a]}(e,n,r),o=function(e,n,r){var i=r.length,o=n.length;for(;++e<i;)for(var a=t.key(r[e].data,e),s=0;s<o;++s)if(t.key(n[s].data,s)===a)return n[s]}(e,n,r);return i?{startAngle:i.endAngle,endAngle:i.endAngle}:o?{startAngle:o.startAngle,endAngle:o.startAngle}:{startAngle:0,endAngle:0}}return p(e,t).addProp("arc",r.arc()).addProp("pie",r.pie().sort(null)).addPropFunctor("values",function(t){return t}).addPropFunctor("key",function(t){return t.label}).addPropFunctor("value",function(t){return t.value}).addPropFunctor("color",function(t){return _(t.label)}),e}function F(t){return!(t.indexOf("NaN")>-1||t.indexOf("Inifnity")>-1)}var B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$=(function(){function t(t){this.value=t}function e(e){var n,r;function i(n,r){try{var a=e[n](r),s=a.value;s instanceof t?Promise.resolve(s.value).then(function(t){i("next",t)},function(t){i("throw",t)}):o(a.done?"return":"normal",a.value)}catch(t){o("throw",t)}}function o(t,e){switch(t){case"return":n.resolve({value:e,done:!0});break;case"throw":n.reject(e);break;default:n.resolve({value:e,done:!1})}(n=n.next)?i(n.key,n.arg):r=null}this._invoke=function(t,e){return new Promise(function(o,a){var s={key:t,arg:e,resolve:o,reject:a,next:null};r?r=r.next=s:(n=r=s,i(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t){return i.annotation().disable(t.disable()).textWrap(t.textWrap()).notePadding(t.notePadding()).type(t.type()).accessors(t.accessors()).accessorsInverse(t.accessorsInverse()).ids(t.ids()).editMode(t.editMode()).collection(t.collection())}),U=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t){return t.annotation?[t.annotation]:[]},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(t){return t.color},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"translate(0, 0)",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"translate(0, 0)",c=t.selection?t.selection():t;t.each(function(l){var h=r.select(this),f=s(i)(l),d=h.selectAll("g."+n).data(f),p=d.enter().append("g"),v=d.merge(p),g=d.exit();p.attr("class",n).attr("transform",function(t){return s(u)(l,t)}).style("opacity",0),f.forEach(function(t){t.x=0,t.y=0,t.color=s(o)(l,t)}),f.length&&e&&(v.selectAll("*").remove(),v.call($(e).annotations(f))),t!==c&&(v=v.transition(t),g=g.transition(t)),v.attr("transform",function(t){return s(a)(l,t)}).style("opacity",1),g.attr("transform",function(t){return s(a)(l,t)}).style("opacity",0).remove()})};function z(t){if(null==t||"object"!=(void 0===t?"undefined":B(t)))return t;var e=t.constructor();for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var q=function(t,e,n,i){var o=t.selection?t.selection():t,a=o.node(),s=a.__scales||i,u=function(t,e){var n=e[t.xType],r=e[t.yType],i=t.x===1/0?n.range()[0]:n(t.x),o=t.y===1/0?r.range()[0]:r(t.y),a=t.x2===1/0?n.range()[1]:n(t.x2),s=t.y2===1/0?r.range()[1]:r(t.y2);return"translate("+[isNaN(a)?i:Math.min(i,a),isNaN(s)?o:Math.min(o,s)]+")"},c=function(t,e){var n=z(t.data.subject)||{},r=e[t.xType],i=e[t.yType],o=t.x===1/0?r.range()[0]:r(t.x),a=t.y===1/0?i.range()[0]:i(t.y),s=t.x2===1/0?r.range()[1]:r(t.x2),u=t.y2===1/0?i.range()[1]:i(t.y2),c=t.x2?Math.abs(o-s):0,l=t.y2?Math.abs(a-u):0;return t.x2&&t.y2?(n.width=c,n.height=l):t.x2?(n.x1=0,n.x2=c):t.y2&&(n.y1=0,n.y2=l),n.dx=n.dx*c,n.dy=n.dy*l,n};a.__scales={x:i.x.copy(),y:i.y.copy(),x2:i.x2.copy(),y2:i.y2.copy()};var l=o.selectAll(".d2b-axis-annotation").data(n,function(t){return t.key}),h=l.enter().append("g"),f=l.exit();l.selectAll("*").remove(),l=l.merge(h),h.attr("class","d2b-axis-annotation").attr("transform",function(t){return u(t,s)}).style("opacity",0),t!==o&&(l=l.transition(t),f=f.transition(t)),l.attr("transform",function(t){return u(t,i)}).style("opacity",1),f.attr("transform",function(t){return u(t,i)}).style("opacity",0).remove(),l.each(function(n){var a=z(n.data),s=r.select(this),u=$(e);a.x=0,a.y=0,a.color=n.color,a.subject=c(n,i),a.dx=(a.subject.dx||0)+(n.data.dx||0),a.dy=(a.subject.dy||0)+(n.data.dy||0),t!==o?s.transition(t).tween("annotation-tween",function(){var t=this,e=r.interpolateObject(this.__subject||c(n,i),a.subject);return function(r){t.__subject=a.subject=e(r),a.dx=(a.subject.dx||0)+(n.data.dx||0),a.dy=(a.subject.dy||0)+(n.data.dy||0),s.call(u.annotations([a]))}}):s.call(u.annotations([a]))})};function V(){var t={},e=function e(n){var r=n.selection?n.selection():n,i=t.scale,o=t.enterScale||i,a=t.valueFormat,s="vertical"===t.orient,u=s?{x:"x",y:"y",x1:"x1",x2:"x2",y1:"y1",y2:"y2",width:"width",height:"height",cx:"cx",cy:"cy",translate:function(t,e){return"translate("+t+", "+e+")"}}:{x:"y",y:"x",x1:"y1",x2:"y2",y1:"x1",y2:"x2",width:"height",height:"width",cx:"cy",cy:"cx",translate:function(t,e){return"translate("+e+", "+t+")"}},c=r.selectAll(".d2b-box").data(function(e,n){e=t.data(e,n);var r=t.outliers(e,n)||[],i=t.minimum(e,n),o=t.maximum(e,n);return[{data:e,index:n,median:t.median(e,n),upperQuartile:t.upperQuartile(e,n),lowerQuartile:t.lowerQuartile(e,n),minimum:i,maximum:o,outliers:r,maxOutliers:r.filter(function(t){return t>o}),minOutliers:r.filter(function(t){return t<i}),color:t.color(e,n),width:t.width(e,n),annotations:t.annotations(e,n)}]}),l=c.enter().append("g").attr("class","d2b-box"),h=c.merge(l).order(),f=h.selectAll(".d2b-box-center").data(function(t){return[t]}),d=f.enter().append("line").attr(u.x1,0).attr(u.x2,0).attr(u.y1,function(t){return o(t.minimum)}).attr(u.y2,function(t){return o(t.maximum)}).attr("class","d2b-box-center"),p=f.merge(d),v=h.selectAll(".d2b-box-rect").data(function(t){return[t]}),g=v.enter().append("rect").attr("class","d2b-box-rect").attr(u.width,function(t){return t.width}).attr(u.height,function(t){return Math.abs(o(t.upperQuartile)-o(t.lowerQuartile))}).attr(u.x,function(t){return-t.width/2}).attr(u.y,function(t){return Math.min(o(t.upperQuartile),o(t.lowerQuartile))}),m=v.merge(g);return["max","min"].forEach(function(t){var e=h.selectAll(".d2b-box-"+t+"-outlier").data(function(e){return e[t+"Outliers"].map(function(t){return{outlier:t,box:e}})}),a=e.enter().append("circle").style("opacity",0).attr("r",function(t){return t.box.width/5}).attr(u.cx,0).attr(u.cy,function(t){return o(t.outlier)}).attr("class","d2b-box-outlier d2b-box-"+t+"-outlier"),s=e.merge(a),c=e.exit();n!==r&&(s=s.transition(n),c=c.transition(n)),s.style("opacity",1).attr("stroke",function(t){return t.box.color}).attr("r",function(t){return t.box.width/5}).attr(u.cx,0).attr(u.cy,function(t){return i(t.outlier)}),c.attr(u.cx,0).attr(u.cy,function(t){return i(t.outlier)}).style("opacity",0).remove()}),["maximum","median","minimum"].forEach(function(t){var e=h.selectAll(".d2b-box-dash-"+t).data(function(t){return[t]}),a=e.enter().append("line").attr("class","d2b-box-dash d2b-box-dash-"+t).attr(u.x1,function(t){return-t.width/2}).attr(u.x2,function(t){return t.width/2}).attr(u.y1,function(e){return o(e[t])}).attr(u.y2,function(e){return o(e[t])}),s=e.merge(a);n!==r&&(s=s.transition(n)),s.attr("stroke",function(t){return t.color}).attr(u.x1,function(t){return-t.width/2}).attr(u.x2,function(t){return t.width/2}).attr(u.y1,function(e){return i(e[t])}).attr(u.y2,function(e){return i(e[t])})}),["maximum","upperQuartile","median","lowerQuartile","minimum"].forEach(function(e,c){var l=h.selectAll(".d2b-box-label-group-"+e).data(function(t){return[t]}),f=l.enter().append("g").attr("class","d2b-box-label-group d2b-box-label-group-"+e).attr("transform",function(t){return u.translate(0,o(t[e]))});f.append("text").attr("class","d2b-box-label").attr(u.x,function(t){return(3+t.width/2)*(c%2==0?1:-1)}).style("text-anchor",c%2==0?"start":"end");var d=l.merge(f);n!==r&&(d=d.transition(n)),d.attr("transform",function(t){return u.translate(0,i(t[e]))}).call(U,t.annotation,"d2b-box-annotation",function(t){return(t.annotations||[]).filter(function(t){return t.location===e})});var p=d.select(".d2b-box-label").text(function(t){return a(t[e])});s?p.select().style("text-anchor",c%2==0?"start":"end").style("dominant-baseline","middle").attr(u.x,function(t){return(3+t.width/2)*(c%2==0?1:-1)}):p.style("text-anchor","middle").style("dominant-baseline",c%2==0?"baseline":"hanging").attr(u.x,function(t){return(3+t.width/2)*(c%2==0?-1:1)})}),n!==r&&(m=m.transition(n),p=p.transition(n)),m.attr(u.x,function(t){return-t.width/2}).attr(u.y,function(t){return Math.min(i(t.upperQuartile),i(t.lowerQuartile))}).attr(u.width,function(t){return t.width}).attr(u.height,function(t){return Math.abs(i(t.upperQuartile)-i(t.lowerQuartile))}).attr("stroke",function(t){return t.color}),p.attr(u.x1,0).attr(u.x2,0).attr(u.y1,function(t){return i(t.minimum)}).attr(u.y2,function(t){return i(t.maximum)}).attr("stroke",function(t){return t.color}),r.dispatch("box-updated",{bubbles:!0}),e};return p(e,t).addProp("scale",r.scaleLinear()).addProp("enterScale",null).addProp("valueFormat",r.format(",")).addProp("orient","vertical").addProp("annotation",i.annotation?i.annotation():null).addPropFunctor("data",function(t){return t}).addPropFunctor("median",function(t){return t.median}).addPropFunctor("upperQuartile",function(t){return t.upperQuartile}).addPropFunctor("lowerQuartile",function(t){return t.lowerQuartile}).addPropFunctor("minimum",function(t){return t.minimum}).addPropFunctor("maximum",function(t){return t.maximum}).addPropFunctor("outliers",function(t){return t.outliers}).addPropFunctor("width",20).addPropFunctor("color","steelblue").addPropFunctor("annotations",function(t){return t.annotations}),e}function H(){var t={},e=r.arc(),n=function e(n){var o=n.selection?n.selection():n;return t.pie.value(function(t){return t.value}),o.each(function(a,s){var l=r.select(this),h=t.zoomable(a,s),f=t.highlight(a,s),d=t.innerRadius(a,s),p=t.showLabels(a,s),v=function(e){return i(r.hierarchy(e,t.children).sum(function(e){var n=t.children(e);if(!n||!n.length)return t.size(e)}))}(a),g=function(t){var e=null;t.each(function(t){t.data.selected&&(e=t)}),e||(e=t);return e.data.selected=!0,e}(v);!function(t,e){t.ancestors().concat(t.descendants()).filter(function(t){return t.depth<=e&&t.value>0}).forEach(function(t){return t.visible=!0})}(g,t.descendantLevels(a,s)+g.depth),v.each(function(t){return t.selected=g});var m=function(e,n,r,i){var o=t.innerRadius(e,n),a=t.outerRadius(e,n),s=t.ancestorPadding(e,n),u=t.ancestorRatio(e,n),c=0;r.each(function(t){t.visible&&(c=Math.max(c,t.depth))});var l=o+(a-o-s)*u,h=t.ancestorBanding.copy().range([o,l]).domain([0,i.depth+1]),f=t.descendantBanding.copy().range([l+s,a]).domain([i.depth+1,c+1]);return function(t){var e=void 0;return{inner:(e=t<=i.depth?h:f)(t),outer:e(t+1)}}}(a,s,v,g);c.call(this,[v],"arc",0,t.startAngle(a,s),t.endAngle(a,s),{transition:n!==o?n:null,oldRadii:u(this.__radii,m),radii:m,zoomable:h}),c.call(this,p?[v]:[],"label",0,t.startAngle(a,s),t.endAngle(a,s),{transition:n!==o?n:null,oldRadii:u(this.__radii,m),radii:m});var y=l.selectAll(".d2b-sunburst-center");y.data([g]).enter().append("circle").attr("class","d2b-sunburst-center").merge(y).attr("cx",0).attr("cy",0).attr("r",Math.max(0,d)).on("click",function(n){n.parent&&(n.data.selected=!1,n.parent.data.selected=!0,l.transition().duration(t.duration(n,s)).call(e))}),this.__radii=m,l.selectAll("path.d2b-sunburst-arc").on("click",h?function(n){v.each(function(t){return t.data.selected=!1}),n.data.selected=!0,l.transition().duration(t.duration(a,s)).call(e)}:null).on("mouseover",f?function(t){var e=t.ancestors();l.selectAll(".d2b-sunburst-arc").classed("d2b-transparent",function(t){return-1===e.indexOf(t)}),l.selectAll(".d2b-sunburst-label").classed("d2b-transparent",function(t){return-1===e.indexOf(t)})}:null).on("mouseout",function(){l.selectAll(".d2b-sunburst-arc").classed("d2b-transparent",!1),l.selectAll(".d2b-sunburst-label").classed("d2b-transparent",!1)})}),o.dispatch("svg-sunburst-updated",{bubbles:!0}),e};function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.key=t.key(e.data,n),e.color=t.color(e.data,n),e.label=t.label(e.data,n),e.size=t.size(e.data,n),e.value=e.size,e.children)return e.children.forEach(i),e.value=o(e),e}function o(t){return u(t.size,t.children?r.sum(t.children,o):0)}function a(t){return t>Math.PI?A(t)+90:A(t)-90}function s(t,e){var n=(e.inner-e.outer)/2.2;return t>Math.PI?-n:n}function c(n,i,o,u,f,p){var v="arc"===i?l:d;n=n.filter(function(t){return t.visible}),t.pie.startAngle(u).endAngle(f),t.pie(n).forEach(function(t){var e=p.radii(t.data.depth);t.data.startAngle=t.startAngle,t.data.endAngle=t.endAngle,t.data.padAngle=t.padAngle,t.data.innerRadius=e.inner,t.data.outerRadius=e.outer,t.data.centerAngle=(t.startAngle+t.endAngle)/2,t.data.rotate=a(t.data.centerAngle),t.data.labelOffset=s(t.data.centerAngle,e),t.data.labelAnchor=t.data.centerAngle>Math.PI?"end":"start"});var g=r.select(this),m="d2b-sunburst-level-"+o,y=g.selectAll(".d2b-sunburst-"+i+"-group."+m),b=y.data(),_=(y=y.data(n,function(t){return t.key})).enter().append("g").attr("class","d2b-sunburst-"+i+"-group "+m),w=_.append("arc"===i?"path":"text").attr("class","d2b-sunburst-"+i+" "+m).each(function(t,e){var r=p.oldRadii(t.depth),i=t.neighbor||h(e,b,n);this.current={startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:r.inner,outerRadius:r.outer,rotate:a((i.startAngle+i.endAngle)/2)},t.children&&t.children.forEach(function(t){return t.neighbor=i})});_.append("g").attr("class","d2b-sunburst-"+i+"-children "+m),"arc"===i?w.style("fill",function(t){return t.color}):w.style("opacity",0).attr("y",4);var x=y.exit();(y=y.merge(_)).select(".d2b-sunburst-"+i+"."+m).classed("d2b-sunburst-ancestor",function(t){return t.depth<t.selected.depth}),p.transition&&(x.each(function(t,o){var u=h(o,n,b),c=r.select(this).selectAll(".d2b-sunburst-"+i).datum(function(t){var e=p.radii(t.depth);return t.innerRadius=e.inner,t.outerRadius=e.outer,t.startAngle=u.startAngle,t.endAngle=u.endAngle,t.centerAngle=u.centerAngle,t.rotate=a(t.centerAngle),t.labelOffset=s(t.centerAngle,e),t}).transition(p.transition).call(v,e);"label"===i&&c.style("opacity",0).attr("x",function(t){return t.labelOffset})}),x=x.transition(p.transition),y=y.transition(p.transition)),x.remove();var E=y.select(".d2b-sunburst-"+i+"."+m).call(v,e);"arc"===i?E.style("fill",function(t){return t.color}):E.text(function(t){return t.depth>=t.selected.depth?t.label:""}).style("opacity",1).attr("x",function(t){return t.labelOffset}).style("text-anchor",function(t){return t.labelAnchor}),y.select(".d2b-sunburst-"+i+"-children."+m).each(function(t){var e=t.children||[],n=r.sum(e,function(t){return t.value}),a=t.startAngle+(t.endAngle-t.startAngle)*n/t.value;c.call(this,e,i,o+1,t.startAngle,a,p)})}function h(t,e,n){var r=function(t,e,n){var r=e.length;for(;--t>=0;)for(var i=n[t].key,o=0;o<r;++o)if(e[o].key===i)return e[o]}(t,e,n),i=function(t,e,n){var r=n.length,i=e.length;for(;++t<r;)for(var o=n[t].key,a=0;a<i;++a)if(e[a].key===o)return e[a]}(t,e,n);return r?{startAngle:r.endAngle,endAngle:r.endAngle}:i?{startAngle:i.startAngle,endAngle:i.startAngle}:{startAngle:0,endAngle:0,centerAngle:0}}return p(n,t).addProp("pie",r.pie().sort(null)).addProp("ancestorBanding",r.scaleLinear()).addProp("descendantBanding",r.scalePow().exponent(.85)).addPropFunctor("duration",250).addPropFunctor("innerRadius",30).addPropFunctor("outerRadius",200).addPropFunctor("ancestorPadding",10).addPropFunctor("ancestorRatio",.2).addPropFunctor("descendantLevels",1/0).addPropFunctor("startAngle",0).addPropFunctor("endAngle",2*Math.PI).addPropFunctor("showLabels",!1).addPropFunctor("zoomable",!0).addPropFunctor("highlight",!0).addPropFunctor("key",function(e){return t.label(e)}).addPropFunctor("label",function(t){return t.label}).addPropFunctor("color",function(e){return _(t.label(e))}).addPropFunctor("children",function(t){return t.children}).addPropFunctor("size",function(t){return t.size}),n}function W(){var t={},e=function e(n){var i=n.selection?n.selection():n;return i.each(function(e){var o=n===i?null:n,s=r.select(this),u=t.size(e),l=a.sankeyLinkHorizontal(),h=t.nodes(e).map(function(e,n){var r=t.nodeKey(e,n);return{key:r,label:t.nodeLabel(e,n,r),color:t.nodeColor(e,n,r),draggableX:t.nodeDraggableX(e,n),draggableY:t.nodeDraggableY(e,n),preserveDragging:t.nodePreserveDragging(e,n),wrapLength:t.nodeLabelWrapLength(e,n),data:e,index:n}}),f=t.links(e).map(function(e,n){var r=t.linkSource(e,n),i=t.linkTarget(e,n),o="object"===(void 0===r?"undefined":B(r))?t.nodeKey(r):r,a="object"===(void 0===i?"undefined":B(i))?t.nodeKey(i):i,s=t.linkKey(e,n,o,a);return{sourceKey:o,targetKey:a,key:s,keyTrim:s.replace(/ /g,""),sourceColor:t.linkSourceColor(e,n,o),targetColor:t.linkTargetColor(e,n,a),value:t.linkValue(e,n),source:r,target:i,data:e,index:n}});t.sankey.size([u.width,u.height]).nodeId(function(t){return t.key}).nodes(h).links(f);var d=t.sankey.nodeWidth(),p=t.sankey.nodes(h).links(f)();p.links=p.links.filter(function(t){return!!t.value}),p.nodes=p.nodes.filter(function(t){return!!t.value}),p=t.sankey.nodes(p.nodes).links(p.links)();var v=s.selectAll(".d2b-sankey-link-defs").data([p.links]),g=v.enter().append("defs").attr("class","d2b-sankey-link-defs"),m=(v=v.merge(g)).selectAll(".d2b-def-gradient").data(function(t){return t},function(t){return t.keyTrim}),y=m.enter().append("linearGradient").attr("class","d2b-def-gradient"),b=m.exit();y.append("stop").attr("class","d2b-gradient-from").attr("offset","0%"),y.append("stop").attr("class","d2b-gradient-to").attr("offset","100%"),m=m.merge(y),o&&(b=b.transition(o),m=m.transition(o)),b.remove(),m.attr("id",function(t){return t.keyTrim}),m.select(".d2b-gradient-from").attr("stop-color",function(t){return t.sourceColor}),m.select(".d2b-gradient-to").attr("stop-color",function(t){return t.targetColor});var _=s.selectAll(".d2b-sankey-links").data([p.links]),w=_.enter().append("g").attr("class","d2b-sankey-links"),x=(_=_.merge(w)).selectAll(".d2b-sankey-link").data(function(t){return t},function(t){return t.key}),E=x.enter().append("g").attr("class","d2b-sankey-link"),C=x.exit(),k=x=x.merge(E);o&&(x=x.transition(o),C=C.transition(o));var T=s.selectAll(".d2b-sankey-nodes").data([p.nodes]),S=T.enter().append("g").attr("class","d2b-sankey-nodes"),O=(T=T.merge(S)).selectAll(".d2b-sankey-node").data(function(t){return t},function(t){return t.key}),M=O.enter().append("g").attr("class","d2b-sankey-node"),A=O.exit(),P=O=O.merge(M);function I(t){return N(t)?d+5:-5}function N(t){return t.x0<u.width/2}function D(t){return 5+Math.max(0,t.y1-t.y0)/2}function R(e){if(e.draggableX&&(e.x0=Math.max(0,Math.min(u.width-d,e.x0+r.event.dx)),e.x1=e.x0+d,this.__dragX0=e.x0/u.width),e.draggableY){var n=e.y1-e.y0;e.y0=Math.max(0,Math.min(u.height-(e.y1-e.y0),e.y0+r.event.dy)),e.y1=e.y0+n,this.__dragY0=e.y0/u.height}t.sankey.update(p),j()}function j(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];P.select("text").classed("d2b-text-anchor-end",function(t){return!N(t)}).call(c,function(t){return t.label},function(t){return t.wrapLength},"middle");var e=t?x:k,n=t?O:P;e.style("opacity",1).select("path").attr("d",l).style("stroke",function(t){return"url(#"+t.keyTrim+")"}).style("stroke-width",function(t){return t.width+"px"}),e.each(function(e){var n=r.select(this);if(Math.abs(e.y1-e.y0)<1e-5){var i=n.selectAll("rect").data([e]),o=i.enter().append("rect"),a=e.target.x0-e.source.x1;i=i.merge(o),t&&(i=i.transition(t)),i.attr("x",e.source.x1+Math.min(0,a)).attr("y",e.y0-e.width/2).attr("height",Math.max(0,e.width)).attr("width",Math.abs(e.target.x0-e.source.x1)).style("fill","url(#"+e.keyTrim+")"),n.select("path").style("display","none")}else n.select("rect").remove(),n.select("path").style("display","")}),n.attr("transform",function(t){return"translate("+t.x0+", "+t.y0+")"}).style("opacity",1),n.select("rect").attr("width",Math.max(0,d)).attr("height",function(t){return Math.max(0,t.y1-t.y0)}).style("fill",function(t){return t.color}),n.select("text").attr("x",I).attr("y",D)}o&&(O=O.transition(o),A=A.transition(o)),O.each(function(t){if(t.draggableX||t.draggableY?r.select(this).classed("d2b-draggable",!0).call(r.drag().on("drag",R)):r.select(this).classed("d2b-draggable",!1).on(".drag",null),t.preserveDragging&&(void 0!==this.__dragX0&&(t.x0=this.__dragX0*u.width,t.x1=t.x0+d),void 0!==this.__dragY0)){var e=t.y1-t.y0;t.y0=this.__dragY0*u.height,t.y1=t.y0+e}}),t.sankey.update(p),E.style("opacity",0).append("path").attr("d",l).style("stroke",function(t){return"url(#"+t.keyTrim+")"}).style("stroke-width",function(t){return t.width+"px"}),C.style("opacity",0).remove(),M.attr("transform",function(t){return"translate("+t.x0+", "+t.y0+")"}).style("opacity",0),M.append("rect").attr("width",Math.max(0,d)).attr("height",function(t){return Math.max(0,t.y1-t.y0)}),M.append("text").attr("x",I).attr("y",D),A.style("opacity",0).remove(),j(o)}),i.dispatch("svg-sankey-updated",{bubbles:!0}),e};return p(e,t).addProp("sankey",a.sankey()).addPropFunctor("size",{width:960,height:500}).addPropFunctor("nodes",function(t){return t.nodes}).addPropFunctor("nodeKey",function(t){return t.name}).addPropFunctor("nodeLabel",function(t,e,n){return n}).addPropFunctor("nodeLabelWrapLength",1/0).addPropFunctor("nodeDraggableX",!1).addPropFunctor("nodeDraggableY",!1).addPropFunctor("nodePreserveDragging",!0).addPropFunctor("nodeColor",function(t,e,n){return _(n)}).addPropFunctor("links",function(t){return t.links}).addPropFunctor("linkSource",function(t){return t.source}).addPropFunctor("linkSourceColor",function(t,e,n){return _(n)}).addPropFunctor("linkTarget",function(t){return t.target}).addPropFunctor("linkTargetColor",function(t,e,n){return _(n)}).addPropFunctor("linkKey",function(t,e,n,r){return n+"-"+r}).addPropFunctor("linkValue",function(t){return t.value}),e}function G(){var t={},e=5,n=function n(u){var c=u.selection?u.selection():u;return c.each(function(n,l){var h=t.size.call(this,n,l)||{width:960,height:500},f=m(t.margin.call(this,n,l)||0),d=t.x.call(this,n,l),p=t.x2.call(this,n,l),v=t.y.call(this,n,l),g=t.y2.call(this,n,l),y=r.select(this),b={x:{type:"x",data:d},x2:{type:"x2",data:p},y:{type:"y",data:v},y2:{type:"y2",data:g}},_=m(t.padding.call(this,n,l)),w=y.selectAll(".d2b-plane").data([n]),x=w.enter().append("g").attr("class","d2b-plane"),C=w.merge(x),k=this.__clipID=this.__clipID||"d2b-clip-plane-"+E();x.append("defs").append("clipPath").attr("id",k).attr("class","d2b-clip-plane").append("rect");var T=u!==c?u:null;i(b.x,l,C,h.width,T),i(b.x2,l,C,h.width,T),i(b.y,l,C,h.height,T),i(b.y2,l,C,h.height,T),_||(_=function(t){var n={top:0,left:0,right:0,bottom:0};t.x.data&&("outer"===t.x.info.orient&&(n.bottom+=t.x.info.axisBox.height),"outer"===t.x.info.labelOrient1&&(n.bottom+=t.x.info.labelBox.height+e));t.x2.data&&("outer"===t.x2.info.orient&&(n.top+=t.x2.info.axisBox.height),"outer"===t.x2.info.labelOrient1&&(n.top+=t.x2.info.labelBox.height));t.y.data&&("outer"===t.y.info.orient&&(n.left+=t.y.info.axisBox.width),"outer"===t.y.info.labelOrient1&&(n.left+=t.y.info.labelBox.height));t.y2.data&&("outer"===t.y2.info.orient&&(n.right+=t.y2.info.axisBox.width),"outer"===t.y2.info.labelOrient1&&(n.right+=t.y2.info.labelBox.height+e));return n.top=Math.max(n.top,10),n.bottom=Math.max(n.bottom,10),n.left=Math.max(n.left,10),n.right=Math.max(n.right,10),n}(b));var S={top:_.top+f.top,bottom:_.bottom+f.bottom,left:_.left+f.left,right:_.right+f.right};S.width=h.width-S.left-S.right,S.height=h.height-S.top-S.bottom,this.__box__=S,T&&(w=w.transition(T)),x.attr("transform","translate("+S.left+", "+S.top+")"),w.attr("transform","translate("+S.left+", "+S.top+")"),o(b.x,S.width,0,S.height),o(b.x2,S.width,0,0),o(b.y,S.height,0,0),o(b.y2,S.height,S.width,0),a(b.x,S.width,S.height),a(b.x2,S.width,S.height),a(b.y,S.height,S.width),a(b.y2,S.height,S.width),s(b.x,S.width),s(b.x2,S.width),s(b.y,-S.height),s(b.y2,-S.height),C.select(".d2b-clip-plane").select("rect").attr("width",S.width+1).attr("height",S.height+1),C.selectAll(".d2b-grid").attr("clip-path","url(#"+k+")")}),c.dispatch("plane-updated",{bubbles:!0}),n};return p(n,t).addPropFunctor("size",function(t){return t.size}).addPropFunctor("padding",null).addPropFunctor("margin",0).addPropFunctor("x",function(t){return t.x}).addPropFunctor("x2",function(t){return t.x2}).addPropFunctor("y",function(t){return t.y}).addPropFunctor("y2",function(t){return t.y2}).addPropFunctor("axis",function(t){return t.axis}).addPropFunctor("orient",function(t){return t.orient||"outer"}).addPropFunctor("wrapLength",function(t){return u(t.wrapLength,1/0)}).addPropFunctor("tickSize",function(t){return u(t.tickSize,6)}).addPropFunctor("showGrid",function(t){return!1!==t.showGrid}).addPropFunctor("label",function(t){return t.label}).addPropFunctor("labelOrient",function(t){return t.labelOrient||"outer middle"}).addMethod("box",function(t){var e=t.node?t.node():t;return e?e.__box__:null}),n;function i(e,n,r,i,o){var a=[],s=[],c=e.data;c&&(!function(e,n,r,i,o){if(!e.data)return;var a=e.info={};a.axis=t.axis(n,r),a.orient=t.orient(n,r),a.wrapLength=t.wrapLength(n,r),a.label=u(t.label(n,r),""),a.labelOrient=t.labelOrient(n,r),a.tickSize=t.tickSize(n,r),a.showGrid=t.showGrid(n,r),a.labelOrient1=a.labelOrient.split(" ")[0],a.labelOrient2=a.labelOrient.split(" ")[1],a.wrapAnchor=function(t){if(!t.data)return;switch(t.type){case"x":return"inner"===t.info.orient?"end":"start";case"x2":return"outer"===t.info.orient?"end":"start";case"y":case"y2":return"middle";default:return"start"}}(e),l(e),h(e,o);var s=i.append("g").attr("class","d2b-axis d2b-"+e.type+"-axis").call(a.axis).call(g,e);a.axisBox=s.node().getBBox();var c=s.append("text").attr("class","d2b-axis-label d2b-"+e.type+"-label").text(a.label);a.labelBox=c.node().getBBox(),s.remove()}(e,c,n,r,i),a=[c],e.info.showGrid&&(s=[c])),e.update=r.selectAll(".d2b-"+e.type+"-axis").data(a),e.enter=e.update.enter().append("g").attr("class","d2b-axis d2b-"+e.type+"-axis"),e.labelEnter=e.enter.append("text").attr("class","d2b-axis-label"),e.svg=e.enter.merge(e.update),e.label=e.svg.select(".d2b-axis-label"),e.update.exit().remove(),e.gridUpdate=r.selectAll(".d2b-"+e.type+"-grid").data(s),e.gridEnter=e.gridUpdate.enter().append("g").attr("class","d2b-grid d2b-"+e.type+"-grid"),e.gridUpdate.exit().remove(),e.grid=e.gridEnter.merge(e.gridUpdate),o&&(e.svg=e.svg.transition(o),e.update=e.update.transition(o),e.grid=e.grid.transition(o),e.gridUpdate=e.gridUpdate.transition(o),e.label=e.label.transition(o))}function o(t,e,n,r){t.data&&(l(t),h(t,e),t.enter.call(t.info.axis).attr("transform","translate("+n+", "+r+")"),t.update.call(t.info.axis).attr("transform","translate("+n+", "+r+")"),t.svg.call(g,t).on("end",function(){t.svg.call(g,t)}))}function a(t,e,n){t.data&&(!function(t,e){if(!t.data)return;switch(t.type){case"x":return t.info.axis.tickSize("inner"===t.info.orient?-e:e);case"x2":case"y":return t.info.axis.tickSize("inner"===t.info.orient?e:-e);case"y2":t.info.axis.tickSize("inner"===t.info.orient?-e:e)}}(t,n),h(t,e),t.gridUpdate.call(t.info.axis).selectAll(".tick text").remove(),t.gridEnter.call(t.info.axis).selectAll(".tick text").remove())}function s(t,e){t.data&&(t.labelEnter.text(t.info.label).attr("x",v(t,e)).attr("y",d(t)).attr("text-anchor",f(t)),t.label.text(t.info.label).attr("x",v(t,e)).attr("y",d(t)).attr("text-anchor",f(t)))}function l(t){t.data&&t.info.axis.tickSizeOuter(0).tickSizeInner(t.info.tickSize)}function h(t,e){t.data&&(["y","y2"].indexOf(t.type)>-1?t.info.axis.scale().range([e,0]):t.info.axis.scale().range([0,e]))}function f(t){if(t.data){var e=t.info,n=["y","y2"].indexOf(t.type)>-1;return"start"===e.labelOrient2&&n?"end":"end"!==e.labelOrient2||n?"middle"===e.labelOrient2?"middle":"start":"end"}}function d(t){if(t.data){var n=t.info;switch(t.type+" "+n.orient+" "+n.labelOrient1){case"x inner inner":case"x2 outer outer":return-n.axisBox.height-e;case"x inner outer":case"x2 outer inner":return n.labelBox.height+e;case"x outer inner":case"x2 inner outer":case"y inner outer":case"y2 outer inner":return-e;case"x outer outer":case"x2 inner inner":return n.labelBox.height+n.axisBox.height+e;case"y inner inner":case"y2 outer outer":return n.labelBox.height+n.axisBox.width+e;case"y outer inner":case"y2 inner outer":return n.labelBox.height+e;case"y outer outer":case"y2 inner inner":return-n.axisBox.width-e}}}function v(t,e){if(t.data)return"start"===t.info.labelOrient2?0:"middle"===t.info.labelOrient2?e/2:e}function g(t,e){if(e.data){var n=e.info.wrapLength,i=e.info.wrapAnchor;t.selectAll(".tick text").each(function(){var t=r.select(this);-1===u(t.html(),"").indexOf("tspan")&&(this.storeText=t.text()),t.text("")}).call(c,function(){return this.storeText},n,i)}}function m(t){return"number"==typeof t?{top:t,left:t,right:t,bottom:t}:t}}e.version="0.5.5",e.textWrap=c,e.textWrapPX=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;t.each(function(){var t=r.select(this),n=t.text().split(/\s+/).reverse(),i=void 0,o=[],a=0,s=parseFloat(t.attr("y"))||0,u=parseFloat(t.attr("dy"))||0,c=t.text(null).append("tspan").attr("x",0).attr("y",s).attr("dy",u+"em");for(i=n.pop();i;)o.push(i),c.text(o.join(" ")),c.node().getComputedTextLength()>e&&(o.pop(),c.text(o.join(" ")),o=[i],c=t.append("tspan").attr("x",0).attr("y",s).attr("dy",1.1*++a+u+"em").text(i)),i=n.pop()})},e.tweenArc=l,e.tweenNumber=f,e.tweenCentroid=d,e.tooltip=g,e.tooltipAxis=m,e.stack=y,e.breadcrumbs=b,e.legend=w,e.chartFrame=x,e.defaultColor=_,e.id=E,e.color=_,e.omit=function(t,e){var n={};for(var r in t)"function"!=typeof t[r]&&e.indexOf(r)<0&&(n[r]=t[r]);return n},e.mean=k,e.median=T,e.mode=S,e.range=O,e.midpoint=M,e.toDegrees=A,e.toRadians=function(t){return t*(Math.PI/180)},e.modelBase=p,e.symbolMars=D,e.symbolVenus=R,e.point=j,e.svgPie=L,e.svgLine=function(){var t={};function e(e,n){var r=t.graphs(e,n).map(function(e,n){var r={data:e,index:n,align:t.align(e,n),tooltipGraph:t.tooltipGraph(e,n),shift:t.shift(e,n),stackBy:t.stackBy(e,n),key:t.key(e,n),color:t.color(e,n)};return r.values=t.values(e,n).map(function(e,n){var i={data:e,index:n,graph:r,key:t.pkey(e,n),x:t.px(e,n),y:t.py(e,n),color:t.pcolor(e,n)||r.color,annotation:t.pannotation(e,n)};return i.y1=i.y,i.y0=0,i}),r});return u.entries(r).forEach(function(t){t.values.length>1&&s(t.values)}),r}var n=function n(i){var s=i.selection?i.selection():i,u=s.selectAll(".d2b-line-graphs").data(function(t){return[t]}),c=(u=u.merge(u.enter().append("g").attr("class","d2b-line-graphs"))).selectAll(".d2b-line-graph").data(function(t,n){return e(t,n)},function(t){return t.key}),l=c.enter().append("g").attr("class","d2b-line-graph d2b-graph").style("opacity",0);l.append("path").attr("class","d2b-line").style("stroke",function(t){return t.color}).attr("d",function(e){var n=this.parentNode.parentNode,r=n.__scaleX,i=n.__scaleY;return a.call(this,e,r||t.x,i||t.y)});var h=c.merge(l).order(),f=c.exit(),d=h.select(".d2b-line");if(i!==s){h=h.transition(i),f=f.transition(i),d=d.transition(i);var p=f.style("opacity",0).select(".d2b-line"),v=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=r.max(e.values,function(t){return t.x}),s=r.min(e.values,function(t){return t.x});return o.interpolatePath(this.getAttribute("d"),a.call(this,e,t.x,t.y,n),function(t){return t.x==i||t.x==s})};void 0===o.interpolatePath?(p.attr("d",function(e){return a.call(this,e,t.x,t.y)}),d.attr("d",function(e){return a.call(this,e,t.x,t.y,!0)})):(p.attrTween("d",function(t){return v.call(this,t)}),d.attrTween("d",function(t){return v.call(this,t,!0)}))}else d.attr("d",function(e){return a.call(this,e,t.x,t.y,!0)});h.style("opacity",1),h.each(function(e){var n=this.parentNode,o=r.select(this),a=e.align,u=n.__scaleX||t.x,c=n.__scaleY||t.y,l=e.values.filter(function(t){return t.annotation}),h=o.selectAll(".d2b-line-annotation-group").data(l,function(t){return t.key}),f=h.enter().append("g");f.attr("class","d2b-line-annotation-group").attr("transform",function(t){return"translate("+(u(t.x)+e.shift)+", "+c(t[a])+")"});var d=h.merge(f),p=h.exit();i!==s&&(d=d.transition(i),p=p.transition(i)),d.style("opacity",1).attr("transform",function(n){return"translate("+(t.x(n.x)+e.shift)+", "+t.y(n[a])+")"}).call(U,t.annotation,"d2b-line-annotation"),p.attr("transform",function(n){return n=e.values.filter(function(t){return n.key===t.key})[0]||n,"translate("+(t.x(n.x)+e.shift)+", "+t.y(n[a])+")"}).style("opacity",0).remove()}),f.remove().selectAll(".d2b-line-annotation-group").attr("transform",function(e){return"translate("+(t.x(e.x)+e.graph.shift)+", "+t.y(e[e.graph.align])+")"}),d.style("stroke",function(t){return t.color});var g=t.x.copy(),m=t.y.copy();return u.each(function(){this.__scaleX=g,this.__scaleY=m}),s.dispatch("svg-line-updated",{bubbles:!0}),n},a=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.shift;null===o&&(o=n.bandwidth?n.bandwidth()/2:0),e.tooltipGraph&&i&&e.tooltipGraph.data(e.values).x(function(t){return n(t.x)+o}).y(function(t){return r(t[e.align])}).color(function(t){return t.color}),t.line.x(function(t){return n(t.x)+o}).y(function(t){return r(t[e.align])});var a=t.line(e.values);return F(a)?a:this.getAttribute("d")},s=y().values(function(t){return t.values}).y(function(t){return t.y}).x(function(t){return t.x}),u=r.nest().key(function(t){var e=t.stackBy;return!1!==e&&null!==e?e:E()});return p(n,t).addProp("line",r.line()).addProp("stack",s.stack(),null,function(t){return s.stack(t)}).addProp("x",r.scaleLinear()).addProp("y",r.scaleLinear()).addProp("annotation",i.annotation?i.annotation():null).addPropGet("type","line").addPropFunctor("graphs",function(t){return t}).addPropFunctor("align","y1").addPropFunctor("tooltipGraph",function(t){return t.tooltipGraph}).addPropFunctor("shift",null).addPropFunctor("stackBy",null).addPropFunctor("key",function(t){return t.label}).addPropFunctor("values",function(t){return t.values}).addPropFunctor("color",function(t){return _(t.label)}).addPropFunctor("px",function(t){return t.x}).addPropFunctor("py",function(t){return t.y}).addPropFunctor("pcolor",null).addPropFunctor("pkey",function(t,e){return e}).addPropFunctor("pannotation",function(t){return t.annotation}).addMethod("getComputedGraphs",function(t){return(t.selection?t.selection():t).data().map(function(t,n){return e(t,n)})}).addMethod("getVisiblePoints",function(t){return n.getComputedGraphs(t).map(function(t){return[].concat.apply([],t.map(function(t){return t.values.map(function(e){return{x:e.x,y:e[t.align],graph:t}})}))})[0]}),n},e.svgArea=function(){var t={};function e(e,n){var r=t.graphs(e,n).map(function(e,n){var r={data:e,index:n,tooltipGraph:t.tooltipGraph(e,n),shift:t.shift(e,n),stackBy:t.stackBy(e,n),key:t.key(e,n),color:t.color(e,n)};return r.values=t.values(e,n).map(function(e,n){var i={data:e,index:n,graph:r,key:t.pkey(e,n),x:t.px(e,n),y:t.py(e,n),y0:t.py0(e,n),color:t.pcolor(e,n)||r.color,annotations:t.pannotations(e,n)};return i.y1=i.y,i.y0=u(i.y0,0),i}),r});return c.entries(r).forEach(function(t){t.values.length>1&&s(t.values)}),r}var n=function n(i){var s=i.selection?i.selection():i,u=s.selectAll(".d2b-area-graphs").data(function(t){return[t]}),c=(u=u.merge(u.enter().append("g").attr("class","d2b-area-graphs"))).selectAll(".d2b-area-graph").data(function(t,n){return e(t,n)},function(t){return t.key}),l=c.enter().append("g").attr("class","d2b-area-graph d2b-graph").style("opacity",0);l.append("path").attr("class","d2b-area").style("fill",function(t){return t.color}).attr("d",function(e){var n=this.parentNode.parentNode,r=n.__scaleX,i=n.__scaleY;return a.call(this,e,r||t.x,i||t.y)});var h=c.merge(l).order(),f=c.exit(),d=h.select(".d2b-area");if(i!==s){h=h.transition(i),f=f.transition(i),d=d.transition(i);var p=f.style("opacity",0).select(".d2b-area"),v=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=r.max(e.values,function(t){return t.x}),s=r.min(e.values,function(t){return t.x});return o.interpolatePath(this.getAttribute("d"),a.call(this,e,t.x,t.y,n),function(t){return t.x==i||t.x==s})};void 0===o.interpolatePath?(p.attr("d",function(e){return a.call(this,e,t.x,t.y)}),d.attr("d",function(e){return a.call(this,e,t.x,t.y,!0)})):(p.attrTween("d",function(t){return v.call(this,t)}),d.attrTween("d",function(t){return v.call(this,t,!0)}))}else d.attr("d",function(e){return a.call(this,e,t.x,t.y,!0)});h.style("opacity",1),h.each(function(e){var n=this.parentNode,o=r.select(this),a=n.__scaleX||t.x,u=n.__scaleY||t.y;["y0","y1"].forEach(function(n){var r=e.values.filter(function(t){return(t.annotations||[]).filter(function(t){return t.location===n}).length}),c=o.selectAll(".d2b-area-annotation-group-"+n).data(r,function(t){return t.key}),l=c.enter().append("g");l.attr("class","d2b-area-annotation-group-"+n).attr("transform",function(t){return"translate("+(a(t.x)+e.shift)+", "+u(t[n])+")"});var h=c.merge(l),f=c.exit();i!==s&&(h=h.transition(i),f=f.transition(i)),h.style("opacity",1).attr("transform",function(r){return"translate("+(t.x(r.x)+e.shift)+", "+t.y(r[n])+")"}).call(U,t.annotation,"d2b-area-annotation",function(t){return t.annotations.filter(function(t){return t.location===n})}),f.attr("transform",function(r){return r=e.values.filter(function(t){return r.key===t.key})[0]||r,"translate("+(t.x(r.x)+e.shift)+", "+t.y(r[n])+")"}).style("opacity",0).remove()})}),f.remove(),f.selectAll(".d2b-area-annotation-group-y0").attr("transform",function(e){return"translate("+(t.x(e.x)+e.graph.shift)+", "+t.y(e.y0)+")"}),f.selectAll(".d2b-area-annotation-group-y1").attr("transform",function(e){return"translate("+(t.x(e.x)+e.graph.shift)+", "+t.y(e.y1)+")"}),d.style("fill",function(t){return t.color});var g=t.x.copy(),m=t.y.copy();return u.each(function(){this.__scaleX=g,this.__scaleY=m}),s.dispatch("svg-area-updated",{bubbles:!0}),n},a=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.shift;null===o&&(o=n.bandwidth?n.bandwidth()/2:0),e.tooltipGraph&&i&&e.tooltipGraph.data(e.values).x(function(t){return n(t.x)+o}).y(function(t){return r(t.y1)}).color(function(t){return t.color}),t.area.x(function(t){return n(t.x)+o}).y0(function(t){return r(t.y0)}).y1(function(t){return r(t.y1)});var a=t.area(e.values);return F(a)?a:this.getAttribute("d")},s=y().values(function(t){return t.values}).y(function(t){return t.y}).x(function(t){return t.x}),c=r.nest().key(function(t){var e=t.stackBy;return!1!==e&&null!==e?e:E()});return p(n,t).addProp("area",r.area()).addProp("stack",s.stack(),null,function(t){return s.stack(t)}).addProp("x",r.scaleLinear()).addProp("y",r.scaleLinear()).addProp("annotation",i.annotation?i.annotation():null).addPropGet("type","area").addPropFunctor("graphs",function(t){return t}).addPropFunctor("tooltipGraph",function(t){return t.tooltipGraph}).addPropFunctor("shift",null).addPropFunctor("stackBy",null).addPropFunctor("key",function(t){return t.label}).addPropFunctor("values",function(t){return t.values}).addPropFunctor("color",function(t){return _(t.label)}).addPropFunctor("px",function(t){return t.x}).addPropFunctor("py",function(t){return t.y}).addPropFunctor("py0",function(t){return t.y0}).addPropFunctor("pcolor",null).addPropFunctor("pkey",function(t,e){return e}).addPropFunctor("pannotations",function(t){return t.annotations}).addMethod("getComputedGraphs",function(t){return(t.selection?t.selection():t).data().map(function(t,n){return e(t,n)})}).addMethod("getVisiblePoints",function(t){return n.getComputedGraphs(t).map(function(t){var e=[].concat.apply([],t.map(function(t){return t.values.map(function(e){return{x:e.x,y:e.y0,graph:t}})})),n=[].concat.apply([],t.map(function(t){return t.values.map(function(e){return{x:e.x,y:e.y1,graph:t}})}));return e.concat(n)})[0]}),n},e.svgScatter=function(){var t={};function e(e,n){var r=t.graphs(e,n).map(function(e,n){var r={data:e,index:n,align:t.align(e,n),tooltipGraph:t.tooltipGraph(e,n),shift:t.shift(e,n),stackBy:t.stackBy(e,n),key:t.key(e,n),color:t.color(e,n),symbol:t.symbol(e,n)};return r.values=t.values(e,n).map(function(e,n){var i={data:e,index:n,graph:r,x:t.px(e,n),y:t.py(e,n),color:t.pcolor(e,n)||r.color,symbol:t.psymbol(e,n)||r.symbol,key:t.pkey(e,n),size:t.psize(e,n),annotation:t.pannotation(e,n)};return i.y1=i.y,i.y0=0,i}),r});return s.entries(r).forEach(function(t){t.values.length>1&&a(t.values)}),r}var n=function n(i){var a=i.selection?i.selection():i,s=a.selectAll(".d2b-scatter-graphs").data(function(t){return[t]}),u=(s=s.merge(s.enter().append("g").attr("class","d2b-scatter-graphs"))).selectAll(".d2b-scatter-graph").data(function(t,n){return e(t,n)},function(t){return t.key}),c=u.enter().append("g").attr("class","d2b-scatter-graph d2b-graph").style("opacity",0),l=u.merge(c).order(),h=u.exit();return i!==a&&(l=l.transition(i),(h=h.transition(i)).style("opacity",0).each(function(e){var n=r.select(this),s=t.x,u=t.y,c=n.selectAll(".d2b-scatter-point");i!==a&&(c=c.transition(i));var l=e.shift;null===l&&(l=s.bandwidth?s.bandwidth()/2:0),c.style("opacity",0).call(o,s,u,l,e.align).remove()})),l.style("opacity",1),h.remove(),l.each(function(e){var n=r.select(this),s=t.x,u=t.y,c=this.parentNode,l=c.__scaleX||s,h=c.__scaleY||u,f=e.shift;null===f&&(f=s.bandwidth?s.bandwidth()/2:0);var d=f;null===d&&(f=l.bandwidth?l.bandwidth()/2:0),e.tooltipGraph&&e.tooltipGraph.data(e.values).x(function(t){return s(t.x)+f}).y(function(t){return u(t.y)}).color(function(t){return t.color}),t.point.fill(function(t){return t.color}).type(function(t){return t.symbol}).size(function(t){return t.size});var p=n.selectAll(".d2b-scatter-point").data(e.values,function(t){return t.key}),v=p.enter().append("g").attr("class","d2b-scatter-point"),g=p.merge(v).order(),m=p.exit();i!==a&&(g=g.transition(i),m=m.transition(i)),l.bandwidth||h.bandwidth||s.bandwidth||u.bandwidth?v.call(o,s,u,f,e.align):v.call(o,l,h,d,e.align),v.style("opacity",0),g.style("opacity",1).call(t.point).call(o,s,u,f,e.align),m.style("opacity",0).call(o,s,u,f,e.align).remove(),U(g,t.annotation,"d2b-scatter-annotation")}),s.each(function(){this.__scaleX=t.x.copy(),this.__scaleY=t.y.copy()}),a.dispatch("svg-scatter-updated",{bubbles:!0}),n};function o(t,e,n,r,i){t.attr("transform",function(t){var o=n(t[i]),a=e(t.x)+r;return isFinite(a)&&isFinite(o)?"translate("+[a,o]+")":this.getAttribute("transform")})}var a=y().values(function(t){return t.values}).y(function(t){return t.y}).x(function(t){return t.x}),s=r.nest().key(function(t){var e=t.stackBy;return!1!==e&&null!==e?e:E()});return p(n,t).addProp("point",j().active(!0)).addProp("stack",a.stack(),null,function(t){return a.stack(t)}).addProp("x",r.scaleLinear()).addProp("y",r.scaleLinear()).addProp("annotation",i.annotation?i.annotation():null).addPropGet("type","scatter").addPropFunctor("graphs",function(t){return t}).addPropFunctor("align","y1").addPropFunctor("tooltipGraph",function(t){return t.tooltipGraph}).addPropFunctor("shift",null).addPropFunctor("stackBy",null).addPropFunctor("key",function(t){return t.label}).addPropFunctor("values",function(t){return t.values}).addPropFunctor("color",function(t){return _(t.label)}).addPropFunctor("symbol",function(){return r.symbolCircle}).addPropFunctor("px",function(t){return t.x}).addPropFunctor("py",function(t){return t.y}).addPropFunctor("pcolor",null).addPropFunctor("psymbol",null).addPropFunctor("pkey",function(t,e){return e}).addPropFunctor("psize",25).addPropFunctor("pannotation",function(t){return t.annotation}).addMethod("getComputedGraphs",function(t){return(t.selection?t.selection():t).data().map(function(t,n){return e(t,n)})}).addMethod("getVisiblePoints",function(t){return n.getComputedGraphs(t).map(function(t){return[].concat.apply([],t.map(function(t){return t.values.map(function(e){return{x:e.x,y:e[t.align],graph:t}})}))})[0]}),n},e.svgBar=function(){var t={};function e(t){return"horizontal"===t?{rotate:!0,px:"py",py:"px",x:"y",y:"x",w:"height",h:"width"}:{rotate:!1,px:"px",py:"py",x:"x",y:"y",w:"width",h:"height"}}function n(n,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e(t.orient(n,i)),u=t.graphs(n,i).map(function(e,n){var r={data:e,index:n,tooltipGraph:t.tooltipGraph(e,n),shift:t.shift(e,n),stackBy:t.stackBy(e,n),key:t.key(e,n),color:t.color(e,n)};return r.values=t.values(e,n).map(function(e,n){return{data:e,index:n,graph:r,key:t.pkey(e,n),x:t.px(e,n),y:t.py(e,n),centered:t.pcentered(e,n),color:t.pcolor(e,n)||r.color,annotation:t.pannotation(e,n)}}),r});return a.x(function(t){return t[o.x]}).y(function(t){return t[o.y]}),s.entries(u).forEach(function(t,e){return a.out((n=e,r={},function(t,e,i,o){var a=r[o]=r[o]||[0,0];t.dy=i-e,t.stackIndex=n,t.base=o,t.dy>0?t.extent=[a[0],a[0]+=t.dy]:t.extent=[a[1],a[1]+=t.dy]}))(t.values);var n,r}),function(t,e){if(null===e){var n=[].concat.apply([],t.map(function(t){return t.values})),i=r.extent(n.map(function(t){return t.extent[1]}));e=i[1]<0?i[1]:i[0]>0?i[0]:0}t.forEach(function(t){t.values.forEach(function(t){Math.abs(t.extent[0])<Math.abs(e)&&(t.extent[0]=e)})})}(u,t.baseline(n,i,[].concat.apply([],u.map(function(t){return t.values.map(function(t){return t.extent[1]})})))),u}var o=function i(o){var a=o.selection?o.selection():o,l={x:t.x,y:t.y};return a.each(function(i,h){var f=e(t.orient(i,h)),d=n(i,h,f),p=l[f.x].copy(),v=l[f.y].copy(),g=t.padding(i,h),m=t.groupPadding(i,h),y=t.bandwidth(i,h);y=(1-g)*u(y||function(t,e,n){var i=[],o=1/0;e.forEach(function(e){var r=e.values,a=t.range();o=Math.min(o,Math.abs(a[1]-a[0])),r.forEach(function(e){i.push(t(e[n.x]))})}),i.sort(r.ascending);for(var a=0;a<i.length-1;a++)i[a+1]!==i[a]&&(o=Math.min(i[a+1]-i[a],o));return o===1/0?0:o}(p,d,f));var b,_,w=s.entries(d),x=y/Math.max(1,w.length),E=function(t,e,n,r){return function(i,o){var a=i.centered?o-e/4:o-e/2+i.stackIndex*n+r;return t(i.base)+a}}(p,y,x,m*=x),C=(b=v,(_=function(t){return[b(t.extent[0]),b(t.extent[1])]}).sorted=function(t){return _(t).slice().sort(r.ascending)},_);x-=2*m;var k=r.select(this).selectAll(".d2b-bar-graphs").data(function(t){return[t]}),T=(k=k.merge(k.enter().append("g").attr("class","d2b-bar-graphs"))).node(),S=T.__scaleBase||E,O=T.__scaleY||v,M=T.__scaleX||p,A=T.__barWidth||x,P=k.selectAll(".d2b-bar-graph").data(d.slice().reverse(),function(t){return t.key}),I=P.enter().append("g").attr("class","d2b-bar-graph d2b-graph"),N=P.merge(I).order(),D=P.exit();o!==a&&(N=N.transition(o),(D=D.transition(o)).each(function(t){var e=t.shift;null===e&&(e=p.bandwidth?p.bandwidth()/2:0);var n=r.select(this).selectAll(".d2b-bar-group").transition(o);M.bandwidth||O.bandwidth||p.bandwidth||v.bandwidth?n.style("opacity",0):n.call(c,{opacity:0,x:function(t){return E(t,e)},y:function(){return v(0)},width:x,height:function(){return 0},graph:t,orientMap:f})})),D.remove(),N.each(function(t){var e=r.select(this),n=t.shift;null===n&&(n=p.bandwidth?p.bandwidth()/2:0);var i=e.selectAll(".d2b-bar-group").data(t.values,function(t){return t.key}),s=i.enter().append("g").attr("class","d2b-bar-group");s.append("rect"),s.append("g").attr("class","d2b-bar-annotation-group");var u=i.merge(s).order(),l=i.exit();t.tooltipGraph&&t.tooltipGraph.data(t.values)[f.x](function(t){return p(t.base)+n})[f.y](function(t){return C(t)[1]}).color(function(t){return t.color}),o!==a&&(u=u.transition(o),l=l.transition(o)),s.attr("class","d2b-bar-group"),l.remove(),M.bandwidth||O.bandwidth||p.bandwidth||v.bandwidth?(s.call(c,{opacity:0,x:function(t){return E(t,n)},y:function(){return v(0)},width:A,height:function(){return 0},graph:t,orientMap:f}),l.style("opacity",0)):(s.call(c,{opacity:0,x:function(t){return S(t,n)},y:function(){return O(0)},width:A,height:function(){return 0},graph:t,orientMap:f}),l.call(c,{opacity:0,x:function(t){return E(t,n)},y:function(){return v(0)},width:x,height:function(){return 0},graph:t,orientMap:f})),u.call(c,{opacity:1,x:function(t){return E(t,n)},y:function(t){return C.sorted(t)[0]},width:x,height:function(t){return C.sorted(t)[1]-C.sorted(t)[0]},graph:t,orientMap:f})}),T.__scaleY=v,T.__scaleX=p,T.__scaleBase=E,T.__barWidth=x}),a.dispatch("svg-bar-updated",{bubbles:!0}),i},a=y().values(function(t){return t.values}),s=r.nest().key(function(t){return t.stackBy});function c(e,n){e.style("opacity",n.opacity).call(l,n).select("rect").attr("fill",function(t){return t.color}).attr(n.orientMap.w,n.width).attr(n.orientMap.h,n.height),e.select(".d2b-bar-annotation-group").call(h,n).call(U,t.annotation,"d2b-bar-annotation")}function l(t,e){t.attr("transform",function(t){return"translate("+[e[e.orientMap.x](t),e[e.orientMap.y](t)]+")"})}function h(t,e){t.attr("transform",function(t){var n={x:e.width/2,y:t.extent[0]<t.extent[1]?0:e.height(t)};return"translate("+[n[e.orientMap.x],n[e.orientMap.y]]+")"})}return p(o,t).addProp("x",r.scaleLinear()).addProp("y",r.scaleLinear()).addProp("annotation",i.annotation?i.annotation():null).addPropGet("type","bar").addPropFunctor("graphs",function(t){return t}).addPropFunctor("padding",.5).addPropFunctor("groupPadding",0).addPropFunctor("bandwidth",null).addPropFunctor("baseline",0).addPropFunctor("tooltipGraph",function(t){return t.tooltipGraph}).addPropFunctor("orient","vertical").addPropFunctor("shift",null).addPropFunctor("stackBy",function(t,e){return e}).addPropFunctor("key",function(t){return t.label}).addPropFunctor("values",function(t){return t.values},null).addPropFunctor("color",function(t){return _(t.label)}).addPropFunctor("px",function(t){return t.x}).addPropFunctor("py",function(t){return t.y}).addPropFunctor("pcentered",!1).addPropFunctor("pcolor",null).addPropFunctor("pkey",function(t,e){return e}).addPropFunctor("pannotation",function(t){return t.annotation}).addMethod("getComputedGraphs",function(t){return(t.selection?t.selection():t).data().map(function(t,e){return n(t,e)})}).addMethod("getVisiblePoints",function(r){return(r.selection?r.selection():r).data().map(function(r,i){var o=e(t.orient(r,i)),a=n(r,i,o),s=[].concat.apply([],a.map(function(t){return t.values.map(function(e){var n={};return n[""+o.x]=e.base,n[""+o.y]=e.extent[0],n.graph=t,n})})),u=[].concat.apply([],a.map(function(t){return t.values.map(function(e){var n={};return n[""+o.x]=e.base,n[""+o.y]=e.extent[1],n.graph=t,n})}));return s.concat(u)})[0]}),o},e.svgBoxPlot=function(){var t={};function e(e,n){return t.graphs(e,n).map(function(e,n){var r={data:e,index:n,tooltipGraph:t.tooltipGraph(e,n),shift:t.shift(e,n),key:t.key(e,n),color:t.color(e,n),orient:t.orient(e,n)};return r.values=t.values(e,n).map(function(e,n){return{data:e,index:n,graph:r,x:t.px(e,n),y:t.py(e,n),annotations:t.pannotations(e,n),median:t.box.median()(e,n)}}),r})}var n=function n(i){var a=i.selection?i.selection():i,s=a.selectAll(".d2b-box-plot-graphs").data(function(t){return[t]}),u=(s=s.merge(s.enter().append("g").attr("class","d2b-box-plot-graphs"))).selectAll(".d2b-box-plot-graph").data(function(t,n){return e(t,n)},function(t){return t.key}),c=u.enter().append("g").attr("class","d2b-box-plot-graph d2b-graph").style("opacity",0),l=u.merge(c).order(),h=u.exit();return t.box.data(function(t){return t.data}).annotation(t.annotation).annotations(t.pannotations),i!==a&&(l=l.transition(i),(h=h.transition(i)).style("opacity",0).each(function(e){var n=r.select(this),s="vertical"===e.orient,u=s?{x:"x",y:"y"}:{x:"y",y:"x"},c=t[u.x],l=t[u.y];t.box.scale(l).orient(e.orient).color(function(n,r){return t.pcolor(n,r)||e.color});var h=n.selectAll(".d2b-box-plot-box");i!==a&&(h=h.transition(i));var f=e.shift;null===f&&(f=c.bandwidth?c.bandwidth()/2:0),h.style("opacity",0).attr("transform",function(t){return o(c(t[u.x])+f,s)}).call(t.box).remove()})),l.style("opacity",1),h.remove(),l.each(function(e){var n=r.select(this),s="vertical"===e.orient,u=s?{x:"x",y:"y"}:{x:"y",y:"x"},c=t[u.x],l=t[u.y],h=this.parentNode,f={x:h.__scaleX||c,y:h.__scaleY||l},d=f[u.x],p=f[u.y],v=e.shift;null===v&&(v=c.bandwidth?c.bandwidth()/2:0),null===v&&(v=d.bandwidth?d.bandwidth()/2:0),e.tooltipGraph&&e.tooltipGraph.data(e.values)[u.x](function(t){return c(t[u.x])+v})[u.y](function(t){return l(t.median)}).color(function(n,r){return t.pcolor(n.data,r)||e.color}),t.box.scale(l).enterScale(p).orient(e.orient).color(function(n,r){return t.pcolor(n,r)||e.color});var g=n.selectAll(".d2b-box-plot-box").data(e.values,t.pkey),m=g.enter().append("g").attr("class","d2b-box-plot-box"),y=g.merge(m).order(),b=g.exit();i!==a&&(y=y.transition(i),b=b.transition(i)),d.bandwidth||p.bandwidth||c.bandwidth||l.bandwidth?(t.box.enterScale(l),m.attr("transform",function(t){return o(c(t[u.x])+v,s)})):(t.box.enterScale(p),m.attr("transform",function(t){return o(d(t[u.x])+v,s)})),m.style("opacity",0),y.attr("transform",function(t){return o(c(t[u.x])+v,s)}).style("opacity",1).call(t.box),b.attr("transform",function(t){return o(c(t[u.x])+v,s)}).style("opacity",0).call(t.box).remove()}),s.each(function(){this.__scaleX=t.x.copy(),this.__scaleY=t.y.copy()}),a.dispatch("svg-box-updated",{bubbles:!0}),n};function o(t,e){return"translate("+(e?[t,0]:[0,t])+")"}return p(n,t).addProp("x",r.scaleLinear()).addProp("y",r.scaleLinear()).addProp("box",V()).addProp("annotation",i.annotation?i.annotation():null).addPropGet("type","boxPlot").addPropFunctor("graphs",function(t){return t}).addPropFunctor("tooltipGraph",function(t){return t.tooltipGraph}).addPropFunctor("shift",null).addPropFunctor("key",function(t){return t.label}).addPropFunctor("values",function(t){return t.values}).addPropFunctor("color",function(t){return _(t.label)}).addPropFunctor("orient","vertical").addPropFunctor("px",function(t){return t.x}).addPropFunctor("py",function(t){return t.y}).addPropFunctor("pcolor",null).addPropFunctor("pkey",function(t,e){return e}).addPropFunctor("pannotations",function(t){return t.annotations}).addMethod("getComputedGraphs",function(t){return(t.selection?t.selection():t).data().map(function(t,n){return e(t,n)})}).addMethod("getVisiblePoints",function(e){var r=[];return n.getComputedGraphs(e).forEach(function(e){e.forEach(function(e){e.values.forEach(function(n,i){["maximum","minimum","upperQuartile","lowerQuartile","median"].forEach(function(o){r.push({x:n.x,y:t.box[o]()(n.data,i),graph:e})}),(t.box.outliers()(n.data,i)||[]).forEach(function(t){r.push({x:n.x,y:t,graph:e})})})})}),r}),n},e.svgBubblePack=function(){var t={},e=r.symbol().size(80);function n(e,n){var i=t.graphs(e,n).map(function(e,n){var r={data:e,index:n,tendancy:t.tendancy(e,n),tooltipGraph:t.tooltipGraph(e,n),shift:t.shift(e,n),key:t.key(e,n),color:t.color(e,n),symbol:t.symbol(e,n)};return r.values=t.values(e,n).map(function(e,n){return function e(n,r,i){return{data:n,index:r,graph:i,x:t.px(n,r),y:t.py(n,r),color:t.pcolor(n,r)||i.color,symbol:t.psymbol(n,r)||i.symbol,key:t.pkey(n,r),size:t.psize(n,r),indicator:t.pindicator(n,r),annotation:t.pannotation(n,r),children:(t.pchildren(n,r)||[]).map(function(t,n){return e(t,n,i)})}}(e,n,r)}),r});return i.forEach(function(t){return t.values.forEach(function(e){return function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.children=e.children||[],e.leaves=e.children.length?[]:[e],e.depth=i,e.children.length&&e.children.forEach(function(r){t(r,n,i+1),r.parent=e,e.leaves=e.leaves.concat(r.leaves)}),e.size=u(e.size,r.sum(e.leaves,function(t){return t.size})),e.x=u(e.x,(n.x||n)(e.leaves,function(t){return t.x},function(t){return t.size})),e.y=u(e.y,(n.y||n)(e.leaves,function(t){return t.y},function(t){return t.size}))}(e,t.tendancy)})}),i}var o=function i(o){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=o.selection?o:null,c=o.selection?o.selection():o,l=c.selectAll(".d2b-bubble-pack-graphs").data(function(t){return[t]}),h=(l=l.merge(l.enter().append("g").attr("class","d2b-bubble-pack-graphs"))).selectAll(".d2b-bubble-pack-graph").data(function(t,e){return n(t,e)},function(t){return t.key}),f=h.enter().append("g").attr("class","d2b-bubble-pack-graph d2b-graph"),d=h.merge(f).order(),p=h.exit();return u&&(d=d.transition(u),p=p.transition(u)),d.style("opacity",1),p.style("opacity",0).remove(),o.each(function(n,o){var c=r.select(this),l=t.duration(n,o),h=c.selectAll(".d2b-bubble-pack-graph"),f=c.selectAll(".d2b-bubble-pack-graphs").node(),d=f.__d2bPreserveScaleX__||t.x,p=f.__d2bPreserveScaleY__||t.y;c.on("change",function(){c.transition().duration(l).call(i,!1)});var v=0;h.each(function(n){var i=r.select(this),o=t.x.range();v=Math.max(v,Math.abs(o[0]-o[1]));var l=n.shift;null===l&&(l=t.x.bandwidth?t.x.bandwidth()/2:0),t.point.active(function(t){return!!t.children.length}).fill(function(t){return t.color}).type(function(t){return t.symbol});var h=n.tooltipGraph?n.tooltipGraph.clear().x(function(e){return t.x(e.x)+l}).y(function(e){return t.y(e.y)}).color(function(t){return t.color}).addPoint:null;!function n(i,o,s,u,c,l,h,f,d,p,v){var g=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,m=i.selectAll(".d2b-bubble-pack.d2b-depth-"+g).data(o,function(t){return t.key}),y=m.enter().append("g").attr("class","d2b-bubble-pack d2b-depth-"+g),b=m.merge(y),_=y.append("g").attr("class","d2b-bubble-point");v&&a(_,!1,l,h,f),_.style("opacity",0),a(b.select(".d2b-bubble-point"),s,u,c,f),y.append("g").attr("class","d2b-bubble-indicator"),function(n){n.each(function(n){var i=r.select(this).classed("d2b-active",n.data.expanded);if(!n.data.expanded)return i.selectAll("rect, text, path").remove();var o=i.select("rect"),a=i.select("text"),s=i.select("path");o.size()||(o=i.append("rect")),a.size()||(a=i.append("text")),s.size()||(s=i.append("path")),a.text(function(t){return t.indicator.substring(0,5)}).attr("x",20);var u=a.node().getBBox();a.attr("y",u.height/1.35),o.on("click",function(){r.select(this).dispatch("change",{bubbles:!0,cancelable:!0})}).on("change",function(t){t.data.expanded=!t.data.expanded,t.data.expanded||function t(e,n){e.data.expanded=n,e.children.forEach(function(e){return t(e,n)})}(t,!1)}).attr("width",u.width+25).attr("height",u.height).style("fill",t.point.fill()).style("stroke",t.point.stroke()),s.attr("d",function(t){return e.type(t.symbol)()}).attr("transform","translate(10, 9.5)").style("fill",t.point.stroke())})}(b.select(".d2b-bubble-indicator")),b.each(function(t){var e=r.select(this),i=e.selectAll(".d2b-bubble-pack");i=s?i.transition(s):i,t.children.length&&t.data.expanded?n(e,t.children,s,u,c,l,h,f,d,p,v,g+1):(p&&p(t),i.remove().select(".d2b-bubble-point").style("opacity",0).attr("transform","translate("+[u(t.x)+f,c(t.y)]+")"))});var w=m.exit();s&&(w=w.transition(s)),w.remove()}(i,n.values,u,t.x,t.y,d,p,l,c,h,s)}),function(t,e){var n=5,r=5;t.selectAll(".d2b-bubble-indicator.d2b-active").attr("transform",function(){var t=this.getBBox();t.width+n>e&&n>0&&(n=5,r+=t.height+5);var i="translate("+n+", "+r+")";return n+=t.width+5,i})}(c,v)}),l.each(function(){this.__d2bPreserveScaleX__=t.x.copy(),this.__d2bPreserveScaleY__=t.y.copy()}),c.dispatch("svg-bubble-pack-updated",{bubbles:!0}),i};function a(e,n,i,o,a){e.each(function(e){var s=r.select(this);s.attr("transform")||s.attr("transform","translate("+(i(e.parent?e.parent.x:e.x)+a)+","+o(e.parent?e.parent.y:e.y)+")"),e.children.length&&!e.data.expanded?s.attr("cursor","pointer").on("click",function(){r.select(this).dispatch("change",{bubbles:!0,cancelable:!0})}).on("change",function(t){return t.data.expanded=!t.data.expanded}):s.attr("cursor","").on("click",null),n&&(s=s.transition(n)),e.data.expanded?s.style("opacity",0).selectAll("*").remove():s.style("opacity",null).call(t.point),s.attr("transform","translate("+(i(e.x)+a)+", "+o(e.y)+")"),U(s,t.annotation,"d2b-bubble-annotation")})}return p(o,t).addProp("point",j().size(function(t){return 100*t.size})).addProp("x",r.scaleLinear()).addProp("y",r.scaleLinear()).addProp("annotation",i.annotation?i.annotation():null).addPropGet("type","bubblePack").addPropFunctor("duration",250).addPropFunctor("graphs",function(t){return t}).addPropFunctor("tendancy",k,function(e){return arguments.length?(e&&e.tendancy?t.tendancy=function(){return e}:t.tendancy=s(e),o):t.tendancy}).addPropFunctor("tooltipGraph",function(t){return t.tooltipGraph}).addPropFunctor("shift",null).addPropFunctor("key",function(t){return t.label}).addPropFunctor("values",function(t){return t.values}).addPropFunctor("color",function(t){return _(t.label)}).addPropFunctor("symbol",function(){return r.symbolCircle}).addPropFunctor("px",function(t){return t.x}).addPropFunctor("py",function(t){return t.y}).addPropFunctor("psize",function(t){return t.size}).addPropFunctor("pchildren",function(t){return t.children}).addPropFunctor("pcolor",null).addPropFunctor("psymbol",null).addPropFunctor("pindicator",function(t){return t.label}).addPropFunctor("pkey",function(t,e){return e}).addPropFunctor("pannotation",function(t){return t.annotation}).addMethod("getComputedGraphs",function(t){return(t.selection?t.selection():t).data().map(function(t,e){return n(t,e)})}).addMethod("getVisiblePoints",function(t){return o.getComputedGraphs(t).map(function(t){return[].concat.apply([],t.map(function(t){var e=[];return t.values.forEach(function(n){return function t(e,n,r){e.data.expanded?e.children.forEach(function(e){return t(e,n,r)}):n.push({x:e.x,y:e.y,graph:r})}(n,e,t)}),e}))})[0]}),o},e.svgSunburst=H,e.svgSankey=W,e.plane=G,e.box=V,e.chartPie=function(){var t={},e=function e(n){n.call(t.chartFrame),t.pie.value(t.value).color(t.color).key(t.key),t.legend.html(t.label).key(t.key).color(t.color),t.tooltip.color(function(e){return r.rgb(t.color(e.data)).darker(.3)});var o=n.selection?n.selection():n;return o.each(function(t){i.call(this,t,n!==o?n:null)}),o.dispatch("chart-pie-updated",{bubbles:!0}),e},n=r.format(".0%");function i(i,a){var s=r.select(this),u=s.select(".d2b-chart-container"),c=u.node().__size__,l=t.radius(i,c.width,c.height),h=t.donutRatio(i),p=t.legend.empty(),v=t.values(i),g=v.filter(function(t){return!p(t)});t.pie.values(g),t.legend.values(v),s.select(".d2b-legend-container").call(t.legend).on("change",function(){return s.transition().duration(t.duration(i)).call(e)}).selectAll(".d2b-legend-item").on("mouseover",function(t){o.call(this,s,t,1.03)}).on("mouseout",function(t){o.call(this,s,t)});var m=r.sum(g,function(e){return t.value(e)}),y=u.selectAll(".d2b-pie-chart").data([g]),b=y.enter().append("g").attr("class","d2b-pie-chart");y=y.merge(b),a&&(y=y.transition(a)),t.pie.arc().innerRadius(l*h).outerRadius(l),y.call(t.pie);var _=u.selectAll(".d2b-pie-arc").each(function(t){t.__innerRadius__=l*h,t.__outerRadius__=l,t.__percent__=t.value/m}).on("mouseover",function(t){o.call(this,s,t.data,1.03)}).on("mouseout",function(t){o.call(this,s,t.data)}).call(t.tooltip);_.selectAll(".d2b-pie-arc-percent").data(function(t){return[t]}).enter().append("g").attr("class","d2b-pie-arc-percent").append("text").attr("y",6),_.each(function(){var t=r.select(this),e=t.select(".d2b-pie-arc path").node().current,n=t.select(".d2b-pie-arc-percent"),i=n.select("text").node();n.node().current=e,i.current=i.current||0}),a&&(_=_.each(function(t){t.transitioning=!0}).transition(a).on("end",function(t){t.transitioning=!1})),_.select(".d2b-pie-arc-percent").call(d,t.pie.arc()).select("text").each(function(e){var i=t.arcLabel(e.data),o=r.select(this);a&&(o=o.transition(a)),i?o.text(i):o.call(f,t.value(e.data)/m,n).style("opacity",function(e){return t.showPercent.call(this,e.data,m)?1:0})});var w=function(e,n,r){var i=t.at(e,r.width,r.height,n);if("object"!==(void 0===i?"undefined":B(i))){var o={x:(i=i.split(" "))[1],y:i[0]};switch(i={},o.x){case"left":i.x=n;break;case"center":case"middle":i.x=r.width/2;break;case"right":default:i.x=r.width-n}switch(o.y){case"bottom":i.y=r.height-n;break;case"center":case"middle":i.y=r.height/2;break;case"top":default:i.y=n}}return i}(i,l,c);isNaN(w.x)||isNaN(w.y)||(b.attr("transform","translate("+w.x+", "+w.y+")"),y.attr("transform","translate("+w.x+", "+w.y+")"))}function o(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=t.pie.arc(),o=!1;i.outerRadius(function(t){return t.outerRadius}).innerRadius(function(t){return t.innerRadius});var a=e.selectAll(".d2b-pie-arc").filter(function(t){return t.data===n}).each(function(t){o=o||t.transitioning,t.outerRadius=t.__outerRadius__*r,t.innerRadius=t.__innerRadius__});o||a.select("path").transition().duration(100).call(l,i)}return p(e,t).addProp("chartFrame",x().legendEnabled(!0).breadcrumbsEnabled(!1)).addProp("legend",w().clickable(!0).dblclickable(!0)).addProp("key",function(t){return t.label}).addProp("pie",L()).addProp("tooltip",g().followMouse(!0).html(function(e){return"<b>"+t.label(e.data)+"</b>: "+t.value(e.data)+" ("+n(e.__percent__)+")"})).addPropFunctor("values",function(t){return t}).addPropFunctor("duration",250).addPropFunctor("donutRatio",0).addPropFunctor("at","center center").addPropFunctor("showPercent",function(e,n){return t.value(e)/n>.03}).addPropFunctor("radius",function(t,e,n){return Math.min(e,n)/2}).addPropFunctor("color",function(t){return _(t.label)}).addPropFunctor("value",function(t){return t.value}).addPropFunctor("arcLabel",null).addPropFunctor("label",function(t){return t.label}),e},e.chartAxis=function(){var t={},e=function e(r){r.call(t.chartFrame),t.legend.empty(function(t){return t.data.hidden}).setEmpty(function(t,e,n){return t.data.hidden=n}).html(function(t){return t.label}).key(function(t){return t.label}).color(function(t){return t.color});var i=r.selection?r.selection():r;return i.each(function(t){n.call(this,t,r!==i?r:null)}),i.dispatch("chart-axis-updated",{bubbles:!0}),e};function n(n,i){var o=r.select(this),a=o.select(".d2b-chart-container"),d=a.node(),p=o.select(".d2b-legend-container"),v=a.node().__size__,g=c(n),y=l(g),b=t.duration(n),_=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c(e),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l(n),i=r.filter(function(t){return!t.group});return i.forEach(function(t){t.groupType="graph",t.groupGraphs=[t]}),(t.groups(e)||[]).map(function(e){var n={groupType:"group",data:e,label:t.groupLabel(e),color:t.groupColor(e)};return n.groupGraphs=r.filter(function(t){return n.label===t.group}),n.groupGraphs.forEach(function(t){t.color=n.color}),n}).concat(i)}(n,g),w=t.clipPlane(n),x=(t.annotations(n)||[]).slice().map(function(e,n){return{key:t.annotationKey(e,n),xType:t.annotationXType(e)||"x",yType:t.annotationYType(e)||"y",z:t.annotationZ(e)||"front",x:t.annotationX(e),y:t.annotationY(e),x2:t.annotationX2(e),y2:t.annotationY2(e),color:t.annotationColor(e)||"steelblue",data:e}});!function(t){t.forEach(function(t){t.groupGraphs.forEach(function(e){return e.data.hidden=t.data.hidden})})}(_);var C=d.tooltip=d.tooltip||m().trackX(!0).trackY(!1).threshold(50);C.title(function(t){return""+u(t[0].x,t[0].x1,t[0].median)}).clear(),t.legend.values(_),p.call(t.legend).on("change",function(){return o.transition().duration(b).call(e)}).selectAll(".d2b-legend-item").on("mouseover",function(t){return function(t,e){var n=e.selectAll(".d2b-graph"),r=e.selectAll(".d2b-axis-annotation");t.groupGraphs.some(function(t){return!t.data.hidden})&&(n.style("opacity",.2).filter(function(e){return t.data===e.data||(t.groupGraphs.map(function(t){return t.data})||[]).indexOf(e.data)>-1}).style("opacity",""),r.style("opacity",.2).filter(function(e){return t.data===e.graph||(t.groupGraphs.map(function(t){return t.data})||[]).indexOf(e.graph)>-1}).style("opacity",""))}(t,a)}).on("mouseout",function(t){return(e=a).selectAll(".d2b-graph").style("opacity",1),void e.selectAll(".d2b-axis-annotation").style("opacity",1);var e}),t.plane.size(v);var k=a.selectAll(".d2b-axis-plane").data([n]),T=k,S=k.enter().append("g").attr("class","d2b-axis-plane");T=k=k.merge(S);var O=a.selectAll(".d2b-axis-wrapper").data([n]),M=O,A=O.enter().append("g").attr("class","d2b-axis-wrapper");A.append("rect").attr("class","d2b-axis-background"),A.append("g").attr("class","d2b-axis-back-annotations"),A.append("g").attr("class","d2b-axis-sets"),A.append("g").attr("class","d2b-axis-front-annotations"),M=O=O.merge(A);var P=O.select(".d2b-axis-back-annotations"),I=O.select(".d2b-axis-front-annotations"),N=O.select(".d2b-axis-sets").selectAll(".d2b-axis-set").data(g,function(t){return t.key}),D=N.enter().append("g").attr("class","d2b-axis-set"),R=N.exit();N=N.merge(D).order(),i&&(R=R.transition(i),M=M.transition(i),T=T.transition(i),P=P.transition(i),I=I.transition(i));var j={x:[],x2:[],y:[],y2:[]};N.each(function(e){var n=r.select(this),i=e.graphs.filter(function(t){return!t.data.hidden}),o=i.map(function(t){return t.data});i.forEach(function(n){x=x.concat(n.annotations.map(function(r,i){return{key:e.key+"-"+n.key+"-"+t.annotationKey(r,i),xType:e.xType,yType:e.yType,z:t.annotationZ(r)||"front",x:t.annotationX(r),y:t.annotationY(r),x2:t.annotationX2(r),y2:t.annotationY2(r),color:t.annotationColor(r)||n.color,data:r,graph:n.data}}))}),this.genUpdate=n.selectAll(".d2b-graph-generator").data(e.generators.slice().reverse(),function(t){return t.key}),this.genEnter=this.genUpdate.enter().append("g").attr("class","d2b-graph-generator").style("opacity",0),this.genExit=this.genUpdate.exit(),this.gen=this.genUpdate.merge(this.genEnter).order();var a=this.gen.size();this.gen.each(function(t,n){var i=r.select(this),s=t.generator.tooltipGraph(function(t){if(n<a-1)return null;var e=C.graph(E());return h(t,y).tooltipConfig(e),e}).color(function(t){return h(t,y).color}).graphs(o).getVisiblePoints(i);t.generator.duration&&t.generator.duration(b),s.forEach(function(t){j[e.xType].push(t.x),j[e.yType].push(t.y)})})});var L=t.x(n,j.x),F=t.y(n,j.y),B=t.x2(n,j.x2),$=t.y2(n,j.y2);f(L,j.x,s.x),f(F,j.y,s.y),f(B,j.x2,s.x2),f($,j.y2,s.y2),t.plane.axis(function(t){return t.__axis__}).x(L.__axis__&&j.x.length?L:null).y(F.__axis__&&j.y.length?F:null).x2(B.__axis__&&j.x2.length?B:null).y2($.__axis__&&j.y2.length?$:null),S.call(t.plane),T.call(t.plane);var U=t.plane.box(k),z="url(#"+k.select(".d2b-clip-plane").attr("id")+")";if(O.attr("clip-path",w?z:""),N.each(function(t){var n="x2"===t.xType?B.__axis__:L.__axis__,a="y2"===t.yType?$.__axis__:F.__axis__;i&&(this.genUpdate=this.genUpdate.transition(i),this.genExit=this.genExit.transition(i).style("opacity",0)),this.genExit.remove(),this.gen.each(function(t){var e=r.select(this);i&&(e=e.transition(i)),t.generator.x(n.scale()).y(a.scale()),e.style("opacity",1).call(t.generator)}),r.select(this).on("change",function(){return o.transition().duration(b).call(e)})}),R.style("opacity",0).remove(),A.attr("transform","translate("+U.left+", "+U.top+")").select("rect.d2b-axis-background").attr("height",Math.max(0,U.height)).attr("width",Math.max(0,U.width)),M.attr("transform","translate("+U.left+", "+U.top+")").select("rect.d2b-axis-background").attr("height",Math.max(0,U.height)).attr("width",Math.max(0,U.width)),t.annotation){var V={x:L.__scale__,y:F.__scale__,x2:B.__scale__,y2:$.__scale__};P.call(q,t.annotation,x.filter(function(t){return"back"===t.z}),V),I.call(q,t.annotation,x.filter(function(t){return"front"===t.z}),V)}C.row(function(t){return h(t.graph.data,y).label+": "+u(t.y,t.y1,t.median)}),t.tooltipConfig(C),C.svgContainer(O).tracker(O).size(U)}p(e,t).addProp("plane",G()).addProp("annotation",i.annotation?i.annotation():null).addProp("chartFrame",x().legendEnabled(!0).breadcrumbsEnabled(!1)).addProp("legend",w().clickable(!0).dblclickable(!0)).addPropFunctor("tooltipConfig",function(t){return t.tooltipConfig}).addPropFunctor("duration",250).addPropFunctor("x",{}).addPropFunctor("y",{}).addPropFunctor("x2",{}).addPropFunctor("y2",{}).addPropFunctor("clipPlane",!0).addPropFunctor("annotations",function(t){return t.annotations}).addPropFunctor("groups",function(t){return t.groups}).addPropFunctor("sets",function(t){return t.sets}).addPropFunctor("groupLabel",function(t){return t.label}).addPropFunctor("groupColor",function(e){return _(t.groupLabel(e))}).addPropFunctor("setKey",function(t,e){return e}).addPropFunctor("setGenerators",function(t){return t.generators}).addPropFunctor("setXType",function(t){return t.xType}).addPropFunctor("setYType",function(t){return t.yType}).addPropFunctor("setGraphs",function(t){return t.graphs}).addPropFunctor("graphKey",function(t){return t.label}).addPropFunctor("graphLabel",function(t){return t.label}).addPropFunctor("graphGroup",function(t){return t.group}).addPropFunctor("graphColor",function(e){return _(t.graphLabel(e))}).addPropFunctor("graphTooltipConfig",function(t){return t.tooltipConfig}).addPropFunctor("graphAnnotations",function(t){return t.annotations}).addPropFunctor("annotationKey",function(t,e){return e}).addPropFunctor("annotationXType",function(t){return t.xType}).addPropFunctor("annotationYType",function(t){return t.yType}).addPropFunctor("annotationZ",function(t){return t.z}).addPropFunctor("annotationX",function(t){return t.x}).addPropFunctor("annotationY",function(t){return t.y}).addPropFunctor("annotationX2",function(t){return t.x2}).addPropFunctor("annotationY2",function(t){return t.y2}).addPropFunctor("annotationColor",function(t){return t.color});var o=r.scaleBand(),a=r.scaleLinear(),s={x:{band:o.copy(),linear:a.copy(),axis:r.axisBottom()},y:{band:o.copy(),linear:a.copy(),axis:r.axisLeft()},x2:{band:o.copy(),linear:a.copy(),axis:r.axisTop()},y2:{band:o.copy(),linear:a.copy(),axis:r.axisRight()}};function c(e){return t.sets(e).map(function(e,n){var r,i={};return{data:e,key:t.setKey(e,n),xType:t.setXType(e)||"x",yType:t.setYType(e)||"y",generators:t.setGenerators(e).map(function(e,n){var r=e.type();return 0!==n&&(e.pannotation||e.pannotations||function(){})(null),e.annotation(t.annotation).key(t.graphKey),i[r]=i[r]||0,{data:e,key:r+"-"+(i[r]+=1),generator:e}}),graphs:(r=e,t.setGraphs(r).map(function(e,n){return{data:e,label:t.graphLabel(e)||"",key:t.graphKey(e,n),color:t.graphColor(e),group:t.graphGroup(e),annotations:t.graphAnnotations(e)||[],tooltipConfig:t.graphTooltipConfig(e)||function(){}}}))}})}function l(t){return[].concat.apply([],t.map(function(t){return t.graphs}))}function h(t,e){return e.filter(function(e){return e.data===t||e.data===t.data})[0]}function f(t,e,n){e.length||(t.hidden=!0);var i=t.axis||n.axis,o=t.scale?t.scale.copy():function(t,e){var n=t.some(function(t){return isNaN(t)}),i=n?r.set(t).values():r.extent(t).map(function(t){return t||0});return(n?e.band:e.linear).domain(i)}(e,n),a=o.domain();if(!o.bandwidth&&t.linearPadding){var s=a[1]-a[0];a[0]=a[0]+s*t.linearPadding[0],a[1]=a[1]+s*t.linearPadding[1]}o.domain(a),t.__axis__=i.scale(o),t.__scale__=o}return e},e.chartSunburst=function(){var t={},e=function e(n){n.call(t.chartFrame),t.sunburst.label(t.label).color(t.color),t.breadcrumbs.color(function(e){return t.color(e.data)}).key(function(t,e){return e}),t.tooltip.color(function(e){return t.color(e.data)});var i=n.selection?n.selection():n;return i.each(function(e){(function(e,n){var i=r.select(this),o=i.select(".d2b-chart-container"),s=o.node().__size__,u="translate("+s.width/2+", "+s.height/2+")",c=o.selectAll(".d2b-sunburst-chart").data(function(t){return[t]}),l=c.enter().append("g").attr("transform",u).attr("class","d2b-sunburst-chart");c=c.merge(l),n&&(c=c.transition(n)),t.sunburst.outerRadius(t.outerRadius(e,s.width,s.height)).innerRadius(t.innerRadius(e,s.width,s.height)),c.attr("transform",u).call(t.sunburst),function e(n){var r=n.select(".d2b-sunburst-chart"),i=n.selectAll(".d2b-sunburst-arc.d2b-sunburst-level-0").datum(),o=i.selected;a(n,[o]),r.selectAll(".d2b-sunburst-arc").call(t.tooltip.clear).call(t.tooltip).on("mouseover.breadcrumbs",function(t){var e=t.ancestors();e=e.slice(0,e.indexOf(o)+1),a(n,e.reverse())}).on("mouseout.breadcrumbs",function(){return a(n,[o])}),r.on("mouseout",function(){return e(n)}).on("click",function(){return e(n)})}(i)}).call(this,e,n!==i?n:null)}),i.dispatch("chart-sunburst-updated",{bubbles:!0}),e};p(e,t).addProp("chartFrame",x().legendEnabled(!1).breadcrumbsEnabled(!0)).addProp("sunburst",H()).addProp("breadcrumbs",b().html(function(t){return"<div class = 'd2b-sunburst-breadcrumb'>"+o(t)+"</div>"})).addProp("tooltip",g().followMouse(!0).html(function(t){return"<div class = 'd2b-sunburst-tooltip'>"+o(t)+"</div>"})).addPropFunctor("label",function(t){return t.label}).addPropFunctor("color",function(e){return _(t.label(e))}).addPropFunctor("outerRadius",function(t,e,n){return Math.min(e,n)/2}).addPropFunctor("innerRadius",function(t,e,n){return Math.min(50,Math.min(e,n)/4)});var n=r.format(",.0f"),i=r.format(".1%"),o=function(e){var r=e.value/e.selected.value>1?"":"<div class = 'd2b-sunburst-percent'>\n        "+i(e.value/e.selected.value)+"\n      </div>";return"\n      <div class = 'd2b-sunburst-label'>\n        "+t.label(e.data)+"\n      </div>\n      <div class = 'd2b-sunburst-value'>\n        "+n(e.value)+"\n        "+r+"\n      </div>\n    "};function a(e,n){e.select(".d2b-breadcrumbs-container").datum(n).transition("sunburst-breadcrumbs").duration(100).call(t.breadcrumbs)}return e},e.chartSankey=function(){var t={};function e(n){n.call(t.chartFrame);var i=n.selection?n.selection():n;return i.each(function(o){(function(n,i){var o=r.select(this).select(".d2b-chart-container"),a=o.node().__size__,s=o.selectAll(".d2b-sankey-chart").data(function(t){return[t]}),u=s.enter().append("g").attr("class","d2b-sankey-chart");return s=s.merge(u),i&&(s=s.transition(i)),s.call(t.sankey.size(a)),s.selectAll(".d2b-sankey-link").call(t.linkTooltip),s.selectAll(".d2b-sankey-node").call(t.nodeTooltip),e}).call(this,o,n!==i?n:null)}),i.dispatch("chart-sankey-updated",{bubbles:!0}),e}var n=g().html(function(t){return"\n          <b>"+t.key+"</b>:\n          "+t.value+"\n        "}).color(function(t){return t.color}).followMouse(!0),i=g().html(function(t){return"\n          <b>"+t.source.key+"</b>\n          <i class='fa fa-arrow-right d2b-sankey-link-arrow' aria-hidden='true'></i>\n          <b>"+t.target.key+"</b>:\n          "+t.value+"\n        "}).color("#444").followMouse(!0);return p(e,t).addProp("chartFrame",x().legendEnabled(!1).breadcrumbsEnabled(!1)).addProp("sankey",W()).addProp("nodeTooltip",n).addProp("linkTooltip",i),e}},Dd8w:function(t,e,n){"use strict";e.__esModule=!0;var r,i=n("woOf"),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},DuR2:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},EGZi:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},EqBC:function(t,e,n){"use strict";var r=n("kM2E"),i=n("FeBl"),o=n("7KvD"),a=n("t8x9"),s=n("fJUb");r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},EqjI:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},FeBl:function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},FtD3:function(t,e,n){"use strict";var r=n("t8qj");t.exports=function(t,e,n,i,o){var a=new Error(t);return r(a,e,n,i,o)}},G7bx:function(t,e,n){var r,i;r=function(t,e){"object"==typeof e&&"function"==typeof e.default&&(e=e.default);return e.component(t,{props:{size:{type:Number,required:!0},remain:{type:Number,required:!0},rtag:{type:String,default:"div"},wtag:{type:String,default:"div"},wclass:{type:String,default:""},start:{type:Number,default:0},offset:{type:Number,default:0},variable:[Function,Boolean],bench:Number,debounce:Number,totop:Function,tobottom:Function,onscroll:Function},created:function(){var t=this.start>=this.remain?this.start:0,e=this.remain+(this.bench||this.remain);this.delta={start:t,end:t+e-1,keeps:e,total:0,offsetAll:0,paddingTop:0,paddingBottom:0,varCache:{},varAverSize:0,varLastCalcIndex:0}},watch:{size:function(){this.alter="size"},remain:function(){this.alter="remain"},bench:function(){this.alter="bench"},start:function(){this.alter="start"},offset:function(){this.alter="offset"}},methods:{onScroll:function(t){var e=this.delta,n=this.$refs.vsl&&this.$refs.vsl.scrollTop||0;e.total>e.keeps?this.updateZone(n):e.end=e.total-1;var r=e.offsetAll;this.onscroll&&this.onscroll(t,{offset:n,offsetAll:r,start:e.start,end:e.end}),!n&&e.total&&this.triggerEvent("totop"),n>=r&&this.triggerEvent("tobottom")},updateZone:function(t){var e=this.variable?this.getVarOvers(t):Math.floor(t/this.size),n=this.delta,r=this.getZone(e),i=this.bench||this.remain;!r.isLast&&e>n.start&&e-n.start<=i||(n.end=r.end,n.start=r.start,this.$forceUpdate())},getVarOvers:function(t){for(var e=0,n=0,r=0,i=this.delta,o=i.total;e<=o;){if(n=e+Math.floor((o-e)/2),r=this.getVarOffset(n),i.varAverSize||(i.varAverSize=Math.floor(r/n)),r===t)return n;r<t?e=n+1:r>t&&(o=n-1)}return e>0?--e:0},getVarOffset:function(t,e){var n=this.delta,r=n.varCache[t];if(!e&&r)return r.offset;for(var i=0,o=0;o<t;o++){var a=this.getVarSize(o,e);n.varCache[o]={size:a,offset:i},i+=a}return n.varLastCalcIndex=Math.max(n.varLastCalcIndex,t-1),n.varLastCalcIndex=Math.min(n.varLastCalcIndex,n.total-1),i},getVarSize:function(t,e){var n=this.delta.varCache[t];if(!e&&n)return n.size;if("function"==typeof this.variable)return this.variable(t)||0;var r=this.$slots.default[t],i=r&&r.data&&r.data.style;if(i&&i.height){var o=i.height.match(/^(.*)px$/);return o&&+o[1]||0}return 0},getVarPaddingTop:function(){return this.getVarOffset(this.delta.start)},getVarPaddingBottom:function(){var t=this.delta,e=t.total-1;return t.total-t.end<=t.keeps||t.varLastCalcIndex===e?this.getVarOffset(e)-this.getVarOffset(t.end):(t.total-t.end)*(t.varAverSize||this.size)},getVarAllHeight:function(){var t=this.delta;return t.total-t.end<=t.keeps||t.varLastCalcIndex===t.total-1?this.getVarOffset(t.total):this.getVarOffset(t.start)+(t.total-t.end)*(t.varAverSize||this.size)},updateVariable:function(t){this.getVarOffset(t,!0)},getZone:function(t){var e,n,r=this.delta;t=parseInt(t,10),t=Math.max(0,t);var i=r.total-r.keeps,o=t<=r.total&&t>=i||t>r.total;return o?(n=r.total-1,e=Math.max(0,i)):n=(e=t)+r.keeps-1,{end:n,start:e,isLast:o}},triggerEvent:function(t){this[t]&&this[t]()},setScrollTop:function(t){var e=this.$refs.vsl;e&&(e.scrollTop=t)},filter:function(){var t,e,n,r=this.delta,i=this.$slots.default;i||(i=[],r.start=0),r.total=i.length;var o=r.total>r.keeps;this.variable?(n=this.getVarAllHeight(),t=o?this.getVarPaddingTop():0,e=o?this.getVarPaddingBottom():0):(n=this.size*r.total,t=this.size*(o?r.start:0),e=this.size*(o?r.total-r.keeps:0)-t),r.paddingTop=t,r.paddingBottom=e,r.offsetAll=n-this.size*this.remain;for(var a=[],s=r.start;s<=Math.ceil(r.end);s++)a.push(i[s]);return a}},mounted:function(){if(this.start){var t=this.getZone(this.start).start;this.setScrollTop(this.variable?this.getVarOffset(t):t*this.size)}else this.offset&&this.setScrollTop(this.offset)},beforeUpdate:function(){var t=this.delta;t.keeps=this.remain+(this.bench||this.remain);var e="start"===this.alter?this.start:t.start,n=this.getZone(e);~["start","size","offset"].indexOf(this.alter)&&this.$nextTick(this.setScrollTop.bind(this,"offset"===this.alter?this.offset:this.variable?this.getVarOffset(n.isLast?t.total:n.start):n.isLast&&t.total-e<=this.remain?t.total*this.size:e*this.size)),(e!==n.start||t.end!==n.end||this.alter)&&(this.alter="",t.end=n.end,t.start=n.start,this.$forceUpdate())},render:function(t){var e,n,r,i,o=this.filter(),a=this.delta,s=this.debounce;return t(this.rtag,{ref:"vsl",style:{display:"block","overflow-y":"auto",height:this.size*this.remain+"px"},on:{"&scroll":s?(e=this.onScroll.bind(this),n=s,function(){var t=this,o=arguments,a=r&&!i;clearTimeout(i),i=setTimeout(function(){i=null,r||e.apply(t,o)},n),a&&e.apply(t,o)}):this.onScroll}},[t(this.wtag,{style:{display:"block","padding-top":a.paddingTop+"px","padding-bottom":a.paddingBottom+"px"},class:this.wclass},o)])}})},i="VirtualScrollList",t.exports=r(i,n("7+uW"))},"GB/M":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){n.d(e,"createWebChannelTransport",function(){return Pn}),n.d(e,"ErrorCode",function(){return In}),n.d(e,"EventType",function(){return Nn}),n.d(e,"WebChannel",function(){return Dn}),n.d(e,"XhrIoPool",function(){return Rn});var r,i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},o=o||{},a=i;function s(t){return"string"==typeof t}function u(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function c(){}function l(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){return"array"==l(t)}function f(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==l(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),g=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:y).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function x(t,e){function n(){}n.prototype=e.prototype,t.L=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.mh=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function E(t){if(Error.captureStackTrace)Error.captureStackTrace(this,E);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function C(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");E.call(this,n+t[r])}function k(){0!=T&&(S[this[v]||(this[v]=++g)]=this),this.Ka=this.Ka,this.Qa=this.Qa}x(E,Error),E.prototype.name="CustomError",x(C,E),C.prototype.name="AssertionError";var T=0,S={};k.prototype.Ka=!1,k.prototype.bb=function(){if(!this.Ka&&(this.Ka=!0,this.F(),0!=T)){var t=this[v]||(this[v]=++g);if(0!=T&&this.Qa&&0<this.Qa.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete S[t]}},k.prototype.F=function(){if(this.Qa)for(;this.Qa.length;)this.Qa.shift()()};var O=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},M=Array.prototype.lastIndexOf?function(t,e){return Array.prototype.lastIndexOf.call(t,e,t.length-1)}:function(t,e){var n=t.length-1;if(0>n&&(n=Math.max(0,t.length+n)),s(t))return s(e)&&1==e.length?t.lastIndexOf(e,n):-1;for(;0<=n;n--)if(n in t&&t[n]===e)return n;return-1},A=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=s(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},P=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function I(t){if(!h(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0}function N(t,e){var n;return(n=0<=(e=O(t,e)))&&Array.prototype.splice.call(t,e,1),n}function D(t){return Array.prototype.concat.apply([],arguments)}function R(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function j(t){return/^[\s\xa0]*$/.test(t)}var L,F=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function B(t,e){return t<e?-1:t>e?1:0}t:{var $=a.navigator;if($){var U=$.userAgent;if(U){L=U;break t}}L=""}function z(t){return-1!=L.indexOf(t)}function q(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function V(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function H(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function W(t){var e,n={};for(e in t)n[e]=t[e];return n}var G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<G.length;o++)n=G[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Y(t){return Y[" "](t),t}Y[" "]=c;var Q,X,J=z("Opera"),Z=z("Trident")||z("MSIE"),tt=z("Edge"),et=tt||Z,nt=z("Gecko")&&!(-1!=L.toLowerCase().indexOf("webkit")&&!z("Edge"))&&!(z("Trident")||z("MSIE"))&&!z("Edge"),rt=-1!=L.toLowerCase().indexOf("webkit")&&!z("Edge");function it(){var t=a.document;return t?t.documentMode:void 0}t:{var ot="",at=(X=L,nt?/rv:([^\);]+)(\)|;)/.exec(X):tt?/Edge\/([\d\.]+)/.exec(X):Z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(X):rt?/WebKit\/(\S+)/.exec(X):J?/(?:Version)[ \/]?(\S+)/.exec(X):void 0);if(at&&(ot=at?at[1]:""),Z){var st=it();if(null!=st&&st>parseFloat(ot)){Q=String(st);break t}}Q=ot}var ut,ct={};function lt(t){return function(t,e){var n=ct;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(){for(var e=0,n=F(String(Q)).split("."),r=F(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=B(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||B(0==a[2].length,0==s[2].length)||B(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var ht=a.document;ut=ht&&Z?it()||("CSS1Compat"==ht.compatMode?parseInt(Q,10):5):void 0;var ft=Object.freeze||function(t){return t},dt=!Z||9<=Number(ut),pt=Z&&!lt("9"),vt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",c,e),a.removeEventListener("test",c,e)}catch(t){}return t}();function gt(t,e){this.type=t,this.currentTarget=this.target=e,this.defaultPrevented=this.Ea=!1,this.Be=!0}function mt(t,e){gt.call(this,t?t.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.fb=null,t&&this.Kf(t,e)}gt.prototype.stopPropagation=function(){this.Ea=!0},gt.prototype.preventDefault=function(){this.defaultPrevented=!0,this.Be=!1},x(mt,gt);var yt=ft({2:"touch",3:"pen",4:"mouse"});mt.prototype.Kf=function(t,e){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.currentTarget=e,e=t.relatedTarget){if(nt){t:{try{Y(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.offsetX=rt||void 0!==t.offsetX?t.offsetX:t.layerX,this.offsetY=rt||void 0!==t.offsetY?t.offsetY:t.layerY,this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.keyCode=t.keyCode||0,this.key=t.key||"",this.charCode=t.charCode||("keypress"==n?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:yt[t.pointerType]||"",this.state=t.state,this.fb=t,t.defaultPrevented&&this.preventDefault()},mt.prototype.stopPropagation=function(){mt.L.stopPropagation.call(this),this.fb.stopPropagation?this.fb.stopPropagation():this.fb.cancelBubble=!0},mt.prototype.preventDefault=function(){mt.L.preventDefault.call(this);var t=this.fb;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,pt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var bt="closure_listenable_"+(1e6*Math.random()|0);function _t(t){return!(!t||!t[bt])}var wt=0;function xt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ob=i,this.key=++wt,this.Sa=this.Eb=!1}function Et(t){this.src=t,this.J={},this.xb=0}function Ct(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Sa&&o.listener==e&&o.capture==!!n&&o.Ob==r)return i}return-1}xt.prototype.Vb=function(){this.Sa=!0,this.Ob=this.src=this.proxy=this.listener=null},(r=Et.prototype).add=function(t,e,n,r,i){var o=t.toString();(t=this.J[o])||(t=this.J[o]=[],this.xb++);var a=Ct(t,e,r,i);return-1<a?(e=t[a],n||(e.Eb=!1)):((e=new xt(e,this.src,o,!!r,i)).Eb=n,t.push(e)),e},r.remove=function(t,e,n,r){if(!((t=t.toString())in this.J))return!1;var i=this.J[t];return-1<(e=Ct(i,e,n,r))&&(i[e].Vb(),Array.prototype.splice.call(i,e,1),0==i.length&&(delete this.J[t],this.xb--),!0)},r.ye=function(t){var e=t.type;e in this.J&&N(this.J[e],t)&&(t.Vb(),0==this.J[e].length&&(delete this.J[e],this.xb--))},r.pb=function(t){var e;for(e in t=t&&t.toString(),this.J)if(!t||e==t){for(var n=this.J[e],r=0;r<n.length;r++)n[r].Vb();delete this.J[e],this.xb--}},r.jb=function(t,e,n,r){var i=-1;return(t=this.J[t.toString()])&&(i=Ct(t,e,n,r)),-1<i?t[i]:null};var kt="closure_lm_"+(1e6*Math.random()|0),Tt={};function St(t,e,n,r,i){if(r&&r.once)return Mt(t,e,n,r,i);if(h(e)){for(var o=0;o<e.length;o++)St(t,e[o],n,r,i);return null}return n=Lt(n),_t(t)?t.nb(e,n,p(r)?!!r.capture:!!r,i):Ot(t,e,n,!1,r,i)}function Ot(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=Rt(t);if(s||(t[kt]=s=new Et(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Dt,e=dt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)vt||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Pt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Mt(t,e,n,r,i){if(h(e)){for(var o=0;o<e.length;o++)Mt(t,e[o],n,r,i);return null}return n=Lt(n),_t(t)?t.Oc(e,n,p(r)?!!r.capture:!!r,i):Ot(t,e,n,!0,r,i)}function At(t){if("number"!=typeof t&&t&&!t.Sa){var e=t.src;if(_t(e))e.Le(t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Pt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Rt(e))?(n.ye(t),0==n.xb&&(n.src=null,e[kt]=null)):t.Vb()}}}function Pt(t){return t in Tt?Tt[t]:Tt[t]="on"+t}function It(t,e,n,r){var i=!0;if((t=Rt(t))&&(e=t.J[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.Sa&&(o=Nt(o,r),i=i&&!1!==o)}return i}function Nt(t,e){var n=t.listener,r=t.Ob||t.src;return t.Eb&&At(t),n.call(r,e)}function Dt(t,e){if(t.Sa)return!0;if(!dt){var n=e||u("window.event");e=new mt(n,this);var r=!0;if(!(0>n.keyCode||void 0!=n.returnValue)){t:{var i=!1;if(0==n.keyCode)try{n.keyCode=-1;break t}catch(t){i=!0}(i||void 0==n.returnValue)&&(n.returnValue=!0)}for(n=[],i=e.currentTarget;i;i=i.parentNode)n.push(i);for(t=t.type,i=n.length-1;!e.Ea&&0<=i;i--){e.currentTarget=n[i];var o=It(n[i],t,!0,e);r=r&&o}for(i=0;!e.Ea&&i<n.length;i++)e.currentTarget=n[i],o=It(n[i],t,!1,e),r=r&&o}return r}return Nt(t,new mt(e,this))}function Rt(t){return(t=t[kt])instanceof Et?t:null}var jt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lt(t){return d(t)?t:(t[jt]||(t[jt]=function(e){return t.handleEvent(e)}),t[jt])}function Ft(){k.call(this),this.ka=new Et(this),this.Pe=this,this.Uc=null}x(Ft,k),Ft.prototype[bt]=!0,(r=Ft.prototype).addEventListener=function(t,e,n,r){St(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(h(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=p(i)?!!i.capture:!!i,r=Lt(r),_t(e)?e.ed(n,r,i,o):e&&(e=Rt(e))&&(n=e.jb(n,r,i,o))&&At(n)}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.Uc;if(n)for(e=[];n;n=n.Uc)e.push(n);n=this.Pe;var r=t.type||t;if(s(t))t=new gt(t,n);else if(t instanceof gt)t.target=t.target||n;else{var i=t;K(t=new gt(r,n),i)}if(i=!0,e)for(var o=e.length-1;!t.Ea&&0<=o;o--){var a=t.currentTarget=e[o];i=a.Lb(r,!0,t)&&i}if(t.Ea||(i=(a=t.currentTarget=n).Lb(r,!0,t)&&i,t.Ea||(i=a.Lb(r,!1,t)&&i)),e)for(o=0;!t.Ea&&o<e.length;o++)i=(a=t.currentTarget=e[o]).Lb(r,!1,t)&&i;return i},r.F=function(){Ft.L.F.call(this),this.pg(),this.Uc=null},r.nb=function(t,e,n,r){return this.ka.add(String(t),e,!1,n,r)},r.Oc=function(t,e,n,r){return this.ka.add(String(t),e,!0,n,r)},r.ed=function(t,e,n,r){this.ka.remove(String(t),e,n,r)},r.Le=function(t){this.ka.ye(t)},r.pg=function(){this.ka&&this.ka.pb(void 0)},r.Lb=function(t,e,n){if(!(t=this.ka.J[String(t)]))return!0;t=t.concat();for(var r=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.Sa&&o.capture==e){var a=o.listener,s=o.Ob||o.src;o.Eb&&this.Le(o),r=!1!==a.call(s,n)&&r}}return r&&0!=n.Be},r.jb=function(t,e,n,r){return this.ka.jb(String(t),e,n,r)};var Bt=a.JSON.stringify;function $t(t,e){this.Sf=100,this.ef=t,this.ug=e,this.Zb=0,this.Pb=null}function Ut(){this.lc=this.Va=null}$t.prototype.get=function(){if(0<this.Zb){this.Zb--;var t=this.Pb;this.Pb=t.next,t.next=null}else t=this.ef();return t},$t.prototype.put=function(t){this.ug(t),this.Zb<this.Sf&&(this.Zb++,t.next=this.Pb,this.Pb=t)};var zt,qt,Vt=new $t(function(){return new Ht},function(t){t.reset()});function Ht(){this.next=this.scope=this.Gc=null}function Wt(t){a.setTimeout(function(){throw t},0)}function Gt(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);qt=function(){t.then(Qt)}}else qt=function(){var t=Qt;!d(a.setImmediate)||a.Window&&a.Window.prototype&&!z("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(zt||(zt=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!z("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!z("Trident")&&!z("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).rd;n.rd=null,t()}},function(t){r.next={rd:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){a.setTimeout(t,0)}}()),zt(t)):a.setImmediate(t)}}Ut.prototype.add=function(t,e){var n=this.Af();n.set(t,e),this.lc?this.lc.next=n:this.Va=n,this.lc=n},Ut.prototype.remove=function(){var t=null;return this.Va&&(t=this.Va,this.Va=this.Va.next,this.Va||(this.lc=null),t.next=null),t},Ut.prototype.wg=function(t){Vt.put(t)},Ut.prototype.Af=function(){return Vt.get()},Ht.prototype.set=function(t,e){this.Gc=t,this.scope=e,this.next=null},Ht.prototype.reset=function(){this.next=this.scope=this.Gc=null};var Kt=!1,Yt=new Ut;function Qt(){for(var t;t=Yt.remove();){try{t.Gc.call(t.scope)}catch(t){Wt(t)}Yt.wg(t)}Kt=!1}function Xt(t,e){Ft.call(this),this.Na=t||1,this.wb=e||a,this.nd=b(this.Rg,this),this.ie=w()}function Jt(t,e,n){if(d(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Zt(t,e,n){k.call(this),this.Uf=null!=n?b(t,n):t,this.Na=e,this.Xe=b(this.fg,this),this.qc=[]}function te(t){k.call(this),this.i=t,this.o={}}x(Xt,Ft),(r=Xt.prototype).enabled=!1,r.B=null,r.setInterval=function(t){this.Na=t,this.B&&this.enabled?(this.stop(),this.start()):this.B&&this.stop()},r.Rg=function(){if(this.enabled){var t=w()-this.ie;0<t&&t<.8*this.Na?this.B=this.wb.setTimeout(this.nd,this.Na-t):(this.B&&(this.wb.clearTimeout(this.B),this.B=null),this.ff(),this.enabled&&(this.stop(),this.start()))}},r.ff=function(){this.dispatchEvent("tick")},r.start=function(){this.enabled=!0,this.B||(this.B=this.wb.setTimeout(this.nd,this.Na),this.ie=w())},r.stop=function(){this.enabled=!1,this.B&&(this.wb.clearTimeout(this.B),this.B=null)},r.F=function(){Xt.L.F.call(this),this.stop(),delete this.wb},x(Zt,k),(r=Zt.prototype).Ta=!1,r.ob=0,r.B=null,r.mf=function(t){this.qc=arguments,this.B||this.ob?this.Ta=!0:this.Cc()},r.stop=function(){this.B&&(a.clearTimeout(this.B),this.B=null,this.Ta=!1,this.qc=[])},r.pause=function(){this.ob++},r.resume=function(){this.ob--,this.ob||!this.Ta||this.B||(this.Ta=!1,this.Cc())},r.F=function(){Zt.L.F.call(this),this.stop()},r.fg=function(){this.B=null,this.Ta&&!this.ob&&(this.Ta=!1,this.Cc())},r.Cc=function(){this.B=Jt(this.Xe,this.Na),this.Uf.apply(null,this.qc)},x(te,k);var ee=[];function ne(t,e,n){this.reset(t,e,n,void 0,void 0)}function re(t){this.pe=t,this.Zd=this.uc=this.mb=this.$b=null}function ie(t,e){this.name=t,this.value=e}(r=te.prototype).nb=function(t,e,n,r){return this.Tf(t,e,n,r)},r.Tf=function(t,e,n,r){h(e)||(e&&(ee[0]=e.toString()),e=ee);for(var i=0;i<e.length;i++){var o=St(t,e[i],n||this.handleEvent,r||!1,this.i||this);if(!o)break;this.o[o.key]=o}return this},r.Oc=function(t,e,n,r){return this.je(t,e,n,r)},r.je=function(t,e,n,r,i){if(h(e))for(var o=0;o<e.length;o++)this.je(t,e[o],n,r,i);else{if(!(t=Mt(t,e,n||this.handleEvent,r,i||this.i||this)))return this;this.o[t.key]=t}return this},r.ed=function(t,e,n,r,i){if(h(e))for(var o=0;o<e.length;o++)this.ed(t,e[o],n,r,i);else n=n||this.handleEvent,r=p(r)?!!r.capture:!!r,i=i||this.i||this,n=Lt(n),r=!!r,(e=_t(t)?t.jb(e,n,r,i):t&&(t=Rt(t))?t.jb(e,n,r,i):null)&&(At(e),delete this.o[e.key])},r.pb=function(){q(this.o,function(t,e){this.o.hasOwnProperty(e)&&At(t)},this),this.o={}},r.F=function(){te.L.F.call(this),this.pb()},r.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ne.prototype.Md=null,ne.prototype.reset=function(t,e,n,r,i){this.mb=t,delete this.Md},ne.prototype.Bg=function(t){this.Md=t},ne.prototype.Ge=function(t){this.mb=t},ie.prototype.toString=function(){return this.name};var oe=new ie("SEVERE",1e3),ae=new ie("WARNING",900),se=new ie("INFO",800),ue=new ie("CONFIG",700),ce=new ie("FINE",500);(r=re.prototype).getName=function(){return this.pe},r.getParent=function(){return this.$b},r.pf=function(){return this.uc||(this.uc={}),this.uc},r.Ge=function(t){this.mb=t},r.Qd=function(){return this.mb?this.mb:this.$b?this.$b.Qd():(function(t,e){throw new C("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}("Root logger has no level set."),null)},r.Pf=function(t){return t.value>=this.Qd().value},r.log=function(t,e,n){this.Pf(t)&&(d(e)&&(e=e()),this.gf(this.uf(t,e,n)))},r.uf=function(t,e,n){return t=new ne(t,String(e),this.pe),n&&t.Bg(n),t},r.ca=function(t,e){this.log(oe,t,e)},r.T=function(t,e){this.log(ae,t,e)},r.info=function(t,e){this.log(se,t,e)},r.lf=function(t){this.log(ce,t,void 0)},r.gf=function(t){for(var e=this;e;)e.We(t),e=e.getParent()},r.We=function(t){if(this.Zd)for(var e,n=0;e=this.Zd[n];n++)e(t)},r.Fg=function(t){this.$b=t},r.Qe=function(t,e){this.pf()[t]=e};var le={},he=null;function fe(t){var e;if(he||(he=new re(""),le[""]=he,he.Ge(ue)),!(e=le[t])){e=new re(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=fe(t.substr(0,n))).Qe(r,e),e.Fg(n),le[t]=e}return e}function de(t,e){t&&t.info(e,void 0)}function pe(t,e){t&&t.lf(e)}function ve(){this.s=fe("goog.labs.net.webChannel.WebChannelDebug"),this.Wc=!0}(r=ve.prototype).Id=function(){this.Wc=!1},r.Tg=function(t,e,n,r,i){var o=this;this.info(function(){return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+t+"\n"+e+"\n"+o.Xf(i)})},r.Ug=function(t,e,n,r,i,o){this.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+i+" "+o})},r.Wa=function(t,e,n){var r=this;this.info(function(){return"XMLHTTP TEXT ("+t+"): "+r.ng(e)+(n?" "+n:"")})},r.Sg=function(t){this.info(function(){return"TIMEOUT: "+t})},r.debug=function(t){pe(this.s,t)},r.cb=function(t,e){var n=this.s;n&&n.ca(e||"Exception",t)},r.info=function(t){de(this.s,t)},r.T=function(t){var e=this.s;e&&e.T(t,void 0)},r.ca=function(t){var e=this.s;e&&e.ca(t,void 0)},r.ng=function(t){if(!this.Wc)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(var n=0;n<e.length;n++)h(e[n])&&this.Wf(e[n]);return Bt(e)}catch(e){return this.debug("Exception parsing expected JS array - probably was not JS"),t}},r.Wf=function(t){if(!(2>t.length||(t=t[1],!h(t)||1>t.length))){var e=t[0];if("noop"!=e&&"stop"!=e&&"close"!=e)for(e=1;e<t.length;e++)t[e]=""}},r.Xf=function(t){if(!this.Wc)return t;if(!t)return null;var e="";t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].split("=");if(1<r.length){var i=r[0];r=r[1];var o=i.split("_");e=2<=o.length&&"type"==o[1]?e+(i+"=")+r+"&":e+(i+"=redacted&")}}return e};var ge=new Ft;function me(t){gt.call(this,"serverreachability",t)}function ye(t){ge.dispatchEvent(new me(ge,t))}function be(t,e){gt.call(this,"statevent",t),this.stat=e}function _e(t){ge.dispatchEvent(new be(ge,t))}function we(t,e,n){gt.call(this,"timingevent",t),this.size=e,this.rtt=n}function xe(t,e){if(!d(t))throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){t()},e)}x(me,gt),x(be,gt),x(we,gt);var Ee={NO_ERROR:0,Vg:1,bh:2,ah:3,Yg:4,$g:5,dh:6,Ne:7,TIMEOUT:8,gh:9},Ce={Xg:"complete",kh:"success",Oe:"error",Ne:"abort",ih:"ready",jh:"readystatechange",TIMEOUT:"timeout",eh:"incrementaldata",hh:"progress",Zg:"downloadprogress",lh:"uploadprogress"};function ke(){}function Te(){}ke.prototype.pd=null,ke.prototype.Vd=function(){return this.pd||(this.pd=this.Mf())};var Se,Oe={OPEN:"a",Wg:"b",Oe:"c",fh:"d"};function Me(){gt.call(this,"d")}function Ae(){gt.call(this,"c")}function Pe(){}function Ie(t,e,n,r,i){this.b=t,this.a=e,this.ra=n,this.R=r,this.Xc=i||1,this.Fc=new te(this),this.Ua=Ne,t=et?125:void 0,this.Vc=new Xt(t),this.A=null,this.S=!1,this.Da=this.pa=this.ua=this.ic=this.qb=this.hd=this.Ga=null,this.ba=[],this.h=null,this.Bb=0,this.I=this.Fa=null,this.w=-1,this.Za=!1,this.Ra=0,this.ac=null,this.lb=this.Ed=this.yc=!1}x(Me,gt),x(Ae,gt),x(Pe,ke),Pe.prototype.Dd=function(){var t=this.Wd();return t?new ActiveXObject(t):new XMLHttpRequest},Pe.prototype.Mf=function(){var t={};return this.Wd()&&(t[0]=!0,t[1]=!0),t},Pe.prototype.Wd=function(){if(!this.be&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e=0;e<t.length;e++){var n=t[e];try{return new ActiveXObject(n),this.be=n}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return this.be},Se=new Pe;var Ne=45e3;var De={},Re={};function je(t){if(t.H&&"function"==typeof t.H)return t.H();if(s(t))return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}return V(t)}function Le(t,e,n){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,n);else if(f(t)||s(t))A(t,e,n);else{if(t.W&&"function"==typeof t.W)var r=t.W();else if(t.H&&"function"==typeof t.H)r=void 0;else if(f(t)||s(t)){r=[];for(var i=t.length,o=0;o<i;o++)r.push(o)}else r=H(t);o=(i=je(t)).length;for(var a=0;a<o;a++)e.call(n,i[a],r&&r[a],t)}}function Fe(t,e){this.D={},this.o=[],this.j=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else t&&this.addAll(t)}function Be(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=Ie.prototype).ga=function(t){this.A=t},r.setTimeout=function(t){this.Ua=t},r.He=function(t){this.Ra=t},r.Gg=function(t){this.ba=t},r.la=function(){return this.ba},r.kd=function(t,e){this.ic=1,this.ua=t.clone().Ub(),this.Da=e,this.yc=!0,this.Ce(null)},r.jd=function(t,e,n){this.ic=1,this.ua=t.clone().Ub(),this.Da=null,this.yc=e,this.Ce(n)},r.Ce=function(t){this.qb=w(),this.eb(),this.pa=this.ua.clone(),this.pa.dc("t",this.Xc),this.Bb=0,this.h=this.b.Jb(this.b.fc()?t:null),0<this.Ra&&(this.ac=new Zt(b(this.Me,this,this.h),this.Ra)),this.Fc.nb(this.h,"readystatechange",this.mg),t=this.A?W(this.A):{},this.Da?(this.Fa||(this.Fa="POST"),t["Content-Type"]="application/x-www-form-urlencoded",this.h.send(this.pa,this.Fa,this.Da,t)):(this.Fa="GET",this.h.send(this.pa,this.Fa,null,t)),ye(1),this.a.Tg(this.Fa,this.pa,this.R,this.Xc,this.Da)},r.mg=function(t){t=t.target;var e=this.ac;e&&3==t.ma()?(this.a.debug("Throttling readystatechange."),e.mf()):this.Me(t)},r.Me=function(t){try{t==this.h?this.hg():this.a.T("Called back with an unexpected xmlhttp")}catch(t){if(this.a.debug("Failed call to OnXmlHttpReadyStateChanged_"),this.h&&this.h.ya()){var e=this;this.a.cb(t,function(){return"ResponseText: "+e.h.ya()})}else this.a.cb(t,"No response text")}},r.hg=function(){var t=this.h.ma(),e=this.h.Ud(),n=this.h.za();if(!(3>t||3==t&&!et&&!this.h.ya())){this.Za||4!=t||7==e||ye(8==e||0>=n?3:2),this.Fb();var r=this.h.za();if(this.w=r,!(e=this.h.ya())){var i=this;this.a.debug(function(){return"No response text for uri "+i.pa+" status "+r})}if(this.S=200==r,this.a.Ug(this.Fa,this.pa,this.R,this.Xc,t,r),this.S){if(this.Ig()){if(!(n=this.sf()))return this.S=!1,this.I=3,_e(12),this.a.T("XMLHTTP Missing X_HTTP_INITIAL_RESPONSE ("+this.R+")"),this.Ia(),void this.Kb();this.a.Wa(this.R,n,"Initial handshake response via X-HTTP-Initial-Response"),this.lb=!0,this.Yc(n)}this.yc?(this.Fd(t,e),et&&this.S&&3==t&&this.Ng()):(this.a.Wa(this.R,e,null),this.Yc(e)),4==t&&this.Ia(),this.S&&!this.Za&&(4==t?this.b.Tc(this):(this.S=!1,this.eb()))}else 400==r&&0<e.indexOf("Unknown SID")?(this.I=3,_e(12),this.a.T("XMLHTTP Unknown SID ("+this.R+")")):(this.I=0,_e(13),this.a.T("XMLHTTP Bad status "+r+" ("+this.R+")")),this.Ia(),this.Kb()}},r.Ig=function(){return this.Ed&&!this.lb},r.sf=function(){if(this.h){var t=this.h.kb("X-HTTP-Initial-Response");if(t&&!j(t))return t}return null},r.Ag=function(){this.Ed=!0},r.Fd=function(t,e){for(var n=!0;!this.Za&&this.Bb<e.length;){var r=this.vf(e);if(r==Re){4==t&&(this.I=4,_e(14),n=!1),this.a.Wa(this.R,null,"[Incomplete Response]");break}if(r==De){this.I=4,_e(15),this.a.Wa(this.R,e,"[Invalid Chunk]"),n=!1;break}this.a.Wa(this.R,r,null),this.Yc(r)}4==t&&0==e.length&&(this.I=1,_e(16),n=!1),this.S=this.S&&n,n||(this.a.Wa(this.R,e,"[Invalid Chunked Response]"),this.Ia(),this.Kb())},r.kg=function(){if(this.h){var t=this.h.ma(),e=this.h.ya();this.Bb<e.length&&(this.Fb(),this.Fd(t,e),this.S&&4!=t&&this.eb())}},r.Ng=function(){this.Fc.nb(this.Vc,"tick",this.kg),this.Vc.start()},r.vf=function(t){var e=this.Bb,n=t.indexOf("\n",e);return-1==n?Re:(e=Number(t.substring(e,n)),isNaN(e)?De:(n+=1)+e>t.length?Re:(t=t.substr(n,e),this.Bb=n+e,t))},r.yg=function(t){this.ic=2,this.ua=t.clone().Ub(),t=!1,a.navigator&&a.navigator.sendBeacon&&(t=a.navigator.sendBeacon(this.ua.toString(),"")),!t&&a.Image&&((new Image).src=this.ua,t=!0),t||(this.h=this.b.Jb(null),this.h.send(this.ua)),this.qb=w(),this.eb()},r.cancel=function(){this.Za=!0,this.Ia()},r.tg=function(t){t&&this.setTimeout(t),this.Ga&&(this.Fb(),this.eb())},r.eb=function(){this.hd=w()+this.Ua,this.Ke(this.Ua)},r.Ke=function(t){if(null!=this.Ga)throw Error("WatchDog timer not null");this.Ga=xe(b(this.gg,this),t)},r.Fb=function(){this.Ga&&(a.clearTimeout(this.Ga),this.Ga=null)},r.gg=function(){this.Ga=null;var t=w();0<=t-this.hd?this.Df():(this.a.T("WatchDog timer called too early"),this.Ke(this.hd-t))},r.Df=function(){this.S&&this.a.ca("Received watchdog timeout even though request loaded successfully"),this.a.Sg(this.pa),2!=this.ic&&(ye(3),_e(17)),this.Ia(),this.I=2,this.Kb()},r.Kb=function(){this.b.de()||this.Za||this.b.Tc(this)},r.Ia=function(){this.Fb();var t=this.ac;t&&"function"==typeof t.bb&&t.bb(),this.ac=null,this.Vc.stop(),this.Fc.pb(),this.h&&(t=this.h,this.h=null,t.abort(),t.bb())},r.Hc=function(){return this.I},r.Yc=function(t){try{this.b.ue(this,t),ye(4)}catch(t){this.a.cb(t,"Error in httprequest callback")}},(r=Fe.prototype).C=function(){return this.j},r.H=function(){this.wc();for(var t=[],e=0;e<this.o.length;e++)t.push(this.D[this.o[e]]);return t},r.W=function(){return this.wc(),this.o.concat()},r.va=function(t){return Be(this.D,t)},r.X=function(){return 0==this.j},r.clear=function(){this.D={},this.j=this.o.length=0},r.remove=function(t){return!!Be(this.D,t)&&(delete this.D[t],this.j--,this.o.length>2*this.j&&this.wc(),!0)},r.wc=function(){if(this.j!=this.o.length){for(var t=0,e=0;t<this.o.length;){var n=this.o[t];Be(this.D,n)&&(this.o[e++]=n),t++}this.o.length=e}if(this.j!=this.o.length){var r={};for(e=t=0;t<this.o.length;)Be(r,n=this.o[t])||(this.o[e++]=n,r[n]=1),t++;this.o.length=e}},r.get=function(t,e){return Be(this.D,t)?this.D[t]:e},r.set=function(t,e){Be(this.D,t)||(this.j++,this.o.push(t)),this.D[t]=e},r.addAll=function(t){if(t instanceof Fe)for(var e=t.W(),n=0;n<e.length;n++)this.set(e[n],t.get(e[n]));else for(e in t)this.set(e,t[e])},r.forEach=function(t,e){for(var n=this.W(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}},r.clone=function(){return new Fe(this)};var $e=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ue(t,e){var n;this.xa=this.zb=this.qa="",this.Ca=null,this.ib=this.K="",this.O=this.Qf=!1,t instanceof Ue?(this.O=void 0!==e?e:t.O,this.tb(t.qa),this.cd(t.zb),this.rb(t.xa),this.sb(t.Ca),this.ec(t.K),this.bd(t.P.clone()),this.$c(t.ib)):t&&(n=String(t).match($e))?(this.O=!!e,this.tb(n[1]||"",!0),this.cd(n[2]||"",!0),this.rb(n[3]||"",!0),this.sb(n[4]),this.ec(n[5]||"",!0),this.bd(n[6]||"",!0),this.$c(n[7]||"",!0)):(this.O=!!e,this.P=new Qe(null,this.O))}function ze(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qe(t,e,n){return s(t)?(t=encodeURI(t).replace(e,Ve),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ve(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}(r=Ue.prototype).toString=function(){var t=[],e=this.qa;e&&t.push(qe(e,He,!0),":");var n=this.xa;return(n||"file"==e)&&(t.push("//"),(e=this.zb)&&t.push(qe(e,He,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.Ca)&&t.push(":",String(n))),(n=this.K)&&(this.Ic()&&"/"!=n.charAt(0)&&t.push("/"),t.push(qe(n,"/"==n.charAt(0)?Ge:We,!0))),(n=this.Rd())&&t.push("?",n),(n=this.ib)&&t.push("#",qe(n,Ye)),t.join("")},r.resolve=function(t){var e=this.clone(),n=t.Hf();n?e.tb(t.qa):n=t.If(),n?e.cd(t.zb):n=t.Ic(),n?e.rb(t.xa):n=t.Ff();var r=t.K;if(n)e.sb(t.Ca);else if(n=t.ae()){if("/"!=r.charAt(0))if(this.Ic()&&!this.ae())r="/"+r;else{var i=e.K.lastIndexOf("/");-1!=i&&(r=e.K.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.ec(r):n=t.Gf(),n?e.bd(t.P.clone()):n=t.Ef(),n&&e.$c(t.ib),e},r.clone=function(){return new Ue(this)},r.tb=function(t,e){this.U(),(this.qa=e?ze(t,!0):t)&&(this.qa=this.qa.replace(/:$/,""))},r.Hf=function(){return!!this.qa},r.cd=function(t,e){this.U(),this.zb=e?ze(t):t},r.If=function(){return!!this.zb},r.rb=function(t,e){this.U(),this.xa=e?ze(t,!0):t},r.Ic=function(){return!!this.xa},r.sb=function(t){if(this.U(),t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);this.Ca=t}else this.Ca=null},r.Ff=function(){return null!=this.Ca},r.ec=function(t,e){this.U(),this.K=e?ze(t,!0):t},r.ae=function(){return!!this.K},r.Gf=function(){return""!==this.P.toString()},r.bd=function(t,e){this.U(),t instanceof Qe?(this.P=t,this.P.ad(this.O)):(e||(t=qe(t,Ke)),this.P=new Qe(t,this.O))},r.Rd=function(){return this.P.toString()},r.getQuery=function(){return this.Rd()},r.l=function(t,e){this.U(),this.P.set(t,e)},r.dc=function(t,e){this.U(),h(e)||(e=[String(e)]),this.P.Ie(t,e)},r.$c=function(t,e){this.U(),this.ib=e?ze(t):t},r.Ef=function(){return!!this.ib},r.Ub=function(){return this.U(),this.l("zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),this},r.removeParameter=function(t){return this.U(),this.P.remove(t),this},r.U=function(){if(this.Qf)throw Error("Tried to modify a read-only Uri")},r.ad=function(t){this.O=t,this.P&&this.P.ad(t)};var He=/[#\/\?@]/g,We=/[#\?:]/g,Ge=/[#\?]/g,Ke=/[#\?@]/g,Ye=/#/g;function Qe(t,e){this.j=this.m=null,this.ja=t||null,this.O=!!e}function Xe(t,e){this.b=t,this.a=e,this.f=this.A=null,this.bc=!1,this.K=null,this.w=-1,this.Ad=this.na=null}function Je(t){this.D=new Fe,t&&this.addAll(t)}function Ze(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[v]||(t[v]=++g)):e.substr(0,1)+t}function tn(t){this.me=t||en,a.PerformanceNavigationTiming?t=0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(a.vc&&a.vc.ke&&a.vc.ke()&&a.vc.ke().nh),this.Xb=t?this.me:1,this.v=null,1<this.Xb&&(this.v=new Je),this.f=null,this.ba=[]}(r=Qe.prototype).$=function(){if(!this.m&&(this.m=new Fe,this.j=0,this.ja)){var t=this;!function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(this.ja,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})}},r.C=function(){return this.$(),this.j},r.add=function(t,e){this.$(),this.Oa(),t=this.Ma(t);var n=this.m.get(t);return n||this.m.set(t,n=[]),n.push(e),this.j+=1,this},r.remove=function(t){return this.$(),t=this.Ma(t),!!this.m.va(t)&&(this.Oa(),this.j-=this.m.get(t).length,this.m.remove(t))},r.clear=function(){this.Oa(),this.m=null,this.j=0},r.X=function(){return this.$(),0==this.j},r.va=function(t){return this.$(),t=this.Ma(t),this.m.va(t)},r.forEach=function(t,e){this.$(),this.m.forEach(function(n,r){A(n,function(n){t.call(e,n,r,this)},this)},this)},r.W=function(){this.$();for(var t=this.m.H(),e=this.m.W(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.H=function(t){this.$();var e=[];if(s(t))this.va(t)&&(e=D(e,this.m.get(this.Ma(t))));else{t=this.m.H();for(var n=0;n<t.length;n++)e=D(e,t[n])}return e},r.set=function(t,e){return this.$(),this.Oa(),t=this.Ma(t),this.va(t)&&(this.j-=this.m.get(t).length),this.m.set(t,[e]),this.j+=1,this},r.get=function(t,e){return t&&0<(t=this.H(t)).length?String(t[0]):e},r.Ie=function(t,e){this.remove(t),0<e.length&&(this.Oa(),this.m.set(this.Ma(t),R(e)),this.j+=e.length)},r.toString=function(){if(this.ja)return this.ja;if(!this.m)return"";for(var t=[],e=this.m.W(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.H(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.ja=t.join("&")},r.Oa=function(){this.ja=null},r.clone=function(){var t=new Qe;return t.ja=this.ja,this.m&&(t.m=this.m.clone(),t.j=this.j),t},r.Ma=function(t){return t=String(t),this.O&&(t=t.toLowerCase()),t},r.ad=function(t){t&&!this.O&&(this.$(),this.Oa(),this.m.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(this.remove(e),this.Ie(n,t))},this)),this.O=t},r.extend=function(t){for(var e=0;e<arguments.length;e++)Le(arguments[e],function(t,e){this.add(e,t)},this)},x(function(){},function(){}),(r=Xe.prototype).g=null,r.ga=function(t){this.A=t},r.connect=function(t){this.K=t,t=this.b.Sd(this.K),_e(3);var e=this.b.Ib.$d;null!=e?(this.na=this.b.$a(e[0]),this.g=1,this.xd()):(t.dc("MODE","init"),!this.b.ta&&this.b.aa&&t.dc("X-HTTP-Session-Id",this.b.aa),this.f=new Ie(this,this.a,void 0,void 0,void 0),this.f.ga(this.A),this.f.jd(t,!1,null),this.g=0)},r.xd=function(){this.a.debug("TestConnection: starting stage 2");var t=this.b.Ib.od;if(null!=t)this.a.debug(function(){return"Buffered"}),_e(4),t?(_e(10),this.b.ub(this,!1)):(_e(11),this.b.ub(this,!0));else{this.f=new Ie(this,this.a,void 0,void 0,void 0),this.f.ga(this.A);var e=this.b.Pd(this.na,this.K);_e(4),e.dc("TYPE","xmlhttp");var n=this.b.aa,r=this.b.Kc;n&&r&&e.l(n,r),this.f.jd(e,!1,this.na)}},r.Jb=function(t){return this.b.Jb(t)},r.abort=function(){this.f&&(this.f.cancel(),this.f=null),this.w=-1},r.de=function(){return!1},r.ue=function(t,e){if(this.w=t.w,0==this.g)if(this.a.debug("TestConnection: Got data for stage 1"),this.pc(t),e){try{var n=this.b.kc.zc(e)}catch(t){return this.a.cb(t),void this.b.dd(this)}this.na=this.b.$a(n[0])}else this.a.debug("TestConnection: Null responseText"),this.b.dd(this);else 1==this.g&&(this.bc?_e(6):"11111"==e?(_e(5),this.bc=!0,this.Ze()&&(this.w=200,this.f.cancel(),this.a.debug("Test connection succeeded; using streaming connection"),_e(11),this.b.ub(this,!0))):(_e(7),this.bc=!1))},r.Tc=function(){this.w=this.f.w,this.f.S?0==this.g?(this.g=1,this.a.debug("TestConnection: request complete for initial check"),this.xd()):1==this.g&&(this.a.debug("TestConnection: request complete for stage 2"),this.bc?(this.a.debug("Test connection succeeded; using streaming connection"),_e(11),this.b.ub(this,!0)):(this.a.debug("Test connection failed; not using streaming"),_e(10),this.b.ub(this,!1))):(this.a.debug("TestConnection: request failed, in state "+this.g),0==this.g?_e(8):1==this.g&&_e(9),this.b.dd(this))},r.pc=function(t){if(!this.b.ta&&(t=t.h)){var e=t.kb("X-Client-Wire-Protocol");this.Ad=e||null,this.b.aa&&((t=t.kb("X-HTTP-Session-Id"))?this.b.Fe(t):this.a.T("Missing X_HTTP_SESSION_ID in the handshake response"))}},r.fc=function(){return this.b.fc()},r.Ba=function(){return this.b.Ba()},r.Ze=function(){return!Z||10<=Number(ut)},(r=Je.prototype).C=function(){return this.D.C()},r.add=function(t){this.D.set(Ze(t),t)},r.addAll=function(t){for(var e=(t=je(t)).length,n=0;n<e;n++)this.add(t[n])},r.pb=function(t){for(var e=(t=je(t)).length,n=0;n<e;n++)this.remove(t[n])},r.remove=function(t){return this.D.remove(Ze(t))},r.clear=function(){this.D.clear()},r.X=function(){return this.D.X()},r.contains=function(t){return this.D.va(Ze(t))},r.H=function(){return this.D.H()},r.clone=function(){return new Je(this)};var en=10;function nn(){this.xg=this.rg=void 0}function rn(){this.jg=new nn}function on(t,e,n,r,i){try{t.debug(n),e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(e){t.cb(e)}}(r=tn.prototype).ld=function(t){this.v||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(this.Xb=this.me,this.v=new Je,this.f&&(this.oc(this.f),this.f=null))},r.ee=function(){return!!this.f||!!this.v&&this.v.C()>=this.Xb},r.xf=function(){return this.f?1:this.v?this.v.C():0},r.Jc=function(t){return this.f?this.f==t:!!this.v&&this.v.contains(t)},r.oc=function(t){this.v?this.v.add(t):this.f=t},r.ze=function(t){this.f&&this.f==t?this.f=null:this.v&&this.v.contains(t)&&this.v.remove(t)},r.cancel=function(){this.ba=this.la(),this.f?(this.f.cancel(),this.f=null):this.v&&!this.v.X()&&(A(this.v.H(),function(t){t.cancel()}),this.v.clear())},r.la=function(){if(null!=this.f)return this.ba.concat(this.f.la());if(null!=this.v&&!this.v.X()){var t=this.ba;return A(this.v.H(),function(e){t=t.concat(e.la())}),t}return R(this.ba)},r.Re=function(t){this.ba=this.ba.concat(t)},r.$e=function(){this.ba.length=0},nn.prototype.stringify=function(t){return a.JSON.stringify(t,this.rg)},nn.prototype.parse=function(t){return a.JSON.parse(t,this.xg)},rn.prototype.hf=function(t,e,n){var r=n||"";try{Le(t,function(t,n){var i=t;p(t)&&(i=Bt(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}},rn.prototype.jf=function(t,e,n){for(var r=-1;;){var i=["count="+e];-1==r?0<e?(r=t[0].Pc,i.push("ofs="+r)):r=0:i.push("ofs="+r);for(var o=!0,a=0;a<e;a++){var s=t[a].Pc,u=t[a].map;if(0>(s-=r))r=Math.max(0,t[a].Pc-100),o=!1;else try{this.hf(u,i,"req"+s+"_")}catch(t){n&&n(u)}}if(o)return i.join("&")}},rn.prototype.zc=function(t){return this.jg.parse(t)};var an=a.JSON.parse;function sn(t){Ft.call(this),this.headers=new Fe,this.Xa=t||null,this.ha=!1,this.mc=this.c=null,this.ge=this.Tb="",this.Pa=0,this.I="",this.Aa=this.Lc=this.Qb=this.Ec=!1,this.vb=0,this.hc=null,this.Ae=un,this.jc=this.lg=this.Ab=!1}x(sn,Ft);var un="";sn.prototype.s=fe("goog.net.XhrIo");var cn=/^https?$/i,ln=["POST","PUT"];function hn(t){return"content-type"==t.toLowerCase()}function fn(t,e){return{type:e,lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}}function dn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return q(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),s(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return t.l(e,n),t}function pn(t){this.Bd=22,this.De=0,this.M=[],this.a=new ve,this.Ib=new function(){this.od=this.$d=null},this.na=this.md=this.hb=this.K=this.u=this.Kc=this.aa=this.gb=this.N=this.Rb=this.A=null,this.Te=!0,this.ag=this.Yb=0,this.kf=!!u("internalChannelParams.failFast",t),this.fd=this.Ja=this.wa=this.ia=this.ea=this.i=null,this.Se=!0,this.w=this.he=this.Sb=-1,this.rc=this.Ha=this.La=0,this.Ve=u("internalChannelParams.baseRetryDelayMs",t)||5e3,this.vg=u("internalChannelParams.retryDelaySeedMs",t)||1e4,this.nf=u("internalChannelParams.forwardChannelMaxRetries",t)||2,this.Od=u("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Xa=t&&t.oh||void 0,this.Db=void 0,this.Ra=0,this.gc=t&&t.supportsCrossDomainXhr||!1,this.ra="",this.G=new tn(t&&t.concurrentRequestLimit),this.kc=new rn,this.ta=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.Nd=t&&t.fastHandshake||!1)&&!this.ta&&(this.a.T("Force backgroundChannelTest when fastHandshake is enabled."),this.ta=!0),t&&t.Id&&this.a.Id()}function vn(){}function gn(){if(Z&&!(10<=Number(ut)))throw Error("Environmental error: no available transport.")}function mn(t,e){Ft.call(this),this.b=new pn(e),this.yb=t,this.Qg=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e=r?e+i:e+"/"+i)}return e}(this.yb,"test"),this.s=fe("goog.labs.net.webChannel.WebChannelBaseTransport"),this.Rc=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.b.ga(t),t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.zd&&(t?t["X-WebChannel-Client-Profile"]=e.zd:t={"X-WebChannel-Client-Profile":e.zd}),this.b.Eg(t),(t=e&&e.httpHeadersOverwriteParam)&&!j(t)&&this.b.Cg(t),this.Og=e&&e.supportsCrossDomainXhr||!1,this.zg=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!j(e)&&(this.b.Dg(e),null!==(t=this.Rc)&&e in t&&(e in(t=this.Rc)&&delete t[e],(t=this.s)&&t.T("Ignore httpSessionIdParam also specified with messageUrlParams: "+e,void 0))),this.vd=new _n(this)}function yn(t){Me.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.ne=t)&&(t=this.ne,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function bn(t){Ae.call(this),this.status=1,this.errorCode=t}function _n(t){this.b=t}(r=sn.prototype).Je=function(t){this.Ab=t},r.send=function(t,e,n,r){if(this.c)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Tb+"; newUri="+t);e=e?e.toUpperCase():"GET",this.Tb=t,this.I="",this.Pa=0,this.ge=e,this.Ec=!1,this.ha=!0,this.c=this.df(),this.mc=this.Xa?this.Xa.Vd():Se.Vd(),this.c.onreadystatechange=b(this.te,this),this.lg&&"onprogress"in this.c&&(this.c.onprogress=b(function(t){this.re(t,!0)},this),this.c.upload&&(this.c.upload.onprogress=b(this.re,this)));try{pe(this.s,this.da("Opening Xhr")),this.Lc=!0,this.c.open(e,String(t),!0),this.Lc=!1}catch(t){return pe(this.s,this.da("Error opening Xhr: "+t.message)),void this.Ld(t)}t=n||"";var i=this.headers.clone();r&&Le(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=hn,n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(i.W()),n=a.FormData&&t instanceof a.FormData,!(0<=O(ln,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.c.setRequestHeader(e,t)},this),this.Ae&&(this.c.responseType=this.Ae),"withCredentials"in this.c&&this.c.withCredentials!==this.Ab&&(this.c.withCredentials=this.Ab);try{this.yd(),0<this.vb&&(this.jc=function(t){return Z&&lt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.c),pe(this.s,this.da("Will abort after "+this.vb+"ms if incomplete, xhr2 "+this.jc)),this.jc?(this.c.timeout=this.vb,this.c.ontimeout=b(this.Ua,this)):this.hc=Jt(this.Ua,this.vb,this)),pe(this.s,this.da("Sending request")),this.Qb=!0,this.c.send(t),this.Qb=!1}catch(t){pe(this.s,this.da("Send error: "+t.message)),this.Ld(t)}},r.df=function(){return this.Xa?this.Xa.Dd():Se.Dd()},r.Ua=function(){void 0!==o&&this.c&&(this.I="Timed out after "+this.vb+"ms, aborting",this.Pa=8,pe(this.s,this.da(this.I)),this.dispatchEvent("timeout"),this.abort(8))},r.Ld=function(t){this.ha=!1,this.c&&(this.Aa=!0,this.c.abort(),this.Aa=!1),this.I=t,this.Pa=5,this.Jd(),this.Gb()},r.Jd=function(){this.Ec||(this.Ec=!0,this.dispatchEvent("complete"),this.dispatchEvent("error"))},r.abort=function(t){this.c&&this.ha&&(pe(this.s,this.da("Aborting")),this.ha=!1,this.Aa=!0,this.c.abort(),this.Aa=!1,this.Pa=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),this.Gb())},r.F=function(){this.c&&(this.ha&&(this.ha=!1,this.Aa=!0,this.c.abort(),this.Aa=!1),this.Gb(!0)),sn.L.F.call(this)},r.te=function(){this.Ka||(this.Lc||this.Qb||this.Aa?this.se():this.eg())},r.eg=function(){this.se()},r.se=function(){if(this.ha&&void 0!==o)if(this.mc[1]&&4==this.ma()&&2==this.za())pe(this.s,this.da("Local request error detected and ignored"));else if(this.Qb&&4==this.ma())Jt(this.te,0,this);else if(this.dispatchEvent("readystatechange"),this.Mc()){pe(this.s,this.da("Request complete")),this.ha=!1;try{this.Rf()?(this.dispatchEvent("complete"),this.dispatchEvent("success")):(this.Pa=6,this.I=this.Yd()+" ["+this.za()+"]",this.Jd())}finally{this.Gb()}}},r.re=function(t,e){this.dispatchEvent(fn(t,"progress")),this.dispatchEvent(fn(t,e?"downloadprogress":"uploadprogress"))},r.Gb=function(t){if(this.c){this.yd();var e=this.c,n=this.mc[0]?c:null;this.mc=this.c=null,t||this.dispatchEvent("ready");try{e.onreadystatechange=n}catch(e){(t=this.s)&&t.ca("Problem encountered resetting onreadystatechange: "+e.message,void 0)}}},r.yd=function(){this.c&&this.jc&&(this.c.ontimeout=null),this.hc&&(a.clearTimeout(this.hc),this.hc=null)},r.Ba=function(){return!!this.c},r.Mc=function(){return 4==this.ma()},r.Rf=function(){var t=this.za();t:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}return e||0===t&&!this.Of()},r.Of=function(){var t=String(this.Tb).match($e)[1]||null;return!t&&a.self&&a.self.location&&(t=(t=a.self.location.protocol).substr(0,t.length-1)),cn.test(t?t.toLowerCase():"")},r.ma=function(){return this.c?this.c.readyState:0},r.za=function(){try{return 2<this.ma()?this.c.status:-1}catch(t){return-1}},r.Yd=function(){try{return 2<this.ma()?this.c.statusText:""}catch(t){return pe(this.s,"Can not get status: "+t.message),""}},r.ya=function(){try{return this.c?this.c.responseText:""}catch(t){return pe(this.s,"Can not get responseText: "+t.message),""}},r.yf=function(t){if(this.c){var e=this.c.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),an(e)}},r.getResponseHeader=function(t){if(this.c&&this.Mc())return null===(t=this.c.getResponseHeader(t))?void 0:t},r.getAllResponseHeaders=function(){return this.c&&this.Mc()&&this.c.getAllResponseHeaders()||""},r.kb=function(t){return this.c?this.c.getResponseHeader(t):null},r.Ud=function(){return this.Pa},r.Hc=function(){return s(this.I)?this.I:String(this.I)},r.da=function(t){return t+" ["+this.ge+" "+this.Tb+" "+this.za()+"]"},(r=pn.prototype).tc=8,r.g=1,r.connect=function(t,e,n,r,i){this.a.debug("connect()"),_e(0),this.K=e,this.gb=n||{},r&&void 0!==i&&(this.gb.OSID=r,this.gb.OAID=i),this.ta&&(this.a.debug("connect() bypassed channel-test."),this.Ib.$d=[],this.Ib.od=!1),this.bf(t)},r.disconnect=function(){if(this.a.debug("disconnect()"),this.qd(),3==this.g){var t=this.Yb++,e=this.hb.clone();e.l("SID",this.ra),e.l("RID",t),e.l("TYPE","terminate"),this.Ya(e),new Ie(this,this.a,this.ra,t,void 0).yg(e)}this.qe()},r.bf=function(t){this.a.debug("connectTest_()"),this.Ja=new Xe(this,this.a),null===this.N&&this.Ja.ga(this.A);var e=t;this.N&&this.A&&(e=dn(t,this.N,this.A)),this.Ja.connect(e)},r.af=function(){this.a.debug("connectChannel_()"),this.hb=this.Sd(this.K),this.Dc()},r.qd=function(){this.Ja&&(this.Ja.abort(),this.Ja=null),this.u&&(this.u.cancel(),this.u=null),this.ia&&(a.clearTimeout(this.ia),this.ia=null),this.Hb(),this.G.cancel(),this.ea&&(a.clearTimeout(this.ea),this.ea=null)},r.ga=function(t){this.A=t},r.Eg=function(t){this.Rb=t},r.Cg=function(t){this.N=t},r.Dg=function(t){this.aa=t},r.Fe=function(t){this.Kc=t},r.He=function(t){this.Ra=t},r.Hg=function(){this.gc=!0},r.Ee=function(t){this.i=t},r.Nf=function(){return!this.fd},r.Zc=function(t){1e3==this.M.length&&this.a.ca(function(){return"Already have 1000 queued maps upon queueing "+Bt(t)}),this.M.push(new function(t,e){this.Pc=t,this.map=e,this.context=null}(this.ag++,t)),3==this.g&&this.Dc()},r.qf=function(){return this.kf?0:this.nf},r.de=function(){return 0==this.g},r.getState=function(){return this.g},r.Dc=function(){this.G.ee()||this.ea||(this.ea=xe(b(this.we,this),0),this.La=0)},r.Yf=function(t){return this.G.xf()>=this.G.Xb-(this.ea?1:0)?(this.a.ca("Unexpected retry request is scheduled."),!1):this.ea?(this.a.debug("Use the retry request that is already scheduled."),this.M=t.la().concat(this.M),!0):!(1==this.g||2==this.g||this.La>=this.qf())&&(this.a.debug("Going to retry POST"),this.ea=xe(b(this.we,this,t),this.Xd(this.La)),this.La++,!0)},r.we=function(t){this.ea=null,this.Mg(t)},r.Mg=function(t){this.a.debug("startForwardChannel_"),1==this.g?t?this.a.ca("Not supposed to retry the open"):(this.ig(),this.g=2):3==this.g&&(t?this.le(t):0==this.M.length?this.a.debug("startForwardChannel_ returned: nothing to send"):this.G.ee()?this.a.ca("startForwardChannel_ returned: connection already in progress"):(this.le(),this.a.debug("startForwardChannel_ finished, sent request")))},r.ig=function(){this.a.debug("open_()"),this.Yb=Math.floor(1e5*Math.random());var t=this.Yb++,e=new Ie(this,this.a,"",t,void 0),n=this.A;this.Rb&&(n?K(n=W(n),this.Rb):n=this.Rb),null===this.N&&e.ga(n);var r=this.Hd(e),i=this.hb.clone();i.l("RID",t),0<this.Bd&&i.l("CVER",this.Bd),this.ta&&this.aa&&i.l("X-HTTP-Session-Id",this.aa),this.Ya(i),this.N&&n&&dn(i,this.N,n),this.G.oc(e),this.Nd?(i.l("$req",r),i.l("SID","null"),e.Ag(),e.kd(i,null)):e.kd(i,r)},r.le=function(t){var e=t?t.R:this.Yb++,n=this.hb.clone();n.l("SID",this.ra),n.l("RID",e),n.l("AID",this.Sb),this.Ya(n),this.N&&this.A&&dn(n,this.N,this.A),e=new Ie(this,this.a,this.ra,e,this.La+1),null===this.N&&e.ga(this.A),t&&this.sg(t),t=this.Hd(e),e.setTimeout(Math.round(.5*this.Od)+Math.round(.5*this.Od*Math.random())),this.G.oc(e),e.kd(n,t)},r.Ya=function(t){this.i&&Le({},function(e,n){t.l(n,e)})},r.Hd=function(t){var e=Math.min(this.M.length,1e3),n=this.i?b(this.i.Ue,this.i,this):null;return n=this.kc.jf(this.M,e,n),t.Gg(this.M.splice(0,e)),n},r.sg=function(t){this.M=t.la().concat(this.M)},r.Kd=function(){if(!this.u&&!this.ia){this.rc=1;var t=this.ve;qt||Gt(),Kt||(qt(),Kt=!0),Yt.add(t,this),this.Ha=0}},r.Qc=function(){return this.u||this.ia?(this.a.ca("Request already in progress"),!1):!(3<=this.Ha)&&(this.a.debug("Going to retry GET"),this.rc++,this.ia=xe(b(this.ve,this),this.Xd(this.Ha)),this.Ha++,!0)},r.ve=function(){this.ia=null,this.Kg()},r.Kg=function(){this.a.debug("Creating new HttpRequest"),this.u=new Ie(this,this.a,this.ra,"rpc",this.rc),null===this.N&&this.u.ga(this.A),this.u.He(this.Ra);var t=this.md.clone();t.l("RID","rpc"),t.l("SID",this.ra),t.l("CI",this.fd?"0":"1"),t.l("AID",this.Sb),this.Ya(t),t.l("TYPE","xmlhttp"),this.N&&this.A&&dn(t,this.N,this.A),this.Db&&this.u.setTimeout(this.Db),this.u.jd(t,!0,this.na),this.a.debug("New Request created")},r.ub=function(t,e){this.a.debug("Test Connection Finished");var n=t.Ad;n&&this.G.ld(n),this.fd=this.Se&&e,this.w=t.w,this.af()},r.dd=function(t){this.a.debug("Test Connection Failed"),this.w=t.w,this.sa(2)},r.ue=function(t,e){if(0!=this.g&&(this.u==t||this.G.Jc(t)))if(this.w=t.w,!t.lb&&this.G.Jc(t)&&3==this.g){try{var n=this.kc.zc(e)}catch(t){n=null}h(n)&&3==n.length?this.Cf(n,t):(this.a.debug("Bad POST response data returned"),this.sa(11))}else(t.lb||this.u==t)&&this.Hb(),j(e)||(n=this.kc.zc(e),this.dg(n,t))},r.Cf=function(t,e){0==t[0]?this.Bf(e):(this.he=t[1],0<(e=this.he-this.Sb)&&(t=t[2],this.a.debug(t+" bytes (in "+e+" arrays) are outstanding on the BackChannel"),this.Jg(t)&&!this.wa&&(this.wa=xe(b(this.bg,this),6e3))))},r.Bf=function(t){if(this.a.debug("Server claims our backchannel is missing."),this.ia)this.a.debug("But we are currently starting the request.");else{if(this.u){if(!(this.u.qb+3e3<t.qb))return;this.Hb(),this.u.cancel(),this.u=null}else this.a.T("We do not have a BackChannel established");this.Qc(),_e(18)}},r.Jg=function(t){return 37500>t&&!this.Nf()&&0==this.Ha},r.$a=function(t){return this.Te?this.i?this.i.$a(t):t:null},r.bg=function(){null!=this.wa&&(this.wa=null,this.u.cancel(),this.u=null,this.Qc(),_e(19))},r.Hb=function(){null!=this.wa&&(a.clearTimeout(this.wa),this.wa=null)},r.Tc=function(t){this.a.debug("Request complete");var e=null;if(this.u==t){this.Hb(),this.u=null;var n=2}else{if(!this.G.Jc(t))return;e=t.la(),this.G.ze(t),n=1}if(this.w=t.w,0!=this.g)if(t.S)1==n?(function(t,e,n){ge.dispatchEvent(new we(ge,t,e,n))}(t.Da?t.Da.length:0,w()-t.qb,this.La),this.Dc()):this.Kd();else{var r=t.Hc();if(3==r||0==r&&0<this.w)this.a.debug("Not retrying due to error type");else{var i=this;if(this.a.debug(function(){return"Maybe retrying, last error: "+function(t,e){switch(t){case 0:return"Non-200 return code ("+e+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}}(r,i.w)}),1==n&&this.Yf(t)||2==n&&this.Qc())return;this.a.debug("Exceeded max number of retries")}switch(e&&0<e.length&&this.G.Re(e),this.a.debug("Error: HTTP request failed"),r){case 1:this.sa(5);break;case 4:this.sa(10);break;case 3:this.sa(6);break;default:this.sa(2)}}},r.Xd=function(t){var e=this.Ve+Math.floor(Math.random()*this.vg);return this.Ba()||(this.a.debug("Inactive channel"),e*=2),e*t},r.pc=function(t){if(this.ta&&(t=t.h)){var e=t.kb("X-Client-Wire-Protocol");e&&this.G.ld(e),this.aa&&((t=t.kb("X-HTTP-Session-Id"))?(this.Fe(t),this.hb.l(this.aa,t)):this.a.T("Missing X_HTTP_SESSION_ID in the handshake response"))}},r.dg=function(t,e){for(var n=this.i&&this.i.sc?[]:null,r=0;r<t.length;r++){var i=t[r];if(this.Sb=i[0],i=i[1],2==this.g)if("c"==i[0]){this.ra=i[1],this.na=this.$a(i[2]);var o=i[3];null!=o&&(this.tc=o,this.a.info("VER="+this.tc)),null!=(o=i[4])&&(this.De=o,this.a.info("SVER="+this.De)),null!=(i=i[5])&&"number"==typeof i&&0<i&&(this.Db=i*=1.5,this.a.info("backChannelRequestTimeoutMs_="+i)),this.pc(e),this.g=3,this.i&&this.i.wd(),this.Lg(e)}else"stop"!=i[0]&&"close"!=i[0]||this.sa(7);else 3==this.g&&("stop"==i[0]||"close"==i[0]?(n&&0!=n.length&&(this.i.sc(this,n),n.length=0),"stop"==i[0]?this.sa(7):this.disconnect()):"noop"!=i[0]&&(n?n.push(i):this.i&&this.i.ud(i)),this.Ha=0)}n&&0!=n.length&&this.i.sc(this,n)},r.Lg=function(t){this.md=this.Pd(this.na,this.K),t.lb?(this.a.debug("Upgrade the handshake request to a backchannel."),this.G.ze(t),t.tg(this.Db),this.u=t):this.Kd()},r.sa=function(t){if(this.a.info("Error code "+t),2==t){var e=null;this.i&&(e=null);var n=b(this.Pg,this);e||(e=new Ue("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||e.tb("https"),e.Ub()),function(t,e){var n=new ve;n.debug("TestLoadImage: loading "+t);var r=new Image;r.onload=_(on,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_(on,n,r,"TestLoadImage: error",!1,e),r.onabort=_(on,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_(on,n,r,"TestLoadImage: timeout",!1,e),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}(e.toString(),n)}else _e(2);this.cg(t)},r.Pg=function(t){t?(this.a.info("Successfully pinged google.com"),_e(2)):(this.a.info("Failed to ping google.com"),_e(1))},r.cg=function(t){this.a.debug("HttpChannel: error - "+t),this.g=0,this.i&&this.i.td(t),this.qe(),this.qd()},r.qe=function(){if(this.g=0,this.w=-1,this.i){var t=this.G.la();if(0!=t.length||0!=this.M.length){var e=this;this.a.debug(function(){return"Number of undelivered maps, pending: "+t.length+", outgoing: "+e.M.length}),this.G.$e(),R(this.M),this.M.length=0}this.i.sd()}},r.Sd=function(t){return t=this.Cd(null,t),this.a.debug("GetForwardChannelUri: "+t),t},r.Pd=function(t,e){return t=this.Cd(this.fc()?t:null,e),this.a.debug("GetBackChannelUri: "+t),t},r.Cd=function(t,e){var n=function(t){return t instanceof Ue?t.clone():new Ue(t,void 0)}(e);if(""!=n.xa)t&&n.rb(t+"."+n.xa),n.sb(n.Ca);else{var r=a.location;n=function(t,e,n,r){var i=new Ue(null,void 0);return t&&i.tb(t),e&&i.rb(e),n&&i.sb(n),r&&i.ec(r),i}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return this.gb&&q(this.gb,function(t,e){n.l(e,t)}),t=this.aa,e=this.Kc,t&&e&&n.l(t,e),n.l("VER",this.tc),this.Ya(n),n},r.Jb=function(t){if(t&&!this.gc)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new sn(this.Xa)).Je(this.gc),t},r.Ba=function(){return!!this.i&&this.i.Ba()},r.fc=function(){return this.gc},(r=vn.prototype).sc=null,r.wd=function(){},r.ud=function(){},r.td=function(){},r.sd=function(){},r.Ba=function(){return!0},r.Ue=function(){},r.$a=function(t){return t},gn.prototype.cf=function(t,e){return new mn(t,e)},x(mn,Ft),(r=mn.prototype).addEventListener=function(t,e,n,r){mn.L.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){mn.L.removeEventListener.call(this,t,e,n,r)},r.open=function(){this.b.Ee(this.vd),this.Og&&this.b.Hg(),this.b.connect(this.Qg,this.yb,this.Rc||void 0)},r.close=function(){this.b.disconnect()},r.send=function(t){if(s(t)){var e={};e.__data__=t,this.b.Zc(e)}else this.zg?((e={}).__data__=Bt(t),this.b.Zc(e)):this.b.Zc(t)},r.F=function(){this.b.Ee(null),delete this.vd,this.b.disconnect(),delete this.b,mn.L.F.call(this)},x(yn,Me),x(bn,Ae),x(_n,vn),_n.prototype.wd=function(){de(this.b.s,"WebChannel opened on "+this.b.yb),this.b.dispatchEvent("a")},_n.prototype.ud=function(t){this.b.dispatchEvent(new yn(t))},_n.prototype.td=function(t){de(this.b.s,"WebChannel aborted on "+this.b.yb+" due to channel error: "+t),this.b.dispatchEvent(new bn(t))},_n.prototype.sd=function(){de(this.b.s,"WebChannel closed on "+this.b.yb),this.b.dispatchEvent("b")};var wn=_(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},gn);function xn(){this.V=[],this.Z=[]}function En(t,e){if(k.call(this),this.oe=t||0,this.Wb=e||10,this.oe>this.Wb)throw Error(Cn);this.fa=new xn,this.oa=new Je,this.Ac=0,this.Nc=null,this.Cb()}(r=xn.prototype).Vf=function(){0==this.V.length&&(this.V=this.Z,this.V.reverse(),this.Z=[])},r.enqueue=function(t){this.Z.push(t)},r.ab=function(){return this.Vf(),this.V.pop()},r.C=function(){return this.V.length+this.Z.length},r.X=function(){return 0==this.V.length&&0==this.Z.length},r.clear=function(){this.V=[],this.Z=[]},r.contains=function(t){return 0<=O(this.V,t)||0<=O(this.Z,t)},r.remove=function(t){var e=this.V,n=M(e,t);return 0<=n?(Array.prototype.splice.call(e,n,1),e=!0):e=!1,e||N(this.Z,t)},r.H=function(){for(var t=[],e=this.V.length-1;0<=e;--e)t.push(this.V[e]);var n=this.Z.length;for(e=0;e<n;++e)t.push(this.Z[e]);return t},x(En,k);var Cn="[goog.structs.Pool] Min can not be greater than max";function kn(t,e){this.fe=t,this.gd=e}function Tn(t){this.Y=[],t&&this.Lf(t)}function Sn(){Tn.call(this)}function On(t,e){this.Gd=void 0,this.cc=new Sn,En.call(this,t,e)}function Mn(t,e,n,r){this.Jf=t,this.Ab=!!r,On.call(this,e,n)}(r=En.prototype).Mb=function(){var t=w();if(!(null!=this.Nc&&t-this.Nc<this.Ac)){var e=this.qg();return e&&(this.Nc=t,this.oa.add(e)),e}},r.og=function(t){return!!this.oa.remove(t)&&(this.nc(t),!0)},r.qg=function(){for(var t;0<this.Td()&&(t=this.fa.ab(),!this.Sc(t));)this.Cb();return!t&&this.C()<this.Wb&&(t=this.xc()),t},r.nc=function(t){this.oa.remove(t),this.Sc(t)&&this.C()<this.Wb?this.fa.enqueue(t):this.Bc(t)},r.Cb=function(){for(var t=this.fa;this.C()<this.oe;)t.enqueue(this.xc());for(;this.C()>this.Wb&&0<this.Td();)this.Bc(t.ab())},r.xc=function(){return{}},r.Bc=function(t){if("function"==typeof t.bb)t.bb();else for(var e in t)t[e]=null},r.Sc=function(t){return"function"!=typeof t.Ye||t.Ye()},r.contains=function(t){return this.fa.contains(t)||this.oa.contains(t)},r.C=function(){return this.fa.C()+this.oa.C()},r.rf=function(){return this.oa.C()},r.Td=function(){return this.fa.C()},r.X=function(){return this.fa.X()&&this.oa.X()},r.F=function(){if(En.L.F.call(this),0<this.rf())throw Error("[goog.structs.Pool] Objects not released");delete this.oa;for(var t=this.fa;!t.X();)this.Bc(t.ab());delete this.fa},kn.prototype.getKey=function(){return this.fe},kn.prototype.clone=function(){return new kn(this.fe,this.gd)},(r=Tn.prototype).ce=function(t,e){var n=this.Y;n.push(new kn(t,e)),this.$f(n.length-1)},r.Lf=function(t){if(t instanceof Tn){var e=t.W();if(t=t.H(),0>=this.C()){for(var n=this.Y,r=0;r<e.length;r++)n.push(new kn(e[r],t[r]));return}}else e=H(t),t=V(t);for(r=0;r<e.length;r++)this.ce(e[r],t[r])},r.remove=function(){var t=this.Y,e=t.length,n=t[0];if(!(0>=e))return 1==e?I(t):(t[0]=t.pop(),this.Zf()),n.gd},r.Zf=function(){for(var t=0,e=this.Y,n=e.length,r=e[t];t<n>>1;){var i=this.tf(t),o=this.zf(t);if(e[i=o<n&&e[o].getKey()<e[i].getKey()?o:i].getKey()>r.getKey())break;e[t]=e[i],t=i}e[t]=r},r.$f=function(t){for(var e=this.Y,n=e[t];0<t;){var r=this.wf(t);if(!(e[r].getKey()>n.getKey()))break;e[t]=e[r],t=r}e[t]=n},r.tf=function(t){return 2*t+1},r.zf=function(t){return 2*t+2},r.wf=function(t){return t-1>>1},r.H=function(){for(var t=this.Y,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].gd);return e},r.W=function(){for(var t=this.Y,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].getKey());return e},r.va=function(t){return P(this.Y,function(e){return e.getKey()==t})},r.clone=function(){return new Tn(this)},r.C=function(){return this.Y.length},r.X=function(){return 0==this.Y.length},r.clear=function(){I(this.Y)},x(Sn,Tn),Sn.prototype.enqueue=function(t,e){this.ce(t,e)},Sn.prototype.ab=function(){return this.remove()},x(On,En),(r=On.prototype).Mb=function(t,e){if(!t)return(t=On.L.Mb.call(this))&&this.Ac&&(this.Gd=a.setTimeout(b(this.Nb,this),this.Ac)),t;this.cc.enqueue(void 0!==e?e:100,t),this.Nb()},r.Nb=function(){for(var t=this.cc;0<t.C();){var e=this.Mb();if(!e)break;t.ab().apply(this,[e])}},r.nc=function(t){On.L.nc.call(this,t),this.Nb()},r.Cb=function(){On.L.Cb.call(this),this.Nb()},r.F=function(){On.L.F.call(this),a.clearTimeout(this.Gd),this.cc.clear(),this.cc=null},x(Mn,On),Mn.prototype.xc=function(){var t=new sn,e=this.Jf;return e&&e.forEach(function(e,n){t.headers.set(n,e)}),this.Ab&&t.Je(!0),t},Mn.prototype.Sc=function(t){return!t.Ka&&!t.Ba()},gn.prototype.createWebChannel=gn.prototype.cf,mn.prototype.send=mn.prototype.send,mn.prototype.open=mn.prototype.open,mn.prototype.close=mn.prototype.close,Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,Ce.COMPLETE="complete",Te.EventType=Oe,Oe.OPEN="a",Oe.CLOSE="b",Oe.ERROR="c",Oe.MESSAGE="d",Ft.prototype.listen=Ft.prototype.nb,Mn.prototype.getObject=Mn.prototype.Mb,Mn.prototype.releaseObject=Mn.prototype.og,sn.prototype.listenOnce=sn.prototype.Oc,sn.prototype.getLastError=sn.prototype.Hc,sn.prototype.getLastErrorCode=sn.prototype.Ud,sn.prototype.getStatus=sn.prototype.za,sn.prototype.getStatusText=sn.prototype.Yd,sn.prototype.getResponseJson=sn.prototype.yf,sn.prototype.getResponseText=sn.prototype.ya,sn.prototype.getResponseText=sn.prototype.ya,sn.prototype.send=sn.prototype.send;var An={createWebChannelTransport:wn,ErrorCode:Ee,EventType:Ce,WebChannel:Te,XhrIoPool:Mn},Pn=An.createWebChannelTransport,In=An.ErrorCode,Nn=An.EventType,Dn=An.WebChannel,Rn=An.XhrIoPool;e.default=An}.call(e,n("DuR2"))},GHBc:function(t,e,n){"use strict";var r=n("cGG2");t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},Gu7T:function(t,e,n){"use strict";e.__esModule=!0;var r,i=n("c/Tr"),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,o.default)(t)}},Ibhu:function(t,e,n){var r=n("D2L2"),i=n("TcQ7"),o=n("vFc/")(!1),a=n("ax3d")("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},"JP+z":function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},K4R9:function(t,e,n){n("NA/8"),t.exports=n("FeBl").Number.isNaN},K6ED:function(t,e,n){t.exports={default:n("cnlX"),__esModule:!0}},KCLY:function(t,e,n){"use strict";(function(e){var r=n("cGG2"),i=n("5VQ+"),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,u={adapter:("undefined"!=typeof XMLHttpRequest?s=n("7GwW"):void 0!==e&&(s=n("7GwW")),s),transformRequest:[function(t,e){return i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(t){u.headers[t]={}}),r.forEach(["post","put","patch"],function(t){u.headers[t]=r.merge(o)}),t.exports=u}).call(e,n("W2nU"))},Kh4W:function(t,e,n){e.f=n("dSzd")},Kh5d:function(t,e,n){var r=n("sB3e"),i=n("PzxK");n("uqUo")("getPrototypeOf",function(){return function(t){return i(r(t))}})},L42u:function(t,e,n){var r,i,o,a=n("+ZMJ"),s=n("knuC"),u=n("RPLV"),c=n("ON07"),l=n("7KvD"),h=l.process,f=l.setImmediate,d=l.clearImmediate,p=l.MessageChannel,v=l.Dispatch,g=0,m={},y=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},b=function(t){y.call(t.data)};f&&d||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++g]=function(){s("function"==typeof t?t:Function(t),e)},r(g),g},d=function(t){delete m[t]},"process"==n("R9M2")(h)?r=function(t){h.nextTick(a(y,t,1))}:v&&v.now?r=function(t){v.now(a(y,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:f,clear:d}},LKZe:function(t,e,n){var r=n("NpIQ"),i=n("X8DO"),o=n("TcQ7"),a=n("MmMw"),s=n("D2L2"),u=n("SfB7"),c=Object.getOwnPropertyDescriptor;e.f=n("+E39")?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},M6a0:function(t,e){},MICi:function(t,e,n){t.exports={default:n("K4R9"),__esModule:!0}},MU5D:function(t,e,n){var r=n("R9M2");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},Mhyx:function(t,e,n){var r=n("/bQp"),i=n("dSzd")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},MmMw:function(t,e,n){var r=n("EqjI");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"NA/8":function(t,e,n){var r=n("kM2E");r(r.S,"Number",{isNaN:function(t){return t!=t}})},"NWt+":function(t,e,n){var r=n("+ZMJ"),i=n("msXi"),o=n("Mhyx"),a=n("77Pl"),s=n("QRG4"),u=n("3fs2"),c={},l={};(e=t.exports=function(t,e,n,h,f){var d,p,v,g,m=f?function(){return t}:u(t),y=r(n,h,e?2:1),b=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(d=s(t.length);d>b;b++)if((g=e?y(a(p=t[b])[0],p[1]):y(t[b]))===c||g===l)return g}else for(v=m.call(t);!(p=v.next()).done;)if((g=i(v,y,p.value,e))===c||g===l)return g}).BREAK=c,e.RETURN=l},NYxO:function(t,e,n){"use strict";n.d(e,"b",function(){return w});
/**
 * vuex v3.0.1
 * (c) 2017 Evan You
 * @license MIT
 */
var r=function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:n});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,e.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}},i="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function o(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}var a=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},s={namespaced:{configurable:!0}};s.namespaced.get=function(){return!!this._rawModule.namespaced},a.prototype.addChild=function(t,e){this._children[t]=e},a.prototype.removeChild=function(t){delete this._children[t]},a.prototype.getChild=function(t){return this._children[t]},a.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},a.prototype.forEachChild=function(t){o(this._children,t)},a.prototype.forEachGetter=function(t){this._rawModule.getters&&o(this._rawModule.getters,t)},a.prototype.forEachAction=function(t){this._rawModule.actions&&o(this._rawModule.actions,t)},a.prototype.forEachMutation=function(t){this._rawModule.mutations&&o(this._rawModule.mutations,t)},Object.defineProperties(a.prototype,s);var u=function(t){this.register([],t,!1)};u.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},u.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")},"")},u.prototype.update=function(t){!function t(e,n,r){0;n.update(r);if(r.modules)for(var i in r.modules){if(!n.getChild(i))return void 0;t(e.concat(i),n.getChild(i),r.modules[i])}}([],this.root,t)},u.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new a(e,n);0===t.length?this.root=i:this.get(t.slice(0,-1)).addChild(t[t.length-1],i);e.modules&&o(e.modules,function(e,i){r.register(t.concat(i),e,n)})},u.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)};var c;var l=function(t){var e=this;void 0===t&&(t={}),!c&&"undefined"!=typeof window&&window.Vue&&y(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1);var o=t.state;void 0===o&&(o={}),"function"==typeof o&&(o=o()||{}),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new u(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new c;var a=this,s=this.dispatch,l=this.commit;this.dispatch=function(t,e){return s.call(a,t,e)},this.commit=function(t,e,n){return l.call(a,t,e,n)},this.strict=r,v(this,o,[],this._modules.root),p(this,o),n.forEach(function(t){return t(e)}),c.config.devtools&&function(t){i&&(t._devtoolHook=i,i.emit("vuex:init",t),i.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){i.emit("vuex:mutation",t,e)}))}(this)},h={state:{configurable:!0}};function f(t,e){return e.indexOf(t)<0&&e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function d(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;v(t,n,[],t._modules.root,!0),p(t,n,e)}function p(t,e,n){var r=t._vm;t.getters={};var i={};o(t._wrappedGetters,function(e,n){i[n]=function(){return e(t)},Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})});var a=c.config.silent;c.config.silent=!0,t._vm=new c({data:{$$state:e},computed:i}),c.config.silent=a,t.strict&&function(t){t._vm.$watch(function(){return this._data.$$state},function(){0},{deep:!0,sync:!0})}(t),r&&(n&&t._withCommit(function(){r._data.$$state=null}),c.nextTick(function(){return r.$destroy()}))}function v(t,e,n,r,i){var o=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a]=r),!o&&!i){var s=g(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit(function(){c.set(s,u,r.state)})}var l=r.context=function(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var o=m(n,r,i),a=o.payload,s=o.options,u=o.type;return s&&s.root||(u=e+u),t.dispatch(u,a)},commit:r?t.commit:function(n,r,i){var o=m(n,r,i),a=o.payload,s=o.options,u=o.type;s&&s.root||(u=e+u),t.commit(u,a,s)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return function(t,e){var n={},r=e.length;return Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}}),n}(t,e)}},state:{get:function(){return g(t.state,n)}}}),i}(t,a,n);r.forEachMutation(function(e,n){!function(t,e,n,r){(t._mutations[e]||(t._mutations[e]=[])).push(function(e){n.call(t,r.state,e)})}(t,a+n,e,l)}),r.forEachAction(function(e,n){var r=e.root?n:a+n,i=e.handler||e;!function(t,e,n,r){(t._actions[e]||(t._actions[e]=[])).push(function(e,i){var o,a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e,i);return(o=a)&&"function"==typeof o.then||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):a})}(t,r,i,l)}),r.forEachGetter(function(e,n){!function(t,e,n,r){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)}}(t,a+n,e,l)}),r.forEachChild(function(r,o){v(t,e,n.concat(o),r,i)})}function g(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function m(t,e,n){var r;return null!==(r=t)&&"object"==typeof r&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function y(t){c&&t===c||r(c=t)}h.state.get=function(){return this._vm._data.$$state},h.state.set=function(t){0},l.prototype.commit=function(t,e,n){var r=this,i=m(t,e,n),o=i.type,a=i.payload,s=(i.options,{type:o,payload:a}),u=this._mutations[o];u&&(this._withCommit(function(){u.forEach(function(t){t(a)})}),this._subscribers.forEach(function(t){return t(s,r.state)}))},l.prototype.dispatch=function(t,e){var n=this,r=m(t,e),i=r.type,o=r.payload,a={type:i,payload:o},s=this._actions[i];if(s)return this._actionSubscribers.forEach(function(t){return t(a,n.state)}),s.length>1?Promise.all(s.map(function(t){return t(o)})):s[0](o)},l.prototype.subscribe=function(t){return f(t,this._subscribers)},l.prototype.subscribeAction=function(t){return f(t,this._actionSubscribers)},l.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch(function(){return t(r.state,r.getters)},e,n)},l.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},l.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),v(this,this.state,t,this._modules.get(t),n.preserveState),p(this,this.state)},l.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var n=g(e.state,t.slice(0,-1));c.delete(n,t[t.length-1])}),d(this)},l.prototype.hotUpdate=function(t){this._modules.update(t),d(this,!0)},l.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(l.prototype,h);var b=C(function(t,e){var n={};return E(e).forEach(function(e){var r=e.key,i=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=k(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"==typeof i?i.call(this,e,n):e[i]},n[r].vuex=!0}),n}),_=C(function(t,e){var n={};return E(e).forEach(function(e){var r=e.key,i=e.val;n[r]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.commit;if(t){var o=k(this.$store,"mapMutations",t);if(!o)return;r=o.context.commit}return"function"==typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}}),n}),w=C(function(t,e){var n={};return E(e).forEach(function(e){var r=e.key,i=e.val;i=t+i,n[r]=function(){if(!t||k(this.$store,"mapGetters",t))return this.$store.getters[i]},n[r].vuex=!0}),n}),x=C(function(t,e){var n={};return E(e).forEach(function(e){var r=e.key,i=e.val;n[r]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var o=k(this.$store,"mapActions",t);if(!o)return;r=o.context.dispatch}return"function"==typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}}),n});function E(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function C(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function k(t,e,n){return t._modulesNamespaceMap[n]}var T={Store:l,install:y,version:"3.0.1",mapState:b,mapMutations:_,mapGetters:w,mapActions:x,createNamespacedHelpers:function(t){return{mapState:b.bind(null,t),mapGetters:w.bind(null,t),mapMutations:_.bind(null,t),mapActions:x.bind(null,t)}}};e.a=T},NpIQ:function(t,e){e.f={}.propertyIsEnumerable},O4R0:function(t,e,n){n("+MLA"),t.exports=n("FeBl").Object.freeze},O4g8:function(t,e){t.exports=!0},O4tu:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Pxmi"),i=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o="[DEFAULT]",a=[],s=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=r.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){a.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){a=a.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=o),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==o?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;r.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(a.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),a=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&u("app-deleted",{name:this.name_})},t}();function u(t,e){throw c.create(t,e)}s.prototype.name&&s.prototype.options||s.prototype.delete||console.log("dc");var c=new r.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),l=function t(){var e={},n={},a={},c={__esModule:!0,initializeApp:function(t,n){if(void 0===n&&(n={}),"object"!=typeof n||null===n){var r=n;n={name:r}}var a=n;void 0===a.name&&(a.name=o);var l=a.name;"string"==typeof l&&l||u("bad-app-name",{name:l+""}),i(e,l)&&u("duplicate-app",{name:l});var h=new s(t,a,c);return e[l]=h,f(h,"create"),h},app:l,apps:null,Promise:Promise,SDK_VERSION:"5.5.0",INTERNAL:{registerService:function(t,e,i,o,f){n[t]&&u("duplicate-service",{name:t}),n[t]=e,o&&(a[t]=o,h().forEach(function(t){o("create",t)}));var d=function(e){return void 0===e&&(e=l()),"function"!=typeof e[t]&&u("invalid-app-argument",{name:t}),e[t]()};return void 0!==i&&r.deepExtend(d,i),c[t]=d,s.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,f?e:[])},d},createFirebaseNamespace:t,extendNamespace:function(t){r.deepExtend(c,t)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,removeApp:function(t){f(e[t],"delete"),delete e[t]},factories:n,useAsService:d,Promise:Promise,deepExtend:r.deepExtend}};function l(t){return i(e,t=t||o)||u("no-app",{name:t}),e[t]}function h(){return Object.keys(e).map(function(t){return e[t]})}function f(t,e){Object.keys(n).forEach(function(n){var r=d(t,n);null!==r&&a[r]&&a[r](e,t)})}function d(t,e){if("serverAuth"===e)return null;var n=e;return t.options,n}return r.patchProperty(c,"default",c),Object.defineProperty(c,"apps",{get:h}),r.patchProperty(l,"App",s),c}();e.firebase=l,e.default=l},ON07:function(t,e,n){var r=n("EqjI"),i=n("7KvD").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},OYls:function(t,e,n){n("crlp")("asyncIterator")},OvRC:function(t,e,n){t.exports={default:n("oM7Q"),__esModule:!0}},Pf15:function(t,e,n){"use strict";e.__esModule=!0;var r=a(n("kiBT")),i=a(n("OvRC")),o=a(n("pFYg"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,o.default)(e)));t.prototype=(0,i.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},Pxmi:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("TToO"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!=s){var l=a<<4&240|s>>2;if(r.push(l),64!=u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),f=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},d="FirebaseError",p=Error.captureStackTrace;var v=function(){return function(t,e){if(this.code=t,this.message=e,p)p(this,g.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name=d,Object.defineProperty(this,"stack",{get:function(){return t.stack}})}}}();v.prototype=Object.create(Error.prototype),v.prototype.constructor=v,v.prototype.name=d;var g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var o=new v(i,n);for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=e[a]);return o},t}();function m(t){return JSON.parse(t)}var y=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=m(c(o[0])||""),n=m(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}},b=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},_=function(t,e){return b(e,function(e,n){t[e]=n}),t},w=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},x=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return r.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},e}(function(){return function(){this.blockSize=-1}}());var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function C(){}function k(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}e.assert=o,e.assertionError=a,e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.CONSTANTS=i,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.patchProperty=function(t,e,n){t[e]=n},e.Deferred=h,e.getUA=f,e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.ErrorFactory=g,e.FirebaseError=v,e.patchCapture=function(t){var e=p;return p=t,e},e.jsonEval=m,e.stringify=function(t){return JSON.stringify(t)},e.decode=y,e.isAdmin=function(t){var e=y(t).claims;return"object"==typeof e&&!0===e.admin},e.issuedAtTime=function(t){var e=y(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.isValidFormat=function(t){var e=y(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=y(t).claims,i=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),i&&e&&n&&i>=e&&i<=n},e.clone=function(t){return _({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=_,e.findKey=w,e.findValue=function(t,e,n){var r=w(t,e,n);return r&&t[r]},e.forEach=b,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.map=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.querystring=function(t){var e=[];return b(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.Sha1=x,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.createSubscribe=function(t,e){var n=new E(t,e);return n.subscribe.bind(n)},e.errorPrefix=k,e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(k(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(k(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(k(t,e,r)+"must be a valid firebase namespace.")},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}},PzxK:function(t,e,n){var r=n("D2L2"),i=n("sB3e"),o=n("ax3d")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},QRG4:function(t,e,n){var r=n("UuGF"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},"QWe/":function(t,e,n){n("crlp")("observable")},R4wc:function(t,e,n){var r=n("kM2E");r(r.S+r.F,"Object",{assign:n("To3L")})},R9M2:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},RPLV:function(t,e,n){var r=n("7KvD").document;t.exports=r&&r.documentElement},"RY/4":function(t,e,n){var r=n("R9M2"),i=n("dSzd")("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},Re3r:function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},Rrel:function(t,e,n){var r=n("TcQ7"),i=n("n0T6").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},S82l:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},SfB7:function(t,e,n){t.exports=!n("+E39")&&!n("S82l")(function(){return 7!=Object.defineProperty(n("ON07")("div"),"a",{get:function(){return 7}}).a})},TNV1:function(t,e,n){"use strict";var r=n("cGG2");t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},TToO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"__assign",function(){return i}),e.__rest=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]]);return n},e.__decorate=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},e.__param=function(t,e){return function(n,r){e(n,r,t)}},e.__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},e.__awaiter=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},e.__generator=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},e.__exportStar=function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},e.__values=o,e.__read=a,e.__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t},e.__await=s,e.__asyncGenerator=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||u(t,e)})})}function u(t,e){try{(n=i[t](e)).value instanceof s?Promise.resolve(n.value.v).then(c,l):h(o[0][2],n)}catch(t){h(o[0][3],t)}var n}function c(t){u("next",t)}function l(t){u("throw",t)}function h(t,e){t(e),o.shift(),o.length&&u(o[0][0],o[0][1])}},e.__asyncDelegator=function(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){t[r]&&(e[r]=function(e){return(n=!n)?{value:s(t[r](e)),done:"return"===r}:i?i(e):e})}},e.__asyncValues=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):o(t)},e.__makeTemplateObject=function(t,e){Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e;return t},e.__importStar=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.__importDefault=function(t){return t&&t.__esModule?t:{default:t}};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};var i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function o(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function s(t){return this instanceof s?(this.v=t,this):new s(t)}},TcQ7:function(t,e,n){var r=n("MU5D"),i=n("52gC");t.exports=function(t){return r(i(t))}},To3L:function(t,e,n){"use strict";var r=n("lktj"),i=n("1kS7"),o=n("NpIQ"),a=n("sB3e"),s=n("MU5D"),u=Object.assign;t.exports=!u||n("S82l")(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=i.f,h=o.f;u>c;)for(var f,d=s(arguments[c++]),p=l?r(d).concat(l(d)):r(d),v=p.length,g=0;v>g;)h.call(d,f=p[g++])&&(n[f]=d[f]);return n}:u},U0v6:function(t,e,n){(function(t){(function(e,n){"use strict";var r="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};var i,o=(function(t){var e,n,i,o,a,s,u,c,l,h,f,d,p,v,g;e=r,n=function(t,e,r){if(!c(e)||h(e)||f(e)||d(e)||u(e))return e;var i,o=0,a=0;if(l(e))for(i=[],a=e.length;o<a;o++)i.push(n(t,e[o],r));else for(var s in i={},e)Object.prototype.hasOwnProperty.call(e,s)&&(i[t(s,r)]=n(t,e[s],r));return i},i=function(t){return p(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""})).substr(0,1).toLowerCase()+t.substr(1)},o=function(t){var e=i(t);return e.substr(0,1).toUpperCase()+e.substr(1)},a=function(t,e){return function(t,e){var n=(e=e||{}).separator||"_",r=e.split||/(?=[A-Z])/;return t.split(r).join(n)}(t,e).toLowerCase()},s=Object.prototype.toString,u=function(t){return"function"==typeof t},c=function(t){return t===Object(t)},l=function(t){return"[object Array]"==s.call(t)},h=function(t){return"[object Date]"==s.call(t)},f=function(t){return"[object RegExp]"==s.call(t)},d=function(t){return"[object Boolean]"==s.call(t)},p=function(t){return(t-=0)==t},v=function(t,e){var n=e&&"process"in e?e.process:e;return"function"!=typeof n?t:function(e,r){return n(e,t,r)}},g={camelize:i,decamelize:a,pascalize:o,depascalize:a,camelizeKeys:function(t,e){return n(v(i,e),t)},decamelizeKeys:function(t,e){return n(v(a,e),t,e)},pascalizeKeys:function(t,e){return n(v(o,e),t)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}},t.exports?t.exports=g:e.humps=g}(i={exports:{}},i.exports),i.exports),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n};function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(e.children||[]).map(l.bind(null,t)),a=Object.keys(e.attributes||{}).reduce(function(t,n){var r=e.attributes[n];switch(n){case"class":t.class=r.split(/\s+/).reduce(function(t,e){return t[e]=!0,t},{});break;case"style":t.style=r.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.indexOf(":"),r=o.camelize(e.slice(0,n)),i=e.slice(n+1).trim();return t[r]=i,t},{});break;default:t.attrs[n]=r}return t},{class:{},style:{},attrs:{}}),s=r.class,h=void 0===s?{}:s,f=r.style,d=void 0===f?{}:f,p=r.attrs,v=void 0===p?{}:p,g=c(r,["class","style","attrs"]);return"string"==typeof e?e:t(e.tag,u({class:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(t,e){return Array.isArray(e)?t=t.concat(e):t.push(e),t},[])}(a.class,h),style:u({},a.style,d),attrs:u({},a.attrs,v)},g,{props:n}),i)}var h=!1;try{h=!0}catch(t){}function f(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?s({},t,e):{}}function d(t){return null===t?null:"object"===(void 0===t?"undefined":a(t))&&t.prefix&&t.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"==typeof t?{prefix:"fas",iconName:t}:void 0}var p={name:"FontAwesomeIcon",functional:!0,props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:String,default:null,validator:function(t){return["horizontal","vertical","both"].indexOf(t)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(t){return["right","left"].indexOf(t)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:Number,default:null,validator:function(t){return[90,180,270].indexOf(t)>-1}},size:{type:String,default:null,validator:function(t){return["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(t)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1}},render:function(t,e){var r=e.props,i=r.icon,o=r.mask,a=r.symbol,c=d(i),p=f("classes",function(t){var e,n=(e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip},s(e,"fa-"+t.size,null!==t.size),s(e,"fa-rotate-"+t.rotation,null!==t.rotation),s(e,"fa-pull-"+t.pull,null!==t.pull),e);return Object.keys(n).map(function(t){return n[t]?t:null}).filter(function(t){return t})}(r)),v=f("transform","string"==typeof r.transform?n.parse.transform(r.transform):r.transform),g=f("mask",d(o)),m=n.icon(c,u({},p,v,g,{symbol:a}));if(!m)return function(){var t;!h&&console&&"function"==typeof console.error&&(t=console).error.apply(t,arguments)}("Could not find one or more icon(s)",c,g);var y=m.abstract;return l.bind(null,t)(y[0],{},e.data)}},v={name:"FontAwesomeLayers",functional:!0,props:{fixedWidth:{type:Boolean,default:!1}},render:function(t,e){var r,i,o=n.config.familyPrefix,a=e.data.staticClass,s=[o+"-layers"].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e.props.fixedWidth?[o+"-fw"]:[]));return t("div",u({},e.data,{staticClass:(r=a,i=s,(0===(r||"").length?[]:[r]).concat(i).join(" "))}),e.children)}},g={name:"FontAwesomeLayersText",functional:!0,props:{value:{type:[String,Number],default:""},transform:{type:[String,Object],default:null}},render:function(t,e){var r=e.props,i=f("transform","string"==typeof r.transform?n.parse.transform(r.transform):r.transform),o=n.text(r.value.toString(),u({},i)).abstract;return l.bind(null,t)(o[0],{},e.data)}};e.FontAwesomeIcon=p,e.FontAwesomeLayers=v,e.FontAwesomeLayersText=g,Object.defineProperty(e,"__esModule",{value:!0})})(e,n("C/JF"))}).call(e,n("DuR2"))},U5ju:function(t,e,n){n("M6a0"),n("zQR9"),n("+tPU"),n("CXw9"),n("EqBC"),n("jKW+"),t.exports=n("FeBl").Promise},UuGF:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},V3tA:function(t,e,n){n("R4wc"),t.exports=n("FeBl").Object.assign},"VU/8":function(t,e){t.exports=function(t,e,n,r,i,o){var a,s=t=t||{},u=typeof t.default;"object"!==u&&"function"!==u||(a=t,s=t.default);var c,l="function"==typeof s?s.options:s;if(e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0),n&&(l.functional=!0),i&&(l._scopeId=i),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=c):r&&(c=r),c){var h=l.functional,f=h?l.render:l.beforeCreate;h?(l._injectStyles=c,l.render=function(t,e){return c.call(e),f(t,e)}):l.beforeCreate=f?[].concat(f,c):[c]}return{esModule:a,exports:s,options:l}}},W2nU:function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var t=s(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"Wk+B":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=(r=n("O4tu"))&&"object"==typeof r&&"default"in r?r.default:r,a=n("fjI4"),s=n("TToO"),u=n("GB/M"),c=o.SDK_VERSION,l=new a.Logger("@firebase/firestore");function h(){return l.logLevel===a.LogLevel.DEBUG?i.DEBUG:l.logLevel===a.LogLevel.SILENT?i.SILENT:i.ERROR}function f(t){switch(t){case i.DEBUG:l.logLevel=a.LogLevel.DEBUG;break;case i.ERROR:l.logLevel=a.LogLevel.ERROR;break;case i.SILENT:l.logLevel=a.LogLevel.SILENT;break;default:l.error("Firestore ("+c+"): Invalid value passed to `setLogLevel`")}}function d(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(l.logLevel<=a.LogLevel.DEBUG){var i=n.map(v);l.debug.apply(l,["Firestore ("+c+") ["+t+"]: "+e].concat(i))}}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=a.LogLevel.ERROR){var r=e.map(v);l.error.apply(l,["Firestore ("+c+"): "+t].concat(r))}}function v(t){if("string"==typeof t)return t;var e=y.getPlatform();try{return e.formatJSON(t)}catch(e){return t}}function g(t){var e="FIRESTORE ("+c+") INTERNAL ASSERTION FAILED: "+t;throw p(e),new Error(e)}function m(t,e){t||g(e)}!function(t){t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT"}(i||(i={}));var y=function(){function t(){}return t.setPlatform=function(e){t.platform&&g("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||g("Platform not set"),t.platform},t}();function b(){return y.getPlatform().emptyByteString}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},w=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return s.__extends(e,t),e}(Error);function x(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new w(_.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C(t,e){return void 0!==t?t:e}function k(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function T(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function S(t){for(var e in m(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function O(t,e,n){if(e.length!==n)throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires "+V(n,"argument")+", but was called with "+V(e.length,"argument")+".")}function M(t,e,n){if(e.length<n)throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires at least "+V(n,"argument")+", but was called with "+V(e.length,"argument")+".")}function A(t,e,n,r){if(e.length<n||e.length>r)throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+V(e.length,"argument")+".")}function P(t,e,n,r){L(t,e,q(n)+" argument",r)}function I(t,e,n,r){void 0!==r&&P(t,e,n,r)}function N(t,e,n,r){L(t,e,n+" option",r)}function D(t,e,n,r){void 0!==r&&N(t,e,n,r)}function R(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+B(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be "+n+", but the value at index "+o+" was: "+B(r[o]))}(t,e,n,r,i)}function j(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(B(u))}var c=B(r);throw new w(_.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function L(t,e,n,r){if(!("object"===e?F(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=B(r);throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function F(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function B(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":g("Unknown wrong type: "+typeof t)}function $(t,e,n){if(void 0===n)throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+q(e)+" argument, but it was undefined.")}function U(t,e,n){T(e,function(e,r){if(n.indexOf(e)<0)throw new w(_.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function z(t,e,n,r){var i=B(r);return new w(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+q(n)+" argument to be a "+e+", but it was: "+i)}function q(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function V(t,e){return t+" "+e+(1===t?"":"s")}var H=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return m(20===e.length,"Invalid auto ID: "+e),e},t}();function W(t,e){return t<e?-1:t>e?1:0}function G(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function K(){if("undefined"==typeof Uint8Array)throw new w(_.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Y(){if(!y.getPlatform().base64Available)throw new w(_.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Q,X,J=function(){function t(t){Y(),this._binaryString=t}return t.fromBase64String=function(e){O("Blob.fromBase64String",arguments,1),P("Blob.fromBase64String","string",1,e),Y();try{return new t(y.getPlatform().atob(e))}catch(t){throw new w(_.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(O("Blob.fromUint8Array",arguments,1),K(),!(e instanceof Uint8Array))throw z("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return O("Blob.toBase64",arguments,0),Y(),y.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){O("Blob.toUint8Array",arguments,0),K();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return W(this._binaryString,t._binaryString)},t}(),Z=x(J,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),tt=function(){function t(t,e){if(O("GeoPoint",arguments,2),P("GeoPoint","number",1,t),P("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new w(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new w(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return W(this._lat,t._lat)||W(this._long,t._long)},t}(),et=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new w(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new w(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new w(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new w(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?W(this.nanoseconds,t.nanoseconds):W(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),nt=function(){return function(t,e,n,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r}}(),rt="(default)",it=function(){function t(t,e){this.projectId=t,this.database=e||rt}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===rt},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return W(this.projectId,t.projectId)||W(this.database,t.database)},t}(),ot=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&g("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&g("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):g("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,m(this.length>=t,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return m(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return m(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return m(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},t.prototype.get=function(t){return m(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new w(_.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(ot),st=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.isValidIdentifier=function(t){return st.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new w(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new w(_.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new w(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new w(_.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(ot),ct=function(){function t(e){this.path=e,m(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.isEqual=function(t){return null!==t&&0===at.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return at.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new at(e.slice()))},t.fromPathString=function(e){return new t(at.fromString(e))},t.EMPTY=new t(new at([])),t}(),lt=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return ct.comparator(t.key,e.key)},t}(),ht=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.data=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return s.__extends(e,t),e.prototype.field=function(t){return this.data.field(t)},e.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.data.isEqual(t.data)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return void 0!==r&&void 0!==i?r.compareTo(i):g("Trying to compare documents on fields that don't exist")},e}(lt),ft=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return s.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(lt),dt=function(t){function e(e,n){return t.call(this,e,n)||this}return s.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(lt),pt=function(){function t(t,e){this.comparator=t,this.root=e||gt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new vt(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new vt(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new vt(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new vt(this.root,t,this.comparator,!0)},t.prototype[Symbol.iterator]=function(){var t=this.getIterator();return{next:function(){return t.hasNext()?{done:!1,value:t.getNext()}:{done:!0,value:{}}}}},t}(),vt=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){m(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),gt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw g("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw g("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw g("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),mt=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new gt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();gt.EMPTY=new mt,function(t){t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue"}(Q||(Q={})),function(t){t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous"}(X||(X={}));var yt=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(X.Estimate,n);case"previous":return new t(X.Previous,n);case"none":case void 0:return new t(X.Default,n);default:return g("fromSnapshotOptions() called with invalid options.")}},t}(),bt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return m(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),W(this.typeOrder,t.typeOrder)},t}(),_t=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=Q.NullValue,e.internalValue=null,e}return s.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(bt),wt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Q.BooleanValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?W(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(bt),xt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Q.NumberValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue,r=t.internalValue,n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1):this.defaultCompareTo(t);var n,r},e}(bt);function Et(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Ct=function(t){function e(e){return t.call(this,e)||this}return s.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Et(this.internalValue,t.internalValue)},e}(xt),kt=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return s.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Et(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(xt),Tt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Q.StringValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?W(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(bt),St=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Q.TimestampValue,n}return s.__extends(e,t),e.prototype.value=function(t){return t&&t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof Ot?-1:this.defaultCompareTo(t)},e}(bt),Ot=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=Q.TimestampValue,r}return s.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===X.Estimate?new St(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===X.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof St?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(bt),Mt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Q.BlobValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(bt),At=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=Q.RefValue,r}return s.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&(this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId))},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:ct.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(bt),Pt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Q.GeoPointValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(bt),It=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Q.ObjectValue,n}return s.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=W(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return W(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(m(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(m(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){m(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e&&n.internalValue.get(t)||void 0}),n},e.prototype.toString=function(){return JSON.stringify(this.value())},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new pt(W)),e}(bt),Nt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Q.ArrayValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return W(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return JSON.stringify(this.value())},e}(bt),Dt=Number,Rt=Dt.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),jt=Dt.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Lt=Dt.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Ft(t){return null===t||void 0===t}function Bt(t){return Lt(t)&&t<=jt&&t>=Rt}var $t,Ut=function(){function t(t,e,n,r,i,o){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null),this.path=t,this.explicitOrderBy=e,this.filters=n,this.limit=r,this.startAt=i,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)t.isKeyField()?this.memoizedOrderBy=[Qt]:this.memoizedOrderBy=[new Yt(t),Qt];else{m(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Gt.ASCENDING;this.memoizedOrderBy.push(a===Gt.ASCENDING?Qt:Xt)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){m(null==this.getInequalityFilterField()||!(e instanceof Vt)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),m(!ct.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){m(!ct.isDocumentKey(this.path),"No ordering allowed for document query"),m(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();t+="|f:";for(var e=0,n=this.filters;e<n.length;e++){t+=n[e].canonicalId(),t+=","}t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++){t+=i[r].canonicalId(),t+=","}Ft(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Ft(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return!!this.path.isEqual(t.path)&&(!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt))},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return m(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesAncestor(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!Ft(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Vt&&n.isInequality())return n.field}return null},t.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(t){return t instanceof Vt&&t.op===qt.ARRAY_CONTAINS})},t.prototype.isDocumentQuery=function(){return ct.isDocumentKey(this.path)&&0===this.filters.length},t.prototype.matchesAncestor=function(t){var e=t.key.path;return ct.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isPrefixOf(e)&&this.path.length===e.length-1},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++){if(!n[e].matches(t))return!1}return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){m(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),zt=function(){function t(){}return t.create=function(t,e,n){if(n.isEqual(_t.INSTANCE)){if(e!==qt.EQUAL)throw new w(_.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Ht(t)}if(n.isEqual(kt.NAN)){if(e!==qt.EQUAL)throw new w(_.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Wt(t)}return new Vt(t,e,n)},t}(),qt=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;default:return g("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t}(),Vt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return s.__extends(e,t),e.prototype.matches=function(t){if(this.field.isKeyField()){m(this.value instanceof At,"Comparing on key, but filter value not a RefValue"),m(this.op!==qt.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var e=this.value,n=ct.comparator(t.key,e.key);return this.matchesComparison(n)}var r=t.field(this.field);return void 0!==r&&this.matchesValue(r)},e.prototype.matchesValue=function(t){var e=this;return this.op===qt.ARRAY_CONTAINS?t instanceof Nt&&void 0!==t.internalValue.find(function(t){return t.isEqual(e.value)}):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case qt.LESS_THAN:return t<0;case qt.LESS_THAN_OR_EQUAL:return t<=0;case qt.EQUAL:return 0===t;case qt.GREATER_THAN:return t>0;case qt.GREATER_THAN_OR_EQUAL:return t>=0;default:return g("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return this.op!==qt.EQUAL&&this.op!==qt.ARRAY_CONTAINS},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&(this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value))},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(zt),Ht=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return s.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(zt),Wt=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return s.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field),n=e&&e.value();return"number"==typeof n&&isNaN(n)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(zt),Gt=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Kt=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++){t+=n[e].toString()}return t},t.prototype.sortsBeforeDocument=function(t,e){m(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())m(o instanceof At,"Bound has a non-key value where the key path is being used."),n=ct.comparator(o.key,e.key);else{var a=e.field(i.field);m(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===Gt.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++){var n=this.position[e],r=t.position[e];return n.isEqual(r)}return!0},t}(),Yt=function(){function t(t,e){this.field=t,void 0===e&&(e=Gt.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?ht.compareByKey(t,e):ht.compareByField(this.field,t,e);switch(this.dir){case Gt.ASCENDING:return n;case Gt.DESCENDING:return-1*n;default:return g("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Qt=new Yt(ut.keyField(),Gt.ASCENDING),Xt=new Yt(ut.keyField(),Gt.DESCENDING),Jt=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new et(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new et(0,0)),t}();!function(t){t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution"}($t||($t={}));var Zt,te=function(){function t(t,e,n,r,i,o){void 0===i&&(i=Jt.MIN),void 0===o&&(o=b()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}return t.prototype.copy=function(e){return new t(this.query,this.targetId,this.purpose,void 0===e.sequenceNumber?this.sequenceNumber:e.sequenceNumber,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),ee=function(){function t(t){this.fields=t}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++){if(n[e].isPrefixOf(t))return!0}return!1},t.prototype.isEqual=function(t){return G(this.fields,t.fields)},t}(),ne=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),re=function(){return function(t,e){this.version=t,this.transformResults=e}}();!function(t){t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete"}(Zt||(Zt={}));var ie=function(){function t(t,e){this.updateTime=t,this.exists=e,m(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof ht&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof ht:(m(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return e=this.updateTime,n=t.updateTime,(null!==e&&void 0!==e?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),oe=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&m(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof ht?t.version:Jt.MIN},t}(),ae=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=Zt.Set,i}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),m(null==e.transformResults,"Transform results received by SetMutation.");var n=e.version;return new ht(this.key,n,this.value,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=oe.getPostMutationVersion(t);return new ht(this.key,r,this.value,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(oe),se=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=Zt.Patch,o}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),m(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new dt(this.key,e.version);var n=this.patchDocument(t);return new ht(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=oe.getPostMutationVersion(t),i=this.patchDocument(t);return new ht(this.key,r,i,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof ht?t.data:It.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){for(var e=0,n=this.fieldMask.fields;e<n.length;e++){var r=n[e];if(!r.isEmpty()){var i=this.data.field(r);t=void 0!==i?t.set(r,i):t.delete(r)}}return t},e}(oe),ue=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=Zt.Transform,r.precondition=ie.exists(!0),r}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),m(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new dt(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,o=this.transformObject(n.data,r);return new ht(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,e),o=this.transformObject(r.data,i);return new ht(this.key,r.version,o,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&G(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){m(t instanceof ht,"Unknown MaybeDocument type "+t);var e=t;return m(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];m(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof ht&&(a=t.field(i.field)||null),n.push(o.applyToRemoteDocument(a,e[r]))}return n},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,i=this.fieldTransforms;r<i.length;r++){var o=i[r],a=o.transform,s=null;e instanceof ht&&(s=e.field(o.field)||null),n.push(a.applyToLocalView(s,t))}return n},e.prototype.transformObject=function(t,e){m(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;t=t.set(r,e[n])}return t},e}(oe),ce=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=Zt.Delete,r}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),m(null==e.transformResults,"Transform results received by DeleteMutation."),new ft(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&m(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new ft(this.key,Jt.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(oe),le=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new Ot(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),he=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=de(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new Nt(e)},t.prototype.isEqual=function(e){return e instanceof t&&G(e.elements,this.elements)},t}(),fe=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=de(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new Nt(e)},t.prototype.isEqual=function(e){return e instanceof t&&G(e.elements,this.elements)},t}();function de(t){return t instanceof Nt?t.internalValue.slice():[]}var pe,ve=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();function ge(t){switch(t){case _.OK:return g("Treated status OK as error");case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0;default:return g("Unknown status code: "+t)}}function me(t){if(void 0===t)return p("GRPC error has no .code"),_.UNKNOWN;switch(t){case pe.OK:return _.OK;case pe.CANCELLED:return _.CANCELLED;case pe.UNKNOWN:return _.UNKNOWN;case pe.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case pe.INTERNAL:return _.INTERNAL;case pe.UNAVAILABLE:return _.UNAVAILABLE;case pe.UNAUTHENTICATED:return _.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case pe.NOT_FOUND:return _.NOT_FOUND;case pe.ALREADY_EXISTS:return _.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return _.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case pe.ABORTED:return _.ABORTED;case pe.OUT_OF_RANGE:return _.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return _.UNIMPLEMENTED;case pe.DATA_LOSS:return _.DATA_LOSS;default:return g("Unknown status code: "+t)}}!function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS"}(pe||(pe={}));var ye=function(){function t(t){this.comparator=t,this.data=new pt(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();){if(!t(n.getNext().key))return}},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype[Symbol.iterator]=function(){var t=this.data.getIterator();return{next:function(){return t.hasNext()?{done:!1,value:t.getNext().key}:{done:!0,value:{}}}}},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),be=new pt(ct.comparator);function _e(){return be}var we=new pt(ct.comparator);function xe(){return we}var Ee=new pt(ct.comparator);function Ce(){return Ee}var ke=new ye(ct.comparator);function Te(){return ke}var Se=new ye(W);function Oe(){return Se}var Me,Ae,Pe=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ct.comparator(e.key,n.key)}:function(t,e){return ct.comparator(t.key,e.key)},this.keyedMap=xe(),this.sortedSet=new pt(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}();!function(t){t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata"}(Me||(Me={})),function(t){t[t.Local=0]="Local",t[t.Synced=1]="Synced"}(Ae||(Ae={}));var Ie,Ne=function(){function t(){this.changeMap=new pt(ct.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Me.Added&&n.type===Me.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Me.Metadata&&n.type!==Me.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Me.Modified&&n.type===Me.Modified?this.changeMap=this.changeMap.insert(e,{type:Me.Modified,doc:t.doc}):t.type===Me.Modified&&n.type===Me.Added?this.changeMap=this.changeMap.insert(e,{type:Me.Added,doc:t.doc}):t.type===Me.Removed&&n.type===Me.Added?this.changeMap=this.changeMap.remove(e):t.type===Me.Removed&&n.type===Me.Modified?this.changeMap=this.changeMap.insert(e,{type:Me.Removed,doc:n.doc}):t.type===Me.Added&&n.type===Me.Removed?this.changeMap=this.changeMap.insert(e,{type:Me.Modified,doc:t.doc}):g("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),De=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:Me.Added,doc:t})}),new t(e,n,Pe.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Re=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,i=((r={})[e]=je.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t(Jt.MIN,i,Oe(),_e(),Te())},t}(),je=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(b(),n,Te(),Te(),Te())},t}(),Le=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),Fe=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}();!function(t){t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset"}(Ie||(Ie={}));var Be=function(){return function(t,e,n,r){void 0===n&&(n=b()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),$e=function(){function t(){this.pendingResponses=0,this.documentChanges=qe(),this._resumeToken=b(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Te(),e=Te(),n=Te();return this.documentChanges.forEach(function(r,i){switch(i){case Me.Added:t=t.add(r);break;case Me.Modified:e=e.add(r);break;case Me.Removed:n=n.add(r);break;default:g("Encountered invalid change type: "+i)}}),new je(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=qe()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),Ue=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=_e(),this.pendingDocumentTargetMapping=ze(),this.pendingTargetResets=new ye(W)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof ht?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof ft&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){r=o[i];this.removeDocumentFromTarget(r,t.key,t.newDoc)}},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case Ie.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case Ie.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case Ie.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),m(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Ie.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case Ie.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:g("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):k(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new ct(i.path);this.removeDocumentFromTarget(e,o,new ft(o,Jt.forDeletedDoc()))}else m(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};k(this.targetStates,function(r,i){var o=e.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new ct(o.query.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(r,a)||e.removeDocumentFromTarget(r,a,new ft(a,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=Te();this.pendingDocumentTargetMapping.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===$t.LimboResolution||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Re(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=_e(),this.pendingDocumentTargetMapping=ze(),this.pendingTargetResets=new ye(W),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?Me.Modified:Me.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,Me.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new $e),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new ye(W),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;m(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new $e,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function ze(){return new pt(ct.comparator)}function qe(){return new pt(ct.comparator)}var Ve,He,We=((Ve={})[Gt.ASCENDING.name]="ASCENDING",Ve[Gt.DESCENDING.name]="DESCENDING",Ve),Ge=((He={})[qt.LESS_THAN.name]="LESS_THAN",He[qt.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",He[qt.GREATER_THAN.name]="GREATER_THAN",He[qt.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",He[qt.EQUAL.name]="EQUAL",He[qt.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",He),Ke=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ye(t,e){m(!Ft(t),e+" is missing")}function Qe(t){return"number"==typeof t?t:"string"==typeof t?Number(t):g("can't parse "+t)}var Xe=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?_.UNKNOWN:me(t.code);return new w(e,t.message||"")},t.prototype.toInt32Value=function(t){return Ft(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return Ft(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);m(!!t,"Cannot deserialize null or undefined timestamp.");var e=Qe(t.seconds||"0"),n=t.nanos||0;return new et(e,n)},t.prototype.fromIso8601String=function(t){var e=0,n=Ke.exec(t);if(m(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new et(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(m(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),J.fromBase64String(t)):(m(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),J.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return m(!!t,"Trying to deserialize version that isn't set"),Jt.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=at.fromString(t);return m(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return m(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),m(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new ct(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return 0===t.length?this.encodedDatabaseId:this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?at.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new at(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new at(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return m(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof _t)return{nullValue:"NULL_VALUE"};if(t instanceof wt)return{booleanValue:t.value()};if(t instanceof Ct)return{integerValue:""+t.value()};if(t instanceof kt){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Tt?{stringValue:t.value()}:t instanceof It?{mapValue:this.toMapValue(t)}:t instanceof Nt?{arrayValue:this.toArrayValue(t)}:t instanceof St?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Pt?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Mt?{bytesValue:this.toBytes(t.value())}:t instanceof At?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:g("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(Je(t,n,"nullValue"))return _t.INSTANCE;if(Je(t,n,"booleanValue"))return wt.of(t.booleanValue);if(Je(t,n,"integerValue"))return new Ct(Qe(t.integerValue));if(Je(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return kt.NAN;if("Infinity"===t.doubleValue)return kt.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return kt.NEGATIVE_INFINITY}return new kt(t.doubleValue)}if(Je(t,n,"stringValue"))return new Tt(t.stringValue);if(Je(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(Je(t,n,"arrayValue")){Ye(t.arrayValue,"arrayValue");var r=t.arrayValue.values||[];return new Nt(r.map(function(t){return e.fromValue(t)}))}if(Je(t,n,"timestampValue"))return Ye(t.timestampValue,"timestampValue"),new St(this.fromTimestamp(t.timestampValue));if(Je(t,n,"geoPointValue")){Ye(t.geoPointValue,"geoPointValue");var i=t.geoPointValue.latitude||0,o=t.geoPointValue.longitude||0;return new Pt(new tt(i,o))}if(Je(t,n,"bytesValue")){Ye(t.bytesValue,"bytesValue");var a=this.fromBlob(t.bytesValue);return new Mt(a)}if(Je(t,n,"referenceValue")){Ye(t.referenceValue,"referenceValue");var s=this.fromResourceName(t.referenceValue),u=new it(s.get(1),s.get(3)),c=new ct(this.extractLocalPathFromResourceName(s));return new At(u,c)}return g("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return m(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){return new ht(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasCommittedMutations:!!e})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=t,r=It.EMPTY;return T(n,function(t,n){r=r.set(new ut([t]),e.fromValue(n))}),r},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){m(!!t.found,"Tried to deserialize a found document from a missing document."),Ye(t.found.name,"doc.found.name"),Ye(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new ht(e,n,r,{})},t.prototype.fromMissing=function(t){m(!!t.missing,"Tried to deserialize a missing document from a found document."),m(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new ft(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result;return Je(t,e,"found")?this.fromFound(t):Je(t,e,"missing")?this.fromMissing(t):g("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Ie.Added:return"ADD";case Ie.Current:return"CURRENT";case Ie.NoChange:return"NO_CHANGE";case Ie.Removed:return"REMOVE";case Ie.Reset:return"RESET";default:return g("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Fe)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Le){if(t.newDoc instanceof ht){var e=t.newDoc;return{documentChange:{document:{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}}}if(t.newDoc instanceof ft){e=t.newDoc;return{documentDelete:{document:this.toName(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}}}if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Be){var n=void 0;return t.cause&&(n={code:function(t){if(void 0===t)return pe.OK;switch(t){case _.OK:return pe.OK;case _.CANCELLED:return pe.CANCELLED;case _.UNKNOWN:return pe.UNKNOWN;case _.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case _.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case _.INTERNAL:return pe.INTERNAL;case _.UNAVAILABLE:return pe.UNAVAILABLE;case _.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case _.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case _.NOT_FOUND:return pe.NOT_FOUND;case _.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case _.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case _.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case _.ABORTED:return pe.ABORTED;case _.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case _.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case _.DATA_LOSS:return pe.DATA_LOSS;default:return g("Unknown status code: "+t)}}(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return g("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.response_type;if(Je(t,n,"targetChange")){Ye(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new Be(r,i,o,s||null)}else if(Je(t,n,"documentChange")){Ye(t.documentChange,"documentChange"),Ye(t.documentChange.document,"documentChange.name"),Ye(t.documentChange.document.name,"documentChange.document.name"),Ye(t.documentChange.document.updateTime,"documentChange.document.updateTime");var u=t.documentChange,c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),h=this.fromFields(u.document.fields||{}),f=new ht(c,l,h,{}),d=u.targetIds||[],p=u.removedTargetIds||[];e=new Le(d,p,f.key,f)}else if(Je(t,n,"documentDelete")){Ye(t.documentDelete,"documentDelete"),Ye(t.documentDelete.document,"documentDelete.document");var v=t.documentDelete;c=this.fromName(v.document),l=v.readTime?this.fromVersion(v.readTime):Jt.forDeletedDoc(),f=new ft(c,l),p=v.removedTargetIds||[];e=new Le([],p,f.key,f)}else if(Je(t,n,"documentRemove")){Ye(t.documentRemove,"documentRemove"),Ye(t.documentRemove.document,"documentRemove");var m=t.documentRemove;c=this.fromName(m.document),p=m.removedTargetIds||[];e=new Le([],p,c,null)}else{if(!Je(t,n,"filter"))return g("Unknown change type "+JSON.stringify(t));Ye(t.filter,"filter"),Ye(t.filter.targetId,"filter.targetId");var y=t.filter,b=y.count||0,_=new ve(b),w=y.targetId;e=new Fe(w,_)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Ie.NoChange:"ADD"===t?Ie.Added:"REMOVE"===t?Ie.Removed:"CURRENT"===t?Ie.Current:"RESET"===t?Ie.Reset:g("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!Je(t,t.response_type,"targetChange"))return Jt.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Jt.MIN:e.readTime?this.fromVersion(e.readTime):Jt.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof ae)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof ce)e={delete:this.toName(t.key)};else if(t instanceof se)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof ue))return g("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):ie.NONE;if(t.update){Ye(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new se(r,i,o,n)}return new ae(r,i,n)}if(t.delete){r=this.fromName(t.delete);return new ce(r,n)}if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return m(!0===n.exists,'Transforms only support precondition "exists == true"'),new ue(r,a)}return g("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return m(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:g("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?ie.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ie.exists(t.exists):ie.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e),i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map(function(t){return n.fromValue(t)})),new re(r,i)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(m(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof le)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof he)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof fe)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};throw g("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=t.transform_type,r=null;if(Je(t,n,"setToServerValue"))m("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),r=le.instance;else if(Je(t,n,"appendMissingElements")){var i=t.appendMissingElements.values||[];r=new he(i.map(function(t){return e.fromValue(t)}))}else if(Je(t,n,"removeAllFromArray")){i=t.removeAllFromArray.values||[];r=new fe(i.map(function(t){return e.fromValue(t)}))}else g("Unknown transform proto: "+JSON.stringify(t));var o=ut.fromServerFormat(t.fieldPath);return new ne(o,r)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;m(1===e,"DocumentsTarget contained other than 1 document: "+e);var n=t.documents[0];return Ut.atPath(this.fromQueryPath(n))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}};if(t.path.isEmpty())e.parent=this.toQueryPath(at.EMPTY_PATH);else{var n=t.path;m(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]}var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0;if(r>0){m(1===r,"StructuredQuery.from with more than one collection is not supported.");var i=n.from[0];e=e.child(i.collectionId)}var o=[];n.where&&(o=this.fromFilter(n.where));var a=[];n.orderBy&&(a=this.fromOrder(n.orderBy));var s=null;n.limit&&(s=this.fromInt32Value(n.limit));var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new Ut(e,a,o,s,u,c)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case $t.Listen:return null;case $t.ExistenceFilterMismatch:return"existence-filter-mismatch";case $t.LimboResolution:return"limbo-document";default:return g("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Vt?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):g("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new Kt(r,n)},t.prototype.toDirection=function(t){return We[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Gt.ASCENDING;case"DESCENDING":return Gt.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return Ge[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return qt.EQUAL;case"GREATER_THAN":return qt.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return qt.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return qt.LESS_THAN;case"LESS_THAN_OR_EQUAL":return qt.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return qt.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return g("Unspecified relation");default:return g("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return ut.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Yt(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof Vt?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:g("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new Vt(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof Wt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof Ht?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:g("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new Wt(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new Ht(n);case"OPERATOR_UNSPECIFIED":return g("Unspecified filter");default:return g("Unknown filter")}},t.prototype.toDocumentMask=function(t){return{fieldPaths:t.fields.map(function(t){return t.canonicalString()})}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return ut.fromServerFormat(t)});return new ee(e)},t}();function Je(t,e,n){return e===n||!e&&n in t}var Ze="FirebaseError",tn=Error.captureStackTrace,en=function(){return function(t,e){if(this.code=t,this.message=e,tn)tn(this,nn.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name=Ze,Object.defineProperty(this,"stack",{get:function(){return t.stack}})}}}();en.prototype=Object.create(Error.prototype),en.prototype.constructor=en,en.prototype.name=Ze;var nn=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var o=new en(i,n);for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=e[a]);return o},t}(),rn=(function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}s.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}(function(){return function(){this.blockSize=-1}}()),function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){m(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){m(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){m(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){m(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){m(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){m(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}()),on="Connection",an={BatchGetDocuments:"batchGet",Commit:"commit"},sn="gl-js/ fire/"+c,un=function(){function t(t){this.databaseId=t.databaseId,this.pool=new u.XhrIoPool;var e=t.ssl?"https":"http";this.baseUrl=e+"://"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=sn},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(o,a){r.pool.getObject(function(s){s.listenOnce(u.EventType.COMPLETE,function(){try{switch(s.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=s.getResponseJson();d(on,"XHR received:",JSON.stringify(e)),o(e);break;case u.ErrorCode.TIMEOUT:d(on,'RPC "'+t+'" timed out'),a(new w(_.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=s.getStatus();d(on,'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0?a(new w(function(t){switch(t){case 200:return _.OK;case 400:return _.INVALID_ARGUMENT;case 401:return _.UNAUTHENTICATED;case 403:return _.PERMISSION_DENIED;case 404:return _.NOT_FOUND;case 409:return _.ABORTED;case 416:return _.OUT_OF_RANGE;case 429:return _.RESOURCE_EXHAUSTED;case 499:return _.CANCELLED;case 500:return _.UNKNOWN;case 501:return _.UNIMPLEMENTED;case 503:return _.UNAVAILABLE;case 504:return _.DEADLINE_EXCEEDED;default:return t>=200&&t<300?_.OK:t>=400&&t<500?_.FAILED_PRECONDITION:t>=500&&t<600?_.INTERNAL:_.UNKNOWN}}(n),"Server responded with status "+s.getStatusText())):(d(on,'RPC "'+t+'" failed'),a(new w(_.UNAVAILABLE,"Connection failed.")));break;default:g('RPC "'+t+'" failed with unanticipated webchannel error '+s.getLastErrorCode()+": "+s.getLastError()+", giving up.")}}finally{d(on,'RPC "'+t+'" completed.'),r.pool.releaseObject(s)}});var c=JSON.stringify(e);d(on,"XHR sending: ",i+" "+c);var l={"Content-Type":"text/plain"};r.modifyHeadersForRequest(l,n),s.send(i,"POST",c,l,15)})})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1beta1.Firestore","/",t,"/channel"],r=u.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(i.initMessageHeaders,e),"object"==typeof navigator&&"ReactNative"===navigator.product||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");d(on,"Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),s=!1,c=!1,l=new rn({sendFn:function(t){c?d(on,"Not sending because WebChannel is closed:",t):(s||(d(on,"Opening WebChannel transport."),a.open(),s=!0),d(on,"WebChannel sending:",t),a.send(t))},closeFn:function(){return a.close()}}),h=function(t,e){a.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(u.WebChannel.EventType.OPEN,function(){c||d(on,"WebChannel transport opened.")}),h(u.WebChannel.EventType.CLOSE,function(){c||(c=!0,d(on,"WebChannel transport closed"),l.callOnClose())}),h(u.WebChannel.EventType.ERROR,function(t){c||(c=!0,d(on,"WebChannel transport errored:",t),l.callOnClose(new w(_.UNAVAILABLE,"The operation could not be completed")))}),h(u.WebChannel.EventType.MESSAGE,function(t){if(!c){var e=t.data[0];m(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){d(on,"WebChannel received error:",n);var r=n.status,i=function(t){var e=pe[t];if(void 0!==e)return me(e)}(r),o=n.message;void 0===i&&(i=_.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),c=!0,l.callOnClose(new w(i,o)),a.close()}else d(on,"WebChannel received:",e),l.callOnMessage(e)}}),setTimeout(function(){l.callOnOpen()},0),l},t.prototype.makeUrl=function(t){var e=an[t];m(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1beta1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}(),cn=function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new un(t))},t.prototype.newSerializer=function(t){return new Xe(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();y.setPlatform(new cn);var ln,hn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),fn=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}();!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh"}(ln||(ln={}));var dn=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new w(_.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),pn=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw p("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),m(e>=0,"Attempted to schedule an operation with a negative delay of "+e),m(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var i=dn.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&g("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){m(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){return this.delayedOperations.findIndex(function(e){return e.timerId===t})>=0},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){m(t===ln.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==ln.All&&i.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);m(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),vn="",gn="",mn="",yn="";function bn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=wn(e)),e=_n(t.get(n),e);return wn(e)}function _n(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=vn+mn;break;case vn:n+=vn+yn;break;default:n+=o}}return n}function wn(t){return t+vn+gn}function xn(t){var e=t.length;if(m(e>=2,"Invalid path "+t),2===e)return m(t.charAt(0)===vn&&t.charAt(1)===gn,"Non-empty path "+t+" had length 2"),at.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf(vn,o);switch((a<0||a>n)&&g('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case gn:var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case mn:i+=t.substring(o,a),i+="\0";break;case yn:i+=t.substring(o,a+1);break;default:g('Invalid encoded resource path: "'+t+'"')}o=a+2}return new at(r)}var En=-1,Cn=function(){function t(t,e,n){this.batchId=t,this.localWriteTime=e,this.mutations=n}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&m(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;m(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var a=r[i];e=o.applyToRemoteDocument(e,a)}}return e},t.prototype.applyToLocalView=function(t,e){e&&m(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=e,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t)&&(e=i.applyToLocalView(e,n,this.localWriteTime))}return e},t.prototype.keys=function(){for(var t=Te(),e=0,n=this.mutations;e<n.length;e++){var r=n[e];t=t.add(r.key)}return t},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&G(this.mutations,t.mutations)},t.prototype.isTombstone=function(){return 0===this.mutations.length},t.prototype.toTombstone=function(){return new t(this.batchId,this.localWriteTime,[])},t}(),kn=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){m(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=Ce(),a=e.mutations,s=0;s<a.length;s++)o=o.insert(a[s].key,r[s].version);return new t(e,n,r,i,o)},t}(),Tn=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&g("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){var n=e[Symbol.iterator]();return new t(function(t,e){for(var r=0,i=0,o=n.next();!o.done;)++r,o.value.next(function(){++i,o.done&&i===r&&t()},function(t){return e(t)}),o=n.next();i===r&&t()})},t.map=function(e){for(var n=[],r=[],i=e[Symbol.iterator](),o=i.next(),a=0,s=function(){var t=o.value,e=a;r.push(t.next(function(t){n[e]=t})),o=i.next(),++a};!o.done;)s();return t.waitFor(r).next(function(){return n})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++){r(o[i])}return n},t.forEach=function(t,e){for(var n=t[Symbol.iterator](),r=[],i=n.next();!i.done;){var o=i.value;r.push(e(o)),i=n.next()}return this.waitFor(r)},t}(),Sn=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;m(n<r&&n>=0&&r<=5,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(Mn.store)}(t),function(t){t.createObjectStore(An.store,{keyPath:An.keyPath}),t.createObjectStore(Pn.store,{keyPath:Pn.keyPath,autoIncrement:!0}).createIndex(Pn.userMutationsIndex,Pn.userMutationsKeyPath,{unique:!0}),t.createObjectStore(In.store)}(t),Bn(t),function(t){t.createObjectStore(Rn.store)}(t));var o=Tn.resolve();return n<3&&r>=3&&(0!==n&&(!function(t){t.deleteObjectStore(Ln.store),t.deleteObjectStore(jn.store),t.deleteObjectStore(Fn.store)}(t),Bn(t)),o=o.next(function(){return function(t){var e=t.store(Fn.store),n=new Fn(0,0,Jt.MIN.toTimestamp(),0);return e.put(Fn.key,n)}(e)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Pn.store).loadAll().next(function(n){t.deleteObjectStore(Pn.store);var r=t.createObjectStore(Pn.store,{keyPath:Pn.keyPath,autoIncrement:!0});r.createIndex(Pn.userMutationsIndex,Pn.userMutationsKeyPath,{unique:!0});var i=e.store(Pn.store),o=n.map(function(t){return i.put(t)});return Tn.waitFor(o)})}(t,e)})),o=o.next(function(){!function(t){t.createObjectStore(Un.store,{keyPath:Un.keyPath})}(t),function(t){t.createObjectStore($n.store,{keyPath:"id",autoIncrement:!0})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(e)})),o},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(An.store),r=t.store(Pn.store);return n.loadAll().next(function(n){return Tn.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,En],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(Pn.userMutationsIndex,i).next(function(r){return Tn.forEach(r,function(r){m(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(r);return Hn(t,n.userId,i).next()})})})})},t}(),On=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),Mn=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}();var An=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),Pn=function(){function t(t,e,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.mutations=r}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}();var In=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,bn(e)]},t.key=function(t,e,n){return[t,bn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}();var Nn=function(){return function(t,e){this.path=t,this.readTime=e}}(),Dn=function(){return function(t,e){this.path=t,this.version=e}}(),Rn=function(){function t(t,e,n,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r}return t.store="remoteDocuments",t}(),jn=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),Ln=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,m(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),Fn=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}();function Bn(t){t.createObjectStore(Ln.store,{keyPath:Ln.keyPath}).createIndex(Ln.documentTargetsIndex,Ln.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(jn.store,{keyPath:jn.keyPath}).createIndex(jn.queryTargetsIndexName,jn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Fn.store)}var $n=function(){function t(t){this.changes=t}return t.store="remoteDocumentChanges",t.keyPath="id",t}();var Un=function(){function t(t,e,n,r,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return t.store="clientMetadata",t.keyPath="clientId",t}();var zn=[An.store,Pn.store,In.store,Rn.store,jn.store,Mn.store,Fn.store,Ln.store].concat([Un.store,$n.store]),qn=function(){function t(t,e,n){this.userId=t,this.serializer=e,this.referenceDelegate=n,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r){return m(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gn(t).iterate({index:Pn.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(r){var i=e.batchId;return m(i>r.lastAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order"),r.lastAcknowledgedBatchId=i,r.lastStreamToken=Wn(n),Yn(t).put(r)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=Wn(e),Yn(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n){var r=this,i=Kn(t),o=Gn(t);return o.add({}).next(function(t){m("number"==typeof t,"Auto-generated key is not a number");var a=new Cn(t,e,n),s=r.serializer.toDbMutationBatch(r.userId,a);r.documentKeysByBatchId[t]=a.keys();for(var u=[],c=0,l=n;c<l.length;c++){var h=l[c],f=In.key(r.userId,h.key.path,t);u.push(o.put(s)),u.push(i.put(f,In.PLACEHOLDER))}return Tn.waitFor(u).next(function(){return a})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Gn(t).get(e).next(function(t){return t?(m(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?Tn.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this;return this.getMutationQueueMetadata(t).next(function(r){var i=Math.max(e,r.lastAcknowledgedBatchId)+1,o=IDBKeyRange.lowerBound([n.userId,i]),a=null;return Gn(t).iterate({index:Pn.userMutationsIndex,range:o},function(t,e,r){e.userId===n.userId&&(m(e.batchId>=i,"Should have found mutation after "+i),a=n.serializer.fromDbMutationBatch(e)),r.done()}).next(function(){return a})})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,En],[this.userId,Number.POSITIVE_INFINITY]);return Gn(t).loadAll(Pn.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=In.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Kn(t).iterate({range:i},function(r,i,a){var s=r[0],u=r[1],c=r[2],l=xn(u);if(s===n.userId&&e.path.isEqual(l))return Gn(t).get(c).next(function(t){if(!t)throw g("Dangling document-mutation reference found: "+r+" which points to "+c);m(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+c),o.push(n.serializer.fromDbMutationBatch(t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ye(W),i=[];return e.forEach(function(e){var o=In.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Kn(t).iterate({range:a},function(t,i,o){var a=t[0],s=t[1],u=t[2],c=xn(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()});i.push(s)}),Tn.waitFor(i).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;m(!e.isDocumentQuery(),"Document queries shouldn't go down this path");var r=e.path,i=r.length+1,o=In.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new ye(W);return Kn(t).iterate({range:a},function(t,e,o){var a=t[0],u=t[1],c=t[2],l=xn(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()}).next(function(){return n.lookupMutationBatches(t,s)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Gn(t).get(e).next(function(t){if(null===t)throw g("Dangling document-mutation reference found, which points to "+e);m(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),Tn.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Hn(t.simpleDbTransaction,this.userId,e).next(function(r){return n.removeCachedMutationKeys(e.batchId),Tn.forEach(r,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Tn.resolve();var r=IDBKeyRange.lowerBound(In.prefixForUser(e.userId)),i=[];return Kn(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var o=xn(t[1]);i.push(o)}else r.done()}).next(function(){m(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return Vn(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return Yn(t).get(this.userId).next(function(t){return t||new An(e.userId,En,"")})},t}();function Vn(t,e,n){var r=In.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Kn(t).iterate({range:o,keysOnly:!0},function(t,n,r){var o=t[0],s=t[1];t[2];o===e&&s===i&&(a=!0),r.done()}).next(function(){return a})}function Hn(t,e,n){var r=t.store(Pn.store),i=t.store(In.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){m(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=In.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Tn.waitFor(o).next(function(){return c})}function Wn(t){return t instanceof Uint8Array?(m("YES"===Object({NODE_ENV:"production"}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function Gn(t){return Er.getStore(t,Pn.store)}function Kn(t){return Er.getStore(t,In.store)}function Yn(t){return Er.getStore(t,An.store)}var Qn,Xn=1;!function(t){t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine"}(Qn||(Qn={}));var Jn=function(){function t(t,e){this.generatorId=t,m((t&Xn)===t,"Generator ID "+t+" contains more than "+Xn+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<Xn,t},t.prototype.after=function(t){return this.seek(t+(1<<Xn)),this.next()},t.prototype.seek=function(t){m((t&Xn)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){return new t(Qn.QueryCache,2)},t.forSyncEngine=function(){return new t(Qn.SyncEngine)},t}(),Zn=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return m(t.isAvailable(),"IndexedDB not supported in current environment."),d("SimpleDb","Opening database:",e),new Tn(function(i,o){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){var n=e.target.result;i(new t(n))},a.onblocked=function(){o(new w(_.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){o(t.target.error)},a.onupgradeneeded=function(t){d("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new er(a.transaction);r.createOrUpgrade(n,i,t.oldVersion,5).next(function(){d("SimpleDb","Database upgrade to version 5 complete")})}}).toPromise()},t.delete=function(t){return d("SimpleDb","Removing database:",t),rr(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===Object({NODE_ENV:"production"}).USE_MOCK_PERSISTENCE;var t=window.navigator.userAgent;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)},t.getStore=function(t,e){return t.store(e)},t.prototype.runTransaction=function(t,e,n){var r=er.open(this.db,t,e),i=n(r).catch(function(t){r.abort(t)}).toPromise();return r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),tr=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return rr(this.dbCursor.delete())},t}(),er=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new fn,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){e.completionDeferred.reject(t.target.error)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(d("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return m(!!e,"Object store not part of transaction: "+t),new nr(e)},t}(),nr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(d("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(d("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),rr(n)},t.prototype.add=function(t){return d("SimpleDb","ADD",this.store.name,t,t),rr(this.store.add(t))},t.prototype.get=function(t){var e=this;return rr(this.store.get(t)).next(function(n){return void 0===n&&(n=null),d("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return d("SimpleDb","DELETE",this.store.name,t),rr(this.store.delete(t))},t.prototype.count=function(){return d("SimpleDb","COUNT",this.store.name),rr(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){d("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new Tn(function(n,r){e.onerror=function(t){r(t.target.error)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.iterateCursor=function(t,e){var n=[];return new Tn(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new tr(i),a=e(i.primaryKey,i.value,o);if(a instanceof Tn){var s=a.catch(function(t){return o.done(),Tn.reject(t)});n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return Tn.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(m(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function rr(t){return new Tn(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){n(t.target.error)}})}var ir=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=Jn.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return Jt.fromTimestamp(new et(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return sr(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)})},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.retrieveMetadata(t).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)})})},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return or(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return m(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return or(t).iterate(function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=e&&void 0===n[u.targetId]&&(i++,o.push(r.removeQueryData(t,u)))}).next(function(){return Tn.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){var n=this;return or(t).iterate(function(t,r){var i=n.serializer.fromDbTarget(r);e(i)})},t.prototype.retrieveMetadata=function(t){return ar(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,Er.getStore(n,Fn.store)).put(Fn.key,e);var n},t.prototype.saveQueryData=function(t,e){return or(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return or(t).iterate({range:i,index:jn.queryTargetsIndexName},function(t,r,i){var a=n.serializer.fromDbTarget(r);e.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=ur(t);return e.forEach(function(e){var a=bn(e.path);i.push(o.put(new Ln(n,a))),i.push(r.referenceDelegate.addReference(t,e))}),Tn.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=ur(t);return Tn.forEach(e,function(e){var o=bn(e.path);return Tn.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=ur(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ur(t),i=Te();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=xn(t[1]),o=new ct(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n,r=bn(e.path),i=IDBKeyRange.bound([r],[(n=r,n+"\0")],!1,!0),o=0;return ur(t).iterate({index:Ln.documentTargetsIndex,keysOnly:!0,range:i},function(t,e,n){var r=t[0];t[1];0!==r&&(o++,n.done())}).next(function(){return o>0})},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return or(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}();function or(t){return Er.getStore(t,jn.store)}function ar(t){return Zn.getStore(t,Fn.store).get(Fn.key).next(function(t){return m(null!==t,"Missing metadata row."),t})}function sr(t){return ar(t).next(function(t){return t.highestListenSequenceNumber})}function ur(t){return Er.getStore(t,Ln.store)}var cr="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",lr=function(){function t(t,e){this.serializer=t,this.keepDocumentChangeLog=e,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=Zn.getStore(t,$n.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntries=function(t,e){var n=[];if(e.length>0){for(var r=hr(t),i=Te(),o=0,a=e;o<a.length;o++){var s=a[o];n.push(r.put(dr(s.key),this.serializer.toDbRemoteDocument(s))),i=i.add(s.key)}this.keepDocumentChangeLog&&n.push(fr(t).put({changes:this.serializer.toDbResourcePaths(i)}))}return Tn.waitFor(n)},t.prototype.removeEntry=function(t,e){return hr(t).delete(dr(e))},t.prototype.getEntry=function(t,e){var n=this;return hr(t).get(dr(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this,r=xe(),i=e.path.toArray(),o=IDBKeyRange.lowerBound(i);return hr(t).iterate({range:o},function(t,i,o){var a=n.serializer.fromDbRemoteDocument(i);e.path.isPrefixOf(a.key.path)?a instanceof ht&&e.matches(a)&&(r=r.insert(a.key,a)):o.done()}).next(function(){return r})},t.prototype.getNewDocumentChanges=function(t){var e=this;m(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Te(),r=_e(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,a=fr(t);return a.iterate({range:i},function(t,r){if(o&&(o=!1,e._lastProcessedDocumentChangeId+1!==r.id))return e.synchronizeLastDocumentChangeId(a).next(function(){return Tn.reject(new w(_.DATA_LOSS,cr))});n=n.unionWith(e.serializer.fromDbResourcePaths(r.changes)),e._lastProcessedDocumentChangeId=r.id}).next(function(){var i=[];return n.forEach(function(n){i.push(e.getEntry(t,n).next(function(t){r=r.insert(n,t||new ft(n,Jt.forDeletedDoc()))}))}),Tn.waitFor(i)}).next(function(){return r})},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return fr(t).delete(n)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},function(t,n,r){e._lastProcessedDocumentChangeId=t,r.done()})},t}();function hr(t){return Er.getStore(t,Rn.store)}function fr(t){return Er.getStore(t,$n.store)}function dr(t){return t.path.toArray()}var pr=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=ct.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new ft(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){e=ct.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version);return new dt(e,n)}return g("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof ht){var e=this.remoteSerializer.toDocument(t),n=t.hasCommittedMutations;return new Rn(null,null,e,n)}if(t instanceof ft){var r=t.key.path.toArray(),i=this.toDbTimestamp(t.version);n=t.hasCommittedMutations;return new Rn(null,new Nn(r,i),null,n)}if(t instanceof dt){r=t.key.path.toArray(),i=this.toDbTimestamp(t.version);return new Rn(new Dn(r,i),null,null,!0)}return g("Unexpected MaybeDocumment")},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new On(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new et(t.seconds,t.nanoseconds);return Jt.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new Pn(t,e.batchId,e.localWriteTime.toMillis(),r)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),r=et.fromMillis(t.localWriteTimeMs);return new Cn(t.batchId,r,n)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(bn(t.path))}),e},t.prototype.fromDbResourcePaths=function(t){for(var e=Te(),n=0,r=t;n<r.length;n++){var i=r[n];e=e.add(new ct(xn(i)))}return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new te(e,t.targetId,$t.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},t.prototype.toDbTarget=function(t){m($t.Listen===t.purpose,"Only queries with purpose "+$t.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(m("YES"===Object({NODE_ENV:"production"}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new jn(t.targetId,t.query.canonicalId(),r,n,t.sequenceNumber,e)},t}();function vr(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=W(n,i);return 0===a?W(r,o):a}var gr=function(){function t(t){this.maxElements=t,this.buffer=new ye(vr),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();vr(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),mr=function(){function t(t){this.delegate=t}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getTargetCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Tn.resolve(hn.INVALID);var r=new gr(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t}(),yr="IndexedDbPersistence",br="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_r="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `experimentalTabSynchronization:true` in all tabs.",wr="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",xr=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return s.__extends(e,t),e}(function(){return function(){}}()),Er=function(){function t(e,n,r,i,o,a){if(this.persistenceKey=e,this.clientId=n,this.queue=i,this.multiClientParams=a,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},!t.isAvailable())throw new w(_.UNIMPLEMENTED,wr);if(this.referenceDelegate=new Sr(this),this.dbName=e+t.MAIN_DATABASE,this.serializer=new pr(o),this.document=r.document,this.allowTabSynchronization=void 0!==a,this.queryCache=new ir(this.referenceDelegate,this.serializer),this.remoteDocumentCache=new lr(this.serializer,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new w(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof xr)return Zn.getStore(t.simpleDbTransaction,e);throw g("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e,n,r,i,o){return s.__awaiter(this,void 0,void 0,function(){var a;return s.__generator(this,function(s){switch(s.label){case 0:return[4,(a=new t(e,n,r,i,o)).start()];case 1:return s.sent(),[2,a]}})})},t.createMultiClientIndexedDbPersistence=function(e,n,r,i,o,a){return s.__awaiter(this,void 0,void 0,function(){var u;return s.__generator(this,function(s){switch(s.label){case 0:return[4,(u=new t(e,n,r,i,o,a)).start()];case 1:return s.sent(),[2,u]}})})},t.prototype.start=function(){var t=this;return m(!this.started,"IndexedDbPersistence double-started!"),m(null!==this.window,"Expected 'window' to be defined"),Zn.openOrCreate(this.dbName,5,new Sn(this.serializer)).then(function(e){t.simpleDb=e}).then(function(){return t.startRemoteDocumentCache()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})}).then(function(){return t.simpleDb.runTransaction("readonly",[Fn.store],function(e){return sr(e).next(function(e){var n=t.multiClientParams?t.multiClientParams.sequenceNumberSyncer:void 0;t.listenSequence=new hn(e,n)})})}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",zn,function(e){return t.remoteDocumentCache.start(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",zn,function(e){return Tr(e).put(new Un(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(t.isPrimary)}),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0})})},t.prototype.verifyPrimaryLease=function(t){var e=this;return kr(t).get(Mn.key).next(function(t){return Tn.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return Tr(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return s.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return s.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var o=t.getStore(i,Un.store);return o.loadAll().next(function(t){e=r.filterActiveClients(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)})}).next(function(){return Tn.forEach(n,function(t){return o.delete(t.clientId)})}).next(function(){if((e=e.filter(function(t){return t.clientId!==r.clientId})).length>0){var t=e.map(function(t){return t.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,t);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}})})]);case 1:i.sent(),n.forEach(function(t){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(t.clientId))}),i.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(ln.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return kr(t).get(Mn.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new w(_.FAILED_PRECONDITION,_r);return!1}}return!(!e.networkEnabled||!e.inForeground)||Tr(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&d(yr,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(t){return s.__awaiter(this,void 0,void 0,function(){var e=this;return s.__generator(this,function(n){switch(n.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[Mn.store,Un.store],function(t){return e.releasePrimaryLeaseIfHeld(t).next(function(){return e.removeClientMetadata(t)})})];case 1:return n.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),t?[4,Zn.delete(this.dbName)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[Un.store],function(e){return Tr(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return m(this.started,"Cannot initialize MutationQueue before persistence is started."),qn.forUser(t,this.serializer,this.referenceDelegate)},t.prototype.getQueryCache=function(){return m(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return m(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;return d(yr,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",zn,function(i){return"readwrite-primary"===e?r.verifyPrimaryLease(i).next(function(e){if(!e)throw p("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new w(_.FAILED_PRECONDITION,br);return n(new xr(i,r.listenSequence.next()))}).next(function(t){return r.acquireOrExtendPrimaryLease(i).next(function(){return t})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new xr(i,r.listenSequence.next()))})})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return kr(t).get(Mn.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new w(_.FAILED_PRECONDITION,_r)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new Mn(this.clientId,this.allowTabSynchronization,Date.now());return kr(t).put(Mn.key,e)},t.isAvailable=function(){return Zn.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=kr(t);return n.get(Mn.key).next(function(t){return e.isLocalClient(t)?(d(yr,"Releasing primary lease."),n.delete(Mn.key)):Tn.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e)&&(!(t>n)||(p("Detected an update time that is in the future: "+t+" > "+n),!1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(m(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(m("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return d(yr,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return p(yr,"Failed to get zombied client id.",t),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){p("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function Cr(t){return t.code===_.FAILED_PRECONDITION&&t.message===br}function kr(t){return t.store(Mn.store)}function Tr(t){return t.store(Un.store)}var Sr=function(){function t(t){this.db=t,this.garbageCollector=new mr(this)}return t.prototype.getTargetCount=function(t){return this.db.getQueryCache().getQueryCount(t)},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return Or(t,e)},t.prototype.removeReference=function(t,e){return Or(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return Or(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?Tn.resolve(!0):function(t,e){var n=!1;return Yn(t).iterateSerial(function(r){return Vn(t,r,e).next(function(t){return t&&(n=!0),Tn.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=[];return this.forEachOrphanedDocument(t,function(o,a){if(a<=e){var s=n.isPinned(t,o).next(function(e){if(!e)return r++,n.removeOrphanedDocument(t,o)});i.push(s)}}).next(function(){return Tn.waitFor(i)}).next(function(){return r})},t.prototype.removeOrphanedDocument=function(t,e){return Tn.waitFor([ur(t).delete((n=e,[0,bn(n.path)])),this.db.getRemoteDocumentCache().removeEntry(t,e)]);var n},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Or(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=ur(t),i=hn.INVALID;return r.iterate({index:Ln.documentTargetsIndex},function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==hn.INVALID&&e(new ct(xn(n)),i),i=s,n=a):i=hn.INVALID}).next(function(){i!==hn.INVALID&&e(new ct(xn(n)),i)})},t}();function Or(t,e){return ur(t).put(function(t,e){return new Ln(0,bn(t.path),e)}(e,t.currentSequenceNumber))}var Mr,Ar=function(){function t(t,e){this.remoteDocumentCache=t,this.mutationQueue=e}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++){t=i[r].applyToLocalView(e,t)}return t})},t.prototype.getDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=[],o=_e();return e.forEach(function(e){i.push(n.getDocumentInternal(t,e,r).next(function(t){t||(t=new ft(e,Jt.forDeletedDoc())),o=o.insert(e,t)}))}),Tn.waitFor(i).next(function(){return o})})},t.prototype.getDocumentsMatchingQuery=function(t,e){return ct.isDocumentKey(e.path)?this.getDocumentsMatchingDocumentQuery(t,e.path):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new ct(e)).next(function(t){var e=xe();return t instanceof ht&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(t){for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key;if(e.path.isImmediateParentOf(c.path)){var l=n.get(c),h=u.applyToLocalView(l,l,o.localWriteTime);n=h instanceof ht?n.insert(c,h):n.remove(c)}}}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t}(),Pr=function(){function t(){this.refsByKey=new ye(Ir.compareByKey),this.refsByTarget=new ye(Ir.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Ir(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new Ir(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=ct.EMPTY,r=new Ir(n,t),i=new Ir(n,t+1),o=[];return this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t),o.push(t.key)}),o},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=ct.EMPTY,n=new Ir(e,t),r=new Ir(e,t+1),i=Te();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Ir(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Ir=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return ct.comparator(t.key,e.key)||W(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return W(t.targetOrBatchId,e.targetOrBatchId)||ct.comparator(t.key,e.key)},t}(),Nr=function(){function t(t){this.remoteDocumentCache=t,this.changes=_e()}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this.assertChanges().get(e);return n?Tn.resolve(n):this.remoteDocumentCache.getEntry(t,e)},t.prototype.apply=function(t){var e=[];return this.assertChanges().forEach(function(t,n){e.push(n)}),this.changes=null,this.remoteDocumentCache.addEntries(t,e)},t.prototype.assertChanges=function(){return m(null!==this.changes,"Changes have already been applied."),this.changes},t}(),Dr=function(){function t(t,e){this.persistence=t,this.localViewReferences=new Pr,this.queryDataByTarget={},m(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new Ar(this.remoteDocuments,this.mutationQueue)}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new Ar(e.remoteDocuments,e.mutationQueue),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=[],o=[],a=Te(),s=0,u=r;s<u.length;s++){var c=u[s];i.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){c=p[d];o.push(c.batchId);for(var v=0,g=c.mutations;v<g.length;v++){f=g[v];a=a.add(f.key)}}return e.localDocuments.getDocuments(n,a).next(function(t){return{affectedDocuments:t,removedBatchIds:i,addedBatchIds:o}})})})},t.prototype.localWrite=function(t){var e=this;return this.persistence.runTransaction("Locally write mutations","readwrite",function(n){var r,i=et.now();return e.mutationQueue.addMutationBatch(n,i,t).next(function(t){var i=(r=t).keys();return e.localDocuments.getDocuments(n,i)}).next(function(t){return{batchId:r.batchId,changes:t}})})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):Tn.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=t.batch.keys(),i=new Nr(e.remoteDocuments);return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,i)}).next(function(){return i.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return m(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,r=new Nr(this.remoteDocuments);return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(i){var o=[],a=Te();k(e.targetChanges,function(r,s){var u=n.queryDataByTarget[r];if(u){s.addedDocuments.forEach(function(t){a=a.add(t)}),s.modifiedDocuments.forEach(function(t){a=a.add(t)}),o.push(n.queryCache.removeMatchingKeys(i,s.removedDocuments,r).next(function(){return n.queryCache.addMatchingKeys(i,s.addedDocuments,r)}));var c=s.resumeToken;if(c.length>0){var l=u;u=u.copy({resumeToken:c,snapshotVersion:e.snapshotVersion}),n.queryDataByTarget[r]=u,t.shouldPersistQueryData(l,u,s)&&o.push(n.queryCache.updateQueryData(i,u))}}});var s=Te();e.documentUpdates.forEach(function(t,u){s=s.add(t),o.push(r.getEntry(i,t).next(function(e){null==e||u.version.isEqual(Jt.MIN)||a.has(u.key)&&!e.hasPendingWrites||u.version.compareTo(e.version)>=0?r.addEntry(u):d("LocalStore","Ignoring outdated watch update for ",t,". Current version:",e.version," Watch version:",u.version)})),e.resolvedLimboDocuments.has(t)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,t))});var u=e.snapshotVersion;if(!u.isEqual(Jt.MIN)){var c=n.queryCache.getLastRemoteSnapshotVersion(i).next(function(t){return m(u.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+u+" < "+t),n.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,u)});o.push(c)}return Tn.waitFor(o).next(function(){return r.apply(i)}).next(function(){return n.localDocuments.getDocuments(i,s)})})},t.shouldPersistQueryData=function(t,e,n){return 0!==e.resumeToken.length&&(0===t.resumeToken.length||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0))},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return Tn.forEach(t,function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),Tn.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===t&&(t=En),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){return i?(r=i,Tn.resolve()):e.queryCache.allocateTargetId(n).next(function(i){return r=new te(t,i,$t.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r)})}).next(function(){return m(!e.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t,e){var n=this,r=e?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,function(r){return n.queryCache.getQueryData(r,t).next(function(i){m(null!=i,"Tried to release nonexistent query: "+t);var o=i.targetId,a=n.queryDataByTarget[o],s=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],e?Tn.resolve():Tn.forEach(s,function(t){return n.persistence.referenceDelegate.removeReference(r,t)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,a)})})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,o=i.keys(),a=Tn.resolve();return o.forEach(function(r){a=a.next(function(){return n.getEntry(t,r)}).next(function(t){var o=t,a=e.docVersions.get(r);m(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,e))?n.addEntry(o):m(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))})}),a.next(function(){return r.mutationQueue.removeMutationBatch(t,i)})},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",function(n){return e.queryCache.getQueryDataForTarget(n,t).next(function(t){return t?t.query:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",function(e){return t.remoteDocuments.getNewDocumentChanges(e)})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),Rr=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){T(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}})},t.prototype.isEmpty=function(){return S(this.inner)},t.prototype[Symbol.iterator]=function(){var t=[];return this.forEach(function(e,n){return t.push({key:e,value:n})}),t[Symbol.iterator]()},t}(),jr=function(){function t(t){this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.highestAcknowledgedBatchId=En,this.lastStreamToken=b(),this.batchesByDocumentKey=new ye(Ir.compareByKey)}return t.prototype.checkEmpty=function(t){return Tn.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;m(r>this.highestAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order");var i=this.indexOfExistingBatchId(r,"acknowledged"),o=this.mutationQueue[i];return m(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),m(!o.isTombstone(),"Can't acknowledge a previously removed batch"),this.highestAcknowledgedBatchId=r,this.lastStreamToken=n,Tn.resolve()},t.prototype.getLastStreamToken=function(t){return Tn.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,Tn.resolve()},t.prototype.addMutationBatch=function(t,e,n){m(0!==n.length,"Mutation batches should not be empty");var r=this.nextBatchId;(this.nextBatchId++,this.mutationQueue.length>0)&&m(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var i=new Cn(r,e,n);this.mutationQueue.push(i);for(var o=0,a=n;o<a.length;o++){var s=a[o];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Ir(s.key,r))}return Tn.resolve(i)},t.prototype.lookupMutationBatch=function(t,e){return Tn.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return m(null!=n,"Failed to find local mutation batch."),Tn.resolve(n.isTombstone()?null:n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){for(var n=this.mutationQueue.length,r=Math.max(e,this.highestAcknowledgedBatchId)+1,i=this.indexOfBatchId(r),o=i<0?0:i;o<n;o++){var a=this.mutationQueue[o];if(!a.isTombstone())return Tn.resolve(a)}return Tn.resolve(null)},t.prototype.getAllMutationBatches=function(t){return Tn.resolve(this.getAllLiveMutationBatchesBeforeIndex(this.mutationQueue.length))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Ir(e,0),i=new Ir(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){m(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);m(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),Tn.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ye(W);return e.forEach(function(t){var e=new Ir(t,0),i=new Ir(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],function(e){m(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),Tn.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ct.isDocumentKey(i)||(i=i.child(""));var o=new Ir(new ct(i),0),a=new ye(W);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.targetOrBatchId)),!0)},o),Tn.resolve(this.findMutationBatches(a))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this,r=this.indexOfExistingBatchId(e.batchId,"removed");if(m(this.mutationQueue[r].batchId===e.batchId,"Removed batches must exist in the queue"),0===r){for(var i=1;i<this.mutationQueue.length;i++){if(!this.mutationQueue[i].isTombstone())break}this.mutationQueue.splice(0,i)}else this.mutationQueue[r]=this.mutationQueue[r].toTombstone();var o=this.batchesByDocumentKey;return Tn.forEach(e.mutations,function(r){var i=new Ir(r.key,e.batchId);return o=o.delete(i),n.referenceDelegate.removeMutationReference(t,r.key)}).next(function(){n.batchesByDocumentKey=o})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new Ir(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Tn.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&m(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Tn.resolve()},t.prototype.getAllLiveMutationBatchesBeforeIndex=function(t){for(var e=[],n=0;n<t;n++){var r=this.mutationQueue[n];r.isTombstone()||e.push(r)}return e},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return m(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return m(n.batchId===t,"If found batch must match"),n.isTombstone()?null:n},t}(),Lr=function(){function t(t){this.persistence=t,this.queries=new Rr(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=Jt.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Pr,this.targetCount=0,this.targetIdGenerator=Jn.forQueryCache()}return t.prototype.getTargetCount=function(t){return Tn.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach(function(t,n){return e(n)}),Tn.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Tn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Tn.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,Tn.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),Tn.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return m(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,Tn.resolve()},t.prototype.updateQueryData=function(t,e){return m(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),Tn.resolve()},t.prototype.removeQueryData=function(t,e){return m(this.targetCount>0,"Removing a target from an empty cache"),m(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,Tn.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.queries.forEach(function(a,s){s.sequenceNumber<=e&&!n[s.targetId]&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),Tn.waitFor(o).next(function(){return i})},t.prototype.getQueryCount=function(t){return Tn.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return Tn.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return g("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.addReference(t,e))}),Tn.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.removeReference(t,e))}),Tn.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),Tn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return Tn.resolve(n)},t.prototype.containsKey=function(t,e){return Tn.resolve(this.references.containsKey(e))},t}(),Fr=function(){function t(){this.docs=_e(),this.newDocumentChanges=Te()}return t.prototype.addEntries=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];this.docs=this.docs.insert(i.key,i),this.newDocumentChanges=this.newDocumentChanges.add(i.key)}return Tn.resolve()},t.prototype.removeEntry=function(t,e){return this.docs=this.docs.remove(e),Tn.resolve()},t.prototype.getEntry=function(t,e){return Tn.resolve(this.docs.get(e))},t.prototype.getDocumentsMatchingQuery=function(t,e){for(var n=xe(),r=new ct(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.key,s=o.value;if(!e.path.isPrefixOf(a.path))break;s instanceof ht&&e.matches(s)&&(n=n.insert(s.key,s))}return Tn.resolve(n)},t.prototype.forEachDocumentKey=function(t,e){return Tn.forEach(this.docs,function(t){return e(t.key)})},t.prototype.getNewDocumentChanges=function(t){var e=this,n=_e();return this.newDocumentChanges.forEach(function(t){n=n.insert(t,e.docs.get(t)||new ft(t,Jt.forDeletedDoc()))}),this.newDocumentChanges=Te(),Tn.resolve(n)},t}(),Br=function(){function t(t,e){this.clientId=t,this.mutationQueues={},this.remoteDocumentCache=new Fr,this.listenSequence=new hn(0),this._started=!1,this._started=!0,this.referenceDelegate=e?new Ur(this):new zr(this),this.queryCache=new Lr(this)}return t.createLruPersistence=function(e){return new t(e,!1)},t.createEagerPersistence=function(e){return new t(e,!0)},t.prototype.shutdown=function(t){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setNetworkEnabled=function(t){},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new jr(this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;d("MemoryPersistence","Starting transaction:",t);var i=new $r(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(t){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return t})}).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return Tn.or((n=this.mutationQueues,r=[],T(n,function(t,e){return r.push(e)}),r).map(function(n){return function(){return n.containsKey(t,e)}}));var n,r},t}(),$r=function(){return function(t){this.currentSequenceNumber=t}}(),Ur=function(){function t(t){this.persistence=t}return t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),Tn.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),Tn.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),Tn.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeQueryData(t,e)})},t.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache();return Tn.forEach(this.orphanedDocuments,function(r){return e.isReferenced(t,r).next(function(e){if(!e)return n.removeEntry(t,r)})})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.isReferenced=function(t,e){var n=this;return Tn.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return Tn.resolve(n.inMemoryPins.containsKey(e))}])},t}(),zr=function(){function t(t){this.persistence=t,this.orphanedSequenceNumbers=new Rr(function(t){return bn(t.path)}),this.garbageCollector=new mr(this)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return Tn.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getTargetCount=function(t){return this.persistence.getQueryCache().getTargetCount(t)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return Tn.forEach(this.orphanedSequenceNumbers,function(r){var i=r.key,o=r.value;return n.isPinned(t,i,o).next(function(t){return t?Tn.resolve():e(o)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache();return i.forEachDocumentKey(t,function(o){return n.isPinned(t,o,e).next(function(e){return e?Tn.resolve():(r++,i.removeEntry(t,o))})}).next(function(){return r})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Tn.resolve()},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Tn.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Tn.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Tn.resolve()},t.prototype.isPinned=function(t,e,n){var r=this;return Tn.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return Tn.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return Tn.resolve(void 0!==t&&t>n)}])},t}(),qr=function(){function t(t,e,n,r,i){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&d("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}();!function(t){t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff"}(Mr||(Mr={}));var Vr,Hr,Wr=1e3,Gr=6e4,Kr=1.5,Yr=function(){function t(t,e,n,r,i,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=Mr.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new qr(t,e,Wr,Kr,Gr)}return t.prototype.isStarted=function(){return this.state===Mr.Starting||this.state===Mr.Open||this.state===Mr.Backoff},t.prototype.isOpen=function(){return this.state===Mr.Open},t.prototype.start=function(){this.state!==Mr.Error?(m(this.state===Mr.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(Mr.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){m(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Mr.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.isOpen()?[2,this.close(Mr.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(n){switch(n.label){case 0:return m(this.isStarted(),"Only started streams should be closed."),m(t===Mr.Error||Ft(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==Mr.Error?this.backoff.reset():e&&e.code===_.RESOURCE_EXHAUSTED?(p(e.toString()),p("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===_.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;m(this.state===Mr.Initial,"Must be in initial state to auth"),this.state=Mr.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new w(_.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;m(this.state===Mr.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return m(e.state===Mr.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=Mr.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;m(this.state===Mr.Error,"Should only perform backoff when in Error state"),this.state=Mr.Backoff,this.backoff.backoffAndRun(function(){return s.__awaiter(t,void 0,void 0,function(){return s.__generator(this,function(t){return m(this.state===Mr.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=Mr.Initial,this.start(),m(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return m(this.isStarted(),"Can't handle server close on non-started stream"),d("PersistentStream","close with error: "+t),this.stream=null,this.close(Mr.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Qr=function(t){function e(e,n,r,i,o){var a=t.call(this,e,ln.ListenStreamConnectionBackoff,ln.ListenStreamIdle,n,r,o)||this;return a.serializer=i,a}return s.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(Yr),Xr=function(t){function e(e,n,r,i,o){var a=t.call(this,e,ln.WriteStreamConnectionBackoff,ln.WriteStreamIdle,n,r,o)||this;return a.serializer=i,a.handshakeComplete_=!1,a}return s.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(m(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return m(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){m(this.isOpen(),"Writing handshake requires an opened stream"),m(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;m(this.isOpen(),"Writing mutations requires an opened stream"),m(this.handshakeComplete_,"Handshake must be complete before writing mutations"),m(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(Yr),Jr=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new Xr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new Qr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=_e();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);m(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),Zr=function(){function t(t){this.datastore=t,this.readVersions=Ce(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e;if(t instanceof ht)e=t.version;else{if(!(t instanceof ft))throw g("Document in a transaction was a "+t.constructor.name);e=Jt.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new w(_.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){t instanceof ft||t instanceof ht?e.recordVersion(t):g("Document in a transaction was a "+t.constructor.name)}),t})},t.prototype.write=function(t){if(this.committed)throw new w(_.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?ie.updateTime(e):ie.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(Jt.forDeletedDoc()))throw new w(_.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?ie.updateTime(e):ie.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new ce(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,Jt.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}();!function(t){t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline"}(Vr||(Vr={})),function(t){t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState"}(Hr||(Hr={}));var ti=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=Vr.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(Vr.Unknown),m(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(ln.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,m(t.state===Vr.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(Vr.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===Vr.Online?(this.setAndBroadcast(Vr.Unknown),m(0===this.watchStreamFailures,"watchStreamFailures must be 0"),m(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(Vr.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===Vr.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(p(e),this.shouldWarnClientIsOffline=!1):d("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),ei=function(){function t(t,e,n,r){this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.onlineStateTracker=new ti(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return s.__awaiter(this,void 0,void 0,function(){var t;return s.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(Vr.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(Vr.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(d("RemoteStore","Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return d("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(Vr.Unknown),[2]}})})},t.prototype.listen=function(t){m(!E(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){m(E(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),S(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(Vr.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){m(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Ue(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!S(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return s.__awaiter(this,void 0,void 0,function(){var t=this;return s.__generator(this,function(e){return k(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return void 0===t&&m(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(Vr.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n;return s.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(Vr.Online),t instanceof Be&&t.state===Ie.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof Le?this.watchChangeAggregator.handleDocumentChange(t):t instanceof Fe?this.watchChangeAggregator.handleExistenceFilter(t):(m(t instanceof Be,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(Jt.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;m(!t.isEqual(Jt.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return k(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.copy({resumeToken:r.resumeToken,snapshotVersion:t}))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.copy({resumeToken:b()}),e.sendUnwatchRequest(t);var r=new te(n.query,t,$t.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;m(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){return E(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return s.__awaiter(this,void 0,void 0,function(){var t,e;return s.__generator(this,function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(t=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:En,[4,this.localStore.nextMutationBatch(t)]):[3,4];case 1:return null!==(e=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(e),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){m(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){m(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++){var r=n[e];t.writeStream.writeMutations(r.mutations)}}).catch(function(e){return t.ignoreIfPrimaryLeaseLoss(e)})},t.prototype.ignoreIfPrimaryLeaseLoss=function(t){if(!Cr(t))throw t;d("RemoteStore","Unexpectedly lost primary lease")},t.prototype.onMutationResult=function(t,e){var n=this;m(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=kn.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return s.__awaiter(this,void 0,void 0,function(){var e=this;return s.__generator(this,function(n){return void 0===t&&m(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?(void 0,[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]):[2]})})},t.prototype.handleHandshakeError=function(t){return s.__awaiter(this,void 0,void 0,function(){var e=this;return s.__generator(this,function(n){return ge(t.code)||t.code===_.ABORTED?(d("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=b(),[2,this.localStore.setLastStreamToken(b()).catch(function(t){return e.ignoreIfPrimaryLeaseLoss(t)})]):[2]})})},t.prototype.handleWriteError=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n=this;return s.__generator(this,function(r){return ge(t.code)?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2]})})},t.prototype.createTransaction=function(){return new Zr(this.datastore)},t.prototype.handleCredentialChange=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(d("RemoteStore","RemoteStore restarting streams for new credential"),this.networkEnabled=!1,[4,this.disableNetworkInternal()]):[3,3];case 1:return t.sent(),this.onlineStateTracker.set(Vr.Unknown),[4,this.enableNetwork()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.applyPrimaryState=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(Vr.Unknown),e.label=4;case 4:return[2]}})})},t}(),ni=function(){return function(){this.listeners=[]}}(),ri=function(){function t(t){this.syncEngine=t,this.queries=new Rr(function(t){return t.canonicalId()}),this.onlineState=Vr.Unknown,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new ni,this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return s.__generator(this,function(o){return e=t.query,n=!1,(r=this.queries.get(e))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=r.query,o=this.queries.get(i);if(o){for(var a=0,s=o.listeners;a<s.length;a++){s[a].onViewSnapshot(r)}o.viewSnap=r}}},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++){i[r].onError(e)}this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,i=n.listeners;r<i.length;r++){i[r].applyOnlineStateChange(t)}})},t}(),ii=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=Vr.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(m(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==Me.Metadata&&e.push(i)}t=new De(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){if(m(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache)return!0;var n=e!==Vr.Offline;return this.options.waitForSyncWhenOnline&&n?(m(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===Vr.Offline},t.prototype.shouldRaiseEvent=function(t){if(t.docChanges.length>0)return!0;var e=this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){m(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=De.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),oi=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var r=Te(),i=Te(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case Me.Added:r=r.add(s.doc.key);break;case Me.Removed:i=i.add(s.doc.key)}}return new t(e,r,i)},t}(),ai=function(){return function(t){this.key=t}}(),si=function(){return function(t){this.key=t}}(),ui=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Te(),this.mutatedKeys=Te(),this.documentSet=new Pe(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new Ne,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var c=i.get(t),l=e instanceof ht?e:null;l&&(m(t.isEqual(l.key),"Mismatching keys found in document changes: "+t+" != "+l.key),l=n.query.matches(l)?l:null);var h=!!c&&n.mutatedKeys.has(c.key),f=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),d=!1;c&&l?c.data.isEqual(l.data)?h!==f&&(r.track({type:Me.Metadata,doc:l}),d=!0):n.shouldWaitForSyncedDocument(c,l)||(r.track({type:Me.Modified,doc:l}),d=!0,u&&n.query.docComparator(l,u)>0&&(s=!0)):!c&&l?(r.track({type:Me.Added,doc:l}),d=!0):c&&!l&&(r.track({type:Me.Removed,doc:c}),d=!0,u&&(s=!0));d&&(l?(a=a.add(l),o=f?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),o=o.delete(c.key),r.track({type:Me.Removed,doc:c})}return m(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;m(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case Me.Added:return 1;case Me.Modified:case Me.Metadata:return 2;case Me.Removed:return 0;default:return g("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var a=e?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?Ae.Synced:Ae.Local,u=s!==this.syncState;return this.syncState=s,0!==o.length||u?{snapshot:new De(this.query,t.documentSet,i,o,t.mutatedKeys,s===Ae.Local,u,!1),limboChanges:a}:{limboChanges:a}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===Vr.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Ne,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&(!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations)},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return m(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Te(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new si(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new ai(t))}),n},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=Te();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},t.prototype.computeInitialSnapshot=function(){return De.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Ae.Local)},t}();var ci=function(){return function(t,e,n){this.query=t,this.targetId=e,this.view=n}}(),li=function(){return function(t){this.key=t}}(),hi=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Rr(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new pt(ct.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Pr,this.mutationUserCallbacks={},this.limboTargetIdGenerator=Jn.forSyncEngine(),this.isPrimary=void 0,this.onlineState=Vr.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){m(null!==t,"SyncEngine listener cannot be null"),m(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o;return s.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(e=r.targetId,this.sharedClientState.addLocalQueryTarget(e),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e){var n=this,r=t.query;return this.localStore.executeQuery(r).then(function(i){return n.localStore.remoteDocumentKeys(t.targetId).then(function(o){var a=new ui(r,o),s=a.computeDocChanges(i),u=je.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&n.onlineState!==Vr.Offline),c=a.applyChanges(s,!0===n.isPrimary,u);m(0===c.limboChanges.length,"View returned limbo docs before target ack from the server."),m(!!c.snapshot,"applyChanges for new view should always return a snapshot");var l=new ci(r,t.targetId,a);return n.queryViewsByQuery.set(r,l),n.queryViewsByTarget[t.targetId]=l,c.snapshot})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){var e=this;return this.localStore.executeQuery(t.query).then(function(n){return e.localStore.remoteDocumentKeys(t.targetId).then(function(r){return s.__awaiter(e,void 0,void 0,function(){var e;return s.__generator(this,function(i){return e=t.view.synchronizeWithPersistedState(n,r),this.isPrimary&&this.updateTrackedLimbos(t.targetId,e.limboChanges),[2,e]})})})})},t.prototype.unlisten=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n=this;return s.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),m(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then(function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)}).catch(function(t){return n.ignoreIfPrimaryLeaseLoss(t)})]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.sharedClientState.addPendingMutation(t.batchId),n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),m(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!Ft(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(t){return Promise.reject(n.wrapUpdateFunctionError(t))}}().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(t).then(function(n){return T(t.targetChanges,function(t,n){var r=e.limboResolutionsByTarget[t];r&&(m(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?r.receivedDocument=!0:n.modifiedDocuments.size>0?m(r.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(m(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),e.emitNewSnapsAndNotifyLocalStore(n,t)}).catch(function(t){return e.ignoreIfPrimaryLeaseLoss(t)})},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===Hr.RemoteStore||!this.isPrimary&&e===Hr.SharedClientState){var n=[];this.queryViewsByQuery.forEach(function(e,r){var i=r.view.applyOnlineStateChange(t);m(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,u,c=this;return s.__generator(this,function(s){switch(s.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),n=this.limboResolutionsByTarget[t],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=(i=new pt(ct.comparator)).insert(r,new ft(r,Jt.forDeletedDoc())),o=Te().add(r),a=new Re(Jt.MIN,{},new ye(W),i,o),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return m(!!(u=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(u.query,!1).then(function(){return c.removeAndCleanupQuery(u)}).catch(function(t){return c.ignoreIfPrimaryLeaseLoss(t)})];case 2:s.sent(),this.syncEngineListener.onWatchError(u.query,e),s.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return s.__awaiter(this,void 0,void 0,function(){var r;return s.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=i.sent())?(d("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):g("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){var e=this;this.assertSubscribed("applySuccessfulWrite()");var n=t.batch.batchId;return this.processUserCallback(n,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.sharedClientState.updateMutationState(n,"acknowledged"),e.emitNewSnapsAndNotifyLocalStore(t)}).catch(function(t){return e.ignoreIfPrimaryLeaseLoss(t)})},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(r){return n.sharedClientState.updateMutationState(t,"rejected",e),n.emitNewSnapsAndNotifyLocalStore(r)}).catch(function(t){return n.ignoreIfPrimaryLeaseLoss(t)})},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new pt(W)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(m(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach(function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i instanceof ai)this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i);else if(i instanceof si){d("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)}else g("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){d("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=Ut.atPath(e.path);this.limboResolutionsByTarget[n]=new li(e),this.remoteStore.listen(new te(r,n,$t.LimboResolution,hn.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n,r,i,o=this;return s.__generator(this,function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(a,s){i.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?o.localStore.executeQuery(s.query).then(function(t){return s.view.computeDocChanges(t,e)}):e}).then(function(t){var i=e&&e.targetChanges[s.targetId],a=s.view.applyChanges(t,!0===o.isPrimary,i);if(o.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=oi.fromSnapshot(s.targetId,a.snapshot);r.push(u)}}))}),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}})})},t.prototype.ignoreIfPrimaryLeaseLoss=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){if(!Cr(t))throw t;return d("SyncEngine","Unexpectedly lost primary lease"),[2]})})},t.prototype.assertSubscribed=function(t){m(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n;return s.__generator(this,function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?[4,this.localStore.handleUserChange(t)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,a,u,c=this;return s.__generator(this,function(s){switch(s.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return s.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=s.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.remoteStore.listen(o);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],u=Promise.resolve(),k(this.queryViewsByTarget,function(t,e){c.sharedClientState.isLocalQueryTarget(t)?a.push(t):u=u.then(function(){return c.unlisten(e.query)}),c.remoteStore.unlisten(e.targetId)}),[4,u]);case 4:return s.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return s.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:s.sent(),s.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;k(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new pt(ct.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){for(var e=this,n=Promise.resolve(),r=[],i=[],o=function(t){n=n.then(function(){return s.__awaiter(e,void 0,void 0,function(){var e,n,o,a;return s.__generator(this,function(s){switch(s.label){case 0:return(n=this.queryViewsByTarget[t])?[4,this.localStore.releaseQuery(n.query,!0)]:[3,4];case 1:return s.sent(),[4,this.localStore.allocateQuery(n.query)];case 2:return e=s.sent(),[4,this.synchronizeViewAndComputeSnapshot(n)];case 3:return(o=s.sent()).snapshot&&i.push(o.snapshot),[3,8];case 4:return m(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(t)];case 5:return m(!!(a=s.sent()),"Query data for target "+t+" not found"),[4,this.localStore.allocateQuery(a)];case 6:return e=s.sent(),[4,this.initializeViewAndComputeSnapshot(e,!1)];case 7:s.sent(),s.label=8;case 8:return r.push(e),[2]}})})})},a=0,u=t;a<u.length;a++){o(u[a])}return n.then(function(){return e.syncEngineListener.onWatchChange(i),r})},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return s.__awaiter(this,void 0,void 0,function(){var r,i=this;return s.__generator(this,function(o){switch(o.label){case 0:if(this.isPrimary)return d("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,5];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(n){return s.__awaiter(i,void 0,void 0,function(){var r;return s.__generator(this,function(i){switch(i.label){case 0:return r=Re.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(n,r)];case 1:return i.sent(),[2]}})})},function(t){return s.__awaiter(i,void 0,void 0,function(){var e;return s.__generator(this,function(n){switch(n.label){case 0:return function(t){return t.code===_.DATA_LOSS&&t.message===cr}(t)?(e=[],k(this.queryViewsByTarget,function(t){return e.push(t)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e)]):[3,2];case 1:return n.sent(),[3,3];case 2:throw t;case 3:return[2]}})})})];case 2:return r=this.queryViewsByTarget[t],this.removeAndCleanupQuery(r),[4,this.localStore.releaseQuery(r.query,!0)];case 3:return o.sent(),this.syncEngineListener.onWatchError(r.query,n),[3,5];case 4:g("Unexpected target state: "+e),o.label=5;case 5:return[2]}})})},t.prototype.applyActiveTargetsChange=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,u,c,l,h,f=this;return s.__generator(this,function(d){switch(d.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,d.label=1;case 1:return n<r.length?(h=r[n],m(!this.queryViewsByTarget[h],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(h)]):[3,6];case 2:return m(!!(i=d.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=d.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:d.sent(),this.remoteStore.listen(o),d.label=5;case 5:return n++,[3,1];case 6:a=function(t){var e;return s.__generator(this,function(n){switch(n.label){case 0:return(e=u.queryViewsByTarget[t])?[4,u.localStore.releaseQuery(e.query,!1).then(function(){f.remoteStore.unlisten(t),f.removeAndCleanupQuery(e)}).catch(function(t){return f.ignoreIfPrimaryLeaseLoss(t)})]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},u=this,c=0,l=e,d.label=7;case 7:return c<l.length?(h=l[c],[5,a(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?Te().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:Te()},t}(),fi=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),di="SharedClientState",pi="firestore_clients",vi="firestore_mutations",gi="firestore_targets",mi="firestore_online_state",yi="firestore_sequence_number",bi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,m(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new w(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(p(di,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),_i=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,m(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new w(r.error.code,r.error.message)),i?new t(e,r.state,o):(p(di,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),wi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Oe(),a=0;i&&a<r.activeTargetIds.length;++a)i=Bt(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(p(di,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),xi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&void 0!==Vr[n.onlineState]&&"string"==typeof n.clientId?new t(n.clientId,Vr[n.onlineState]):(p(di,"Failed to parse online state: "+e),null)},t}(),Ei=function(){function t(){this.activeTargetIds=Oe()}return t.prototype.addQueryTarget=function(t){m(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ci=function(){function t(e,n,r,i,o){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new w(_.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=yi+"_"+r,this.activeClients[this.localClientId]=new Ei,this.clientStateKeyRe=new RegExp("^"+pi+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+vi+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+gi+"_"+a+"_(\\d+)$"),this.onlineStateKey=mi+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return s.__awaiter(this,void 0,void 0,function(){var t,e,n,r,i,o,a,u,c,l,h,f=this;return s.__generator(this,function(s){switch(s.label){case 0:return m(!this.started,"WebStorageSharedClientState already started"),m(null!==this.syncEngine,"syncEngine property must be set before calling start()"),m(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=s.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=wi.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(u=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(u),c=0,l=this.earlyEvents;c<l.length;c++)h=l[c],this.handleWebStorageEvent(h);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return f.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=Oe();return T(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=_i.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return d(di,"READ",t,e),e},t.prototype.setItem=function(t,e){d(di,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){d(di,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(d(di,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void p("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return s.__awaiter(e,void 0,void 0,function(){var e,n,r,i,o,a;return s.__generator(this,function(s){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(o=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(o)]}else t.key===this.sequenceNumberKey&&(m(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(t){var e=hn.INVALID;if(null!=t)try{var n=JSON.parse(t);m("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(t){p(di,"Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==hn.INVALID&&this.sequenceNumberHandler(a));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new bi(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){var e={clientId:this.localClientId,onlineState:Vr[t]};this.storage.setItem(this.onlineStateKey,JSON.stringify(e))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new _i(t,e,n);this.setItem(r,i.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return m(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),pi+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return gi+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=vi+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return m(null!==n,"Cannot parse client state key '"+t+"'"),wi.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);m(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return bi.fromWebStorageEntry(new fi(i),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);m(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return _i.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return xi.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(d(di,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),o=[],a=[];return i.forEach(function(t){return s.__awaiter(n,void 0,void 0,function(){return s.__generator(this,function(e){return r.has(t)||o.push(t),[2]})})}),r.forEach(function(t){return s.__awaiter(n,void 0,void 0,function(){return s.__generator(this,function(e){return i.has(t)||a.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(o,a)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}();var ki=function(){function t(){this.localState=new Ei,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Ei,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Ti=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=H.newId()}return t.prototype.start=function(t){var e=this,n=new fn,r=new fn,i=!1;return this.credentials.setChangeListener(function(o){i?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(o)}):(i=!0,e.initializePersistence(t,r,o).then(function(){return e.initializeRest(o)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var r=this;return t.enabled?this.startIndexedDbPersistence(n,t).then(e.resolve).catch(function(t){return e.reject(t),r.canFallback(t)?(console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),r.startMemoryPersistence()):Promise.reject(t)}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof w?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||(22===t.code||20===t.code)},t.prototype.startIndexedDbPersistence=function(t,e){var n=this;m(e.enabled,"Should only start IndexedDb persitence with offline persistence enabled.");var r=Er.buildStoragePrefix(this.databaseInfo),i=new Xe(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return s.__awaiter(n,void 0,void 0,function(){var n,o;return s.__generator(this,function(a){switch(a.label){case 0:if(e.experimentalTabSynchronization&&!Ci.isAvailable(this.platform))throw new w(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return e.experimentalTabSynchronization?(this.sharedClientState=new Ci(this.asyncQueue,this.platform,r,this.clientId,t),n=this,[4,Er.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n.persistence=a.sent(),[3,4];case 2:return this.sharedClientState=new ki,o=this,[4,Er.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i)];case 3:o.persistence=a.sent(),a.label=4;case 4:return[2]}})})})},t.prototype.startMemoryPersistence=function(){return this.persistence=Br.createEagerPersistence(this.clientId),this.sharedClientState=new ki,Promise.resolve()},t.prototype.initializeRest=function(t){var e=this;return d("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(n){return s.__awaiter(e,void 0,void 0,function(){var e,r,i,o,a=this;return s.__generator(this,function(s){switch(s.label){case 0:return this.localStore=new Dr(this.persistence,t),e=this.platform.newSerializer(this.databaseInfo.databaseId),r=new Jr(this.asyncQueue,n,this.credentials,e),i=function(t){return a.syncEngine.applyOnlineStateChange(t,Hr.RemoteStore)},o=function(t){return a.syncEngine.applyOnlineStateChange(t,Hr.SharedClientState)},this.remoteStore=new ei(this.localStore,r,this.asyncQueue,i),this.syncEngine=new hi(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=o,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new ri(this.syncEngine),[4,this.sharedClientState.start()];case 1:return s.sent(),[4,this.remoteStore.start()];case 2:return s.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return a.syncEngine.applyPrimaryState(t)})];case 3:return s.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),d("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.shutdown=function(t){var e=this;return this.asyncQueue.enqueue(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown(t&&t.purgePersistenceWithDataLoss)];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}})})})},t.prototype.listen=function(t,e,n){var r=this,i=new ii(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof ht)return t;if(t instanceof ft)return null;throw new w(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=Te(),r=new ui(t,n),i=r.computeDocChanges(e);return r.applyChanges(i,!1).snapshot})},t.prototype.write=function(t){var e=this,n=new fn;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.enqueue(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),Si=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Oi=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<r)throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" argument to be an array with at least "+V(r,"element")+".")}("FieldPath",t,"fieldNames",1);for(var n=0;n<t.length;++n)if(P("FieldPath","string",n,t[n]),0===t[n].length)throw new w(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(ut.keyField().canonicalString()),t}(),Mi=new RegExp("[~\\*/\\[\\]]");var Ai=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}}(),Pi=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){m(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(fi.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){m(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),Ii=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;m(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new w(_.ABORTED,"getToken aborted due to token change.");return n?(m("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Ai(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){m(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){m(null!=this.tokenListener,"removeChangeListener() called twice"),m(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return m(null===t||"string"==typeof t,"Received invalid UID: "+t),new fi(t)},t}(),Ni=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=fi.FIRST_PARTY,m(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),t}(),Di=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,m(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return t.prototype.getToken=function(){return Promise.resolve(new Ni(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(fi.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Ri(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=e;r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t,["next","error","complete"])}var ji,Li=function(){function t(t){this._methodName=t}return t.delete=function(){return Fi.instance},t.serverTimestamp=function(){return Bi.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return M("FieldValue.arrayUnion",arguments,1),new $i(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return M("FieldValue.arrayRemove",arguments,1),new Ui(t)},t.prototype.isEqual=function(t){return this===t},t}(),Fi=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return s.__extends(e,t),e.instance=new e,e}(Li),Bi=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return s.__extends(e,t),e.instance=new e,e}(Li),$i=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return s.__extends(e,t),e}(Li),Ui=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return s.__extends(e,t),e}(Li),zi=x(Li,"Use FieldValue.<field>() instead."),qi=/^__.*__$/,Vi=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return null!==this.fieldMask?n.push(new se(t,this.data,this.fieldMask,e)):n.push(new ae(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new ue(t,this.fieldTransforms)),n},t}(),Hi=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new se(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new ue(t,this.fieldTransforms)),n},t}();function Wi(t){switch(t){case ji.Set:case ji.MergeSet:case ji.Update:return!0;case ji.Argument:return!1;default:throw g("Unexpected case for UserDataSource: "+t)}}!function(t){t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument"}(ji||(ji={}));var Gi=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new w(_.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(Wi(this.dataSource)&&qi.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),Ki=function(){return function(t,e){this.databaseId=t,this.key=e}}(),Yi=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new Gi(ji.Set,t,ut.EMPTY_PATH);Xi("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new Vi(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new Gi(ji.MergeSet,t,ut.EMPTY_PATH);Xi("Data must be an object, but it was:",r,e);var i,o,a=this.parseData(e,r);if(n){for(var s=[],u=0,c=n;u<c.length;u++){var l=c[u],h=void 0;if(l instanceof Oi)h=l._internalPath;else{if("string"!=typeof l)throw g("Expected stringOrFieldPath to be a string or a FieldPath");h=Zi(t,l)}if(!r.contains(h))throw new w(_.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s.push(h)}i=new ee(s),o=r.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=new ee(r.fieldMask),o=r.fieldTransforms;return new Vi(a,i,o)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new Gi(ji.Update,t,ut.EMPTY_PATH);Xi("Data must be an object, but it was:",r,e);var i=[],o=It.EMPTY;T(e,function(e,a){var s=Zi(t,e),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof Fi)i.push(s);else{var c=n.parseData(a,u);null!=c&&(i.push(s),o=o.set(s,c))}});var a=new ee(i);return new Hi(o,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new Gi(ji.Update,t,ut.EMPTY_PATH),o=[Ji(t,e)],a=[n];if(r.length%2!=0)throw new w(_.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(Ji(t,r[s])),a.push(r[s+1]);var u=[],c=It.EMPTY;for(s=0;s<o.length;++s){var l=o[s],h=i.childContextForFieldPath(l),f=this.runPreConverter(a[s],h);if(f instanceof Fi)u.push(l);else{var d=this.parseData(f,h);null!=d&&(u.push(l),c=c.set(l,d))}}var p=new ee(u);return new Hi(c,p,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new Gi(ji.Argument,t,ut.EMPTY_PATH),r=this.parseData(e,n);return m(null!=r,"Parsed data should not be null."),m(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(t){var n=to(t);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(Qi(t=this.runPreConverter(t,e)))return Xi("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof Li)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new pt(W);return S(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):T(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new It(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=o[i],s=this.parseData(a,e.childContextForArray(r));null==s&&(s=_t.INSTANCE),n.push(s),r++}return new Nt(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!Wi(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof Fi){if(e.dataSource!==ji.MergeSet)throw e.dataSource===ji.Update?(m(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof Bi)e.fieldTransforms.push(new ne(e.path,le.instance));else if(t instanceof $i){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new he(n);e.fieldTransforms.push(new ne(e.path,r))}else if(t instanceof Ui){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new fe(n);e.fieldTransforms.push(new ne(e.path,i))}else g("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return _t.INSTANCE;if("number"==typeof t)return Bt(t)?new Ct(t):new kt(t);if("boolean"==typeof t)return wt.of(t);if("string"==typeof t)return new Tt(t);if(t instanceof Date)return new St(et.fromDate(t));if(t instanceof et)return new St(new et(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof tt)return new Pt(t);if(t instanceof J)return new Mt(t);if(t instanceof Ki)return new At(t.databaseId,t.key);throw e.createError("Unsupported field value: "+B(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var i=new Gi(ji.Argument,t,ut.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))})},t}();function Qi(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof et||t instanceof tt||t instanceof J||t instanceof Ki||t instanceof Li)}function Xi(t,e,n){if(!Qi(n)||!F(n)){var r=B(n);throw"an object"===r?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Ji(t,e){if(e instanceof Oi)return e._internalPath;if("string"==typeof e)return Zi(t,e);throw new w(_.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Zi(t,e){try{return function(t){if(t.search(Mi)>=0)throw new w(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Oi.bind.apply(Oi,[void 0].concat(t.split("."))))}catch(e){throw new w(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(e){var n=to(e);throw new w(_.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function to(t){return t instanceof Error?t.message:t.toString()}var eo="firestore.googleapis.com",no=!0,ro=!1,io=!1,oo=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new w(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eo,this.ssl=no}else N("settings","non-empty string","host",t.host),this.host=t.host,D("settings","boolean","ssl",t.ssl),this.ssl=C(t.ssl,no);U("settings",t,["host","ssl","credentials","timestampsInSnapshots"]),D("settings","object","credentials",t.credentials),this.credentials=t.credentials,D("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),this.timestampsInSnapshots=C(t.timestampsInSnapshots,ro)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials},t}(),ao=function(){return function(){}}(),so=function(){function t(t,e){this.enabled=t,m(t||!e,"Can only provide PersistenceSettings with persistence enabled"),e=e||{},this.experimentalTabSynchronization=C(e.experimentalTabSynchronization,io)}return t.prototype.isEqual=function(t){return this.enabled===t.enabled&&this.experimentalTabSynchronization===t.experimentalTabSynchronization},t}(),uo=function(){function t(e){var n=this;this._queue=new pn,this.INTERNAL={delete:function(t){return s.__awaiter(n,void 0,void 0,function(){return s.__generator(this,function(e){return this._firestoreClient?[2,this._firestoreClient.shutdown(t)]:[2]})})}};var r=new ao;if("object"==typeof e.options){var i=e;r.firebaseApp=i,r.databaseId=t.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new Ii(i)}else{var o=e;if(!o.projectId)throw new w(_.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new it(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new Pi}r.settings=new oo({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(O("Firestore.settings",arguments,1),P("Firestore.settings","object",1,t),E(t,"persistence"))throw new w(_.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new oo(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new w(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new Pi;switch(t.type){case"gapi":return new Di(t.client,t.sessionIndex||"0");case"provider":return t.client;default:throw new w(_.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new w(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(new so(!0,t))},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new so(!1)),this._firestoreClient},t.prototype.configureClient=function(t){var e=this;m(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),this._config.settings.timestampsInSnapshots||p("\nThe behavior for Date objects stored in Firestore is going to change\nAND YOUR APP MAY BREAK.\nTo hide this warning and ensure your app does not break, you need to add the\nfollowing code to your app before calling any other Cloud Firestore methods:\n\n  const firestore = firebase.firestore();\n  const settings = {/* your settings... */ timestampsInSnapshots: true};\n  firestore.settings(settings);\n\nWith this change, timestamps stored in Cloud Firestore will be read back as\nFirebase Timestamp objects instead of as system Date objects. So you will also\nneed to update code expecting a Date to instead expect a Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at');\n  const date = timestamp.toDate();\n\nPlease audit all existing usages of Date when you enable the new behavior. In a\nfuture release, the behavior will change to the new behavior, so if you do not\nfollow these steps, YOUR APP MAY BREAK."),m(!this._firestoreClient,"configureClient() called multiple times");var n=new nt(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl);return this._dataConverter=new Yi(function(t){if(t instanceof ho){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new w(_.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Ki(e._config.databaseId,t._key)}return t}),this._firestoreClient=new Ti(y.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!E(e,"projectId"))throw new w(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new w(_.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new it(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new w(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(O("Firestore.collection",arguments,1),P("Firestore.collection","non-empty string",1,t),!t)throw new w(_.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new yo(at.fromString(t),this)},t.prototype.doc=function(t){if(O("Firestore.doc",arguments,1),P("Firestore.doc","non-empty string",1,t),!t)throw new w(_.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),ho.forPath(at.fromString(t),this)},t.prototype.runTransaction=function(t){var e=this;return O("Firestore.runTransaction",arguments,1),P("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new co(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new lo(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(h()){case i.DEBUG:return"debug";case i.ERROR:return"error";case i.SILENT:return"silent";default:return g("Unknown log level: "+h())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(O("Firestore.setLogLevel",arguments,1),P("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":f(i.DEBUG);break;case"error":f(i.ERROR);break;case"silent":f(i.SILENT);break;default:throw new w(_.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),co=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;O("Transaction.get",arguments,1);var n=xo("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return g("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof ft)return new po(e._firestore,n._key,null,!1,!1);if(r instanceof ht)return new po(e._firestore,n._key,r,!1,!1);throw g("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},t.prototype.set=function(t,e,n){A("Transaction.set",arguments,2,3);var r=xo("Transaction.set",t,this._firestore),i=(n=bo("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof Oi?(M("Transaction.update",arguments,3),r=xo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(O("Transaction.update",arguments,2),r=xo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){O("Transaction.delete",arguments,1);var e=xo("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),lo=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){A("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=xo("WriteBatch.set",t,this._firestore),i=(n=bo("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,ie.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"==typeof e||e instanceof Oi?(M("WriteBatch.update",arguments,3),r=xo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(O("WriteBatch.update",arguments,2),r=xo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,ie.exists(!0))),this},t.prototype.delete=function(t){O("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=xo("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new ce(e._key,ie.NONE)),this},t.prototype.commit=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new w(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),ho=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new w(_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new ct(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new yo(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(O("DocumentReference.collection",arguments,1),P("DocumentReference.collection","non-empty string",1,t),!t)throw new w(_.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=at.fromString(t);return new yo(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){A("DocumentReference.set",arguments,1,2);var n=(e=bo("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,ie.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Oi?(M("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(O("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,ie.exists(!0)))},t.prototype.delete=function(){return O("DocumentReference.delete",arguments,0),this._firestoreClient.write([new ce(this._key,ie.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];A("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Ri(t[i])||(U("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),D("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Ri(t[i])?n=t[i]:(P("DocumentReference.onSnapshot","function",i,t[i]),I("DocumentReference.onSnapshot","function",i+1,t[i+1]),I("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Si({next:function(t){if(e.next){m(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new po(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(Ut.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return A("DocumentReference.get",arguments,0,1),wo("DocumentReference.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new po(e.firestore,e._key,t,!0,t instanceof ht&&t.hasLocalMutations))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new w(_.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new w(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),fo=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),po=function(){function t(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return t.prototype.data=function(t){return A("DocumentSnapshot.data",arguments,0,1),t=_o("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,yt.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(A("DocumentSnapshot.get",arguments,1,2),e=_o("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(Ji("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,yt.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ho(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new fo(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof It)return this.convertObject(t,e);if(t instanceof Nt)return this.convertArray(t,e);if(t instanceof At){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||p("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new ho(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),vo=function(t){function e(e,n,r,i,o){return t.call(this,e,n,r,i,o)||this}return s.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return m("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(po),go=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){var i;O("Query.where",arguments,3),P("Query.where","non-empty string",2,n),$("Query.where",3,r);var o=Ji("Query.where",e),a=qt.fromString(n);if(o.isKeyField()){if(a===qt.ARRAY_CONTAINS)throw new w(_.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"==typeof r){if(-1!==r.indexOf("/"))throw new w(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===r)throw new w(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var s=this._query.path.child(new at([r]));m(s.length%2==0,"Path should be a document key"),i=new At(this.firestore._databaseId,new ct(s))}else{if(!(r instanceof ho))throw new w(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+B(r)+".");var u=r;i=new At(this.firestore._databaseId,u._key)}}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var c=zt.create(o,a,i);return this.validateNewFilter(c),new t(this._query.addFilter(c),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(A("Query.orderBy",arguments,1,2),I("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Gt.ASCENDING;else{if("desc"!==n)throw new w(_.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Gt.DESCENDING}if(null!==this._query.startAt)throw new w(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new w(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=Ji("Query.orderBy",e),o=new Yt(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(O("Query.limit",arguments,1),P("Query.limit","number",1,e),e<=0)throw new w(_.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];M("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];M("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];M("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];M("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if($(t,1,e),e instanceof po){if(n.length>0)throw new w(_.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new w(_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new At(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(void 0===s){var u=a.field.canonicalString();throw new w(_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Kt(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new w(_.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new w(_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(-1!==a.indexOf("/"))throw new w(_.INVALID_ARGUMENT,"Invalid query. Document ID '"+a+"' contains a slash in "+t+"()");var s=new ct(this._query.path.child(a));i.push(new At(this.firestore._databaseId,s))}else{var u=this.firestore._dataConverter.parseQueryValue(t,a);i.push(u)}}return new Kt(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];A("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Ri(t[i])||(U("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),D("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Ri(t[i])?n=t[i]:(P("Query.onSnapshot","function",i,t[i]),I("Query.onSnapshot","function",i+1,t[i+1]),I("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Si({next:function(t){e.next&&e.next(new mo(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.get=function(t){var e=this;return A("Query.get",arguments,0,1),wo("Query.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new mo(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new w(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.validateNewFilter=function(t){if(t instanceof Vt)if(t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(t.field))throw new w(_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}else if(t.op===qt.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new w(_.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new w(_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),mo=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new fo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;A("QuerySnapshot.forEach",arguments,1,2),P("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new go(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(U("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),D("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new w(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(e){var o=new vo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return m(e.type===Me.Added,"Invalid event type for first snapshot"),m(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==Me.Metadata}).map(function(e){var r=new vo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),i=-1,a=-1;return e.type!==Me.Added&&(m((i=o.indexOf(e.doc.key))>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==Me.Removed&&(o=o.add(e.doc),a=o.indexOf(e.doc.key)),{type:function(t){switch(t){case Me.Added:return"added";case Me.Modified:case Me.Metadata:return"modified";case Me.Removed:return"removed";default:return g("Unknown change type: "+t)}}(e.type),doc:r,oldIndex:i,newIndex:a}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new vo(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(mo.prototype.docChanges,t,{get:function(){return function(){throw new w(_.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}});var yo=function(t){function e(e,n){var r=t.call(this,Ut.atPath(e),n)||this;if(e.length%2!=1)throw new w(_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return s.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new ho(new ct(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(A("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=H.newId()),P("CollectionReference.doc","non-empty string",1,t),""===t)throw new w(_.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=at.fromString(t);return ho.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){O("CollectionReference.add",arguments,1),P("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(go);function bo(t,e){if(void 0===e)return{merge:!1};if(U(t,e,["merge","mergeFields"]),D(t,"boolean","merge",e.merge),R(t,"mergeFields","a string or a FieldPath",e.mergeFields,function(t){return"string"==typeof t||t instanceof Oi}),void 0!==e.mergeFields&&void 0!==e.merge)throw new w(_.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function _o(t,e){return void 0===e?{}:(U(t,e,["serverTimestamps"]),j(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function wo(t,e){I(t,"object",1,e),e&&(U(t,e,["source"]),j(t,0,"source",e.source,["default","server","cache"]))}function xo(t,e,n){if(e instanceof ho){if(e.firestore!==n)throw new w(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw z(t,"DocumentReference",1,e)}var Eo=x(uo,"Use firebase.firestore() instead."),Co=x(co,"Use firebase.firestore().runTransaction() instead."),ko=x(lo,"Use firebase.firestore().batch() instead."),To=x(ho,"Use firebase.firestore().doc() instead."),So=x(po),Oo=x(vo),Mo=x(go),Ao=x(mo),Po=x(yo,"Use firebase.firestore().collection() instead."),Io={Firestore:Eo,GeoPoint:tt,Timestamp:et,Blob:Z,Transaction:Co,WriteBatch:ko,DocumentReference:To,DocumentSnapshot:So,Query:Mo,QueryDocumentSnapshot:Oo,QuerySnapshot:Ao,CollectionReference:Po,FieldPath:Oi,FieldValue:zi,setLogLevel:uo.setLogLevel};function No(t){t.INTERNAL.registerService("firestore",function(t){return new uo(t)},function(t){m(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(Io))}function Do(t){No(t)}Do(o),e.registerFirestore=Do},X8DO:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},Xc4G:function(t,e,n){var r=n("lktj"),i=n("1kS7"),o=n("NpIQ");t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},Xd32:function(t,e,n){n("+tPU"),n("zQR9"),t.exports=n("5PlU")},XmWM:function(t,e,n){"use strict";var r=n("KCLY"),i=n("cGG2"),o=n("fuGk"),a=n("xLtR");function s(t){this.defaults=t,this.interceptors={request:new o,response:new o}}s.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(r,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},i.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=s},Ygqm:function(t,e){t.exports=h,t.exports.parse=o,t.exports.compile=function(t,e){return a(o(t,e))},t.exports.tokensToFunction=a,t.exports.tokensToRegExp=l;var n="/",r="./",i=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function o(t,e){for(var o,a=[],c=0,l=0,h="",f=e&&e.delimiter||n,d=e&&e.delimiters||r,p=!1;null!==(o=i.exec(t));){var v=o[0],g=o[1],m=o.index;if(h+=t.slice(l,m),l=m+v.length,g)h+=g[1],p=!0;else{var y="",b=t[l],_=o[2],w=o[3],x=o[4],E=o[5];if(!p&&h.length){var C=h.length-1;d.indexOf(h[C])>-1&&(y=h[C],h=h.slice(0,C))}h&&(a.push(h),h="",p=!1);var k=""!==y&&void 0!==b&&b!==y,T="+"===E||"*"===E,S="?"===E||"*"===E,O=y||f,M=w||x;a.push({name:_||c++,prefix:y,delimiter:O,optional:S,repeat:T,partial:k,pattern:M?u(M):"[^"+s(O)+"]+?"})}}return(h||l<t.length)&&a.push(h+t.substr(l)),a}function a(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,r){for(var i="",o=r&&r.encode||encodeURIComponent,a=0;a<t.length;a++){var s=t[a];if("string"!=typeof s){var u,c=n?n[s.name]:void 0;if(Array.isArray(c)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but got array');if(0===c.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var l=0;l<c.length;l++){if(u=o(c[l],s),!e[a].test(u))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'"');i+=(0===l?s.prefix:s.delimiter)+u}}else if("string"!=typeof c&&"number"!=typeof c&&"boolean"!=typeof c){if(!s.optional)throw new TypeError('Expected "'+s.name+'" to be '+(s.repeat?"an array":"a string"));s.partial&&(i+=s.prefix)}else{if(u=o(String(c),s),!e[a].test(u))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but got "'+u+'"');i+=s.prefix+u}}else i+=s}return i}}function s(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function u(t){return t.replace(/([=!:$/()])/g,"\\$1")}function c(t){return t&&t.sensitive?"":"i"}function l(t,e,i){for(var o=(i=i||{}).strict,a=!1!==i.start,u=!1!==i.end,l=s(i.delimiter||n),h=i.delimiters||r,f=[].concat(i.endsWith||[]).map(s).concat("$").join("|"),d=a?"^":"",p=0===t.length,v=0;v<t.length;v++){var g=t[v];if("string"==typeof g)d+=s(g),p=v===t.length-1&&h.indexOf(g[g.length-1])>-1;else{var m=g.repeat?"(?:"+g.pattern+")(?:"+s(g.delimiter)+"(?:"+g.pattern+"))*":g.pattern;e&&e.push(g),g.optional?g.partial?d+=s(g.prefix)+"("+m+")?":d+="(?:"+s(g.prefix)+"("+m+"))?":d+=s(g.prefix)+"("+m+")"}}return u?(o||(d+="(?:"+l+")?"),d+="$"===f?"$":"(?="+f+")"):(o||(d+="(?:"+l+"(?="+f+"))?"),p||(d+="(?="+l+"|"+f+")")),new RegExp(d,c(i))}function h(t,e,n){return t instanceof RegExp?function(t,e){if(!e)return t;var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return t}(t,e):Array.isArray(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(h(t[i],e,n).source);return new RegExp("(?:"+r.join("|")+")",c(n))}(t,e,n):function(t,e,n){return l(o(t,n),e,n)}(t,e,n)}},Yobk:function(t,e,n){var r=n("77Pl"),i=n("qio6"),o=n("xnc9"),a=n("ax3d")("IE_PROTO"),s=function(){},u=function(){var t,e=n("ON07")("iframe"),r=o.length;for(e.style.display="none",n("RPLV").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},ZaQb:function(t,e,n){var r=n("EqjI"),i=n("77Pl"),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n("+ZMJ")(Function.call,n("LKZe").f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},Zrlr:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},Zx67:function(t,e,n){t.exports={default:n("fS6E"),__esModule:!0}},Zzip:function(t,e,n){t.exports={default:n("/n6Q"),__esModule:!0}},aEs4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("TToO"),o=(r=n("O4tu"))&&"object"==typeof r&&"default"in r?r.default:r,a={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},s=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return i.__extends(e,t),e}(Error);var u=function(){function t(t){this.app=t}return t.prototype.getAuthToken=function(){return i.__awaiter(this,void 0,void 0,function(){var t;return i.__generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.app.INTERNAL.getToken()];case 1:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 2:return e.sent(),[2,void 0];case 3:return[2]}})})},t.prototype.getInstanceIdToken=function(){return i.__awaiter(this,void 0,void 0,function(){var t;return i.__generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.app.messaging?[4,this.app.messaging().getToken()]:[2,void 0];case 1:return(t=e.sent())?[2,t]:[2,void 0];case 2:return e.sent(),[2,void 0];case 3:return[2]}})})},t.prototype.getContext=function(){return i.__awaiter(this,void 0,void 0,function(){var t,e;return i.__generator(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}();function c(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var l=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null===t||void 0===t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"==typeof t||"object"==typeof t)return c(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null===t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=parseFloat(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"==typeof t||"object"==typeof t?c(t,function(t){return e.decode(t)}):t},t}(),h=function(){function t(t,e){void 0===e&&(e="us-central1"),this.app_=t,this.region_=e,this.serializer=new l,this.emulatorOrigin=null,this.contextProvider=new u(t)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId,n=this.region_;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+n+"/"+t:"https://"+n+"-"+e+".cloudfunctions.net/"+t},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t){var e=this;return function(n){return e.call(t,n)}},t.prototype.postJSON=function(t,e,n){return i.__awaiter(this,void 0,void 0,function(){var r,o;return i.__generator(this,function(i){switch(i.label){case 0:n.append("Content-Type","application/json"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,fetch(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=i.sent(),[3,4];case 3:return i.sent(),[2,{status:0,json:null}];case 4:o=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,r.json()];case 6:return o=i.sent(),[3,8];case 7:return i.sent(),[3,8];case 8:return[2,{status:r.status,json:o}]}})})},t.prototype.call=function(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r,o,u,c,l,h;return i.__generator(this,function(i){switch(i.label){case 0:return n=this._url(t),e=this.serializer.encode(e),r={data:e},o=new Headers,[4,this.contextProvider.getContext()];case 1:return(u=i.sent()).authToken&&o.append("Authorization","Bearer "+u.authToken),u.instanceIdToken&&o.append("Firebase-Instance-ID-Token",u.instanceIdToken),[4,this.postJSON(n,r,o)];case 2:if(c=i.sent(),l=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var u=e.error;if(u){var c=u.status;if("string"==typeof c){if(!a[c])return new s("internal","internal");r=a[c]}i=c;var l=u.message;"string"==typeof l&&(i=l),void 0!==(o=u.details)&&(o=n.decode(o))}}catch(t){}return"ok"===r?null:new s(r,i,o)}(c.status,c.json,this.serializer))throw l;if(!c.json)throw new s("internal","Response is not valid JSON object.");if(void 0===(h=c.json.data)&&(h=c.json.result),void 0===h)throw new s("internal","Response is missing data field.");return[2,{data:this.serializer.decode(h)}]}})})},t}(),f="functions";function d(t,e,n){return new h(t,n)}function p(t){var e={Functions:h};t.INTERNAL.registerService(f,d,e,void 0,!0)}p(o),e.registerFunctions=p},afsG:function(t,e,n){"use strict";var r=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function i(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function o(){}var a="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3})$/,l=/^#([0-9a-f]{6})$/,h=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),f=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),d=new RegExp("^rgba\\("+[a,a,a,s]+"\\)$"),p=new RegExp("^rgba\\("+[u,u,u,s]+"\\)$"),v=new RegExp("^hsl\\("+[s,u,u]+"\\)$"),g=new RegExp("^hsla\\("+[s,u,u,s]+"\\)$"),m={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(t){var e;return t=(t+"").trim().toLowerCase(),(e=c.exec(t))?new E((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=l.exec(t))?b(parseInt(e[1],16)):(e=h.exec(t))?new E(e[1],e[2],e[3],1):(e=f.exec(t))?new E(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=d.exec(t))?_(e[1],e[2],e[3],e[4]):(e=p.exec(t))?_(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=v.exec(t))?C(e[1],e[2]/100,e[3]/100,1):(e=g.exec(t))?C(e[1],e[2]/100,e[3]/100,e[4]):m.hasOwnProperty(t)?b(m[t]):"transparent"===t?new E(NaN,NaN,NaN,0):null}function b(t){return new E(t>>16&255,t>>8&255,255&t,1)}function _(t,e,n,r){return r<=0&&(t=e=n=NaN),new E(t,e,n,r)}function w(t){return t instanceof o||(t=y(t)),t?new E((t=t.rgb()).r,t.g,t.b,t.opacity):new E}function x(t,e,n,r){return 1===arguments.length?w(t):new E(t,e,n,null==r?1:r)}function E(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function C(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new T(t,e,n,r)}function k(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof T)return new T(t.h,t.s,t.l,t.opacity);if(t instanceof o||(t=y(t)),!t)return new T;if(t instanceof T)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-i,c=(a+i)/2;return u?(s=e===a?(n-r)/u+6*(n<r):n===a?(r-e)/u+2:(e-n)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new T(s,u,c,t.opacity)}(t):new T(t,e,n,null==r?1:r)}function T(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function S(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}r(o,y,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),r(E,x,i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new E(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new E(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),r(T,k,i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new T(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new T(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new E(S(t>=240?t-240:t+120,i,r),S(t,i,r),S(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var O=Math.PI/180,M=180/Math.PI,A=.95047,P=1,I=1.08883,N=4/29,D=6/29,R=3*D*D,j=D*D*D;function L(t){if(t instanceof B)return new B(t.l,t.a,t.b,t.opacity);if(t instanceof H){var e=t.h*O;return new B(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof E||(t=w(t));var n=q(t.r),r=q(t.g),i=q(t.b),o=$((.4124564*n+.3575761*r+.1804375*i)/A),a=$((.2126729*n+.7151522*r+.072175*i)/P);return new B(116*a-16,500*(o-a),200*(a-$((.0193339*n+.119192*r+.9503041*i)/I)),t.opacity)}function F(t,e,n,r){return 1===arguments.length?L(t):new B(t,e,n,null==r?1:r)}function B(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function $(t){return t>j?Math.pow(t,1/3):t/R+N}function U(t){return t>D?t*t*t:R*(t-N)}function z(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function q(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function V(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof H)return new H(t.h,t.c,t.l,t.opacity);t instanceof B||(t=L(t));var e=Math.atan2(t.b,t.a)*M;return new H(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new H(t,e,n,null==r?1:r)}function H(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}r(B,F,i(o,{brighter:function(t){return new B(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new B(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=P*U(t),new E(z(3.2404542*(e=A*U(e))-1.5371385*t-.4985314*(n=I*U(n))),z(-.969266*e+1.8760108*t+.041556*n),z(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),r(H,V,i(o,{brighter:function(t){return new H(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new H(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return L(this).rgb()}}));var W=-.14861,G=1.78277,K=-.29227,Y=-.90649,Q=1.97294,X=Q*Y,J=Q*G,Z=G*K-Y*W;function tt(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof et)return new et(t.h,t.s,t.l,t.opacity);t instanceof E||(t=w(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Z*r+X*e-J*n)/(Z+X-J),o=r-i,a=(Q*(n-i)-K*o)/Y,s=Math.sqrt(a*a+o*o)/(Q*i*(1-i)),u=s?Math.atan2(a,o)*M-120:NaN;return new et(u<0?u+360:u,s,i,t.opacity)}(t):new et(t,e,n,null==r?1:r)}function et(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}r(et,tt,i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new et(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new et(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*O,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new E(255*(e+n*(W*r+G*i)),255*(e+n*(K*r+Y*i)),255*(e+n*(Q*r)),this.opacity)}})),n.d(e,"a",function(){return y}),n.d(e,"f",function(){return x}),n.d(e,"d",function(){return k}),n.d(e,"e",function(){return F}),n.d(e,"c",function(){return V}),n.d(e,"b",function(){return tt})},ax3d:function(t,e,n){var r=n("e8AB")("keys"),i=n("3Eo+");t.exports=function(t){return r[t]||(r[t]=i(t))}},bOdI:function(t,e,n){"use strict";e.__esModule=!0;var r,i=n("C4MV"),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e,n){return e in t?(0,o.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},bRrM:function(t,e,n){"use strict";var r=n("7KvD"),i=n("FeBl"),o=n("evD5"),a=n("+E39"),s=n("dSzd")("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];a&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},"c/Tr":function(t,e,n){t.exports={default:n("5zde"),__esModule:!0}},cGG2:function(t,e,n){"use strict";var r=n("JP+z"),i=n("Re3r"),o=Object.prototype.toString;function a(t){return"[object Array]"===o.call(t)}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===o.call(t)}function c(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),a(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},cWxy:function(t,e,n){"use strict";var r=n("dVOP");function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},cnlX:function(t,e,n){n("iInB");var r=n("FeBl").Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},crlp:function(t,e,n){var r=n("7KvD"),i=n("FeBl"),o=n("O4g8"),a=n("Kh4W"),s=n("evD5").f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},d7EF:function(t,e,n){"use strict";e.__esModule=!0;var r=o(n("us/S")),i=o(n("BO1k"));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(){return function(t,e){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var s,u=(0,i.default)(t);!(r=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},dIwP:function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},dNDb:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},dSzd:function(t,e,n){var r=n("e8AB")("wks"),i=n("3Eo+"),o=n("7KvD").Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},dVOP:function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},dY0y:function(t,e,n){var r=n("dSzd")("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},dqyG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"registerMessaging",function(){return I}),n.d(e,"isSupported",function(){return N});var r,i,o,a=n("Pxmi"),s=(n.n(a),n("TToO")),u=n("O4tu"),c=n.n(u),l={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",TOKEN_UNSUBSCRIBE_FAILED:"token-unsubscribe-failed",TOKEN_UPDATE_FAILED:"token-update-failed",TOKEN_UPDATE_NO_TOKEN:"token-update-no-token",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key",INVALID_PUBLIC_VAPID_KEY:"invalid-public-vapid-key",USE_PUBLIC_KEY_BEFORE_GET_TOKEN:"use-public-key-before-get-token",PUBLIC_KEY_DECRYPTION_FAILED:"public-vapid-key-decryption-failed"},h=((r={})[l.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",r[l.AVAILABLE_IN_SW]="This method is available in a service worker context.",r[l.SHOULD_BE_INHERITED]="This method should be overriden by extended classes.",r[l.BAD_SENDER_ID]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",r[l.PERMISSION_DEFAULT]="The required permissions were not granted and dismissed instead.",r[l.PERMISSION_BLOCKED]="The required permissions were not granted and blocked instead.",r[l.UNSUPPORTED_BROWSER]="This browser doesn't support the API's required to use the firebase SDK.",r[l.NOTIFICATIONS_BLOCKED]="Notifications have been blocked.",r[l.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",r[l.SW_REGISTRATION_EXPECTED]="A service worker registration was the expected input.",r[l.GET_SUBSCRIPTION_FAILED]="There was an error when trying to get any existing Push Subscriptions.",r[l.INVALID_SAVED_TOKEN]="Unable to access details of the saved token.",r[l.SW_REG_REDUNDANT]="The service worker being used for push was made redundant.",r[l.TOKEN_SUBSCRIBE_FAILED]="A problem occured while subscribing the user to FCM: {$message}",r[l.TOKEN_SUBSCRIBE_NO_TOKEN]="FCM returned no token when subscribing the user to push.",r[l.TOKEN_SUBSCRIBE_NO_PUSH_SET]="FCM returned an invalid response when getting an FCM token.",r[l.TOKEN_UNSUBSCRIBE_FAILED]="A problem occured while unsubscribing the user from FCM: {$message}",r[l.TOKEN_UPDATE_FAILED]="A problem occured while updating the user from FCM: {$message}",r[l.TOKEN_UPDATE_NO_TOKEN]="FCM returned no token when updating the user to push.",r[l.USE_SW_BEFORE_GET_TOKEN]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",r[l.INVALID_DELETE_TOKEN]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",r[l.DELETE_TOKEN_NOT_FOUND]="The deletion attempt for token could not be performed as the token was not found.",r[l.DELETE_SCOPE_NOT_FOUND]="The deletion attempt for service worker scope could not be performed as the scope was not found.",r[l.BG_HANDLER_FUNCTION_EXPECTED]="The input to setBackgroundMessageHandler() must be a function.",r[l.NO_WINDOW_CLIENT_TO_MSG]="An attempt was made to message a non-existant window client.",r[l.UNABLE_TO_RESUBSCRIBE]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",r[l.NO_FCM_TOKEN_FOR_RESUBSCRIBE]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",r[l.FAILED_TO_DELETE_TOKEN]="Unable to delete the currently saved token.",r[l.NO_SW_IN_REG]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",r[l.INCORRECT_GCM_SENDER_ID]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",r[l.BAD_SCOPE]="The service worker scope must be a string with at least one character.",r[l.BAD_VAPID_KEY]="The public VAPID key is not a Uint8Array with 65 bytes.",r[l.BAD_SUBSCRIPTION]="The subscription must be a valid PushSubscription.",r[l.BAD_TOKEN]="The FCM Token used for storage / lookup was not a valid token string.",r[l.BAD_PUSH_SET]="The FCM push set used for storage / lookup was not not a valid push set string.",r[l.FAILED_DELETE_VAPID_KEY]="The VAPID key could not be deleted.",r[l.INVALID_PUBLIC_VAPID_KEY]="The public VAPID key must be a string.",r[l.PUBLIC_KEY_DECRYPTION_FAILED]="The public VAPID key did not equal 65 bytes when decrypted.",r),f=new a.ErrorFactory("messaging","Messaging",h),d=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),p="https://fcm.googleapis.com";function v(t,e){if(null==t||null==e)return!1;if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(var n=new DataView(t),r=new DataView(e),i=0;i<t.byteLength;i++)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function g(t){return function(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(null,e))}(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}!function(t){t.TYPE_OF_MSG="firebase-messaging-msg-type",t.DATA="firebase-messaging-msg-data"}(i||(i={})),function(t){t.PUSH_MSG_RECEIVED="push-msg-received",t.NOTIFICATION_CLICKED="notification-clicked"}(o||(o={}));var m=function(){function t(){}return t.prototype.getToken=function(t,e,n){return Object(s.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,u,c,h,m;return Object(s.__generator)(this,function(s){switch(s.label){case 0:r=g(e.getKey("p256dh")),i=g(e.getKey("auth")),o="authorized_entity="+t+"&endpoint="+e.endpoint+"&encryption_key="+r+"&encryption_auth="+i,v(n.buffer,d.buffer)||(a=g(n),o+="&application_pub_key="+a),(u=new Headers).append("Content-Type","application/x-www-form-urlencoded"),c={method:"POST",headers:u,body:o},s.label=1;case 1:return s.trys.push([1,4,,5]),[4,fetch(p+"/fcm/connect/subscribe",c)];case 2:return[4,s.sent().json()];case 3:return h=s.sent(),[3,5];case 4:throw s.sent(),f.create(l.TOKEN_SUBSCRIBE_FAILED);case 5:if(h.error)throw m=h.error.message,f.create(l.TOKEN_SUBSCRIBE_FAILED,{message:m});if(!h.token)throw f.create(l.TOKEN_SUBSCRIBE_NO_TOKEN);if(!h.pushSet)throw f.create(l.TOKEN_SUBSCRIBE_NO_PUSH_SET);return[2,{token:h.token,pushSet:h.pushSet}]}})})},t.prototype.updateToken=function(t,e,n,r,i){return Object(s.__awaiter)(this,void 0,void 0,function(){var o,a,u,c,h,m,y,b;return Object(s.__generator)(this,function(s){switch(s.label){case 0:o=g(r.getKey("p256dh")),a=g(r.getKey("auth")),u="push_set="+n+"&token="+e+"&authorized_entity="+t+"&endpoint="+r.endpoint+"&encryption_key="+o+"&encryption_auth="+a,v(i.buffer,d.buffer)||(c=g(i),u+="&application_pub_key="+c),(h=new Headers).append("Content-Type","application/x-www-form-urlencoded"),m={method:"POST",headers:h,body:u},s.label=1;case 1:return s.trys.push([1,4,,5]),[4,fetch(p+"/fcm/connect/subscribe",m)];case 2:return[4,s.sent().json()];case 3:return y=s.sent(),[3,5];case 4:throw s.sent(),f.create(l.TOKEN_UPDATE_FAILED);case 5:if(y.error)throw b=y.error.message,f.create(l.TOKEN_UPDATE_FAILED,{message:b});if(!y.token)throw f.create(l.TOKEN_UPDATE_NO_TOKEN);return[2,y.token]}})})},t.prototype.deleteToken=function(t,e,n){return Object(s.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,u;return Object(s.__generator)(this,function(s){switch(s.label){case 0:r="authorized_entity="+t+"&token="+e+"&pushSet="+n,(i=new Headers).append("Content-Type","application/x-www-form-urlencoded"),o={method:"POST",headers:i,body:r},s.label=1;case 1:return s.trys.push([1,4,,5]),[4,fetch(p+"/fcm/connect/unsubscribe",o)];case 2:return[4,s.sent().json()];case 3:if((a=s.sent()).error)throw u=a.error.message,f.create(l.TOKEN_UNSUBSCRIBE_FAILED,{message:u});return[3,5];case 4:throw s.sent(),f.create(l.TOKEN_UNSUBSCRIBE_FAILED);case 5:return[2]}})})},t}();function y(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}var b="undefined",_="fcm_token_object_Store";function w(){var t=indexedDB.open(b);t.onerror=function(t){},t.onsuccess=function(e){!function(t){if(t.objectStoreNames.contains(_)){var e=t.transaction(_).objectStore(_),n=new m,r=e.openCursor();r.onerror=function(t){console.warn("Unable to cleanup old IDB.",t)},r.onsuccess=function(){var e=r.result;if(e){var i=e.value;n.deleteToken(i.fcmSenderId,i.fcmToken,i.fcmPushSet),e.continue()}else t.close(),indexedDB.deleteDatabase(b)}}}(t.result)}}var x=function(){function t(){this.dbPromise=null}return t.prototype.get=function(t){return this.createTransaction(function(e){return e.get(t)})},t.prototype.getIndex=function(t,e){return this.createTransaction(function(n){return n.index(t).get(e)})},t.prototype.put=function(t){return this.createTransaction(function(e){return e.put(t)},"readwrite")},t.prototype.delete=function(t){return this.createTransaction(function(e){return e.delete(t)},"readwrite")},t.prototype.closeDatabase=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(t){switch(t.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:t.sent().close(),this.dbPromise=null,t.label=2;case 2:return[2]}})})},t.prototype.createTransaction=function(t,e){return void 0===e&&(e="readonly"),Object(s.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(s.__generator)(this,function(a){switch(a.label){case 0:return[4,this.getDb()];case 1:return n=a.sent(),r=n.transaction(this.objectStoreName,e),i=r.objectStore(this.objectStoreName),[4,function(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}(t(i))];case 2:return o=a.sent(),[2,new Promise(function(t,e){r.oncomplete=function(){t(o)},r.onerror=function(){e(r.error)}})]}})})},t.prototype.getDb=function(){var t=this;return this.dbPromise||(this.dbPromise=new Promise(function(e,n){var r=indexedDB.open(t.dbName,t.dbVersion);r.onsuccess=function(){e(r.result)},r.onerror=function(){t.dbPromise=null,n(r.error)},r.onupgradeneeded=function(e){return t.onDbUpgrade(r,e)}})),this.dbPromise},t}();var E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dbName="fcm_token_details_db",e.dbVersion=3,e.objectStoreName="fcm_token_object_Store",e}return Object(s.__extends)(e,t),e.prototype.onDbUpgrade=function(t,e){var n=t.result;switch(e.oldVersion){case 0:(r=n.createObjectStore(this.objectStoreName,{keyPath:"swScope"})).createIndex("fcmSenderId","fcmSenderId",{unique:!1}),r.createIndex("fcmToken","fcmToken",{unique:!0});case 1:w();case 2:var r,i=(r=t.transaction.objectStore(this.objectStoreName)).openCursor();i.onsuccess=function(){var t=i.result;if(t){var e=t.value,n=Object(s.__assign)({},e);e.createTime||(n.createTime=Date.now()),"string"==typeof e.vapidKey&&(n.vapidKey=y(e.vapidKey)),"string"==typeof e.auth&&(n.auth=y(e.auth).buffer),"string"==typeof e.auth&&(n.p256dh=y(e.p256dh).buffer),t.update(n),t.continue()}}}},e.prototype.getTokenDetailsFromToken=function(t){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(e){if(!t)throw f.create(l.BAD_TOKEN);return C({fcmToken:t}),[2,this.getIndex("fcmToken",t)]})})},e.prototype.getTokenDetailsFromSWScope=function(t){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(e){if(!t)throw f.create(l.BAD_SCOPE);return C({swScope:t}),[2,this.get(t)]})})},e.prototype.saveTokenDetails=function(t){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(e){if(!t.swScope)throw f.create(l.BAD_SCOPE);if(!t.vapidKey)throw f.create(l.BAD_VAPID_KEY);if(!t.endpoint||!t.auth||!t.p256dh)throw f.create(l.BAD_SUBSCRIPTION);if(!t.fcmSenderId)throw f.create(l.BAD_SENDER_ID);if(!t.fcmToken)throw f.create(l.BAD_TOKEN);if(!t.fcmPushSet)throw f.create(l.BAD_PUSH_SET);return C(t),[2,this.put(t)]})})},e.prototype.deleteToken=function(t){return Object(s.__awaiter)(this,void 0,void 0,function(){var e;return Object(s.__generator)(this,function(n){switch(n.label){case 0:return"string"!=typeof t||0===t.length?[2,Promise.reject(f.create(l.INVALID_DELETE_TOKEN))]:[4,this.getTokenDetailsFromToken(t)];case 1:if(!(e=n.sent()))throw f.create(l.DELETE_TOKEN_NOT_FOUND);return[4,this.delete(e.swScope)];case 2:return n.sent(),[2,e]}})})},e}(x);function C(t){if(t.fcmToken&&("string"!=typeof t.fcmToken||0===t.fcmToken.length))throw f.create(l.BAD_TOKEN);if(t.swScope&&("string"!=typeof t.swScope||0===t.swScope.length))throw f.create(l.BAD_SCOPE);if(t.vapidKey&&(!(t.vapidKey instanceof Uint8Array)||65!==t.vapidKey.length))throw f.create(l.BAD_VAPID_KEY);if(t.endpoint&&("string"!=typeof t.endpoint||0===t.endpoint.length))throw f.create(l.BAD_SUBSCRIPTION);if(t.auth&&!(t.auth instanceof ArrayBuffer))throw f.create(l.BAD_SUBSCRIPTION);if(t.p256dh&&!(t.p256dh instanceof ArrayBuffer))throw f.create(l.BAD_SUBSCRIPTION);if(t.fcmSenderId&&("string"!=typeof t.fcmSenderId||0===t.fcmSenderId.length))throw f.create(l.BAD_SENDER_ID);if(t.fcmPushSet&&("string"!=typeof t.fcmPushSet||0===t.fcmPushSet.length))throw f.create(l.BAD_PUSH_SET)}var k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dbName="fcm_vapid_details_db",e.dbVersion=1,e.objectStoreName="fcm_vapid_object_Store",e}return Object(s.__extends)(e,t),e.prototype.onDbUpgrade=function(t){t.result.createObjectStore(this.objectStoreName,{keyPath:"swScope"})},e.prototype.getVapidFromSWScope=function(t){return Object(s.__awaiter)(this,void 0,void 0,function(){var e;return Object(s.__generator)(this,function(n){switch(n.label){case 0:if("string"!=typeof t||0===t.length)throw f.create(l.BAD_SCOPE);return[4,this.get(t)];case 1:return[2,(e=n.sent())?e.vapidKey:void 0]}})})},e.prototype.saveVapidDetails=function(t,e){return Object(s.__awaiter)(this,void 0,void 0,function(){var n;return Object(s.__generator)(this,function(r){if("string"!=typeof t||0===t.length)throw f.create(l.BAD_SCOPE);if(null===e||65!==e.length)throw f.create(l.BAD_VAPID_KEY);return n={swScope:t,vapidKey:e},[2,this.put(n)]})})},e.prototype.deleteVapidDetails=function(t){return Object(s.__awaiter)(this,void 0,void 0,function(){var e;return Object(s.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getVapidFromSWScope(t)];case 1:if(!(e=n.sent()))throw f.create(l.DELETE_SCOPE_NOT_FOUND);return[4,this.delete(t)];case 2:return n.sent(),[2,e]}})})},e}(x),T="messagingSenderId",S=function(){function t(t){var e=this;if(!t.options[T]||"string"!=typeof t.options[T])throw f.create(l.BAD_SENDER_ID);this.messagingSenderId=t.options[T],this.tokenDetailsModel=new E,this.vapidDetailsModel=new k,this.iidModel=new m,this.app=t,this.INTERNAL={delete:function(){return e.delete()}}}return t.prototype.getToken=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(s.__generator)(this,function(o){switch(o.label){case 0:if("denied"===(t=this.getNotificationPermission_()))throw f.create(l.NOTIFICATIONS_BLOCKED);return"granted"!==t?[2,null]:[4,this.getSWRegistration_()];case 1:return e=o.sent(),[4,this.getPublicVapidKey_()];case 2:return n=o.sent(),[4,this.getPushSubscription(e,n)];case 3:return r=o.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(e.scope)];case 4:return(i=o.sent())?[2,this.manageExistingToken(e,r,n,i)]:[2,this.getNewToken(e,r,n)]}})})},t.prototype.manageExistingToken=function(t,e,n,r){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(i){switch(i.label){case 0:return function(t,e,n){if(!n.vapidKey||!v(e.buffer,n.vapidKey.buffer))return!1;var r=t.endpoint===n.endpoint,i=v(t.getKey("auth"),n.auth),o=v(t.getKey("p256dh"),n.p256dh);return r&&i&&o}(e,n,r)?Date.now()<r.createTime+6048e5?[2,r.fcmToken]:[2,this.updateToken(t,e,n,r)]:[4,this.deleteTokenFromDB(r.fcmToken)];case 1:return i.sent(),[2,this.getNewToken(t,e,n)]}})})},t.prototype.updateToken=function(t,e,n,r){return Object(s.__awaiter)(this,void 0,void 0,function(){var i,o,a;return Object(s.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,6]),[4,this.iidModel.updateToken(this.messagingSenderId,r.fcmToken,r.fcmPushSet,e,n)];case 1:return i=s.sent(),o={swScope:t.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:i,fcmPushSet:r.fcmPushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(o)];case 2:return s.sent(),[4,this.vapidDetailsModel.saveVapidDetails(t.scope,n)];case 3:return s.sent(),[2,i];case 4:return a=s.sent(),[4,this.deleteToken(r.fcmToken)];case 5:throw s.sent(),a;case 6:return[2]}})})},t.prototype.getNewToken=function(t,e,n){return Object(s.__awaiter)(this,void 0,void 0,function(){var r,i;return Object(s.__generator)(this,function(o){switch(o.label){case 0:return[4,this.iidModel.getToken(this.messagingSenderId,e,n)];case 1:return r=o.sent(),i={swScope:t.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:r.token,fcmPushSet:r.pushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(i)];case 2:return o.sent(),[4,this.vapidDetailsModel.saveVapidDetails(t.scope,n)];case 3:return o.sent(),[2,r.token]}})})},t.prototype.deleteToken=function(t){return Object(s.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(s.__generator)(this,function(r){switch(r.label){case 0:return[4,this.deleteTokenFromDB(t)];case 1:return r.sent(),[4,this.getSWRegistration_()];case 2:return(e=r.sent())?[4,e.pushManager.getSubscription()]:[3,4];case 3:if(n=r.sent())return[2,n.unsubscribe()];r.label=4;case 4:return[2,!0]}})})},t.prototype.deleteTokenFromDB=function(t){return Object(s.__awaiter)(this,void 0,void 0,function(){var e;return Object(s.__generator)(this,function(n){switch(n.label){case 0:return[4,this.tokenDetailsModel.deleteToken(t)];case 1:return e=n.sent(),[4,this.iidModel.deleteToken(e.fcmSenderId,e.fcmToken,e.fcmPushSet)];case 2:return n.sent(),[2]}})})},t.prototype.getPushSubscription=function(t,e){return t.pushManager.getSubscription().then(function(n){return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})})},t.prototype.requestPermission=function(){throw f.create(l.AVAILABLE_IN_WINDOW)},t.prototype.useServiceWorker=function(t){throw f.create(l.AVAILABLE_IN_WINDOW)},t.prototype.usePublicVapidKey=function(t){throw f.create(l.AVAILABLE_IN_WINDOW)},t.prototype.onMessage=function(t,e,n){throw f.create(l.AVAILABLE_IN_WINDOW)},t.prototype.onTokenRefresh=function(t,e,n){throw f.create(l.AVAILABLE_IN_WINDOW)},t.prototype.setBackgroundMessageHandler=function(t){throw f.create(l.AVAILABLE_IN_SW)},t.prototype.delete=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(t){switch(t.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];case 1:return t.sent(),[2]}})})},t.prototype.getNotificationPermission_=function(){return Notification.permission},t.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},t.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},t.prototype.getIidModel=function(){return this.iidModel},t}();var O=function(t){function e(e){var n=t.call(this,e)||this;return n.bgMessageHandler=null,self.addEventListener("push",function(t){n.onPush(t)}),self.addEventListener("pushsubscriptionchange",function(t){n.onSubChange(t)}),self.addEventListener("notificationclick",function(t){n.onNotificationClick(t)}),n}return Object(s.__extends)(e,t),e.prototype.onPush=function(t){t.waitUntil(this.onPush_(t))},e.prototype.onSubChange=function(t){t.waitUntil(this.onSubChange_(t))},e.prototype.onNotificationClick=function(t){t.waitUntil(this.onNotificationClick_(t))},e.prototype.onPush_=function(t){return Object(s.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o,a;return Object(s.__generator)(this,function(s){switch(s.label){case 0:if(!t.data)return[2];try{e=t.data.json()}catch(t){return[2]}return[4,this.hasVisibleClients_()];case 1:return s.sent()?[2,this.sendMessageToWindowClients_(e)]:(n=this.getNotificationData_(e))?(r=n.title||"",[4,this.getSWRegistration_()]):[3,3];case 2:return i=s.sent(),o=n.actions,a=Notification.maxActions,o&&a&&o.length>a&&console.warn("This browser only supports "+a+" actions.The remaining actions will not be displayed."),[2,i.showNotification(r,n)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(e)]:[3,5];case 4:return s.sent(),[2];case 5:return[2]}})})},e.prototype.onSubChange_=function(t){return Object(s.__awaiter)(this,void 0,void 0,function(){var t,e,n,r;return Object(s.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return t=i.sent(),[3,3];case 2:throw e=i.sent(),f.create(l.UNABLE_TO_RESUBSCRIBE,{message:e});case 3:return i.trys.push([3,5,,8]),[4,t.pushManager.getSubscription()];case 4:return i.sent(),[3,8];case 5:return n=i.sent(),[4,this.getTokenDetailsModel().getTokenDetailsFromSWScope(t.scope)];case 6:if(!(r=i.sent()))throw n;return[4,this.deleteToken(r.fcmToken)];case 7:throw i.sent(),n;case 8:return[2]}})})},e.prototype.onNotificationClick_=function(t){return Object(s.__awaiter)(this,void 0,void 0,function(){var e,n,r,i;return Object(s.__generator)(this,function(a){switch(a.label){case 0:return t.notification&&t.notification.data&&t.notification.data.FCM_MSG?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(e=t.notification.data.FCM_MSG).notification&&(n=e.fcmOptions&&e.fcmOptions.link||e.notification.click_action)?[4,this.getWindowClient_(n)]:[2]):[2];case 1:return(r=a.sent())?[3,3]:[4,self.clients.openWindow(n)];case 2:return r=a.sent(),[3,5];case 3:return[4,r.focus()];case 4:r=a.sent(),a.label=5;case 5:return r?(delete e.notification,delete e.fcmOptions,i=A(o.NOTIFICATION_CLICKED,e),[2,this.attemptToMessageClient_(r,i)]):[2]}})})},e.prototype.getNotificationData_=function(t){if(t&&"object"==typeof t.notification){var e,n=Object(s.__assign)({},t.notification);return n.data=Object(s.__assign)({},t.notification.data,((e={}).FCM_MSG=t,e)),n}},e.prototype.setBackgroundMessageHandler=function(t){if(!t||"function"!=typeof t)throw f.create(l.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler=t},e.prototype.getWindowClient_=function(t){return Object(s.__awaiter)(this,void 0,void 0,function(){var e,n,r,i;return Object(s.__generator)(this,function(o){switch(o.label){case 0:return e=new URL(t,self.location.href).href,[4,M()];case 1:for(n=o.sent(),r=null,i=0;i<n.length;i++)if(new URL(n[i].url,self.location.href).href===e){r=n[i];break}return[2,r]}})})},e.prototype.attemptToMessageClient_=function(t,e){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(n){if(!t)throw f.create(l.NO_WINDOW_CLIENT_TO_MSG);return t.postMessage(e),[2]})})},e.prototype.hasVisibleClients_=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(t){switch(t.label){case 0:return[4,M()];case 1:return[2,t.sent().some(function(t){return"visible"===t.visibilityState})]}})})},e.prototype.sendMessageToWindowClients_=function(t){return Object(s.__awaiter)(this,void 0,void 0,function(){var e,n,r=this;return Object(s.__generator)(this,function(i){switch(i.label){case 0:return[4,M()];case 1:return e=i.sent(),n=A(o.PUSH_MSG_RECEIVED,t),[4,Promise.all(e.map(function(t){return r.attemptToMessageClient_(t,n)}))];case 2:return i.sent(),[2]}})})},e.prototype.getSWRegistration_=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(t){return[2,self.registration]})})},e.prototype.getPublicVapidKey_=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(s.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getSWRegistration_()];case 1:if(!(t=n.sent()))throw f.create(l.SW_REGISTRATION_EXPECTED);return[4,this.getVapidDetailsModel().getVapidFromSWScope(t.scope)];case 2:return null==(e=n.sent())?[2,d]:[2,e]}})})},e}(S);function M(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function A(t,e){return(n={})[i.TYPE_OF_MSG]=t,n[i.DATA]=e,n;var n}var P=function(t){function e(e){var n=t.call(this,e)||this;return n.registrationToUse=null,n.publicVapidKeyToUse=null,n.manifestCheckPromise=null,n.messageObserver=null,n.tokenRefreshObserver=null,n.onMessageInternal=Object(a.createSubscribe)(function(t){n.messageObserver=t}),n.onTokenRefreshInternal=Object(a.createSubscribe)(function(t){n.tokenRefreshObserver=t}),n.setupSWMessageListener_(),n}return Object(s.__extends)(e,t),e.prototype.getToken=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(e){switch(e.label){case 0:return this.manifestCheckPromise||(this.manifestCheckPromise=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(s.__generator)(this,function(n){switch(n.label){case 0:if(!(t=document.querySelector('link[rel="manifest"]')))return[2];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch(t.href)];case 2:return[4,n.sent().json()];case 3:return e=n.sent(),[3,5];case 4:return n.sent(),[2];case 5:if(!e||!e.gcm_sender_id)return[2];if("103953800507"!==e.gcm_sender_id)throw f.create(l.INCORRECT_GCM_SENDER_ID);return[2]}})})}()),[4,this.manifestCheckPromise];case 1:return e.sent(),[2,t.prototype.getToken.call(this)]}})})},e.prototype.requestPermission=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){var t;return Object(s.__generator)(this,function(e){switch(e.label){case 0:return"granted"===this.getNotificationPermission_()?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?f.create(l.PERMISSION_BLOCKED):f.create(l.PERMISSION_DEFAULT)}})})},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw f.create(l.SW_REGISTRATION_EXPECTED);if(null!=this.registrationToUse)throw f.create(l.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse=t},e.prototype.usePublicVapidKey=function(t){if("string"!=typeof t)throw f.create(l.INVALID_PUBLIC_VAPID_KEY);if(null!=this.publicVapidKeyToUse)throw f.create(l.USE_PUBLIC_KEY_BEFORE_GET_TOKEN);var e=y(t);if(65!==e.length)throw f.create(l.PUBLIC_KEY_DECRYPTION_FAILED);this.publicVapidKeyToUse=e},e.prototype.onMessage=function(t,e,n){return"function"==typeof t?this.onMessageInternal(t,e,n):this.onMessageInternal(t)},e.prototype.onTokenRefresh=function(t,e,n){return"function"==typeof t?this.onTokenRefreshInternal(t,e,n):this.onTokenRefreshInternal(t)},e.prototype.waitForRegistrationToActivate_=function(t){var e=t.installing||t.waiting||t.active;return new Promise(function(n,r){if(e)if("activated"!==e.state)if("redundant"!==e.state){var i=function(){if("activated"===e.state)n(t);else{if("redundant"!==e.state)return;r(f.create(l.SW_REG_REDUNDANT))}e.removeEventListener("statechange",i)};e.addEventListener("statechange",i)}else r(f.create(l.SW_REG_REDUNDANT));else n(t);else r(f.create(l.NO_SW_IN_REG))})},e.prototype.getSWRegistration_=function(){var t=this;return this.registrationToUse?this.waitForRegistrationToActivate_(this.registrationToUse):(this.registrationToUse=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(t){throw f.create(l.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:t.message})}).then(function(e){return t.waitForRegistrationToActivate_(e).then(function(){return t.registrationToUse=e,e.update(),e})}))},e.prototype.getPublicVapidKey_=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(t){return this.publicVapidKeyToUse?[2,this.publicVapidKeyToUse]:[2,d]})})},e.prototype.setupSWMessageListener_=function(){var t=this;navigator.serviceWorker.addEventListener("message",function(e){if(e.data&&e.data[i.TYPE_OF_MSG]){var n=e.data;switch(n[i.TYPE_OF_MSG]){case o.PUSH_MSG_RECEIVED:case o.NOTIFICATION_CLICKED:var r=n[i.DATA];t.messageObserver&&t.messageObserver.next(r)}}},!1)},e}(S);function I(t){var e={isSupported:N};t.INTERNAL.registerService("messaging",function(t){if(!N())throw f.create(l.UNSUPPORTED_BROWSER);return self&&"ServiceWorkerGlobalScope"in self?new O(t):new P(t)},e)}function N(){return self&&"ServiceWorkerGlobalScope"in self?"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}I(c.a)},e6n0:function(t,e,n){var r=n("evD5").f,i=n("D2L2"),o=n("dSzd")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},e8AB:function(t,e,n){var r=n("FeBl"),i=n("7KvD"),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("O4g8")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},evD5:function(t,e,n){var r=n("77Pl"),i=n("SfB7"),o=n("MmMw"),a=Object.defineProperty;e.f=n("+E39")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},exh5:function(t,e,n){var r=n("kM2E");r(r.S,"Object",{setPrototypeOf:n("ZaQb").set})},fBQ2:function(t,e,n){"use strict";var r=n("evD5"),i=n("X8DO");t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},fJUb:function(t,e,n){var r=n("77Pl"),i=n("EqjI"),o=n("qARP");t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},fS6E:function(t,e,n){n("Kh5d"),t.exports=n("FeBl").Object.getPrototypeOf},fWfb:function(t,e,n){"use strict";var r=n("7KvD"),i=n("D2L2"),o=n("+E39"),a=n("kM2E"),s=n("880/"),u=n("06OY").KEY,c=n("S82l"),l=n("e8AB"),h=n("e6n0"),f=n("3Eo+"),d=n("dSzd"),p=n("Kh4W"),v=n("crlp"),g=n("Xc4G"),m=n("7UMu"),y=n("77Pl"),b=n("EqjI"),_=n("TcQ7"),w=n("MmMw"),x=n("X8DO"),E=n("Yobk"),C=n("Rrel"),k=n("LKZe"),T=n("evD5"),S=n("lktj"),O=k.f,M=T.f,A=C.f,P=r.Symbol,I=r.JSON,N=I&&I.stringify,D=d("_hidden"),R=d("toPrimitive"),j={}.propertyIsEnumerable,L=l("symbol-registry"),F=l("symbols"),B=l("op-symbols"),$=Object.prototype,U="function"==typeof P,z=r.QObject,q=!z||!z.prototype||!z.prototype.findChild,V=o&&c(function(){return 7!=E(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=O($,e);r&&delete $[e],M(t,e,n),r&&t!==$&&M($,e,r)}:M,H=function(t){var e=F[t]=E(P.prototype);return e._k=t,e},W=U&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},G=function(t,e,n){return t===$&&G(B,e,n),y(t),e=w(e,!0),y(n),i(F,e)?(n.enumerable?(i(t,D)&&t[D][e]&&(t[D][e]=!1),n=E(n,{enumerable:x(0,!1)})):(i(t,D)||M(t,D,x(1,{})),t[D][e]=!0),V(t,e,n)):M(t,e,n)},K=function(t,e){y(t);for(var n,r=g(e=_(e)),i=0,o=r.length;o>i;)G(t,n=r[i++],e[n]);return t},Y=function(t){var e=j.call(this,t=w(t,!0));return!(this===$&&i(F,t)&&!i(B,t))&&(!(e||!i(this,t)||!i(F,t)||i(this,D)&&this[D][t])||e)},Q=function(t,e){if(t=_(t),e=w(e,!0),t!==$||!i(F,e)||i(B,e)){var n=O(t,e);return!n||!i(F,e)||i(t,D)&&t[D][e]||(n.enumerable=!0),n}},X=function(t){for(var e,n=A(_(t)),r=[],o=0;n.length>o;)i(F,e=n[o++])||e==D||e==u||r.push(e);return r},J=function(t){for(var e,n=t===$,r=A(n?B:_(t)),o=[],a=0;r.length>a;)!i(F,e=r[a++])||n&&!i($,e)||o.push(F[e]);return o};U||(s((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===$&&e.call(B,n),i(this,D)&&i(this[D],t)&&(this[D][t]=!1),V(this,t,x(1,n))};return o&&q&&V($,t,{configurable:!0,set:e}),H(t)}).prototype,"toString",function(){return this._k}),k.f=Q,T.f=G,n("n0T6").f=C.f=X,n("NpIQ").f=Y,n("1kS7").f=J,o&&!n("O4g8")&&s($,"propertyIsEnumerable",Y,!0),p.f=function(t){return H(d(t))}),a(a.G+a.W+a.F*!U,{Symbol:P});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)d(Z[tt++]);for(var et=S(d.store),nt=0;et.length>nt;)v(et[nt++]);a(a.S+a.F*!U,"Symbol",{for:function(t){return i(L,t+="")?L[t]:L[t]=P(t)},keyFor:function(t){if(!W(t))throw TypeError(t+" is not a symbol!");for(var e in L)if(L[e]===t)return e},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!U,"Object",{create:function(t,e){return void 0===e?E(t):K(E(t),e)},defineProperty:G,defineProperties:K,getOwnPropertyDescriptor:Q,getOwnPropertyNames:X,getOwnPropertySymbols:J}),I&&a(a.S+a.F*(!U||c(function(){var t=P();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!W(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,N.apply(I,r)}}),P.prototype[R]||n("hJx8")(P.prototype,R,P.prototype.valueOf),h(P,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},fZjL:function(t,e,n){t.exports={default:n("jFbC"),__esModule:!0}},fhbW:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"f",function(){return u});
/*!
 * Font Awesome Free 5.3.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */
var r={prefix:"fas",iconName:"arrow-left",icon:[448,512,[],"f060","M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"]},i={prefix:"fas",iconName:"exchange-alt",icon:[512,512,[],"f362","M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"]},o={prefix:"fas",iconName:"hand-pointer",icon:[448,512,[],"f25a","M448 240v96c0 3.084-.356 6.159-1.063 9.162l-32 136C410.686 499.23 394.562 512 376 512H168a40.004 40.004 0 0 1-32.35-16.473l-127.997-176c-12.993-17.866-9.043-42.883 8.822-55.876 17.867-12.994 42.884-9.043 55.877 8.823L104 315.992V40c0-22.091 17.908-40 40-40s40 17.909 40 40v200h8v-40c0-22.091 17.908-40 40-40s40 17.909 40 40v40h8v-24c0-22.091 17.908-40 40-40s40 17.909 40 40v24h8c0-22.091 17.908-40 40-40s40 17.909 40 40zm-256 80h-8v96h8v-96zm88 0h-8v96h8v-96zm88 0h-8v96h8v-96z"]},a={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},s={prefix:"fas",iconName:"sync",icon:[512,512,[],"f021","M440.935 12.574l3.966 82.766C399.416 41.904 331.674 8 256 8 134.813 8 33.933 94.924 12.296 209.824 10.908 217.193 16.604 224 24.103 224h49.084c5.57 0 10.377-3.842 11.676-9.259C103.407 137.408 172.931 80 256 80c60.893 0 114.512 30.856 146.104 77.801l-101.53-4.865c-6.845-.328-12.574 5.133-12.574 11.986v47.411c0 6.627 5.373 12 12 12h200.333c6.627 0 12-5.373 12-12V12c0-6.627-5.373-12-12-12h-47.411c-6.853 0-12.315 5.729-11.987 12.574zM256 432c-60.895 0-114.517-30.858-146.109-77.805l101.868 4.871c6.845.327 12.573-5.134 12.573-11.986v-47.412c0-6.627-5.373-12-12-12H12c-6.627 0-12 5.373-12 12V500c0 6.627 5.373 12 12 12h47.385c6.863 0 12.328-5.745 11.985-12.599l-4.129-82.575C112.725 470.166 180.405 504 256 504c121.187 0 222.067-86.924 243.704-201.824 1.388-7.369-4.308-14.176-11.807-14.176h-49.084c-5.57 0-10.377 3.842-11.676 9.259C408.593 374.592 339.069 432 256 432z"]},u={prefix:"fas",iconName:"table",icon:[512,512,[],"f0ce","M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64v-96h160v96zm0-160H64v-96h160v96zm224 160H288v-96h160v96zm0-160H288v-96h160v96z"]}},fjI4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"setLogLevel",function(){return u}),n.d(e,"Logger",function(){return s}),n.d(e,"LogLevel",function(){return r});var r,i=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(r||(r={}));var o=r.INFO,a=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},s=function(){function t(t){this.name=t,this._logLevel=o,this._logHandler=a,i.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.ERROR].concat(t))},t}();function u(t){i.forEach(function(e){e.logLevel=t})}},fkB2:function(t,e,n){var r=n("UuGF"),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},fqSz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var e=n("O4tu"),r=n.n(e);(function(){var t,e=e||{},n=this;function i(t){return"string"==typeof t}function o(t){return"boolean"==typeof t}function a(){}function s(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function u(t){return null===t}function c(t){return"array"==s(t)}function l(t){var e=s(t);return"array"==e||"object"==e&&"number"==typeof t.length}function h(t){return"function"==s(t)}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function m(t,e,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:g).apply(null,arguments)}function y(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var b=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.nb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.dd=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function w(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function x(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function E(t){if(Error.captureStackTrace)Error.captureStackTrace(this,E);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function C(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");E.call(this,n+t[r])}function k(t,e){throw new C("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function T(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function S(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function O(){this.b=this.a=null}_(E,Error),E.prototype.name="CustomError",_(C,E),C.prototype.name="AssertionError",T.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var M=new T(function(){return new P},function(t){t.reset()});function A(){var t=dt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function P(){this.next=this.b=this.a=null}O.prototype.add=function(t,e){var n=M.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},P.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},P.prototype.reset=function(){this.next=this.b=this.a=null};var I=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(i(t))return i(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},N=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,o=i(t)?t.split(""):t,a=0;a<r;a++)a in o&&e.call(n,o[a],a,t)};var D=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),o=i(t)?t.split(""):t,a=0;a<n;a++)a in o&&(r[a]=e.call(void 0,o[a],a,t));return r},R=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=i(t)?t.split(""):t,o=0;o<n;o++)if(o in r&&e.call(void 0,r[o],o,t))return!0;return!1};function j(t,e){return 0<=I(t,e)}function L(t,e){var n;return(n=0<=(e=I(t,e)))&&Array.prototype.splice.call(t,e,1),n}function F(t,e){!function(t,e){var n=t.length,r=i(t)?t.split(""):t;for(--n;0<=n;--n)n in r&&e.call(void 0,r[n],n,t)}(t,function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0})}function B(t){return Array.prototype.concat.apply([],arguments)}function $(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function U(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}var z=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function q(t){return X.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(H,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(W,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(G,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(K,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(Y,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(Q,"&#0;")),t):t}var V,H=/&/g,W=/</g,G=/>/g,K=/"/g,Y=/'/g,Q=/\x00/g,X=/[\x00&<>"']/;function J(t,e){return-1!=t.indexOf(e)}function Z(t,e){return t<e?-1:t>e?1:0}t:{var tt=n.navigator;if(tt){var et=tt.userAgent;if(et){V=et;break t}}V=""}function nt(t){return J(V,t)}function rt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function it(t){for(var e in t)return!1;return!0}function ot(t){var e,n={};for(e in t)n[e]=t[e];return n}var at,st,ut="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ut.length;o++)n=ut[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function lt(t){n.setTimeout(function(){throw t},0)}function ht(t,e){st||function(){if(n.Promise&&n.Promise.resolve){var t=n.Promise.resolve(void 0);st=function(){t.then(pt)}}else st=function(){var t=pt;!h(n.setImmediate)||n.Window&&n.Window.prototype&&!nt("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(at||(at=function(){var t=n.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!nt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=m(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!nt("Trident")&&!nt("MSIE")){var e=new t,r={},i=r;return e.port1.onmessage=function(){if(void 0!==r.next){var t=(r=r.next).vb;r.vb=null,t()}},function(t){i.next={vb:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}}()),at(t)):n.setImmediate(t)}}(),ft||(st(),ft=!0),dt.add(t,e)}var ft=!1,dt=new O;function pt(){for(var t;t=A();){try{t.a.call(t.b)}catch(t){lt(t)}S(M,t)}ft=!1}function vt(t,e){if(this.a=gt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=a)try{var n=this;t.call(e,function(t){Ot(n,mt,t)},function(t){if(!(t instanceof Rt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Ot(n,yt,t)})}catch(t){Ot(this,yt,t)}}var gt=0,mt=2,yt=3;function bt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}bt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var _t=new T(function(){return new bt},function(t){t.reset()});function wt(t,e,n){var r=_t.get();return r.g=t,r.b=e,r.f=n,r}function xt(t){if(t instanceof vt)return t;var e=new vt(a);return Ot(e,mt,t),e}function Et(t){return new vt(function(e,n){n(t)})}function Ct(t,e,n){Mt(t,e,n,null)||ht(y(e,t))}function kt(t){return new vt(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Cb:!0,value:o}:{Cb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ct(t[o],y(i,o,!0),y(i,o,!1));else e(r)})}function Tt(t,e){t.b||t.a!=mt&&t.a!=yt||At(t),t.f?t.f.next=e:t.b=e,t.f=e}function St(t,e,n,r){var i=wt(null,null,null);return i.a=new vt(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Rt?o(e):t(i)}catch(t){o(t)}}:o}),i.a.c=t,Tt(t,i),i.a}function Ot(t,e,n){t.a==gt&&(t===n&&(e=yt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Mt(n,t.Mc,t.Nc,t)||(t.i=n,t.a=e,t.c=null,At(t),e!=yt||n instanceof Rt||function(t,e){t.g=!0,ht(function(){t.g&&Dt.call(null,e)})}(t,n)))}function Mt(t,e,n,r){if(t instanceof vt)return Tt(t,wt(e||a,n||null,r)),!0;if(x(t))return t.then(e,n,r),!0;if(f(t))try{var i=t.then;if(h(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function At(t){t.h||(t.h=!0,ht(t.Xb,t))}function Pt(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function It(t,e,n,r){if(n==yt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Nt(e,n,r);else try{e.c?e.g.call(e.f):Nt(e,n,r)}catch(t){Dt.call(null,t)}S(_t,e)}function Nt(t,e,n){e==mt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}vt.prototype.then=function(t,e,n){return St(this,h(t)?t:null,h(e)?e:null,n)},w(vt),(t=vt.prototype).ia=function(t,e){return(t=wt(t,t,e)).c=!0,Tt(this,t),this},t.s=function(t,e){return St(this,null,t,e)},t.cancel=function(t){this.a==gt&&ht(function(){!function t(e,n){if(e.a==gt)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==gt&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Pt(r),It(r,o,yt,n)))}e.c=null}else Ot(e,yt,n)}(this,new Rt(t))},this)},t.Mc=function(t){this.a=gt,Ot(this,mt,t)},t.Nc=function(t){this.a=gt,Ot(this,yt,t)},t.Xb=function(){for(var t;t=Pt(this);)It(this,t,this.a,this.i);this.h=!1};var Dt=lt;function Rt(t){E.call(this,t)}function jt(){0!=Lt&&(Ft[this[d]||(this[d]=++p)]=this),this.pa=this.pa,this.ja=this.ja}_(Rt,E),Rt.prototype.name="cancel";var Lt=0,Ft={};function Bt(t){if(!t.pa&&(t.pa=!0,t.ua(),0!=Lt)){var e=t[d]||(t[d]=++p);if(0!=Lt&&t.ja&&0<t.ja.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ft[e]}}function $t(t){return $t[" "](t),t}jt.prototype.pa=!1,jt.prototype.ua=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},$t[" "]=a;var Ut,zt,qt=nt("Opera"),Vt=nt("Trident")||nt("MSIE"),Ht=nt("Edge"),Wt=Ht||Vt,Gt=nt("Gecko")&&!(J(V.toLowerCase(),"webkit")&&!nt("Edge"))&&!(nt("Trident")||nt("MSIE"))&&!nt("Edge"),Kt=J(V.toLowerCase(),"webkit")&&!nt("Edge");function Yt(){var t=n.document;return t?t.documentMode:void 0}t:{var Qt="",Xt=(zt=V,Gt?/rv:([^\);]+)(\)|;)/.exec(zt):Ht?/Edge\/([\d\.]+)/.exec(zt):Vt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(zt):Kt?/WebKit\/(\S+)/.exec(zt):qt?/(?:Version)[ \/]?(\S+)/.exec(zt):void 0);if(Xt&&(Qt=Xt?Xt[1]:""),Vt){var Jt=Yt();if(null!=Jt&&Jt>parseFloat(Qt)){Ut=String(Jt);break t}}Ut=Qt}var Zt,te={};function ee(t){return function(t,e){var n=te;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(){for(var e=0,n=z(String(Ut)).split("."),r=z(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Z(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Z(0==a[2].length,0==s[2].length)||Z(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var ne=n.document;Zt=ne&&Vt?Yt()||("CSS1Compat"==ne.compatMode?parseInt(Ut,10):5):void 0;var re=Object.freeze||function(t){return t},ie=!Vt||9<=Number(Zt),oe=Vt&&!ee("9"),ae=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return n.addEventListener("test",a,e),n.removeEventListener("test",a,e),t}();function se(t,e){this.type=t,this.b=this.target=e,this.Jb=!0}function ue(t,e){if(se.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Gt){t:{try{$t(e.nodeName);var o=!0;break t}catch(t){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=i(t.pointerType)?t.pointerType:ce[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}se.prototype.preventDefault=function(){this.Jb=!1},_(ue,se);var ce=re({2:"touch",3:"pen",4:"mouse"});ue.prototype.preventDefault=function(){ue.nb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,oe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},ue.prototype.f=function(){return this.a};var le="closure_listenable_"+(1e6*Math.random()|0),he=0;function fe(t){t.na=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function de(t){this.src=t,this.a={},this.b=0}function pe(t,e){var n=e.type;n in t.a&&L(t.a[n],e)&&(fe(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function ve(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.na&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}de.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ve(t,e,r,i);return-1<a?(e=t[a],n||(e.Ia=!1)):((e=new function(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.La=i,this.key=++he,this.na=this.Ia=!1}(e,this.src,o,!!r,i)).Ia=n,t.push(e)),e};var ge="closure_lm_"+(1e6*Math.random()|0),me={};function ye(t,e,n,r,i){if(r&&r.once)_e(t,e,n,r,i);else if(c(e))for(var o=0;o<e.length;o++)ye(t,e[o],n,r,i);else n=Me(n),t&&t[le]?Pe(t,e,n,f(r)?!!r.capture:!!r,i):be(t,e,n,!1,r,i)}function be(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=f(i)?!!i.capture:!!i,s=Se(t);if(s||(t[ge]=s=new de(t)),!(n=s.add(e,n,r,a,o)).proxy){if(r=function(){var t=Te,e=ie?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ae||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ee(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function _e(t,e,n,r,i){if(c(e))for(var o=0;o<e.length;o++)_e(t,e[o],n,r,i);else n=Me(n),t&&t[le]?Ie(t,e,n,f(r)?!!r.capture:!!r,i):be(t,e,n,!0,r,i)}function we(t,e,n,r,i){if(c(e))for(var o=0;o<e.length;o++)we(t,e[o],n,r,i);else r=f(r)?!!r.capture:!!r,n=Me(n),t&&t[le]?(t=t.l,(e=String(e).toString())in t.a&&(-1<(n=ve(o=t.a[e],n,r,i))&&(fe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Se(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ve(e,n,r,i)),(n=-1<t?e[t]:null)&&xe(n))}function xe(t){if("number"!=typeof t&&t&&!t.na){var e=t.src;if(e&&e[le])pe(e.l,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ee(n),r):e.addListener&&e.removeListener&&e.removeListener(r),0,(n=Se(e))?(pe(n,t),0==n.b&&(n.src=null,e[ge]=null)):fe(t)}}}function Ee(t){return t in me?me[t]:me[t]="on"+t}function Ce(t,e,n,r){var i=!0;if((t=Se(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.na&&(o=ke(o,r),i=i&&!1!==o)}return i}function ke(t,e){var n=t.listener,r=t.La||t.src;return t.Ia&&xe(t),n.call(r,e)}function Te(t,e){if(t.na)return!0;if(!ie){if(!e)t:{e=["window","event"];for(var r=n,i=0;i<e.length;i++)if(null==(r=r[e[i]])){e=null;break t}e=r}if(e=new ue(i=e,this),r=!0,!(0>i.keyCode||void 0!=i.returnValue)){t:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(t){o=!0}(o||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=e.b;o;o=o.parentNode)i.push(o);for(t=t.type,o=i.length-1;0<=o;o--){e.b=i[o];var a=Ce(i[o],t,!0,e);r=r&&a}for(o=0;o<i.length;o++)e.b=i[o],a=Ce(i[o],t,!1,e),r=r&&a}return r}return ke(t,new ue(e,this))}function Se(t){return(t=t[ge])instanceof de?t:null}var Oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Me(t){return h(t)?t:(t[Oe]||(t[Oe]=function(e){return t.handleEvent(e)}),t[Oe])}function Ae(){jt.call(this),this.l=new de(this),this.Qb=this,this.Ua=null}function Pe(t,e,n,r,i){t.l.add(String(e),n,!1,r,i)}function Ie(t,e,n,r,i){t.l.add(String(e),n,!0,r,i)}function Ne(t,e,n,r){if(!(e=t.l.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.na&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ia&&pe(t.l,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Jb}function De(t,e,r){if(h(t))r&&(t=m(t,r));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=m(t.handleEvent,t)}return 2147483647<Number(e)?-1:n.setTimeout(t,e||0)}function Re(t){var e=null;return new vt(function(n,r){-1==(e=De(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw n.clearTimeout(e),t})}function je(t){if(t.S&&"function"==typeof t.S)return t.S();if(i(t))return t.split("");if(l(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Le(t){if(t.U&&"function"==typeof t.U)return t.U();if(!t.S||"function"!=typeof t.S){if(l(t)||i(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Fe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Fe)for(n=t.U(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Be(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];$e(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)$e(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function $e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(Ae,jt),Ae.prototype[le]=!0,Ae.prototype.addEventListener=function(t,e,n,r){ye(this,t,e,n,r)},Ae.prototype.removeEventListener=function(t,e,n,r){we(this,t,e,n,r)},Ae.prototype.dispatchEvent=function(t){var e,n=this.Ua;if(n)for(e=[];n;n=n.Ua)e.push(n);n=this.Qb;var r=t.type||t;if(i(t))t=new se(t,n);else if(t instanceof se)t.target=t.target||n;else{var o=t;ct(t=new se(r,n),o)}if(o=!0,e)for(var a=e.length-1;0<=a;a--){var s=t.b=e[a];o=Ne(s,r,!0,t)&&o}if(o=Ne(s=t.b=n,r,!0,t)&&o,o=Ne(s,r,!1,t)&&o,e)for(a=0;a<e.length;a++)o=Ne(s=t.b=e[a],r,!1,t)&&o;return o},Ae.prototype.ua=function(){if(Ae.nb.ua.call(this),this.l){var t,e=this.l;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)0,fe(n[r]);delete e.a[t],e.b--}}this.Ua=null},(t=Fe.prototype).S=function(){Be(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.U=function(){return Be(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return $e(this.b,t)?this.b[t]:e},t.set=function(t,e){$e(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ue=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ze(t,e){if(this.b=this.l=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof ze){this.f=void 0!==e?e:t.f,qe(this,t.c),this.l=t.l,this.b=t.b,Ve(this,t.i),this.g=t.g,e=t.a;var n=new on;n.c=e.c,e.a&&(n.a=new Fe(e.a),n.b=e.b),He(this,n),this.h=t.h}else t&&(n=String(t).match(Ue))?(this.f=!!e,qe(this,n[1]||"",!0),this.l=Qe(n[2]||""),this.b=Qe(n[3]||"",!0),Ve(this,n[4]),this.g=Qe(n[5]||"",!0),He(this,n[6]||"",!0),this.h=Qe(n[7]||"")):(this.f=!!e,this.a=new on(null,this.f))}function qe(t,e,n){t.c=n?Qe(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Ve(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function He(t,e,n){e instanceof on?(t.a=e,function(t,e){e&&!t.f&&(an(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(un(this,e),ln(this,n,t))},t)),t.f=e}(t.a,t.f)):(n||(e=Xe(e,nn)),t.a=new on(e,t.f))}function We(t,e,n){t.a.set(e,n)}function Ge(t,e){return t.a.get(e)}function Ke(t){return t instanceof ze?new ze(t):new ze(t,void 0)}function Ye(t,e){var n=new ze(null,void 0);return qe(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function Qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Xe(t,e,n){return i(t)?(t=encodeURI(t).replace(e,Je),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Je(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ze.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Xe(e,Ze,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Xe(e,Ze,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Xe(n,"/"==n.charAt(0)?en:tn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Xe(n,rn)),t.join("")};var Ze=/[#\/\?@]/g,tn=/[#\?:]/g,en=/[#\?]/g,nn=/[#\?@]/g,rn=/#/g;function on(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function an(t){t.a||(t.a=new Fe,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function sn(t){var e=Le(t);if(void 0===e)throw Error("Keys are undefined");var n=new on(null,void 0);t=je(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];c(o)?ln(n,i,o):n.add(i,o)}return n}function un(t,e){an(t),e=hn(t,e),$e(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,$e((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Be(t)))}function cn(t,e){return an(t),e=hn(t,e),$e(t.a.b,e)}function ln(t,e,n){un(t,e),0<n.length&&(t.c=null,t.a.set(hn(t,e),$(n)),t.b+=n.length)}function hn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=on.prototype).add=function(t,e){an(this),this.c=null,t=hn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){an(this),this.a.forEach(function(n,r){N(n,function(n){t.call(e,n,r,this)},this)},this)},t.U=function(){an(this);for(var t=this.a.S(),e=this.a.U(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.S=function(t){an(this);var e=[];if(i(t))cn(this,t)&&(e=B(e,this.a.get(hn(this,t))));else{t=this.a.S();for(var n=0;n<t.length;n++)e=B(e,t[n])}return e},t.set=function(t,e){return an(this),this.c=null,cn(this,t=hn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return 0<(t=t?this.S(t):[]).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var fn=!Vt||9<=Number(Zt);function dn(){this.a="",this.b=vn}function pn(t){return t instanceof dn&&t.constructor===dn&&t.b===vn?t.a:(k("expected object of type Const, got '"+t+"'"),"type_error:Const")}dn.prototype.ma=!0,dn.prototype.la=function(){return this.a},dn.prototype.toString=function(){return"Const{"+this.a+"}"};var vn={};function gn(t){var e=new dn;return e.a=t,e}function mn(){this.a="",this.b=xn}function yn(t){return t instanceof mn&&t.constructor===mn&&t.b===xn?t.a:(k("expected object of type TrustedResourceUrl, got '"+t+"' of type "+s(t)),"type_error:TrustedResourceUrl")}function bn(t,e){var n=pn(t);if(!wn.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=new mn;return e.a=t,e}(t=n.replace(_n,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof dn?pn(t):encodeURIComponent(String(t))}))}gn(""),mn.prototype.ma=!0,mn.prototype.la=function(){return this.a},mn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var _n=/%{(\w+)}/g,wn=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,xn={};function En(){this.a="",this.b=Sn}function Cn(t){return t instanceof En&&t.constructor===En&&t.b===Sn?t.a:(k("expected object of type SafeUrl, got '"+t+"' of type "+s(t)),"type_error:SafeUrl")}En.prototype.ma=!0,En.prototype.la=function(){return this.a},En.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var kn=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Tn(t){return t instanceof En?t:(t=t.ma?t.la():String(t),kn.test(t)||(t="about:invalid#zClosurez"),On(t))}var Sn={};function On(t){var e=new En;return e.a=t,e}function Mn(){this.a="",this.b=An}On("about:blank"),Mn.prototype.ma=!0,Mn.prototype.la=function(){return this.a},Mn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var An={};function Pn(t){var e=new Mn;return e.a=t,e}function In(t){var e=document;return i(t)?e.getElementById(t):t}function Nn(t,e){rt(e,function(e,n){e&&e.ma&&(e=e.la()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Dn.hasOwnProperty(n)?t.setAttribute(Dn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}Pn("<!DOCTYPE html>"),Pn(""),Pn("<br>");var Dn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Rn(t,e,n){var r=arguments,o=document,a=String(r[0]),s=r[1];if(!fn&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',q(s.name),'"'),s.type){a.push(' type="',q(s.type),'"');var u={};ct(u,s),delete u.type,s=u}a.push(">"),a=a.join("")}return a=o.createElement(a),s&&(i(s)?a.className=s:c(s)?a.className=s.join(" "):Nn(a,s)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild(i(n)?t.createTextNode(n):n)}for(var o=2;o<n.length;o++){var a=n[o];!l(a)||f(a)&&0<a.nodeType?r(a):N(jn(a)?$(a):a,r)}}(o,a,r),a}function jn(t){if(t&&"number"==typeof t.length){if(f(t))return"function"==typeof t.item||"string"==typeof t.item;if(h(t))return"function"==typeof t.item}return!1}function Ln(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(c(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(a=n[i])&&(r.push(o),$n(i,r),r.push(":"),t(e,a,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":$n(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new function(){},t,e),e.join("")}var Fn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Bn=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function $n(t,e){e.push('"',t.replace(Bn,function(t){var e=Fn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Fn[t]=e),e}),'"')}function Un(){var t=or();return Vt&&!!Zt&&11==Zt||/Edge\/\d+/.test(t)}function zn(){return n.window&&n.window.location.href||self&&self.location&&self.location.href||""}function qn(t,e){e=e||n.window;var r="about:blank";t&&(r=Cn(Tn(t))),e.location.href=r}function Vn(t){return!!((t=(t||or()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Hn(t){t=t||n.window;try{t.close()}catch(t){}}function Wn(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=or().toLowerCase(),r&&(e.target=r,J(n,"crios/")&&(e.target="_blank")),nr(or())==tr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof En?n:Tn(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((nt("iPhone")&&!nt("iPod")&&!nt("iPad")||nt("iPad")||nt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),e instanceof En||e instanceof En||(e=e.ma?e.la():String(e),kn.test(e)||(e="about:invalid#zClosurez"),e=On(e)),a.href=Cn(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=Cn(e),a&&(Wt&&J(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,gn("b/12014412, meta tag with sanitized URL"),t=Pn(t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+q(t)+'">'),a.document.write(function(t){return t instanceof Mn&&t.constructor===Mn&&t.b===An?t.a:(k("expected object of type SafeHtml, got '"+t+"' of type "+s(t)),"type_error:SafeHtml")}(t)),a.document.close())):(a=r.open(Cn(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var Gn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;function Kn(){var t=null;return new vt(function(e){"complete"==n.document.readyState?e():(t=function(){e()},_e(window,"load",t))}).s(function(e){throw we(window,"load",t),e})}function Yn(t){return t=t||or(),!("file:"!==lr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qn(){var t=n.window;try{return!(!t||t==t.top)}catch(t){return!1}}function Xn(){return"object"!=typeof n.window&&"function"==typeof n.importScripts}function Jn(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":Xn()?"Worker":"Browser"}function Zn(){var t=Jn();return"ReactNative"===t||"Node"===t}var tr="Firefox",er="Chrome";function nr(t){var e=t.toLowerCase();return J(e,"opera/")||J(e,"opr/")||J(e,"opios/")?"Opera":J(e,"iemobile")?"IEMobile":J(e,"msie")||J(e,"trident/")?"IE":J(e,"edge/")?"Edge":J(e,"firefox/")?tr:J(e,"silk/")?"Silk":J(e,"blackberry")?"Blackberry":J(e,"webos")?"Webos":!J(e,"safari/")||J(e,"chrome/")||J(e,"crios/")||J(e,"android")?!J(e,"chrome/")&&!J(e,"crios/")||J(e,"edge/")?J(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":er:"Safari"}var rr={Tc:"FirebaseCore-web",Vc:"FirebaseUI-web"};function ir(t,e){e=e||[];var n,r=[],i={};for(n in rr)i[rr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Jn())?r=nr(i=or()):"Worker"===r&&(r=nr(i=or())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function or(){return n.navigator&&n.navigator.userAgent||""}function ar(t,e){t=t.split("."),e=e||n;for(var r=0;r<t.length&&"object"==typeof e&&null!=e;r++)e=e[t[r]];return r!=t.length&&(e=void 0),e}function sr(){try{var t=n.localStorage,e=vr();if(t)return t.setItem(e,"1"),t.removeItem(e),!Un()||!!n.indexedDB}catch(t){return Xn()&&!!n.indexedDB}return!1}function ur(){return(cr()||"chrome-extension:"===lr()||Yn())&&!Zn()&&sr()&&!Xn()}function cr(){return"http:"===lr()||"https:"===lr()}function lr(){return n.location&&n.location.protocol||null}function hr(t){return!Vn(t=t||or())&&nr(t)!=tr}function fr(t){return void 0===t?null:Ln(t)}function dr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function pr(t){if(null!==t)return JSON.parse(t)}function vr(t){return t||Math.floor(1e9*Math.random()).toString()}function gr(t){return"Safari"!=nr(t=t||or())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function mr(){var t=n.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var r=0;r<t.CP.length;r++)t.CP[r]=null}function yr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=or(),e=Jn(),this.b=Vn(t)||"ReactNative"===e}function br(){var t=n.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function _r(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function wr(){return!(!ar("fireauth.oauthhelper",n)&&!ar("fireauth.iframe",n))}yr.prototype.get=function(){var t=n.navigator;return!t||"boolean"!=typeof t.onLine||!cr()&&"chrome-extension:"!==lr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var xr,Er={};function Cr(t){Er[t]||(Er[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var kr={};Object.defineProperty(kr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(kr,"abcd",{configurable:!0,enumerable:!0,value:2}),xr=2==kr.abcd}catch(zt){xr=!1}function Tr(t,e,n){xr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Sr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Tr(t,n,e[n])}function Or(t){var e={};return Sr(e,t),e}function Mr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Tr(e,n,Mr(t[n]));return e}var Ar="EMAIL_SIGNIN",Pr="email",Ir="newEmail",Nr="requestType",Dr="email",Rr="fromEmail",jr="data",Lr="operation";function Fr(t,e){this.code=$r+t,this.message=e||Ur[t]||""}function Br(t){var e=t&&t.code;return e?new Fr(e.substring($r.length),t.message):null}_(Fr,Error),Fr.prototype.D=function(){return{code:this.code,message:this.message}},Fr.prototype.toJSON=function(){return this.D()};var $r="auth/",Ur={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function zr(t){var e=t[Wr];if(void 0===e)throw new Fr("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Fr("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[qr];if(n&&"object"==typeof n){e=n[Yr];var r=n[Gr];if(n=n[Kr],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Fr("argument-error",Gr+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Fr("argument-error",Kr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Fr("argument-error",Yr+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Fr("missing-android-pkg-name")}}else if(void 0!==n)throw new Fr("argument-error",qr+" property must be a non null object when specified.");if(this.f=null,(e=t[Hr])&&"object"==typeof e){if("string"==typeof(e=e[Qr])&&e.length)this.f=e;else if(void 0!==e)throw new Fr("argument-error",Qr+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Fr("argument-error",Hr+" property must be a non null object when specified.");if(void 0!==(t=t[Vr])&&"boolean"!=typeof t)throw new Fr("argument-error",Vr+" property must be a boolean when specified.");this.c=!!t}var qr="android",Vr="handleCodeInApp",Hr="iOS",Wr="url",Gr="installApp",Kr="minimumVersion",Yr="packageName",Qr="bundleId";function Xr(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e)null===e[n]&&delete e[n];return e}var Jr=null,Zr=null;function ti(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Zr[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Jr){Jr={},Zr={};for(var t=0;65>t;t++)Jr[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Zr[Jr[t]]=t,62<=t&&(Zr["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e+=String.fromCharCode(t)}),e}function ei(t){this.c=t.sub,b(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function ni(t){return(t=ri(t))&&t.sub&&t.iss&&t.aud&&t.exp?new ei(t):null}function ri(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(ti(t))}catch(t){}return null}ei.prototype.f=function(){return this.b};var ii="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),oi=["client_id","response_type","scope","redirect_uri","state"],ai={Uc:{Ma:"locale",Ba:500,Aa:600,Na:"facebook.com",gb:oi},Wc:{Ma:null,Ba:500,Aa:620,Na:"github.com",gb:oi},Xc:{Ma:"hl",Ba:515,Aa:680,Na:"google.com",gb:oi},cd:{Ma:"lang",Ba:485,Aa:705,Na:"twitter.com",gb:ii}};function si(t){for(var e in ai)if(ai[e].Na==t)return ai[e];return null}function ui(t){var e={};e["facebook.com"]=di,e["google.com"]=vi,e["github.com"]=pi,e["twitter.com"]=gi;var n=t&&t[li];try{if(n)return e[n]?new e[n](t):new fi(t);if(void 0!==t[ci])return new hi(t)}catch(t){}return null}var ci="idToken",li="providerId";function hi(t){var e=t[li];if(!e&&t[ci]){var n=ni(t[ci]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Tr(this,"providerId",e),Tr(this,"isNewUser",n)}function fi(t){hi.call(this,t),Tr(this,"profile",Mr((t=pr(t.rawUserInfo||"{}"))||{}))}function di(t){if(fi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function pi(t){if(fi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Tr(this,"username",this.profile&&this.profile.login||null)}function vi(t){if(fi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function gi(t){if(fi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Tr(this,"username",t.screenName||null)}function mi(t){var e=Ke(t),n=Ge(e,"link"),r=Ge(Ke(n),"link");return Ge(Ke(e=Ge(e,"deep_link_id")),"link")||e||r||n||t}function yi(t,e){return t.then(function(t){if(t[Jo]){var n=ni(t[Jo]);if(!n||e!=n.c)throw new Fr("user-mismatch");return t}throw new Fr("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==$r+"user-not-found"?new Fr("user-mismatch"):t})}function bi(t,e,n){if(e.idToken||e.accessToken)e.idToken&&Tr(this,"idToken",e.idToken),e.accessToken&&Tr(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Fr("internal-error","failed to construct a credential");Tr(this,"accessToken",e.oauthToken),Tr(this,"secret",e.oauthTokenSecret)}Tr(this,"providerId",t),Tr(this,"signInMethod",n)}function _i(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:sn(e).toString(),requestUri:"http://localhost"}}function wi(t,e){this.Cc=e||[],Sr(this,{providerId:t,isOAuthProvider:!0}),this.xb={},this.bb=(si(t)||{}).Ma||null,this.Za=null}function xi(t){wi.call(this,t,oi),this.a=[]}function Ei(){xi.call(this,"facebook.com")}function Ci(t){if(!t)throw new Fr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return f(t)&&(e=t.accessToken),(new Ei).credential(null,e)}function ki(){xi.call(this,"github.com")}function Ti(t){if(!t)throw new Fr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return f(t)&&(e=t.accessToken),(new ki).credential(null,e)}function Si(){xi.call(this,"google.com"),this.ta("profile")}function Oi(t,e){var n=t;return f(t)&&(n=t.idToken,e=t.accessToken),(new Si).credential(n,e)}function Mi(){wi.call(this,"twitter.com",ii)}function Ai(t,e){var n=t;if(f(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Fr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new bi("twitter.com",n,"twitter.com")}function Pi(t,e,n){this.a=t,this.b=e,Tr(this,"providerId","password"),Tr(this,"signInMethod",n===Ii.EMAIL_LINK_SIGN_IN_METHOD?Ii.EMAIL_LINK_SIGN_IN_METHOD:Ii.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ii(){Sr(this,{providerId:"password",isOAuthProvider:!1})}function Ni(t,e){if(!(e=Di(e)))throw new Fr("argument-error","Invalid email link!");return new Pi(t,e,Ii.EMAIL_LINK_SIGN_IN_METHOD)}function Di(t){var e=Ge((t=new function(t){this.a=Ke(t)}(t=mi(t))).a,"oobCode")||null;return"signIn"===(Ge(t.a,"mode")||null)&&e?e:null}function Ri(t){if(!(t.Sa&&t.Ra||t.Fa&&t.$))throw new Fr("internal-error");this.a=t,Tr(this,"providerId","phone"),Tr(this,"signInMethod","phone")}function ji(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Sa,code:t.a.Ra}}function Li(t){try{this.a=t||r.a.auth()}catch(t){throw new Fr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Sr(this,{providerId:"phone",isOAuthProvider:!1})}function Fi(t,e){if(!t)throw new Fr("missing-verification-id");if(!e)throw new Fr("missing-verification-code");return new Ri({Sa:t,Ra:e})}function Bi(t){if(t.temporaryProof&&t.phoneNumber)return new Ri({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return Oi(t,n);case"facebook.com":return Ci(n);case"github.com":return Ti(n);case"twitter.com":return Ai(n,r);default:return new xi(e).credential(t,n)}}catch(t){return null}}function $i(t){if(!t.isOAuthProvider)throw new Fr("invalid-oauth-provider")}function Ui(t,e,n,r,i){if(this.b=t,this.c=e||null,this.f=n||null,this.g=r||null,this.a=i||null,!this.f&&!this.a)throw new Fr("invalid-auth-event");if(this.f&&this.a)throw new Fr("invalid-auth-event");if(this.f&&!this.g)throw new Fr("invalid-auth-event")}function zi(t){return(t=t||{}).type?new Ui(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Br(t.error)):null}function qi(){this.b=null,this.a=[]}_(fi,hi),_(di,fi),_(pi,fi),_(vi,fi),_(gi,fi),bi.prototype.ya=function(t){return va(t,_i(this))},bi.prototype.c=function(t,e){var n=_i(this);return n.idToken=e,ga(t,n)},bi.prototype.f=function(t,e){return yi(ma(t,_i(this)),e)},bi.prototype.D=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t},wi.prototype.Da=function(t){return this.xb=ot(t),this},_(xi,wi),xi.prototype.ta=function(t){return j(this.a,t)||this.a.push(t),this},xi.prototype.Db=function(){return $(this.a)},xi.prototype.credential=function(t,e){if(!t&&!e)throw new Fr("argument-error","credential failed: must provide the ID token and/or the access token.");return new bi(this.providerId,{idToken:t||null,accessToken:e||null},this.providerId)},_(Ei,xi),Tr(Ei,"PROVIDER_ID","facebook.com"),Tr(Ei,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(ki,xi),Tr(ki,"PROVIDER_ID","github.com"),Tr(ki,"GITHUB_SIGN_IN_METHOD","github.com"),_(Si,xi),Tr(Si,"PROVIDER_ID","google.com"),Tr(Si,"GOOGLE_SIGN_IN_METHOD","google.com"),_(Mi,wi),Tr(Mi,"PROVIDER_ID","twitter.com"),Tr(Mi,"TWITTER_SIGN_IN_METHOD","twitter.com"),Pi.prototype.ya=function(t){return this.signInMethod==Ii.EMAIL_LINK_SIGN_IN_METHOD?Wa(t,ka,{email:this.a,oobCode:this.b}):Wa(t,za,{email:this.a,password:this.b})},Pi.prototype.c=function(t,e){return this.signInMethod==Ii.EMAIL_LINK_SIGN_IN_METHOD?Wa(t,Ta,{idToken:e,email:this.a,oobCode:this.b}):Wa(t,ja,{idToken:e,email:this.a,password:this.b})},Pi.prototype.f=function(t,e){return yi(this.ya(t),e)},Pi.prototype.D=function(){return{email:this.a,password:this.b,signInMethod:this.signInMethod}},Sr(Ii,{PROVIDER_ID:"password"}),Sr(Ii,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Sr(Ii,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ri.prototype.ya=function(t){return t.Ta(ji(this))},Ri.prototype.c=function(t,e){var n=ji(this);return n.idToken=e,Wa(t,Va,n)},Ri.prototype.f=function(t,e){var n=ji(this);return n.operation="REAUTH",yi(t=Wa(t,Ha,n),e)},Ri.prototype.D=function(){var t={providerId:"phone"};return this.a.Sa&&(t.verificationId=this.a.Sa),this.a.Ra&&(t.verificationCode=this.a.Ra),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.$&&(t.phoneNumber=this.a.$),t},Li.prototype.Ta=function(t,e){var n=this.a.b;return xt(e.verify()).then(function(r){if(!i(r))throw new Fr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return Wa(t,Da,e)}(n,{phoneNumber:t,recaptchaToken:r}).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new Fr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Sr(Li,{PROVIDER_ID:"phone"}),Sr(Li,{PHONE_SIGN_IN_METHOD:"phone"}),Ui.prototype.D=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.D()}};var Vi=null;function Hi(t){var e="unauthorized-domain",n=void 0,r=Ke(t);t=r.b,"chrome-extension"==(r=r.c)?n=U("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=U("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Fr.call(this,e,n)}function Wi(t,e,n){Fr.call(this,t,n),(t=e||{}).yb&&Tr(this,"email",t.yb),t.$&&Tr(this,"phoneNumber",t.$),t.credential&&Tr(this,"credential",t.credential)}function Gi(t){if(t.code){var e=t.code||"";0==e.indexOf($r)&&(e=e.substring($r.length));var n={credential:Bi(t)};if(t.email)n.yb=t.email;else if(t.phoneNumber)n.$=t.phoneNumber;else if(!n.credential)return new Fr(e,t.message||void 0);return new Wi(e,n,t.message)}return null}qi.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=ar("universalLinks.subscribe",n))&&t(null,this.b))},qi.prototype.unsubscribe=function(t){F(this.a,function(e){return e==t})},_(Hi,Fr),_(Wi,Fr),Wi.prototype.D=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.D();return e&&ct(t,e),t},Wi.prototype.toJSON=function(){return this.D()};var Ki,Yi=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Qi(){}function Xi(t){return t.c||(t.c=t.b())}function Ji(){}function Zi(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function to(){}function eo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=m(this.dc,this),this.a.onerror=m(this.Eb,this),this.a.onprogress=m(this.ec,this),this.a.ontimeout=m(this.hc,this)}function no(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ro(t,e,n){this.reset(t,e,n,void 0,void 0)}Qi.prototype.c=null,_(Ji,Qi),Ji.prototype.a=function(){var t=Zi(this);return t?new ActiveXObject(t):new XMLHttpRequest},Ji.prototype.b=function(){var t={};return Zi(this)&&(t[0]=!0,t[1]=!0),t},Ki=new Ji,_(to,Qi),to.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new eo;throw Error("Unsupported browser")},to.prototype.b=function(){return{}},(t=eo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.dc=function(){this.status=200,this.responseText=this.a.responseText,no(this,4)},t.Eb=function(){this.status=500,this.responseText="",no(this,4)},t.hc=function(){this.Eb()},t.ec=function(){this.status=200,no(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ro.prototype.a=null;function io(t){this.f=t,this.b=this.c=this.a=null}function oo(t,e){this.name=t,this.value=e}ro.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||b(),delete this.a},oo.prototype.toString=function(){return this.name};var ao=new oo("SEVERE",1e3),so=new oo("WARNING",900),uo=new oo("CONFIG",700),co=new oo("FINE",500);io.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(k("Root logger has no level set."),null)}(this).value)for(h(e)&&(e=e()),t=new ro(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var lo={},ho=null;function fo(t){var e;if(ho||(ho=new io(""),lo[""]=ho,ho.c=uo),!(e=lo[t])){e=new io(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=fo(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,lo[t]=e}return e}function po(t,e){t&&t.log(co,e,void 0)}function vo(t){this.f=t}function go(t){Ae.call(this),this.i=t,this.readyState=mo,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=fo("goog.net.FetchXmlHttp")}_(vo,Qi),vo.prototype.a=function(){return new go(this.f)},vo.prototype.b=function(t){return function(){return t}}({}),_(go,Ae);var mo=0;function yo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function bo(t){Ae.call(this),this.headers=new Fe,this.C=t||null,this.c=!1,this.w=this.a=null,this.h=this.N=this.m="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=_o,this.v=this.O=!1}(t=go.prototype).open=function(t,e){if(this.readyState!=mo)throw this.abort(),Error("Error reopening a connection");this.h=t,this.c=e,this.readyState=1,yo(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.g,method:this.h,credentials:void 0,cache:void 0};t&&(e.body=t),this.i.fetch(new Request(this.c,e)).then(this.gc.bind(this),this.Fb.bind(this))},t.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,yo(this)),this.readyState=mo},t.gc=function(t){this.a&&(this.b||(this.b=t.headers,this.readyState=2,yo(this)),this.a&&(this.readyState=3,yo(this),this.a&&t.text().then(this.fc.bind(this,t),this.Fb.bind(this))))},t.fc=function(t,e){this.a&&(this.status=t.status,this.statusText=t.statusText,this.responseText=e,this.readyState=4,yo(this))},t.Fb=function(t){var e=this.f;e&&e.log(so,"Failed to fetch url "+this.c,t instanceof Error?t:Error(t)),this.a&&(this.readyState=4,yo(this))},t.setRequestHeader=function(t,e){this.g.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.f)&&t.log(so,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.f;return t&&t.log(so,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},_(bo,Ae);var _o="";bo.prototype.b=fo("goog.net.XhrIo");var wo=/^https?$/i,xo=["POST","PUT"];function Eo(t,e,r,o,a){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.m+"; newUri="+e);r=r?r.toUpperCase():"GET",t.m=e,t.h="",t.N=r,t.G=!1,t.c=!0,t.a=t.C?t.C.a():Ki.a(),t.w=t.C?Xi(t.C):Xi(Ki),t.a.onreadystatechange=m(t.Ib,t);try{po(t.b,Io(t,"Opening Xhr")),t.I=!0,t.a.open(r,String(e),!0),t.I=!1}catch(e){return po(t.b,Io(t,"Error opening Xhr: "+e.message)),void ko(t,e)}e=o||"";var s=new Fe(t.headers);a&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||i(t))N(t,e,void 0);else for(var n=Le(t),r=je(t),o=r.length,a=0;a<o;a++)e.call(void 0,r[a],n&&n[a],t)}(a,function(t,e){s.set(e,t)}),a=function(t){t:{for(var e=Co,n=t.length,r=i(t)?t.split(""):t,o=0;o<n;o++)if(o in r&&e.call(void 0,r[o],o,t)){e=o;break t}e=-1}return 0>e?null:i(t)?t.charAt(e):t[e]}(s.U()),o=n.FormData&&e instanceof n.FormData,!j(xo,r)||a||o||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.o&&(t.a.responseType=t.o),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{Mo(t),0<t.g&&(t.v=function(t){return Vt&&ee(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),po(t.b,Io(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=m(t.Ga,t)):t.u=De(t.Ga,t.g,t)),po(t.b,Io(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){po(t.b,Io(t,"Send error: "+e.message)),ko(t,e)}}function Co(t){return"content-type"==t.toLowerCase()}function ko(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,To(t),Oo(t)}function To(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function So(t){if(t.c&&void 0!==e)if(t.w[1]&&4==Ao(t)&&2==Po(t))po(t.b,Io(t,"Local request error detected and ignored"));else if(t.i&&4==Ao(t))De(t.Ib,0,t);else if(t.dispatchEvent("readystatechange"),4==Ao(t)){po(t.b,Io(t,"Request complete")),t.c=!1;try{var r,i=Po(t);t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break t;default:o=!1}if(!(r=o)){var a;if(a=0===i){var s=String(t.m).match(Ue)[1]||null;if(!s&&n.self&&n.self.location){var u=n.self.location.protocol;s=u.substr(0,u.length-1)}a=!wo.test(s?s.toLowerCase():"")}r=a}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ao(t)?t.a.statusText:""}catch(e){po(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Po(t)+"]",To(t)}}finally{Oo(t)}}}function Oo(t,e){if(t.a){Mo(t);var n=t.a,r=t.w[0]?a:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ao,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Mo(t){t.a&&t.v&&(t.a.ontimeout=null),t.u&&(n.clearTimeout(t.u),t.u=null)}function Ao(t){return t.a?t.a.readyState:0}function Po(t){try{return 2<Ao(t)?t.a.status:-1}catch(t){return-1}}function Io(t,e){return e+" ["+t.N+" "+t.m+" "+Po(t)+"]"}function No(t,e){this.g=[],this.v=t,this.u=e||null,this.f=this.a=!1,this.c=void 0,this.m=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function Do(t,e,n){t.a=!0,t.c=n,t.f=!e,Fo(t)}function Ro(t){if(t.a){if(!t.m)throw new Bo(t);t.m=!1}}function jo(t,e,n,r){t.g.push([e,n,r]),t.a&&Fo(t)}function Lo(t){return R(t.g,function(t){return h(t[1])})}function Fo(t){if(t.h&&t.a&&Lo(t)){var e=t.h,r=zo[e];r&&(n.clearTimeout(r.a),delete zo[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=r=!1;t.g.length&&!t.i;){var o=t.g.shift(),a=o[0],s=o[1];if(o=o[2],a=t.f?s:a)try{var u=a.call(o||t.u,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(x(e)||"function"==typeof n.Promise&&e instanceof n.Promise)&&(i=!0,t.i=!0)}catch(n){e=n,t.f=!0,Lo(t)||(r=!0)}}t.c=e,i&&(u=m(t.o,t,!0),i=m(t.o,t,!1),e instanceof No?(jo(e,u,i),e.w=!0):e.then(u,i)),r&&(e=new Uo(e),zo[e.a]=e,t.h=e.a)}function Bo(){E.call(this)}function $o(){E.call(this)}function Uo(t){this.a=n.setTimeout(m(this.c,this),0),this.b=t}(t=bo.prototype).Ga=function(){void 0!==e&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",po(this.b,Io(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(po(this.b,Io(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Oo(this))},t.ua=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Oo(this,!0)),bo.nb.ua.call(this)},t.Ib=function(){this.pa||(this.I||this.i||this.f?So(this):this.vc())},t.vc=function(){So(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case _o:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ao,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(t){return po(this.b,"Can not get response: "+t.message),null}},No.prototype.cancel=function(t){if(this.a)this.c instanceof No&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.u,this):this.m=!0,this.a||(t=new $o(this),Ro(this),Do(this,!1,t))}},No.prototype.o=function(t,e){this.i=!1,Do(this,t,e)},No.prototype.C=function(){Ro(this),Do(this,!0,null)},No.prototype.then=function(t,e,n){var r,i,o=new vt(function(t,e){r=t,i=e});return jo(this,r,function(t){t instanceof $o?o.cancel():i(t)}),o.then(t,e,n)},w(No),_(Bo,E),Bo.prototype.message="Deferred has already fired",Bo.prototype.name="AlreadyCalledError",_($o,E),$o.prototype.message="Deferred was canceled",$o.prototype.name="CanceledError",Uo.prototype.c=function(){throw delete zo[this.a],this.b};var zo={};function qo(t){var e={},n=e.document||document,r=yn(t),i=document.createElement("SCRIPT"),o={Kb:i,Ga:void 0},a=new No(Vo,o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){Ho(i,!0);var t=new Ko(Go,"Timeout reached for loading script "+r);Ro(a),Do(a,!1,t)},u),o.Ga=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ho(i,e.ed||!1,s),a.C())},i.onerror=function(){Ho(i,!0,s);var t=new Ko(Wo,"Error while loading script "+r);Ro(a),Do(a,!1,t)},ct(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Nn(i,o),i.src=yn(t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Vo(){if(this&&this.Kb){var t=this.Kb;t&&"SCRIPT"==t.tagName&&Ho(t,!0,this.Ga)}}function Ho(t,e,r){null!=r&&n.clearTimeout(r),t.onload=a,t.onerror=a,t.onreadystatechange=a,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Wo=0,Go=1;function Ko(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),E.call(this,n),this.code=t}function Yo(t){this.f=t}function Qo(t,e,i){if(this.b=t,t=e||{},this.i=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=t.secureTokenTimeout||Zo,this.f=ot(t.secureTokenHeaders||ta),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||ea,this.a=ot(t.firebaseHeaders||na),i&&(this.a["X-Client-Version"]=i,this.f["X-Client-Version"]=i),i="Node"==Jn(),!(i=n.XMLHttpRequest||i&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!Xn())throw new Fr("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,Xn()?this.c=new vo(self):Zn()?this.c=new Yo(i):this.c=new to}_(Ko,E),_(Yo,Qi),Yo.prototype.a=function(){return new this.f},Yo.prototype.b=function(){return{}};var Xo,Jo="idToken",Zo=new yr(3e4,6e4),ta={"Content-Type":"application/x-www-form-urlencoded"},ea=new yr(3e4,6e4),na={"Content-Type":"application/json"};function ra(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ia(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function oa(t,e,r,i,o,a,s){(function(){var t=or();return!((t=nr(t)!=er?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Vt&&Zt&&!(9<Zt))})()||Xn()?t=m(t.o,t):(Xo||(Xo=new vt(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{n[sa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var r=bn(aa,{onload:sa});!function(t,e){jo(t,null,e,void 0)}(qo(r),function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=m(t.m,t)),t(e,r,i,o,a,s)}Qo.prototype.o=function(t,e,r,i,o,a){if(Xn()&&(void 0===n.fetch||void 0===n.Headers||void 0===n.Request))throw new Fr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new bo(this.c);if(a){s.g=Math.max(0,a);var u=setTimeout(function(){s.dispatchEvent("timeout")},a)}Pe(s,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return po(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)}),Ie(s,"ready",function(){u&&clearTimeout(u),Bt(this)}),Ie(s,"timeout",function(){u&&clearTimeout(u),Bt(this),e&&e(null)}),Eo(s,t,r,i,o)};var aa=gn("https://apis.google.com/js/client.js?onload=%{onload}"),sa="__fcb"+Math.floor(1e6*Math.random()).toString();function ua(t){if(!Yi.test(t.email))throw new Fr("invalid-email")}function ca(t){"email"in t&&ua(t)}function la(t){if(!t[Jo])throw new Fr("internal-error")}function ha(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Fr("internal-error")}else{if(!t.sessionInfo)throw new Fr("missing-verification-id");if(!t.code)throw new Fr("missing-verification-code")}}Qo.prototype.m=function(t,e,n,r,i){var o=this;Xo.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Qo.prototype.Pa=function(){return Wa(this,La,{})},Qo.prototype.ob=function(t,e){return Wa(this,Ra,{idToken:t,email:e})},Qo.prototype.pb=function(t,e){return Wa(this,ja,{idToken:t,password:e})};var fa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function da(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new Fr("internal-error")}function pa(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Gi(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Gi(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Gi(t)):t.errorMessage&&(e=Ga(t.errorMessage)),e)throw e;if(!t[Jo])throw new Fr("internal-error")}function va(t,e){return e.returnIdpCredential=!0,Wa(t,Fa,e)}function ga(t,e){return e.returnIdpCredential=!0,Wa(t,$a,e)}function ma(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Wa(t,Ba,e)}function ya(t){if(!t.oobCode)throw new Fr("invalid-action-code")}(t=Qo.prototype).qb=function(t,e){var n={idToken:t},r=[];return rt(fa,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Wa(this,Ra,n)},t.jb=function(t,e){return ct(t={requestType:"PASSWORD_RESET",email:t},e),Wa(this,Aa,t)},t.kb=function(t,e){return ct(t={requestType:"EMAIL_SIGNIN",email:t},e),Wa(this,Oa,t)},t.ib=function(t,e){return ct(t={requestType:"VERIFY_EMAIL",idToken:t},e),Wa(this,Ma,t)},t.Ta=function(t){return Wa(this,qa,t)},t.Ya=function(t,e){return Wa(this,Na,{oobCode:t,newPassword:e})},t.Ja=function(t){return Wa(this,_a,{oobCode:t})},t.Va=function(t){return Wa(this,ba,{oobCode:t})};var ba={endpoint:"setAccountInfo",B:ya,da:"email"},_a={endpoint:"resetPassword",B:ya,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Fr("internal-error")}},wa={endpoint:"signupNewUser",B:function(t){if(ua(t),!t.password)throw new Fr("weak-password")},J:la,R:!0},xa={endpoint:"createAuthUri"},Ea={endpoint:"deleteAccount",T:["idToken"]},Ca={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],B:function(t){if(!c(t.deleteProvider))throw new Fr("internal-error")}},ka={endpoint:"emailLinkSignin",T:["email","oobCode"],B:ua,J:la,R:!0},Ta={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],B:ua,J:la,R:!0},Sa={endpoint:"getAccountInfo"},Oa={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Fr("internal-error");ua(t)},da:"email"},Ma={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Fr("internal-error")},da:"email"},Aa={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Fr("internal-error");ua(t)},da:"email"},Pa={tb:!0,endpoint:"getProjectConfig",Hb:"GET"},Ia={tb:!0,endpoint:"getRecaptchaParam",Hb:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new Fr("internal-error")}},Na={endpoint:"resetPassword",B:ya,da:"email"},Da={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},Ra={endpoint:"setAccountInfo",T:["idToken"],B:ca,R:!0},ja={endpoint:"setAccountInfo",T:["idToken"],B:function(t){if(ca(t),!t.password)throw new Fr("weak-password")},J:la,R:!0},La={endpoint:"signupNewUser",J:la,R:!0},Fa={endpoint:"verifyAssertion",B:da,J:pa,R:!0},Ba={endpoint:"verifyAssertion",B:da,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Fr("user-not-found");if(t.errorMessage)throw Ga(t.errorMessage);if(!t[Jo])throw new Fr("internal-error")},R:!0},$a={endpoint:"verifyAssertion",B:function(t){if(da(t),!t.idToken)throw new Fr("internal-error")},J:pa,R:!0},Ua={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new Fr("invalid-custom-token")},J:la,R:!0},za={endpoint:"verifyPassword",B:function(t){if(ua(t),!t.password)throw new Fr("wrong-password")},J:la,R:!0},qa={endpoint:"verifyPhoneNumber",B:ha,J:la},Va={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new Fr("internal-error");ha(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Gi(t);la(t)}},Ha={Wb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:ha,J:la};function Wa(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.T))return Et(new Fr("internal-error"));var r,i=e.Hb||"POST";return xt(n).then(e.B).then(function(){return e.R&&(n.returnSecureToken=!0),function(t,e,n,r,i,o){var a=Ke(t.g+e);We(a,"key",t.b),o&&We(a,"cb",b().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&We(a,u,r[u]);return new vt(function(e,o){oa(t,a.toString(),function(t){t?t.error?o(Ka(t,i||{})):e(t):o(new Fr("network-request-failed"))},n,s?void 0:Ln(dr(r)),t.a,t.h.get())})}(t,e.endpoint,i,n,e.Wb,e.tb||!1)}).then(function(t){return r=t}).then(e.J).then(function(){if(!e.da)return r;if(!(e.da in r))throw new Fr("internal-error");return r[e.da]})}function Ga(t){return Ka({error:{errors:[{message:t}],code:400,message:t}})}function Ka(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Fr(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",ct(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Fr(r[i],e);return!e&&t&&(e=fr(t)),new Fr("internal-error",e)}var Ya,Qa={Zc:{$a:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",hb:"https://securetoken.googleapis.com/v1/token",id:"p"},ad:{$a:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",hb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},bd:{$a:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",hb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Xa(t){for(var e in Qa)if(Qa[e].id===t)return{firebaseEndpoint:(t=Qa[e]).$a,secureTokenEndpoint:t.hb};return null}function Ja(t){this.b=t,this.a=null,this.eb=function(t){return(ns||(ns=new vt(function(t,e){function r(){mr(),ar("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){mr(),e(Error("Network Error"))},timeout:ts.get()})}if(ar("gapi.iframes.Iframe"))t();else if(ar("gapi.load"))r();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[i]=function(){ar("gapi.load")?r():e(Error("Network Error"))},xt(qo(i=bn(Za,{onload:i}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw ns=null,t}))).then(function(){return new vt(function(e,n){ar("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},es.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}Ya=Xa("__EID__")?"__EID__":void 0;var Za=gn("https://apis.google.com/js/api.js?onload=%{onload}"),ts=new yr(3e4,6e4),es=new yr(5e3,15e3),ns=null;function rs(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Ye(this.i,"/__/auth/iframe"),We(this.a,"apiKey",this.g),We(this.a,"appName",this.h),this.b=null,this.c=[]}function is(t,e,n,r,i){this.o=t,this.m=e,this.c=n,this.l=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function os(t){try{return r.a.app(t).auth().xa()}catch(t){return[]}}function as(t,e,n,r,i){this.m=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.o=this.u=this.v=null,this.g=[],this.l=this.a=null}function ss(t){var e=zn();return function(t){return Wa(t,Pa,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Ke(e),r=n.c;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Ke(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Gn.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Hi(zn())})}function us(t){return t.l?t.l:(t.l=Kn().then(function(){if(!t.u){var e=t.c,n=t.h,r=os(t.b),i=new rs(t.m,t.f,t.b);i.f=e,i.b=n,i.c=$(r||[]),t.u=i.toString()}t.i=new Ja(t.u),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.eb.then(function(){t.a.register("authEvent",e,ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=zi(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",xt(n)}return n.status="ERROR",xt(n)})}(t)}),t.l)}function cs(t){return t.o||(t.v=t.c?ir(t.c,os(t.b)):null,t.o=new Qo(t.f,Xa(t.h),t.v)),t.o}function ls(t,e,n,r,i,o,a,s,u,c){return(t=new is(t,e,n,r,i)).i=o,t.g=a,t.h=s,t.b=ot(u||null),t.f=c,t.toString()}function hs(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Fr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function fs(t){this.b=t,this.a={},this.c=m(this.f,this)}rs.prototype.toString=function(){return this.f?We(this.a,"v",this.f):un(this.a.a,"v"),this.b?We(this.a,"eid",this.b):un(this.a.a,"eid"),this.c.length?We(this.a,"fw",this.c.join(",")):un(this.a.a,"fw"),this.a.toString()},is.prototype.toString=function(){var t=Ye(this.o,"/__/auth/handler");if(We(t,"apiKey",this.m),We(t,"appName",this.c),We(t,"authType",this.l),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().ea()}catch(t){n=null}for(var i in e.Za=n,We(t,"providerId",this.a.providerId),n=dr((e=this.a).xb))n[i]=n[i].toString();i=e.Cc,n=ot(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}e.bb&&e.Za&&!n[e.bb]&&(n[e.bb]=e.Za),it(n)||We(t,"customParameters",fr(n))}if("function"==typeof this.a.Db&&((e=this.a.Db()).length&&We(t,"scopes",e.join(","))),this.i?We(t,"redirectUrl",this.i):un(t.a,"redirectUrl"),this.g?We(t,"eventId",this.g):un(t.a,"eventId"),this.h?We(t,"v",this.h):un(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Ge(t,s)&&We(t,s,this.b[s]);return this.f?We(t,"eid",this.f):un(t.a,"eid"),(s=os(this.c)).length&&We(t,"fw",s.join(",")),t.toString()},(t=as.prototype).Ea=function(t,e,n){var r=new Fr("popup-closed-by-user"),i=new Fr("web-storage-unsupported"),o=this,a=!1;return this.ga().then(function(){(function(t){var e={type:"webStorageSupport"};return us(t).then(function(){return function(t,e){return t.eb.then(function(){return new vt(function(n){t.a.send(e.type,e,n,ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&Hn(t),e(i),a=!0)})}).s(function(){}).then(function(){if(!a)return function(t){return new vt(function(e){return function n(){Re(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return Re(n).then(function(){e(r)})})},t.Lb=function(){var t=or();return!hr(t)&&!gr(t)},t.Gb=function(){return!1},t.Bb=function(t,e,n,r,i,o,a){if(!t)return Et(new Fr("popup-blocked"));if(a&&!hr())return this.ga().s(function(e){Hn(t),i(e)}),r(),xt();this.a||(this.a=ss(cs(this)));var s=this;return this.a.then(function(){var e=s.ga().s(function(e){throw Hn(t),i(e),e});return r(),e}).then(function(){($i(n),a)||qn(ls(s.m,s.f,s.b,e,n,null,o,s.c,void 0,s.h),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t})},t.Ca=function(t,e,n){this.a||(this.a=ss(cs(this)));var r=this;return this.a.then(function(){$i(e),qn(ls(r.m,r.f,r.b,t,e,zn(),n,r.c,void 0,r.h))}).s(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ga=function(){var t=this;return us(this).then(function(){return t.i.eb}).s(function(){throw t.a=null,new Fr("network-request-failed")})},t.Pb=function(){return!0},t.va=function(t){this.g.push(t)},t.Ka=function(t){F(this.g,function(e){return e==t})},(t=hs.prototype).get=function(t){return xt(this.a.getItem(t)).then(function(t){return t&&pr(t)})},t.set=function(t,e){return xt(this.a.setItem(t,fr(e)))},t.P=function(t){return xt(this.a.removeItem(t))},t.Y=function(){},t.ca=function(){};var ds,ps=[];function vs(t){this.a=t}function gs(t){this.c=t,this.b=!1,this.a=[]}function ms(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Et(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new vt(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return ys(t,c),e}).s(function(e){throw ys(t,c),e})}function ys(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),F(t.a,function(t){return t==e})}}function bs(){if(!xs())throw new Fr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=n.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.u=!1,this.h=null;var t=this;Xn()&&self?(this.l=function(){var t=Xn()?self:null;if(N(ps,function(n){n.b==t&&(e=n)}),!e){var e=new fs(t);ps.push(e)}return e}(),this.l.subscribe("keyChanged",function(e,n){return Ss(t).then(function(e){return 0<e.length&&N(t.a,function(t){t(e)}),{keyProcessed:j(e,n.key)}})}),this.l.subscribe("ping",function(){return xt(["keyChanged"])})):function(){var t=n.navigator;return t&&t.serviceWorker?xt().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).s(function(){return null}):xt(null)}().then(function(e){(t.h=e)&&(t.g=new gs(new vs(e)),ms(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&j(e[0].value,"keyChanged")&&(t.u=!0)}).s(function(){}))})}function _s(t){return new vt(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new vt(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return _s(t)}).then(function(t){e(t)}).s(function(t){n(t)})}})}function ws(t){return t.o||(t.o=_s(t)),t.o}function xs(){try{return!!n.indexedDB}catch(t){return!1}}function Es(t){return t.objectStore("firebaseLocalStorage")}function Cs(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function ks(t){return new vt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})}function Ts(t,e){return t.g&&t.h&&function(){var t=n.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?ms(t.g,"keyChanged",{key:e},t.u).then(function(){}).s(function(){}):xt()}function Ss(t){return ws(t).then(function(t){var e=Es(Cs(t,!1));return e.getAll?ks(e.getAll()):new vt(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(Error(t.target.errorCode))}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r})}function Os(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Ms(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=xt().then(function(){if(xs()){var t=vr(),r="__sak"+t;return ds||(ds=new bs),(n=ds).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.P(r)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.Y(function(t){N(e.a,function(e){e(t)})}),t})}function As(){this.a={},this.type="inMemory"}function Ps(){if(!function(){var t="Node"==Jn();if(!(t=Is()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Jn())throw new Fr("internal-error","The LocalStorage compatibility library was not found.");throw new Fr("web-storage-unsupported")}this.a=Is()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Is(){try{var t=n.localStorage,e=vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Ns(){this.type="nullStorage"}function Ds(){if(!function(){var t="Node"==Jn();if(!(t=Rs()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Jn())throw new Fr("internal-error","The SessionStorage compatibility library was not found.");throw new Fr("web-storage-unsupported")}this.a=Rs()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Rs(){try{var t=n.sessionStorage,e=vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}fs.prototype.f=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];N(r,function(e){i.push(xt().then(function(){return e(t.origin,t.data.data)}))}),kt(i).then(function(r){var i=[];N(r,function(t){i.push({fulfilled:t.Cb,value:t.value,reason:t.reason?t.reason.message:void 0})}),N(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},fs.prototype.subscribe=function(t,e){it(this.a)&&this.b.addEventListener("message",this.c),void 0===this.a[t]&&(this.a[t]=[]),this.a[t].push(e)},fs.prototype.unsubscribe=function(t,e){void 0!==this.a[t]&&e?(F(this.a[t],function(t){return t==e}),0==this.a[t].length&&delete this.a[t]):e||delete this.a[t],it(this.a)&&this.b.removeEventListener("message",this.c)},vs.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},gs.prototype.close=function(){for(;0<this.a.length;)ys(this,this.a[0]);this.b=!0},(t=bs.prototype).set=function(t,e){var n,r=!1,i=this;return ws(this).then(function(e){return ks((e=Es(Cs(n=e,!0))).get(t))}).then(function(o){var a=Es(Cs(n,!0));return o?(o.value=e,ks(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,ks(a.add(o)))}).then(function(){return i.c[t]=e,Ts(i,t)}).ia(function(){r&&i.b--})},t.get=function(t){return ws(this).then(function(e){return ks(Es(Cs(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.P=function(t){var e=!1,n=this;return ws(this).then(function(r){return e=!0,n.b++,ks(Es(Cs(r,!0)).delete(t))}).then(function(){return delete n.c[t],Ts(n,t)}).ia(function(){e&&n.b--})},t.Y=function(t){0==this.a.length&&function(t){Os(t),function e(){t.f=setTimeout(function(){t.i=Ss(t).then(function(e){0<e.length&&N(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ca=function(t){F(this.a,function(e){return e==t}),0==this.a.length&&Os(this)},(t=Ms.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.P=function(t){return this.b.then(function(e){return e.P(t)})},t.Y=function(t){this.a.push(t)},t.ca=function(t){F(this.a,function(e){return e==t})},(t=As.prototype).get=function(t){return xt(this.a[t])},t.set=function(t,e){return this.a[t]=e,xt()},t.P=function(t){return delete this.a[t],xt()},t.Y=function(){},t.ca=function(){},(t=Ps.prototype).get=function(t){var e=this;return xt().then(function(){return pr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return xt().then(function(){var r=fr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return xt().then(function(){e.a.removeItem(t)})},t.Y=function(t){n.window&&ye(n.window,"storage",t)},t.ca=function(t){n.window&&we(n.window,"storage",t)},(t=Ns.prototype).get=function(){return xt(null)},t.set=function(){return xt()},t.P=function(){return xt()},t.Y=function(){},t.ca=function(){},(t=Ds.prototype).get=function(t){var e=this;return xt().then(function(){return pr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return xt().then(function(){var r=fr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return xt().then(function(){e.a.removeItem(t)})},t.Y=function(){},t.ca=function(){};var js,Ls,Fs={A:Ps,Qa:Ds},Bs={A:Ps,Qa:Ds},$s={A:hs,Qa:Ns},Us={A:Ps,Qa:Ns},zs={Yc:"local",NONE:"none",$c:"session"};function qs(){var t=!(gr(or())||!Qn()),e=hr(),r=sr();this.o=t,this.h=e,this.l=r,this.a={},js||(js=new function(){var t={};t.Browser=Fs,t.Node=Bs,t.ReactNative=$s,t.Worker=Us,this.a=t[Jn()]}),t=js;try{this.g=!Un()&&wr()||!n.indexedDB?new t.a.A:new Ms(Xn()?new As:new t.a.A)}catch(t){this.g=new As,this.h=!0}try{this.i=new t.a.Qa}catch(t){this.i=new As}this.m=new As,this.f=m(this.Ob,this),this.b={}}function Vs(){return Ls||(Ls=new qs),Ls}function Hs(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function Ws(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Gs(t,e,n){return n=Ws(e,n),"local"==e.A&&(t.b[n]=null),Hs(t,e.A).P(n)}function Ks(t){t.c&&(clearInterval(t.c),t.c=null)}(t=qs.prototype).get=function(t,e){return Hs(this,t.A).get(Ws(t,e))},t.set=function(t,e,n){var r=Ws(t,n),i=this,o=Hs(this,t.A);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.A&&(i.b[r]=e)})},t.addListener=function(t,e,r){t=Ws(t,e),this.l&&(this.b[t]=n.localStorage.getItem(t)),it(this.a)&&(Hs(this,"local").Y(this.f),this.h||(Un()||!wr())&&n.indexedDB||!this.l||function(t){Ks(t),t.c=setInterval(function(){for(var e in t.a){var r=n.localStorage.getItem(e),i=t.b[e];r!=i&&(t.b[e]=r,r=new ue({type:"storage",key:e,target:window,oldValue:i,newValue:r,a:!0}),t.Ob(r))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(r)},t.removeListener=function(t,e,n){t=Ws(t,e),this.a[t]&&(F(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),it(this.a)&&(Hs(this,"local").ca(this.f),Ks(this))},t.Ob=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var r in this.a){var i=this.b[r];void 0===i&&(i=null);var o=n.localStorage.getItem(r);o!==i&&(this.b[r]=o,this.Wa(r))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Hs(this,"local").ca(this.f):Ks(this),this.o)if(r=n.localStorage.getItem(e),(i=t.a.newValue)!==r)null!==i?n.localStorage.setItem(e,i):n.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var a=this;r=function(){void 0===t.a.a&&a.b[e]===n.localStorage.getItem(e)||(a.b[e]=n.localStorage.getItem(e),a.Wa(e))},Vt&&Zt&&10==Zt&&n.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(r,10):r()}}else N(t,m(this.Wa,this))},t.Wa=function(t){this.a[t]&&N(this.a[t],function(t){t()})};var Ys,Qs={name:"authEvent",A:"local"};function Xs(t,e){this.b=Js,this.f=n.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=n.Int32Array?new Int32Array(64):Array(64),void 0!==Ys||(Ys=n.Int32Array?new Int32Array(ou):ou),this.reset()}_(Xs,function(){this.b=-1});for(var Js=64,Zs=Js-1,tu=[],eu=0;eu<Zs;eu++)tu[eu]=0;var nu=B(128,tu);function ru(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|Ys[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function iu(t,e,n){void 0===n&&(n=e.length);var r=0,o=t.c;if(i(e))for(;r<n;)t.f[o++]=e.charCodeAt(r++),o==t.b&&(ru(t),o=0);else{if(!l(e))throw Error("message must be string or array");for(;r<n;){var a=e[r++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");t.f[o++]=a,o==t.b&&(ru(t),o=0)}}t.c=o,t.g+=n}Xs.prototype.reset=function(){this.g=this.c=0,this.a=n.Int32Array?new Int32Array(this.h):$(this.h)};var ou=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function au(){Xs.call(this,8,su)}_(au,Xs);var su=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function uu(t,e,n,r,i){this.m=t,this.i=e,this.l=n,this.o=r||null,this.u=i||null,this.h=e+":"+n,this.v=new function(){this.a=Vs()},this.g=new function(t){this.a=t,this.b=Vs()}(this.h),this.f=null,this.b=[],this.a=this.c=null}function cu(t){return new Fr("invalid-cordova-configuration",t)}function lu(t){var e=new au;iu(e,t),t=[];var n=8*e.g;56>e.c?iu(e,nu,56-e.c):iu(e,nu,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(ru(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return D(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}function hu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function fu(t){return t.f||(t.f=t.ga().then(function(){return new vt(function(e){t.va(function n(r){return e(r),t.Ka(n),!1}),function(t){function e(e){i=!0,o&&o.cancel(),du(t).then(function(n){var i=r;if(n&&e&&e.url){var o=null;-1!=(i=mi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=pr(Ge(o=Ke(i),"firebaseError")||null))?Br(o):null)?new Ui(n.b,n.c,null,null,o):new Ui(n.b,n.c,i,n.g)),i=o||r}hu(t,i)})}var r=new Ui("unknown",null,null,null,new Fr("no-auth-event")),i=!1,o=Re(500).then(function(){return du(t).then(function(){i||hu(t,r)})}),a=n.handleOpenURL;n.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(ar("BuildInfo.packageName",n).toLowerCase()+"://")&&e({url:t}),"function"==typeof a)try{a(t)}catch(t){console.error(t)}},Vi||(Vi=new qi),Vi.subscribe(e)}(t)})})),t.f}function du(t){var e=null;return function(t){return t.b.get(Qs,t.a).then(function(t){return zi(t)})}(t.g).then(function(n){return e=n,Gs((n=t.g).b,Qs,n.a)}).then(function(){return e})}(t=uu.prototype).ga=function(){return this.za?this.za:this.za=(Yn(void 0)?Kn().then(function(){return new vt(function(t,e){var r=n.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);r.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):Et(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof ar("universalLinks.subscribe",n))throw cu("cordova-universal-links-plugin-fix is not installed");if(void 0===ar("BuildInfo.packageName",n))throw cu("cordova-plugin-buildinfo is not installed");if("function"!=typeof ar("cordova.plugins.browsertab.openUrl",n))throw cu("cordova-plugin-browsertab is not installed");if("function"!=typeof ar("cordova.InAppBrowser.open",n))throw cu("cordova-plugin-inappbrowser is not installed")},function(){throw new Fr("cordova-not-ready")})},t.Ea=function(t,e){return e(new Fr("operation-not-supported-in-this-environment")),xt()},t.Bb=function(){return Et(new Fr("operation-not-supported-in-this-environment"))},t.Pb=function(){return!1},t.Lb=function(){return!0},t.Gb=function(){return!0},t.Ca=function(t,e,r){if(this.c)return Et(new Fr("redirect-operation-pending"));var i=this,o=n.document,a=null,s=null,u=null,c=null;return this.c=xt().then(function(){return $i(e),fu(i)}).then(function(){return function(t,e,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Ui(e,i,null,o,new Fr("no-auth-event")),s=ar("BuildInfo.packageName",n);if("string"!=typeof s)throw new Fr("invalid-cordova-configuration");var u=ar("BuildInfo.displayName",n),c={};if(or().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!or().toLowerCase().match(/android/))return Et(new Fr("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=lu(o),c.sessionId=o;var l=ls(t.m,t.i,t.l,e,r,null,i,t.o,c,t.u);return t.ga().then(function(){var e=t.h;return t.v.a.set(Qs,a.D(),e)}).then(function(){var e=ar("cordova.plugins.browsertab.isAvailable",n);if("function"!=typeof e)throw new Fr("invalid-cordova-configuration");var r=null;e(function(e){if(e){if("function"!=typeof(r=ar("cordova.plugins.browsertab.openUrl",n)))throw new Fr("invalid-cordova-configuration");r(l)}else{if("function"!=typeof(r=ar("cordova.InAppBrowser.open",n)))throw new Fr("invalid-cordova-configuration");e=!(!(e=or()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=r(l,e?"_blank":"_system","location=yes")}})})}(i,t,e,r)}).then(function(){return new vt(function(t,e){s=function(){var e=ar("cordova.plugins.browsertab.close",n);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.va(s),u=function(){a||(a=Re(2e3).then(function(){e(new Fr("redirect-cancelled-by-user"))}))},c=function(){br()&&u()},o.addEventListener("resume",u,!1),or().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).s(function(t){return du(i).then(function(){throw t})})}).ia(function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&i.Ka(s),i.c=null})},t.va=function(t){this.b.push(t),fu(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Ui("unknown",null,null,null,new Fr("no-auth-event")),t(e))})},t.Ka=function(t){F(this.b,function(e){return e==t})};var pu={name:"pendingRedirect",A:"session"};function vu(t){return Gs(t.b,pu,t.a)}function gu(t,e,n){this.u=t,this.l=e,this.m=n,this.h=[],this.f=!1,this.i=m(this.ab,this),this.b=new Tu,this.o=new Au,this.g=new function(t){this.a=t,this.b=Vs()}(this.l+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.o,this.c.linkViaPopup=this.o,this.c.reauthViaPopup=this.o,this.a=mu(this.u,this.l,this.m,Ya)}function mu(t,e,n,i){var o=r.a.SDK_VERSION||null;return Yn()?new uu(t,e,n,o,i):new as(t,e,n,o,i)}function yu(t){t.f||(t.f=!0,t.a.va(t.i));var e=t.a;return t.a.ga().s(function(n){throw t.a==e&&t.reset(),n})}function bu(t){t.a.Lb()&&yu(t).s(function(e){var n=new Ui("unknown",null,null,null,new Fr("operation-not-supported-in-this-environment"));Eu(e)&&t.ab(n)}),t.a.Gb()||Su(t.b)}(t=gu.prototype).reset=function(){this.f=!1,this.a.Ka(this.i),this.a=mu(this.u,this.l,this.m)},t.Xa=function(){this.b.Xa()},t.subscribe=function(t){if(j(this.h,t)||this.h.push(t),!this.f){var e=this;(function(t){return t.b.get(pu,t.a).then(function(t){return"pending"==t})})(this.g).then(function(t){t?vu(e.g).then(function(){yu(e).s(function(t){var n=new Ui("unknown",null,null,null,new Fr("operation-not-supported-in-this-environment"));Eu(t)&&e.ab(n)})}):bu(e)}).s(function(){bu(e)})}},t.unsubscribe=function(t){F(this.h,function(e){return e==t})},t.ab=function(t){if(!t)throw new Fr("invalid-auth-event");for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.ub(t.b,t.c)){(e=this.c[t.b])&&e.h(t,r),e=!0;break}}return Su(this.b),e};var _u=new yr(2e3,1e4),wu=new yr(3e4,6e4);function xu(t,e,n,r,i,o){return t.a.Bb(e,n,r,function(){t.f||(t.f=!0,t.a.va(t.i))},function(){t.reset()},i,o)}function Eu(t){return!(!t||"auth/cordova-not-ready"!=t.code)}gu.prototype.fa=function(){return this.b.fa()},gu.prototype.Ca=function(t,e,n){var r,i=this;return function(t){return t.b.set(pu,"pending",t.a)}(this.g).then(function(){return i.a.Ca(t,e,n).s(function(t){if(Eu(t))throw new Fr("operation-not-supported-in-this-environment");return r=t,vu(i.g).then(function(){throw r})}).then(function(){return i.a.Pb()?new vt(function(){}):vu(i.g).then(function(){return i.fa()}).then(function(){}).s(function(){})})})},gu.prototype.Ea=function(t,e,n,r){return this.a.Ea(n,function(n){t.ha(e,null,n,r)},_u.get())};var Cu={};function ku(t,e,n){var r=e+":"+n;return Cu[r]||(Cu[r]=new gu(t,e,n)),Cu[r]}function Tu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Su(t){t.g||(t.g=!0,Mu(t,!1,null,null))}function Ou(t,e){if(t.b=function(){return xt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Mu(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Et(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Ou(t,n):Ou(t,{user:null}),t.f=[],t.c=[]}function Au(){}function Pu(){this.rb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.rb},set:function(t){this.rb=t},enumerable:!1})}function Iu(t,e){this.a=e,Tr(this,"verificationId",t)}function Nu(t,e,n,r){return new Li(t).Ta(e,n).then(function(t){return new Iu(t,r)})}function Du(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Ru(t){this.f=t,this.b=this.a=null,this.c=0}function ju(t,e){var n=e[Jo],r=e.refreshToken;e=Lu(e.expiresIn),t.b=n,t.c=e,t.a=r}function Lu(t){return b()+1e3*parseInt(t,10)}function Fu(t,e){return function(t,e){return new vt(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?oa(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r(Ka(t)):t.access_token&&t.refresh_token?n(t):r(new Fr("internal-error")):r(new Fr("network-request-failed"))},"POST",sn(e).toString(),t.f,t.l.get()):r(new Fr("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=Lu(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}function Bu(t,e){this.a=t||null,this.b=e||null,Sr(this,{lastSignInTime:_r(e||null),creationTime:_r(t||null)})}function $u(t,e){for(var n in se.call(this,t),e)this[n]=e[n]}function Uu(t,e,n){this.G=[],this.m=t.apiKey,this.o=t.appName,this.u=t.authDomain||null,t=r.a.SDK_VERSION?ir(r.a.SDK_VERSION):null,this.b=new Qo(this.m,Xa(Ya),t),this.h=new Ru(this.b),Ku(this,e[Jo]),ju(this.h,e),Tr(this,"refreshToken",this.h.a),Xu(this,n||{}),Ae.call(this),this.I=!1,this.u&&ur()&&(this.a=ku(this.u,this.m,this.o)),this.N=[],this.i=null,this.w=function(t){return new Du(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-b()-3e5;return 0<e?e:0})}(this),this.V=m(this.Ha,this);var i=this;this.ka=null,this.sa=function(t){i.oa(t.g)},this.X=null,this.O=[],this.ra=function(t){qu(i,t.c)},this.W=null}function zu(t,e){t.X&&we(t.X,"languageCodeChanged",t.sa),(t.X=e)&&ye(e,"languageCodeChanged",t.sa)}function qu(t,e){t.O=e,ia(t.b,r.a.SDK_VERSION?ir(r.a.SDK_VERSION,t.O):null)}function Vu(t,e){t.W&&we(t.W,"frameworkChanged",t.ra),(t.W=e)&&ye(e,"frameworkChanged",t.ra)}function Hu(t){try{return r.a.app(t.o).auth()}catch(e){throw new Fr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}}function Wu(t){t.C||t.w.b||(t.w.start(),we(t,"tokenChanged",t.V),ye(t,"tokenChanged",t.V))}function Gu(t){we(t,"tokenChanged",t.V),t.w.stop()}function Ku(t,e){t.qa=e,Tr(t,"_lat",e)}function Yu(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return kt(e).then(function(){return t})}function Qu(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function Xu(t,e){Sr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new Bu(e.createdAt,e.lastLoginAt),providerData:[]})}function Ju(){}function Zu(t){return xt().then(function(){if(t.C)throw new Fr("app-deleted")})}function tc(t){return D(t.providerData,function(t){return t.providerId})}function ec(t,e){e&&(nc(t,e.providerId),t.providerData.push(e))}function nc(t,e){F(t.providerData,function(t){return t.providerId==e})}function rc(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Tr(t,e,n)}function ic(t,e){t!=e&&(Sr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),e.metadata?Tr(t,"metadata",function(t){return new Bu(t.a,t.b)}(e.metadata)):Tr(t,"metadata",new Bu),N(e.providerData,function(e){ec(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Tr(t,"refreshToken",t.h.a))}function oc(t){return t.F().then(function(e){var n=t.isAnonymous;return function(t,e){return Wa(t.b,Sa,{idToken:e}).then(m(t.wc,t))}(t,e).then(function(){return n||rc(t,"isAnonymous",!1),e})})}function ac(t,e){e[Jo]&&t.qa!=e[Jo]&&(ju(t.h,e),t.dispatchEvent(new $u("tokenChanged")),Ku(t,e[Jo]),rc(t,"refreshToken",t.h.a))}function sc(t,e){return oc(t).then(function(){if(j(tc(t),e))return Yu(t).then(function(){throw new Fr("provider-already-linked")})})}function uc(t,e,n){return Or({user:t,credential:Bi(e),additionalUserInfo:e=ui(e),operationType:n})}function cc(t,e){return ac(t,e),t.reload().then(function(){return t})}function lc(t,e,n,i,o){if(!ur())return Et(new Fr("operation-not-supported-in-this-environment"));if(t.i&&!o)return Et(t.i);var a=si(n.providerId),s=vr(t.uid+":::"),u=null;(!hr()||Qn())&&t.u&&n.isOAuthProvider&&(u=ls(t.u,t.m,t.o,e,n,null,s,r.a.SDK_VERSION||null));var c=Wn(u,a&&a.Ba,a&&a.Aa);return i=i().then(function(){if(fc(t),!o)return t.F().then(function(){})}).then(function(){return xu(t.a,c,e,n,s,!!u)}).then(function(){return new vt(function(n,r){t.ha(e,null,new Fr("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=s,t.c=t.a.Ea(t,e,c,s)})}).then(function(t){return c&&Hn(c),t?Or(t):null}).s(function(t){throw c&&Hn(c),t}),dc(t,i,o)}function hc(t,e,n,r,i){if(!ur())return Et(new Fr("operation-not-supported-in-this-environment"));if(t.i&&!i)return Et(t.i);var o=null,a=vr(t.uid+":::");return r=r().then(function(){if(fc(t),!i)return t.F().then(function(){})}).then(function(){return t.aa=a,Yu(t)}).then(function(e){return t.ba&&(e=(e=t.ba).b.set(vc,t.D(),e.a)),e}).then(function(){return t.a.Ca(e,n,a)}).s(function(e){if(o=e,t.ba)return gc(t.ba);throw o}).then(function(){if(o)throw o}),dc(t,r,i)}function fc(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new Fr("internal-error");throw new Fr("auth-domain-config-required")}}function dc(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Et(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new $u("userInvalidated")),t.i=e),e})}(t,e,n);return t.G.push(r),r.ia(function(){L(t.G,r)}),r}function pc(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Jo]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-b())/1e3;var r=new Uu(e,n,t);return t.providerData&&N(t.providerData,function(t){t&&ec(r,Or(t))}),t.redirectEventId&&(r.aa=t.redirectEventId),r}Tu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Tu.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.b,r=t.c,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Mu(this,!0,null,t.a),xt()):e.wa(n,r)?function(t,e,n){n=n.wa(e.b,e.c);var r=e.f,i=e.g,o=!!e.b.match(/Redirect$/);n(r,i).then(function(e){Mu(t,o,e,null)}).s(function(e){Mu(t,o,null,e)})}(this,t,e):Et(new Fr("invalid-auth-event")):(Mu(this,!1,null,null),xt())}else Et(new Fr("invalid-auth-event"))},Tu.prototype.Xa=function(){this.g&&!this.i&&Mu(this,!1,null,null)},Tu.prototype.fa=function(){var t=this;return new vt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Fr("timeout");t.a&&t.a.cancel(),t.a=Re(wu.get()).then(function(){t.b||(t.g=!0,Mu(t,!0,null,e))})}(t))})},Au.prototype.h=function(t,e){if(t){var n=t.b,r=t.c;t.a?(e.ha(t.b,null,t.a,t.c),xt()):e.wa(n,r)?function(t,e){var n=t.c,r=t.b;e.wa(r,n)(t.f,t.g).then(function(t){e.ha(r,t,null,n)}).s(function(t){e.ha(r,null,t,n)})}(t,e):Et(new Fr("invalid-auth-event"))}else Et(new Fr("invalid-auth-event"))},Iu.prototype.confirm=function(t){return t=Fi(this.verificationId,t),this.a(t)},Du.prototype.start=function(){this.a=this.c,function t(e,r){e.stop();e.b=Re(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,r)).then(function(){return t=n.document,e=null,br()||!t?xt():new vt(function(n){e=function(){br()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n});var t,e}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(n){e.i(n)&&t(e,!1)})}(this,!0)},Du.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Ru.prototype.D=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Ru.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Et(new Fr("user-token-expired")):t||!this.b||b()>this.c-3e4?this.a?Fu(this,{grant_type:"refresh_token",refresh_token:this.a}):xt(null):xt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Bu.prototype.D=function(){return{lastLoginAt:this.b,createdAt:this.a}},_($u,se),_(Uu,Ae),Uu.prototype.oa=function(t){this.ka=t,ra(this.b,t)},Uu.prototype.ea=function(){return this.ka},Uu.prototype.xa=function(){return $(this.O)},Uu.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Tr(Uu.prototype,"providerId","firebase"),(t=Uu.prototype).reload=function(){var t=this;return dc(this,Zu(this).then(function(){return oc(t).then(function(){return Yu(t)}).then(Ju)}))},t.cc=function(t){return this.F(t).then(function(t){return new function(t){var e=ri(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Fr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Sr(this,{token:t,expirationTime:_r(1e3*e.exp),authTime:_r(1e3*e.auth_time),issuedAtTime:_r(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}(t)})},t.F=function(t){var e=this;return dc(this,Zu(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new Fr("internal-error");return t.accessToken!=e.qa&&(Ku(e,t.accessToken),e.dispatchEvent(new $u("tokenChanged"))),rc(e,"refreshToken",t.refreshToken),t.accessToken}))},t.wc=function(t){if(!(t=t.users)||!t.length)throw new Fr("internal-error");Xu(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?D(t,function(t){return new function(t,e,n,r,i,o){Sr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)ec(this,e[n]);rc(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.fb=function(t){var e=this,n=null;return dc(this,t.f(this.b,this.uid).then(function(t){return ac(e,t),n=uc(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.xc=function(t){return Cr("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.fb(t).then(function(){})},t.cb=function(t){var e=this,n=null;return dc(this,sc(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.c(e.b,n)}).then(function(t){return n=uc(e,t,"link"),cc(e,t)}).then(function(){return n}))},t.oc=function(t){return Cr("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.cb(t).then(function(t){return t.user})},t.pc=function(t,e){var n=this;return dc(this,sc(this,"phone").then(function(){return Nu(Hu(n),t,e,m(n.cb,n))}))},t.yc=function(t,e){var n=this;return dc(this,xt().then(function(){return Nu(Hu(n),t,e,m(n.fb,n))}),!0)},t.ob=function(t){var e=this;return dc(this,this.F().then(function(n){return e.b.ob(n,t)}).then(function(t){return ac(e,t),e.reload()}))},t.Qc=function(t){var e=this;return dc(this,this.F().then(function(n){return t.c(e.b,n)}).then(function(t){return ac(e,t),e.reload()}))},t.pb=function(t){var e=this;return dc(this,this.F().then(function(n){return e.b.pb(n,t)}).then(function(t){return ac(e,t),e.reload()}))},t.qb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Zu(this);var e=this;return dc(this,this.F().then(function(n){return e.b.qb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return ac(e,t),rc(e,"displayName",t.displayName||null),rc(e,"photoURL",t.photoUrl||null),N(e.providerData,function(t){"password"===t.providerId&&(Tr(t,"displayName",e.displayName),Tr(t,"photoURL",e.photoURL))}),Yu(e)}).then(Ju))},t.Oc=function(t){var e=this;return dc(this,oc(this).then(function(n){return j(tc(e),t)?function(t,e,n){return Wa(t,Ca,{idToken:e,deleteProvider:n})}(e.b,n,[t]).then(function(t){var n={};return N(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),N(tc(e),function(t){n[t]||nc(e,t)}),n[Li.PROVIDER_ID]||Tr(e,"phoneNumber",null),Yu(e)}):Yu(e).then(function(){throw new Fr("no-such-provider")})}))},t.delete=function(){var t=this;return dc(this,this.F().then(function(e){return Wa(t.b,Ea,{idToken:e})}).then(function(){t.dispatchEvent(new $u("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");zu(t,null),Vu(t,null),t.G=[],t.C=!0,Gu(t),Tr(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},t.ub=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.aa||null)==e||"reauthViaRedirect"==t&&(this.aa||null)==e)},t.ha=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.wa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?m(this.zb,this):"reauthViaPopup"==t&&e==(this.g||null)?m(this.Ab,this):"linkViaRedirect"==t&&(this.aa||null)==e?m(this.zb,this):"reauthViaRedirect"==t&&(this.aa||null)==e?m(this.Ab,this):null},t.qc=function(t){var e=this;return lc(this,"linkViaPopup",t,function(){return sc(e,t.providerId).then(function(){return Yu(e)})},!1)},t.zc=function(t){return lc(this,"reauthViaPopup",t,function(){return xt()},!0)},t.rc=function(t){var e=this;return hc(this,"linkViaRedirect",t,function(){return sc(e,t.providerId)},!1)},t.Ac=function(t){return hc(this,"reauthViaRedirect",t,function(){return xt()},!0)},t.zb=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return dc(this,this.F().then(function(r){return ga(n.b,{requestUri:t,sessionId:e,idToken:r})}).then(function(t){return r=uc(n,t,"link"),cc(n,t)}).then(function(){return r}))},t.Ab=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return dc(this,xt().then(function(){return yi(ma(n.b,{requestUri:t,sessionId:e}),n.uid)}).then(function(t){return r=uc(n,t,"reauthenticate"),ac(n,t),n.i=null,n.reload()}).then(function(){return r}),!0)},t.ib=function(t){var e=this,n=null;return dc(this,this.F().then(function(e){return n=e,void 0===t||it(t)?{}:Xr(new zr(t))}).then(function(t){return e.b.ib(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.toJSON=function(){return this.D()},t.D=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.m,appName:this.o,authDomain:this.u,stsTokenManager:this.h.D(),redirectEventId:this.aa||null};return this.metadata&&ct(t,this.metadata.D()),N(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var vc={name:"redirectUser",A:"session"};function gc(t){return Gs(t.b,vc,t.a)}function mc(t){this.a=t,this.b=Vs(),this.c=null,this.f=function(t){var e=_c("local"),r=_c("session"),i=_c("none");return function(t,e,r){var i=Ws(e,r),o=Hs(t,e.A);return t.get(e,r).then(function(a){var s=null;try{s=pr(n.localStorage.getItem(i))}catch(t){}if(s&&!a)return n.localStorage.removeItem(i),t.set(e,s,r);s&&a&&"localStorage"!=o.type&&n.localStorage.removeItem(i)})}(t.b,e,t.a).then(function(){return t.b.get(r,t.a)}).then(function(n){return n?r:t.b.get(i,t.a).then(function(n){return n?i:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(bc,t.a).then(function(t){return t?_c(t):e})})})}).then(function(e){return t.c=e,yc(t,e.A)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener(_c("local"),this.a,m(this.g,this))}function yc(t,e){var n,r=[];for(n in zs)zs[n]!==e&&r.push(Gs(t.b,_c(zs[n]),t.a));return r.push(Gs(t.b,bc,t.a)),function(t){return new vt(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ct(t[s],y(o,s),a);else e(i)})}(r)}mc.prototype.g=function(){var t=this,e=_c("local");Cc(this,function(){return xt().then(function(){return t.c&&"local"!=t.c.A?t.b.get(e,t.a):null}).then(function(n){if(n)return yc(t,"local").then(function(){t.c=e})})})};var bc={name:"persistence",A:"session"};function _c(t){return{name:"authUser",A:t}}function wc(t,e){return Cc(t,function(){return t.b.set(t.c,e.D(),t.a)})}function xc(t){return Cc(t,function(){return Gs(t.b,t.c,t.a)})}function Ec(t,e){return Cc(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),pc(t||{})})})}function Cc(t,e){return t.f=t.f.then(e,e),t.f}function kc(t){if(this.m=!1,Tr(this,"settings",new Pu),Tr(this,"app",t),!Ic(this).options||!Ic(this).options.apiKey)throw new Fr("invalid-api-key");t=r.a.SDK_VERSION?ir(r.a.SDK_VERSION):null,this.b=new Qo(Ic(this).options&&Ic(this).options.apiKey,Xa(Ya),t),this.N=[],this.o=[],this.I=[],this.Sb=r.a.INTERNAL.createSubscribe(m(this.kc,this)),this.O=void 0,this.Tb=r.a.INTERNAL.createSubscribe(m(this.mc,this)),Ac(this,null),this.h=new mc(Ic(this).options.apiKey+":"+Ic(this).name),this.w=new function(t){this.a=t,this.b=Vs()}(Ic(this).options.apiKey+":"+Ic(this).name),this.V=jc(this,function(t){var e=Ic(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(vc,t.a).then(function(t){return t&&e&&(t.authDomain=e),pc(t||{})})}(t.w,Ic(t).options.authDomain).then(function(e){return(t.C=e)&&(e.ba=t.w),gc(t.w)});return jc(t,e)}(t).then(function(){return Ec(t.h,e)}).then(function(e){return e?(e.ba=t.w,t.C&&(t.C.aa||null)==(e.aa||null)?e:e.reload().then(function(){return wc(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:xc(t.h)})):null}).then(function(e){Ac(t,e||null)});return jc(t,n)}(this)),this.i=jc(this,function(t){return t.V.then(function(){return t.fa()}).s(function(){}).then(function(){if(!t.m)return t.ka()}).s(function(){}).then(function(){if(!t.m){t.X=!0;var e=t.h;e.b.addListener(_c("local"),e.a,t.ka)}})}(this)),this.X=!1,this.ka=m(this.Lc,this),this.Ha=m(this.Z,this),this.qa=m(this.ac,this),this.ra=m(this.ic,this),this.sa=m(this.jc,this),function(t){var e=Ic(t).options.authDomain,n=Ic(t).options.apiKey;e&&ur()&&(t.Rb=t.V.then(function(){if(!t.m){if(t.a=ku(e,n,Ic(t).name),t.a.subscribe(t),Nc(t)&&Qu(Nc(t)),t.C){Qu(t.C);var r=t.C;r.oa(t.ea()),zu(r,t),qu(r=t.C,t.G),Vu(r,t),t.C=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=m(this.delete,this),this.INTERNAL.logFramework=m(this.sc,this),this.u=0,Ae.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ea()},set:function(t){this.oa(t)},enumerable:!1}),t.W=null}(this),this.G=[]}function Tc(t){se.call(this,"languageCodeChanged"),this.g=t}function Sc(t){se.call(this,"frameworkChanged"),this.c=t}function Oc(t){return t.Rb||Et(new Fr("auth-domain-config-required"))}function Mc(t,e){var n={};return n.apiKey=Ic(t).options.apiKey,n.authDomain=Ic(t).options.authDomain,n.appName=Ic(t).name,t.V.then(function(){return function(t,e,n,r){var i=new Uu(t,e);return n&&(i.ba=n),r&&qu(i,r),i.reload().then(function(){return i})}(n,e,t.w,t.xa())}).then(function(e){return Nc(t)&&e.uid==Nc(t).uid?(ic(Nc(t),e),t.Z(e)):(Ac(t,e),Qu(e),t.Z(e))}).then(function(){Rc(t)})}function Ac(t,e){Nc(t)&&(function(t,e){F(t.N,function(t){return t==e})}(Nc(t),t.Ha),we(Nc(t),"tokenChanged",t.qa),we(Nc(t),"userDeleted",t.ra),we(Nc(t),"userInvalidated",t.sa),Gu(Nc(t))),e&&(e.N.push(t.Ha),ye(e,"tokenChanged",t.qa),ye(e,"userDeleted",t.ra),ye(e,"userInvalidated",t.sa),0<t.u&&Wu(e)),Tr(t,"currentUser",e),e&&(e.oa(t.ea()),zu(e,t),qu(e,t.G),Vu(e,t))}function Pc(t,e){var n=null,r=null;return jc(t,e.then(function(e){return n=Bi(e),r=ui(e),Mc(t,e)}).then(function(){return Or({user:Nc(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Ic(t){return t.app}function Nc(t){return t.currentUser}function Dc(t){return Nc(t)&&Nc(t)._lat||null}function Rc(t){if(t.X){for(var e=0;e<t.o.length;e++)t.o[e]&&t.o[e](Dc(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](Dc(t))}}function jc(t,e){return t.N.push(e),e.ia(function(){L(t.N,e)}),e}function Lc(){}function Fc(){this.a={},this.b=1e12}mc.prototype.lb=function(t){var e=null,n=this;return function(t){var e=new Fr("invalid-persistence-type"),n=new Fr("unsupported-persistence-type");t:{for(r in zs)if(zs[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Jn()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!sr()&&"none"!==t)throw n}}(t),Cc(this,function(){return t!=n.c.A?n.b.get(n.c,n.a).then(function(r){return e=r,yc(n,t)}).then(function(){if(n.c=_c(t),e)return n.b.set(n.c,e,n.a)}):xt()})},_(kc,Ae),_(Tc,se),_(Sc,se),(t=kc.prototype).lb=function(t){return jc(this,t=this.h.lb(t))},t.oa=function(t){this.W===t||this.m||(this.W=t,ra(this.b,this.W),this.dispatchEvent(new Tc(this.ea())))},t.ea=function(){return this.W},t.Rc=function(){var t=n.navigator;this.oa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.sc=function(t){this.G.push(t),ia(this.b,r.a.SDK_VERSION?ir(r.a.SDK_VERSION,this.G):null),this.dispatchEvent(new Sc(this.G))},t.xa=function(){return $(this.G)},t.toJSON=function(){return{apiKey:Ic(this).options.apiKey,authDomain:Ic(this).options.authDomain,appName:Ic(this).name,currentUser:Nc(this)&&Nc(this).D()}},t.ub=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ha=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.wa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?m(this.$b,this):null},t.$b=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.c&&(this.c.cancel(),this.c=null);var r=null,i=null,o=va(n.b,t).then(function(t){return r=Bi(t),i=ui(t),t});return jc(this,t=n.V.then(function(){return o}).then(function(t){return Mc(n,t)}).then(function(){return Or({user:Nc(n),credential:r,additionalUserInfo:i,operationType:"signIn"})}))},t.Jc=function(t){if(!ur())return Et(new Fr("operation-not-supported-in-this-environment"));var e=this,n=si(t.providerId),i=vr(),o=null;(!hr()||Qn())&&Ic(this).options.authDomain&&t.isOAuthProvider&&(o=ls(Ic(this).options.authDomain,Ic(this).options.apiKey,Ic(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null));var a=Wn(o,n&&n.Ba,n&&n.Aa);return jc(this,n=Oc(this).then(function(e){return xu(e,a,"signInViaPopup",t,i,!!o)}).then(function(){return new vt(function(t,n){e.ha("signInViaPopup",null,new Fr("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=i,e.c=e.a.Ea(e,"signInViaPopup",a,i)})}).then(function(t){return a&&Hn(a),t?Or(t):null}).s(function(t){throw a&&Hn(a),t}))},t.Kc=function(t){if(!ur())return Et(new Fr("operation-not-supported-in-this-environment"));var e=this;return jc(this,Oc(this).then(function(){return Cc(t=e.h,function(){return t.b.set(bc,t.c.A,t.a)});var t}).then(function(){return e.a.Ca("signInViaRedirect",t)}))},t.fa=function(){if(!ur())return Et(new Fr("operation-not-supported-in-this-environment"));var t=this;return jc(this,Oc(this).then(function(){return t.a.fa()}).then(function(t){return t?Or(t):null}))},t.Pc=function(t){if(!t)return Et(new Fr("null-user"));var e=this,n={};n.apiKey=Ic(this).options.apiKey,n.authDomain=Ic(this).options.authDomain,n.appName=Ic(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.m,authDomain:t.u,appName:t.o};var i=t.h,o={};return o[Jo]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-b())/1e3,e=new Uu(e,o),n&&(e.ba=n),r&&qu(e,r),ic(e,t),e}(t,n,e.w,e.xa());return jc(this,this.i.then(function(){if(Ic(e).options.apiKey!=t.m)return r.reload()}).then(function(){return Nc(e)&&t.uid==Nc(e).uid?(ic(Nc(e),t),e.Z(t)):(Ac(e,r),Qu(r),e.Z(r))}).then(function(){Rc(e)}))},t.mb=function(){var t=this;return jc(this,this.i.then(function(){return Nc(t)?(Ac(t,null),xc(t.h).then(function(){Rc(t)})):xt()}))},t.Lc=function(){var t=this;return Ec(this.h,Ic(this).options.authDomain).then(function(e){if(!t.m){var n;if(n=Nc(t)&&e){n=Nc(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return ic(Nc(t),e),Nc(t).F();(Nc(t)||e)&&(Ac(t,e),e&&(Qu(e),e.ba=t.w),t.a&&t.a.subscribe(t),Rc(t))}})},t.Z=function(t){return wc(this.h,t)},t.ac=function(){Rc(this),this.Z(Nc(this))},t.ic=function(){this.mb()},t.jc=function(){this.mb()},t.kc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Nc(e))})},t.mc=function(t){var e=this;!function(t,e){t.I.push(e),jc(t,t.i.then(function(){!t.m&&j(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(Dc(t)))}))}(this,function(){t.next(Nc(e))})},t.uc=function(t,e,n){var i=this;return this.X&&r.a.Promise.resolve().then(function(){h(t)?t(Nc(i)):h(t.next)&&t.next(Nc(i))}),this.Sb(t,e,n)},t.tc=function(t,e,n){var i=this;return this.X&&r.a.Promise.resolve().then(function(){i.O=i.getUid(),h(t)?t(Nc(i)):h(t.next)&&t.next(Nc(i))}),this.Tb(t,e,n)},t.bc=function(t){var e=this;return jc(this,this.i.then(function(){return Nc(e)?Nc(e).F(t).then(function(t){return{accessToken:t}}):null}))},t.Mb=function(t){var e=this;return this.i.then(function(){return Pc(e,Wa(e.b,Ua,{token:t}))}).then(function(t){var n=t.user;return rc(n,"isAnonymous",!1),e.Z(n),t})},t.Dc=function(t){return Cr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Mb(t)},t.Ec=function(t,e){return Cr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Nb(t,e)},t.Nb=function(t,e){var n=this;return this.i.then(function(){return Pc(n,Wa(n.b,za,{email:t,password:e}))})},t.wb=function(t,e){var n=this;return this.i.then(function(){return Pc(n,Wa(n.b,wa,{email:t,password:e}))})},t.Vb=function(t,e){return Cr("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.wb(t,e)},t.Gc=function(t){return Cr("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Oa(t).then(function(t){return t.user})},t.Oa=function(t){var e=this;return this.i.then(function(){return Pc(e,t.ya(e.b))})},t.Pa=function(){var t=this;return this.i.then(function(){var e=Nc(t);return e&&e.isAnonymous?Or({user:e,credential:null,additionalUserInfo:Or({providerId:null,isNewUser:!1}),operationType:"signIn"}):Pc(t,t.b.Pa()).then(function(e){var n=e.user;return rc(n,"isAnonymous",!0),t.Z(n),e})})},t.Fc=function(){return Cr("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Pa()},t.getUid=function(){return Nc(this)&&Nc(this).uid||null},t.Ub=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&Nc(this)&&Wu(Nc(this))},t.Bc=function(t){var e=this;N(this.o,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&Nc(this)&&Gu(Nc(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.o.push(t),jc(this,this.i.then(function(){e.m||j(e.o,t)&&t(Dc(e))}))},t.removeAuthTokenListener=function(t){F(this.o,function(e){return e==t})},t.delete=function(){this.m=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h).b.removeListener(_c("local"),t.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Xa()),r.a.Promise.resolve()},t.Yb=function(t){return Cr("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),jc(this,function(t,e){return Wa(t,xa,{identifier:e,continueUri:cr()?zn():"http://localhost"}).then(function(t){return t.allProviders||[]})}(this.b,t))},t.Zb=function(t){return jc(this,function(t,e){return Wa(t,xa,{identifier:e,continueUri:cr()?zn():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.b,t))},t.nc=function(t){return!!Di(t)},t.kb=function(t,e){var n=this;return jc(this,xt().then(function(){var t=new zr(e);if(!t.c)throw new Fr("argument-error",Vr+" must be true when sending sign in link to email");return Xr(t)}).then(function(e){return n.b.kb(t,e)}).then(function(){}))},t.Sc=function(t){return this.Ja(t).then(function(t){return t.data.email})},t.Ya=function(t,e){return jc(this,this.b.Ya(t,e).then(function(){}))},t.Ja=function(t){return jc(this,this.b.Ja(t).then(function(t){return new function(t){var e={},n=t[Pr],r=t[Ir];if(!(t=t[Nr])||t!=Ar&&!n)throw Error("Invalid provider user info!");e[Rr]=r||null,e[Dr]=n||null,Tr(this,Lr,t),Tr(this,jr,Mr(e))}(t)}))},t.Va=function(t){return jc(this,this.b.Va(t).then(function(){}))},t.jb=function(t,e){var n=this;return jc(this,xt().then(function(){return void 0===e||it(e)?{}:Xr(new zr(e))}).then(function(e){return n.b.jb(t,e)}).then(function(){}))},t.Ic=function(t,e){return jc(this,Nu(this,t,e,m(this.Oa,this)))},t.Hc=function(t,e){var n=this;return jc(this,xt().then(function(){var r=Ni(t,e||zn());return n.Oa(r)}))},Lc.prototype.render=function(){},Lc.prototype.reset=function(){},Lc.prototype.getResponse=function(){},Lc.prototype.execute=function(){};var Bc=null;function $c(t,e){return(e=Uc(e))&&t.a[e]||null}function Uc(t){return(t=void 0===t?1e12:t)?t.toString():null}function zc(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=In(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():ye(this.f,"click",this.i)}function qc(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Vc(){}Fc.prototype.render=function(t,e){return this.a[this.b.toString()]=new zc(t,e),this.b++},Fc.prototype.reset=function(t){var e=$c(this,t);t=Uc(t),e&&t&&(e.delete(),delete this.a[t])},Fc.prototype.getResponse=function(t){return(t=$c(this,t))?t.getResponse():null},Fc.prototype.execute=function(t){(t=$c(this,t))&&t.execute()},zc.prototype.getResponse=function(){return qc(this),this.b},zc.prototype.execute=function(){qc(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()},6e4)},500))},zc.prototype.delete=function(){qc(this),this.g=!0,clearTimeout(this.a),this.a=null,we(this.f,"click",this.i)},Vc.prototype.g=function(){return Bc||(Bc=new Fc),xt(Bc)},Vc.prototype.c=function(){};var Hc=null;function Wc(){this.b=n.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Gc=gn("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Kc=new yr(3e4,6e4);Wc.prototype.g=function(t){var e=this;return new vt(function(r,i){var o=setTimeout(function(){i(new Fr("network-request-failed"))},Kc.get());!n.grecaptcha||t!==e.f&&!e.b?(n[e.a]=function(){if(n.grecaptcha){e.f=t;var a=n.grecaptcha.render;n.grecaptcha.render=function(t,n){return t=a(t,n),e.b++,t},clearTimeout(o),r(n.grecaptcha)}else clearTimeout(o),i(new Fr("internal-error"));delete n[e.a]},xt(qo(bn(Gc,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(o),i(new Fr("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(o),r(n.grecaptcha))})},Wc.prototype.c=function(){this.b--};var Yc=null;function Qc(t,e,r,i,o,a,s){if(Tr(this,"type","recaptcha"),this.c=this.f=null,this.C=!1,this.m=e,this.g=null,s?(Hc||(Hc=new Vc),s=Hc):(Yc||(Yc=new Wc),s=Yc),this.o=s,this.a=r||{theme:"light",type:"image"},this.h=[],this.a[Zc])throw new Fr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[tl],!n.document)throw new Fr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!In(e)||!this.i&&In(e).hasChildNodes())throw new Fr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new Qo(t,a||null,o||null),this.v=i||function(){return null};var u=this;this.l=[];var c=this.a[Xc];this.a[Xc]=function(t){if(el(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=ar(c,n);"function"==typeof e&&e(t)}};var l=this.a[Jc];this.a[Jc]=function(){if(el(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=ar(l,n);"function"==typeof t&&t()}}}var Xc="callback",Jc="expired-callback",Zc="sitekey",tl="size";function el(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function nl(t,e){return t.h.push(e),e.ia(function(){L(t.h,e)}),e}function rl(t){if(t.C)throw new Fr("internal-error","RecaptchaVerifier instance has been destroyed.")}function il(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(t){throw new Fr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Fr("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().xa()}catch(t){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}a=r.a.SDK_VERSION?ir(r.a.SDK_VERSION,a):null,Qc.call(this,n,t,e,function(){try{var t=o.b.auth().ea()}catch(e){t=null}return t},a,Xa(Ya),i)}function ol(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Fr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=al.length)throw new Fr("internal-error","Argument validator received an unsupported number of arguments.");n=al[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new Fr("argument-error",t+" failed: "+r)}(t=Qc.prototype).za=function(){var t=this;return this.f?this.f:this.f=nl(this,xt().then(function(){if(cr()&&!Xn())return Kn();throw new Fr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.o.g(t.v())}).then(function(e){return t.g=e,Wa(t.u,Ia,{})}).then(function(e){t.a[Zc]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},t.render=function(){rl(this);var t=this;return nl(this,this.za().then(function(){if(null===t.c){var e=t.m;if(!t.i){var n=In(e);e=Rn("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){rl(this);var t=this;return nl(this,this.render().then(function(e){return new vt(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){F(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){rl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){rl(this),this.C=!0,this.o.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=In(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},_(il,Qc);var al="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function sl(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:i}}function ul(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:o}}function cl(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:f}}function ll(t,e){return{name:t||"",K:"a function",optional:!!e,M:h}}function hl(t,e){return{name:t||"",K:"null",optional:!!e,M:u}}function fl(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ya||!n)}}}function dl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&i(t.type)&&h(t.verify))}}}function pl(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function vl(t,e){for(var n in e){var r=e[n].name;t[r]=yl(r,t[n],e[n].j)}}function gl(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:y(function(t){return this[t]},n),set:y(function(t,e,n,r){ol(t,[n],[r],!0),this[e]=r},r,n,e[n].sb),enumerable:!0})}}function ml(t,e,n,r){t[e]=yl(e,n,r)}function yl(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return ol(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}vl(kc.prototype,{Va:{name:"applyActionCode",j:[sl("code")]},Ja:{name:"checkActionCode",j:[sl("code")]},Ya:{name:"confirmPasswordReset",j:[sl("code"),sl("newPassword")]},wb:{name:"createUserWithEmailAndPassword",j:[sl("email"),sl("password")]},Vb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[sl("email"),sl("password")]},Yb:{name:"fetchProvidersForEmail",j:[sl("email")]},Zb:{name:"fetchSignInMethodsForEmail",j:[sl("email")]},fa:{name:"getRedirectResult",j:[]},nc:{name:"isSignInWithEmailLink",j:[sl("emailLink")]},tc:{name:"onAuthStateChanged",j:[pl(cl(),ll(),"nextOrObserver"),ll("opt_error",!0),ll("opt_completed",!0)]},uc:{name:"onIdTokenChanged",j:[pl(cl(),ll(),"nextOrObserver"),ll("opt_error",!0),ll("opt_completed",!0)]},jb:{name:"sendPasswordResetEmail",j:[sl("email"),pl(cl("opt_actionCodeSettings",!0),hl(null,!0),"opt_actionCodeSettings",!0)]},kb:{name:"sendSignInLinkToEmail",j:[sl("email"),cl("actionCodeSettings")]},lb:{name:"setPersistence",j:[sl("persistence")]},Oa:{name:"signInAndRetrieveDataWithCredential",j:[fl()]},Pa:{name:"signInAnonymously",j:[]},Fc:{name:"signInAnonymouslyAndRetrieveData",j:[]},Gc:{name:"signInWithCredential",j:[fl()]},Mb:{name:"signInWithCustomToken",j:[sl("token")]},Dc:{name:"signInAndRetrieveDataWithCustomToken",j:[sl("token")]},Nb:{name:"signInWithEmailAndPassword",j:[sl("email"),sl("password")]},Hc:{name:"signInWithEmailLink",j:[sl("email"),sl("emailLink",!0)]},Ec:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[sl("email"),sl("password")]},Ic:{name:"signInWithPhoneNumber",j:[sl("phoneNumber"),dl()]},Jc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Pc:{name:"updateCurrentUser",j:[pl({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof Uu)}},hl(),"user")]},mb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[sl(null,!0)]},Rc:{name:"useDeviceLanguage",j:[]},Sc:{name:"verifyPasswordResetCode",j:[sl("code")]}}),gl(kc.prototype,{lc:{name:"languageCode",sb:pl(sl(),hl(),"languageCode")}}),kc.Persistence=zs,kc.Persistence.LOCAL="local",kc.Persistence.SESSION="session",kc.Persistence.NONE="none",vl(Uu.prototype,{delete:{name:"delete",j:[]},cc:{name:"getIdTokenResult",j:[ul("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[ul("opt_forceRefresh",!0)]},cb:{name:"linkAndRetrieveDataWithCredential",j:[fl()]},oc:{name:"linkWithCredential",j:[fl()]},pc:{name:"linkWithPhoneNumber",j:[sl("phoneNumber"),dl()]},qc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},rc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},fb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[fl()]},xc:{name:"reauthenticateWithCredential",j:[fl()]},yc:{name:"reauthenticateWithPhoneNumber",j:[sl("phoneNumber"),dl()]},zc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ib:{name:"sendEmailVerification",j:[pl(cl("opt_actionCodeSettings",!0),hl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[sl(null,!0)]},Oc:{name:"unlink",j:[sl("provider")]},ob:{name:"updateEmail",j:[sl("email")]},pb:{name:"updatePassword",j:[sl("password")]},Qc:{name:"updatePhoneNumber",j:[fl("phone")]},qb:{name:"updateProfile",j:[cl("profile")]}}),vl(Fc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),vl(Lc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),vl(vt.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),gl(Pu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",sb:ul("appVerificationDisabledForTesting")}}),vl(Iu.prototype,{confirm:{name:"confirm",j:[sl("verificationCode")]}}),ml(Ii,"credential",function(t,e){return new Pi(t,e)},[sl("email"),sl("password")]),vl(Ei.prototype,{ta:{name:"addScope",j:[sl("scope")]},Da:{name:"setCustomParameters",j:[cl("customOAuthParameters")]}}),ml(Ei,"credential",Ci,[pl(sl(),cl(),"token")]),ml(Ii,"credentialWithLink",Ni,[sl("email"),sl("emailLink")]),vl(ki.prototype,{ta:{name:"addScope",j:[sl("scope")]},Da:{name:"setCustomParameters",j:[cl("customOAuthParameters")]}}),ml(ki,"credential",Ti,[pl(sl(),cl(),"token")]),vl(Si.prototype,{ta:{name:"addScope",j:[sl("scope")]},Da:{name:"setCustomParameters",j:[cl("customOAuthParameters")]}}),ml(Si,"credential",Oi,[pl(sl(),pl(cl(),hl()),"idToken"),pl(sl(),hl(),"accessToken",!0)]),vl(Mi.prototype,{Da:{name:"setCustomParameters",j:[cl("customOAuthParameters")]}}),ml(Mi,"credential",Ai,[pl(sl(),cl(),"token"),sl("secret",!0)]),vl(xi.prototype,{ta:{name:"addScope",j:[sl("scope")]},credential:{name:"credential",j:[pl(sl(),hl(),"idToken",!0),pl(sl(),hl(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[cl("customOAuthParameters")]}}),ml(Li,"credential",Fi,[sl("verificationId"),sl("verificationCode")]),vl(Li.prototype,{Ta:{name:"verifyPhoneNumber",j:[sl("phoneNumber"),dl()]}}),vl(Fr.prototype,{toJSON:{name:"toJSON",j:[sl(null,!0)]}}),vl(Wi.prototype,{toJSON:{name:"toJSON",j:[sl(null,!0)]}}),vl(Hi.prototype,{toJSON:{name:"toJSON",j:[sl(null,!0)]}}),vl(il.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:kc,Error:Fr};ml(t,"EmailAuthProvider",Ii,[]),ml(t,"FacebookAuthProvider",Ei,[]),ml(t,"GithubAuthProvider",ki,[]),ml(t,"GoogleAuthProvider",Si,[]),ml(t,"TwitterAuthProvider",Mi,[]),ml(t,"OAuthProvider",xi,[sl("providerId")]),ml(t,"PhoneAuthProvider",Li,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof kc)}}]),ml(t,"RecaptchaVerifier",il,[pl(sl(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),cl("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.a.app.App)}}]),r.a.INTERNAL.registerService("auth",function(t,e){return e({INTERNAL:{getUid:m((t=new kc(t)).getUid,t),getToken:m(t.bc,t),addAuthTokenListener:m(t.Ub,t),removeAuthTokenListener:m(t.Bc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),r.a.INTERNAL.extendNamespace({User:Uu})}()}).apply(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}.call(e,n("DuR2"))},fuGk:function(t,e,n){"use strict";var r=n("cGG2");function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},fxRn:function(t,e,n){n("+tPU"),n("zQR9"),t.exports=n("g8Ux")},g8Ux:function(t,e,n){var r=n("77Pl"),i=n("3fs2");t.exports=n("FeBl").getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},h65t:function(t,e,n){var r=n("UuGF"),i=n("52gC");t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},hJx8:function(t,e,n){var r=n("evD5"),i=n("X8DO");t.exports=n("+E39")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"i/C/":function(t,e,n){n("exh5"),t.exports=n("FeBl").Object.setPrototypeOf},iInB:function(t,e,n){var r=n("TcQ7"),i=n("LKZe").f;n("uqUo")("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},iUbK:function(t,e,n){var r=n("7KvD").navigator;t.exports=r&&r.userAgent||""},j5iW:function(t,e,n){"use strict";var r=n("MICi"),i=n.n(r),o=n("d7EF"),a=n.n(o),s=n("bOdI"),u=n.n(s),c=n("C4MV"),l=n.n(c),h=n("mvHQ"),f=n.n(h),d=n("Zx67"),p=n.n(d),v=n("zwoO"),g=n.n(v),m=n("Pf15"),y=n.n(m),b=n("Zrlr"),_=n.n(b),w=n("wxAW"),x=n.n(w),E=n("K6ED"),C=n.n(E),k=n("pFYg"),T=n.n(k),S=n("//Fk"),O=n.n(S),M=n("fZjL"),A=n.n(M),P=n("Gu7T"),I=n.n(P),N="undefined"==typeof document?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},location:{hash:""}}:document,D="undefined"==typeof window?{document:N,navigator:{userAgent:""},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window,R=n("woOf"),j=n.n(R),L=n("u2KI"),F=n.n(L),B=function t(e){_()(this,t);for(var n=0;n<e.length;n+=1)this[n]=e[n];return this.length=e.length,this};function $(t,e){var n=[],r=0;if(t&&!e&&t instanceof B)return t;if(t)if("string"==typeof t){var i=void 0,o=void 0,a=t.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){var s="div";for(0===a.indexOf("<li")&&(s="ul"),0===a.indexOf("<tr")&&(s="tbody"),0!==a.indexOf("<td")&&0!==a.indexOf("<th")||(s="tr"),0===a.indexOf("<tbody")&&(s="table"),0===a.indexOf("<option")&&(s="select"),(o=N.createElement(s)).innerHTML=a,r=0;r<o.childNodes.length;r+=1)n.push(o.childNodes[r])}else for(i=e||"#"!==t[0]||t.match(/[ .<>:~]/)?(e||N).querySelectorAll(t.trim()):[N.getElementById(t.trim().split("#")[1])],r=0;r<i.length;r+=1)i[r]&&n.push(i[r])}else if(t.nodeType||t===D||t===N)n.push(t);else if(t.length>0&&t[0].nodeType)for(r=0;r<t.length;r+=1)n.push(t[r]);return new B(n)}function U(t){for(var e=[],n=0;n<t.length;n+=1)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function z(t){return D.requestAnimationFrame?D.requestAnimationFrame(t):D.webkitRequestAnimationFrame?D.webkitRequestAnimationFrame(t):D.setTimeout(t,1e3/60)}$.fn=B.prototype,$.Class=B,$.Dom7=B;var q=F()({addClass:function(t){if(void 0===t)return this;for(var e=t.split(" "),n=0;n<e.length;n+=1)for(var r=0;r<this.length;r+=1)void 0!==this[r]&&void 0!==this[r].classList&&this[r].classList.add(e[n]);return this},removeClass:function(t){for(var e=t.split(" "),n=0;n<e.length;n+=1)for(var r=0;r<this.length;r+=1)void 0!==this[r]&&void 0!==this[r].classList&&this[r].classList.remove(e[n]);return this},hasClass:function(t){return!!this[0]&&this[0].classList.contains(t)},toggleClass:function(t){for(var e=t.split(" "),n=0;n<e.length;n+=1)for(var r=0;r<this.length;r+=1)void 0!==this[r]&&void 0!==this[r].classList&&this[r].classList.toggle(e[n]);return this},attr:function(t,e){if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(t,e);else for(var r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this},removeAttr:function(t){for(var e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this},prop:function(t,e){if(1!==arguments.length||"string"!=typeof t){for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n][t]=e;else for(var r in t)this[n][r]=t[r];return this}if(this[0])return this[0][t]},data:function(t,e){var n=void 0;if(void 0!==e){for(var r=0;r<this.length;r+=1)(n=this[r]).dom7ElementDataStorage||(n.dom7ElementDataStorage={}),n.dom7ElementDataStorage[t]=e;return this}if(n=this[0]){if(n.dom7ElementDataStorage&&t in n.dom7ElementDataStorage)return n.dom7ElementDataStorage[t];var i=n.getAttribute("data-"+t);return i||void 0}},removeData:function(t){for(var e=0;e<this.length;e+=1){var n=this[e];n.dom7ElementDataStorage&&n.dom7ElementDataStorage[t]&&(n.dom7ElementDataStorage[t]=null,delete n.dom7ElementDataStorage[t])}},dataset:function(){var t=this[0];if(t){var e,n={};if(t.dataset)for(var r in t.dataset)n[r]=t.dataset[r];else for(var i=0;i<t.attributes.length;i+=1){var o=t.attributes[i];o.name.indexOf("data-")>=0&&(n[(e=o.name.split("data-")[1],e.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}))]=o.value)}for(var a in n)"false"===n[a]?n[a]=!1:"true"===n[a]?n[a]=!0:parseFloat(n[a])===1*n[a]&&(n[a]*=1);return n}},val:function(t){if(void 0!==t){for(var e=0;e<this.length;e+=1){var n=this[e];if(Array.isArray(t)&&n.multiple&&"select"===n.nodeName.toLowerCase())for(var r=0;r<n.options.length;r+=1)n.options[r].selected=t.indexOf(n.options[r].value)>=0;else n.value=t}return this}if(this[0]){if(this[0].multiple&&"select"===this[0].nodeName.toLowerCase()){for(var i=[],o=0;o<this[0].selectedOptions.length;o+=1)i.push(this[0].selectedOptions[o].value);return i}return this[0].value}},transform:function(t){for(var e=0;e<this.length;e+=1){var n=this[e].style;n.webkitTransform=t,n.transform=t}return this},transition:function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e+=1){var n=this[e].style;n.webkitTransitionDuration=t,n.transitionDuration=t}return this},on:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],o=e[2],a=e[3];function s(t){var e=t.target;if(e){var n=t.target.dom7EventData||[];if(n.indexOf(t)<0&&n.unshift(t),$(e).is(i))o.apply(e,n);else for(var r=$(e).parents(),a=0;a<r.length;a+=1)$(r[a]).is(i)&&o.apply(r[a],n)}}function u(t){var e=t&&t.target&&t.target.dom7EventData||[];e.indexOf(t)<0&&e.unshift(t),o.apply(this,e)}"function"==typeof e[1]&&(r=e[0],o=e[1],a=e[2],i=void 0),a||(a=!1);for(var c=r.split(" "),l=void 0,h=0;h<this.length;h+=1){var f=this[h];if(i)for(l=0;l<c.length;l+=1){var d=c[l];f.dom7LiveListeners||(f.dom7LiveListeners={}),f.dom7LiveListeners[d]||(f.dom7LiveListeners[d]=[]),f.dom7LiveListeners[d].push({listener:o,proxyListener:s}),f.addEventListener(d,s,a)}else for(l=0;l<c.length;l+=1){var p=c[l];f.dom7Listeners||(f.dom7Listeners={}),f.dom7Listeners[p]||(f.dom7Listeners[p]=[]),f.dom7Listeners[p].push({listener:o,proxyListener:u}),f.addEventListener(p,u,a)}}return this},off:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],o=e[2],a=e[3];"function"==typeof e[1]&&(r=e[0],o=e[1],a=e[2],i=void 0),a||(a=!1);for(var s=r.split(" "),u=0;u<s.length;u+=1)for(var c=s[u],l=0;l<this.length;l+=1){var h=this[l],f=void 0;if(!i&&h.dom7Listeners?f=h.dom7Listeners[c]:i&&h.dom7LiveListeners&&(f=h.dom7LiveListeners[c]),f&&f.length)for(var d=f.length-1;d>=0;d-=1){var p=f[d];o&&p.listener===o?(h.removeEventListener(c,p.proxyListener,a),f.splice(d,1)):o||(h.removeEventListener(c,p.proxyListener,a),f.splice(d,1))}}return this},once:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];return"function"==typeof n[1]&&(i=n[0],a=n[1],s=n[2],o=void 0),t.on(i,o,function e(){for(var n=arguments.length,r=Array(n),u=0;u<n;u++)r[u]=arguments[u];a.apply(this,r),t.off(i,o,e,s)},s)},trigger:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e[0].split(" "),i=e[1],o=0;o<r.length;o+=1)for(var a=r[o],s=0;s<this.length;s+=1){var u=this[s],c=void 0;try{c=new D.CustomEvent(a,{detail:i,bubbles:!0,cancelable:!0})}catch(t){(c=N.createEvent("Event")).initEvent(a,!0,!0),c.detail=i}u.dom7EventData=e.filter(function(t,e){return e>0}),u.dispatchEvent(c),u.dom7EventData=[],delete u.dom7EventData}return this},transitionEnd:function(t){var e=["webkitTransitionEnd","transitionend"],n=this,r=void 0;function i(o){if(o.target===this)for(t.call(this,o),r=0;r<e.length;r+=1)n.off(e[r],i)}if(t)for(r=0;r<e.length;r+=1)n.on(e[r],i);return this},animationEnd:function(t){var e=["webkitAnimationEnd","animationend"],n=this,r=void 0;function i(o){if(o.target===this)for(t.call(this,o),r=0;r<e.length;r+=1)n.off(e[r],i)}if(t)for(r=0;r<e.length;r+=1)n.on(e[r],i);return this},width:function(){return this[0]===D?D.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(t){if(this.length>0){if(t){var e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},height:function(){return this[0]===D?D.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(t){if(this.length>0){if(t){var e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},offset:function(){if(this.length>0){var t=this[0],e=t.getBoundingClientRect(),n=N.body,r=t.clientTop||n.clientTop||0,i=t.clientLeft||n.clientLeft||0,o=t===D?D.scrollY:t.scrollTop,a=t===D?D.scrollX:t.scrollLeft;return{top:e.top+o-r,left:e.left+a-i}}return null},hide:function(){for(var t=0;t<this.length;t+=1)this[t].style.display="none";return this},show:function(){for(var t=0;t<this.length;t+=1){var e=this[t];"none"===e.style.display&&(e.style.display=""),"none"===D.getComputedStyle(e,null).getPropertyValue("display")&&(e.style.display="block")}return this},styles:function(){return this[0]?D.getComputedStyle(this[0],null):{}},css:function(t,e){var n=void 0;if(1===arguments.length){if("string"!=typeof t){for(n=0;n<this.length;n+=1)for(var r in t)this[n].style[r]=t[r];return this}if(this[0])return D.getComputedStyle(this[0],null).getPropertyValue(t)}if(2===arguments.length&&"string"==typeof t){for(n=0;n<this.length;n+=1)this[n].style[t]=e;return this}return this},toArray:function(){for(var t=[],e=0;e<this.length;e+=1)t.push(this[e]);return t},each:function(t){if(!t)return this;for(var e=0;e<this.length;e+=1)if(!1===t.call(this[e],e,this[e]))return this;return this},forEach:function(t){if(!t)return this;for(var e=0;e<this.length;e+=1)if(!1===t.call(this[e],this[e],e))return this;return this},filter:function(t){for(var e=[],n=0;n<this.length;n+=1)t.call(this[n],n,this[n])&&e.push(this[n]);return new B(e)},map:function(t){for(var e=[],n=0;n<this.length;n+=1)e.push(t.call(this[n],n,this[n]));return new B(e)},html:function(t){if(void 0===t)return this[0]?this[0].innerHTML:void 0;for(var e=0;e<this.length;e+=1)this[e].innerHTML=t;return this},text:function(t){if(void 0===t)return this[0]?this[0].textContent.trim():null;for(var e=0;e<this.length;e+=1)this[e].textContent=t;return this},is:function(t){var e=this[0],n=void 0,r=void 0;if(!e||void 0===t)return!1;if("string"==typeof t){if(e.matches)return e.matches(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);for(n=$(t),r=0;r<n.length;r+=1)if(n[r]===e)return!0;return!1}if(t===N)return e===N;if(t===D)return e===D;if(t.nodeType||t instanceof B){for(n=t.nodeType?[t]:t,r=0;r<n.length;r+=1)if(n[r]===e)return!0;return!1}return!1},indexOf:function(t){for(var e=0;e<this.length;e+=1)if(this[e]===t)return e;return-1},index:function(){var t=this[0],e=void 0;if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(t){if(void 0===t)return this;var e=this.length,n=void 0;return new B(t>e-1?[]:t<0?(n=e+t)<0?[]:[this[n]]:[this[t]])},append:function(){for(var t=void 0,e=0;e<arguments.length;e+=1){t=arguments.length<=e?void 0:arguments[e];for(var n=0;n<this.length;n+=1)if("string"==typeof t){var r=N.createElement("div");for(r.innerHTML=t;r.firstChild;)this[n].appendChild(r.firstChild)}else if(t instanceof B)for(var i=0;i<t.length;i+=1)this[n].appendChild(t[i]);else this[n].appendChild(t)}return this},appendTo:function(t){return $(t).append(this),this},prepend:function(t){var e=void 0,n=void 0;for(e=0;e<this.length;e+=1)if("string"==typeof t){var r=N.createElement("div");for(r.innerHTML=t,n=r.childNodes.length-1;n>=0;n-=1)this[e].insertBefore(r.childNodes[n],this[e].childNodes[0])}else if(t instanceof B)for(n=0;n<t.length;n+=1)this[e].insertBefore(t[n],this[e].childNodes[0]);else this[e].insertBefore(t,this[e].childNodes[0]);return this},prependTo:function(t){return $(t).prepend(this),this},insertBefore:function(t){for(var e=$(t),n=0;n<this.length;n+=1)if(1===e.length)e[0].parentNode.insertBefore(this[n],e[0]);else if(e.length>1)for(var r=0;r<e.length;r+=1)e[r].parentNode.insertBefore(this[n].cloneNode(!0),e[r])},insertAfter:function(t){for(var e=$(t),n=0;n<this.length;n+=1)if(1===e.length)e[0].parentNode.insertBefore(this[n],e[0].nextSibling);else if(e.length>1)for(var r=0;r<e.length;r+=1)e[r].parentNode.insertBefore(this[n].cloneNode(!0),e[r].nextSibling)},next:function(t){return this.length>0?t?this[0].nextElementSibling&&$(this[0].nextElementSibling).is(t)?new B([this[0].nextElementSibling]):new B([]):this[0].nextElementSibling?new B([this[0].nextElementSibling]):new B([]):new B([])},nextAll:function(t){var e=[],n=this[0];if(!n)return new B([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;t?$(r).is(t)&&e.push(r):e.push(r),n=r}return new B(e)},prev:function(t){if(this.length>0){var e=this[0];return t?e.previousElementSibling&&$(e.previousElementSibling).is(t)?new B([e.previousElementSibling]):new B([]):e.previousElementSibling?new B([e.previousElementSibling]):new B([])}return new B([])},prevAll:function(t){var e=[],n=this[0];if(!n)return new B([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;t?$(r).is(t)&&e.push(r):e.push(r),n=r}return new B(e)},siblings:function(t){return this.nextAll(t).add(this.prevAll(t))},parent:function(t){for(var e=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(t?$(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return $(U(e))},parents:function(t){for(var e=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)t?$(r).is(t)&&e.push(r):e.push(r),r=r.parentNode;return $(U(e))},closest:function(t){var e=this;return void 0===t?new B([]):(e.is(t)||(e=e.parents(t).eq(0)),e)},find:function(t){for(var e=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(t),i=0;i<r.length;i+=1)e.push(r[i]);return new B(e)},children:function(t){for(var e=[],n=0;n<this.length;n+=1)for(var r=this[n].childNodes,i=0;i<r.length;i+=1)t?1===r[i].nodeType&&$(r[i]).is(t)&&e.push(r[i]):1===r[i].nodeType&&e.push(r[i]);return new B(U(e))},remove:function(){for(var t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this},detach:function(){return this.remove()},add:function(){for(var t=void 0,e=void 0,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];for(t=0;t<r.length;t+=1){var o=$(r[t]);for(e=0;e<o.length;e+=1)this[this.length]=o[e],this.length+=1}return this},empty:function(){for(var t=0;t<this.length;t+=1){var e=this[t];if(1===e.nodeType){for(var n=0;n<e.childNodes.length;n+=1)e.childNodes[n].parentNode&&e.childNodes[n].parentNode.removeChild(e.childNodes[n]);e.textContent=""}}return this}});var V=F()({scrollTo:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4];return 4===e.length&&"function"==typeof a&&(s=a,r=e[0],i=e[1],o=e[2],s=e[3],a=e[4]),void 0===a&&(a="swing"),this.each(function(){var t=this,e=void 0,n=void 0,u=void 0,c=void 0,l=void 0,h=void 0,f=void 0,d=void 0,p=i>0||0===i,v=r>0||0===r;if(void 0===a&&(a="swing"),p&&(e=t.scrollTop,o||(t.scrollTop=i)),v&&(n=t.scrollLeft,o||(t.scrollLeft=r)),o){p&&(u=t.scrollHeight-t.offsetHeight,l=Math.max(Math.min(i,u),0)),v&&(c=t.scrollWidth-t.offsetWidth,h=Math.max(Math.min(r,c),0));var g=null;p&&l===e&&(p=!1),v&&h===n&&(v=!1),z(function r(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getTime();null===g&&(g=i);var u=Math.max(Math.min((i-g)/o,1),0),c="linear"===a?u:.5-Math.cos(u*Math.PI)/2,m=void 0;p&&(f=e+c*(l-e)),v&&(d=n+c*(h-n)),p&&l>e&&f>=l&&(t.scrollTop=l,m=!0),p&&l<e&&f<=l&&(t.scrollTop=l,m=!0),v&&h>n&&d>=h&&(t.scrollLeft=h,m=!0),v&&h<n&&d<=h&&(t.scrollLeft=h,m=!0),m?s&&s():(p&&(t.scrollTop=f),v&&(t.scrollLeft=d),z(r))})}})},scrollTop:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],o=e[2],a=e[3];return 3===e.length&&"function"==typeof o&&(r=e[0],i=e[1],a=e[2],o=e[3]),void 0===r?this.length>0?this[0].scrollTop:null:this.scrollTo(void 0,r,i,o,a)},scrollLeft:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],o=e[2],a=e[3];return 3===e.length&&"function"==typeof o&&(r=e[0],i=e[1],a=e[2],o=e[3]),void 0===r?this.length>0?this[0].scrollLeft:null:this.scrollTo(r,void 0,i,o,a)}});var H=F()({animate:function(t,e){var n=this,r={props:j()({},t),params:j()({duration:300,easing:"swing"},e),elements:n,animating:!1,que:[],easingProgress:function(t,e){return"swing"===t?.5-Math.cos(e*Math.PI)/2:"function"==typeof t?t(e):e},stop:function(){var t;r.frameId&&(t=r.frameId,D.cancelAnimationFrame?D.cancelAnimationFrame(t):D.webkitCancelAnimationFrame?D.webkitCancelAnimationFrame(t):D.clearTimeout(t)),r.animating=!1,r.elements.each(function(t,e){delete e.dom7AnimateInstance}),r.que=[]},done:function(t){if(r.animating=!1,r.elements.each(function(t,e){delete e.dom7AnimateInstance}),t&&t(n),r.que.length>0){var e=r.que.shift();r.animate(e[0],e[1])}},animate:function(t,e){if(r.animating)return r.que.push([t,e]),r;var i=[];r.elements.each(function(e,n){var o=void 0,a=void 0,s=void 0,u=void 0,c=void 0;n.dom7AnimateInstance||(r.elements[e].dom7AnimateInstance=r),i[e]={container:n},A()(t).forEach(function(r){o=D.getComputedStyle(n,null).getPropertyValue(r).replace(",","."),a=parseFloat(o),s=o.replace(a,""),u=parseFloat(t[r]),c=t[r]+s,i[e][r]={initialFullValue:o,initialValue:a,unit:s,finalValue:u,finalFullValue:c,currentValue:a}})});var o=null,a=void 0,s=0,u=0,c=void 0,l=!1;return r.animating=!0,r.frameId=z(function h(){a=(new Date).getTime();var f=void 0,d=void 0;l||(l=!0,e.begin&&e.begin(n)),null===o&&(o=a),e.progress&&e.progress(n,Math.max(Math.min((a-o)/e.duration,1),0),o+e.duration-a<0?0:o+e.duration-a,o),i.forEach(function(n){var l=n;c||l.done||A()(t).forEach(function(n){if(!c&&!l.done){f=Math.max(Math.min((a-o)/e.duration,1),0),d=r.easingProgress(e.easing,f);var h=l[n],p=h.initialValue,v=h.finalValue,g=h.unit;l[n].currentValue=p+d*(v-p);var m=l[n].currentValue;(v>p&&m>=v||v<p&&m<=v)&&(l.container.style[n]=v+g,(u+=1)===A()(t).length&&(l.done=!0,s+=1),s===i.length&&(c=!0)),c?r.done(e.complete):l.container.style[n]=m+g}})}),c||(r.frameId=z(h))}),r}};if(0===r.elements.length)return n;for(var i=void 0,o=0;o<r.elements.length;o+=1)r.elements[o].dom7AnimateInstance?i=r.elements[o].dom7AnimateInstance:r.elements[o].dom7AnimateInstance=r;return i||(i=r),"stop"===t?i.stop():i.animate(r.props,r.params),n},stop:function(){for(var t=0;t<this.length;t+=1)this[t].dom7AnimateInstance&&this[t].dom7AnimateInstance.stop()}}),W="resize scroll".split(" ");function G(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(void 0===n[0]){for(var i=0;i<this.length;i+=1)W.indexOf(t)<0&&(t in this[i]?this[i][t]():$(this[i]).trigger(t));return this}return this.on.apply(this,[t].concat(n))}[q,V,H,F()({click:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["click"].concat(e))},blur:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["blur"].concat(e))},focus:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["focus"].concat(e))},focusin:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["focusin"].concat(e))},focusout:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["focusout"].concat(e))},keyup:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["keyup"].concat(e))},keydown:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["keydown"].concat(e))},keypress:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["keypress"].concat(e))},submit:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["submit"].concat(e))},change:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["change"].concat(e))},mousedown:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["mousedown"].concat(e))},mousemove:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["mousemove"].concat(e))},mouseup:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["mouseup"].concat(e))},mouseenter:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["mouseenter"].concat(e))},mouseleave:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["mouseleave"].concat(e))},mouseout:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["mouseout"].concat(e))},mouseover:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["mouseover"].concat(e))},touchstart:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["touchstart"].concat(e))},touchend:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["touchend"].concat(e))},touchmove:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["touchmove"].concat(e))},resize:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["resize"].concat(e))},scroll:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.bind(this).apply(void 0,["scroll"].concat(e))}})].forEach(function(t){A()(t).forEach(function(e){$.fn[e]=t[e]})});var K=$,Y=n("wLac"),Q=n("Ygqm"),X=n.n(Q);n.d(e,!1,function(){return K}),n.d(e,!1,function(){return Y.a});var J=4,Z=.001,tt=1e-7,et=10,nt=11,rt=1/(nt-1),it="function"==typeof Float32Array;function ot(t,e){return 1-3*e+3*t}function at(t,e){return 3*e-6*t}function st(t){return 3*t}function ut(t,e,n){return((ot(e,n)*t+at(e,n))*t+st(e))*t}function ct(t,e,n){return 3*ot(e,n)*t*t+2*at(e,n)*t+st(e)}function lt(t,e,n,r){if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");var i=it?new Float32Array(nt):new Array(nt);if(t!==e||n!==r)for(var o=0;o<nt;++o)i[o]=ut(o*rt,t,n);function a(e){for(var r=0,o=1,a=nt-1;o!==a&&i[o]<=e;++o)r+=rt;var s=r+(e-i[--o])/(i[o+1]-i[o])*rt,u=ct(s,t,n);return u>=Z?function(t,e,n,r){for(var i=0;i<J;++i){var o=ct(e,n,r);if(0===o)return e;e-=(ut(e,n,r)-t)/o}return e}(e,s,t,n):0===u?s:function(t,e,n,r,i){var o,a,s=0;do{(o=ut(a=e+(n-e)/2,r,i)-t)>0?n=a:e=a}while(Math.abs(o)>tt&&++s<et);return a}(e,r,r+rt,t,n)}return function(i){return t===e&&n===r?i:0===i?0:1===i?1:ut(a(i),e,r)}}for(var ht=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],ft={},dt=0;dt<ht.length;dt+=1)for(var pt=ht[dt].letters,vt=0;vt<pt.length;vt+=1)ft[pt[vt]]=ht[dt].base;var gt={mdPreloaderContent:'\n    <span class="preloader-inner">\n      <span class="preloader-inner-gap"></span>\n      <span class="preloader-inner-left">\n          <span class="preloader-inner-half-circle"></span>\n      </span>\n      <span class="preloader-inner-right">\n          <span class="preloader-inner-half-circle"></span>\n      </span>\n    </span>\n  '.trim(),eventNameToColonCase:function(t){var e=void 0;return t.split("").map(function(t,n){return t.match(/[A-Z]/)&&0!==n&&!e?(e=!0,":"+t.toLowerCase()):t.toLowerCase()}).join("")},deleteProps:function(t){var e=t;A()(e).forEach(function(t){try{e[t]=null}catch(t){}try{delete e[t]}catch(t){}})},bezier:function(){return lt.apply(void 0,arguments)},nextTick:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return setTimeout(t,e)},nextFrame:function(t){return gt.requestAnimationFrame(t)},now:function(){return Date.now()},promise:function(t){return D.Promise?new O.a(t):function(t){var e=!1,n=!1,r=void 0,i=void 0,o={then:void 0,catch:void 0},a={then:function(t){return e?t.apply(void 0,I()(r)):o.then=t,a},catch:function(t){return n?t.apply(void 0,I()(i)):o.catch=t,a}};return t(function(){e=!0;for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];o.then?o.then.apply(o,n):r=n},function(){n=!0;for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];o.catch?o.catch.apply(o,e):i=e}),a}(t)},requestAnimationFrame:function(t){return D.requestAnimationFrame?D.requestAnimationFrame(t):D.webkitRequestAnimationFrame?D.webkitRequestAnimationFrame(t):D.setTimeout(t,1e3/60)},cancelAnimationFrame:function(t){return D.cancelAnimationFrame?D.cancelAnimationFrame(t):D.webkitCancelAnimationFrame?D.webkitCancelAnimationFrame(t):D.clearTimeout(t)},removeDiacritics:function(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return ft[t]||t})},parseUrlQuery:function(t){var e={},n=t||D.location.href,r=void 0,i=void 0,o=void 0,a=void 0;if("string"==typeof n&&n.length)for(a=(i=(n=n.indexOf("?")>-1?n.replace(/\S*\?/,""):"").split("&").filter(function(t){return""!==t})).length,r=0;r<a;r+=1)o=i[r].replace(/#\S+/g,"").split("="),e[decodeURIComponent(o[0])]=void 0===o[1]?void 0:decodeURIComponent(o[1])||"";return e},getTranslate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",n=void 0,r=void 0,i=void 0,o=D.getComputedStyle(t,null);return D.WebKitCSSMatrix?((r=o.transform||o.webkitTransform).split(",").length>6&&(r=r.split(", ").map(function(t){return t.replace(",",".")}).join(", ")),i=new D.WebKitCSSMatrix("none"===r?"":r)):n=(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===e&&(r=D.WebKitCSSMatrix?i.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===e&&(r=D.WebKitCSSMatrix?i.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),r||0},serializeObject:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if("string"==typeof t)return t;var n=[],r=void 0;function i(t){if(e.length>0){for(var n="",r=0;r<e.length;r+=1)n+=0===r?e[r]:"["+encodeURIComponent(e[r])+"]";return n+"["+encodeURIComponent(t)+"]"}return encodeURIComponent(t)}function o(t){return encodeURIComponent(t)}return A()(t).forEach(function(a){var s=void 0;if(Array.isArray(t[a])){s=[];for(var u=0;u<t[a].length;u+=1)Array.isArray(t[a][u])||"object"!==T()(t[a][u])?s.push(i(a)+"[]="+o(t[a][u])):((r=e.slice()).push(a),r.push(String(u)),s.push(gt.serializeObject(t[a][u],r)));s.length>0&&n.push(s.join("&"))}else null===t[a]||""===t[a]?n.push(i(a)+"="):"object"===T()(t[a])?((r=e.slice()).push(a),""!==(s=gt.serializeObject(t[a],r))&&n.push(s)):void 0!==t[a]&&""!==t[a]?n.push(i(a)+"="+o(t[a])):""===t[a]&&n.push(i(a))}),n.join("&")},isObject:function(t){return"object"===(void 0===t?"undefined":T()(t))&&null!==t&&t.constructor&&t.constructor===Object},merge:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0];e.splice(0,1);for(var i=e,o=0;o<i.length;o+=1){var a=e[o];if(void 0!==a&&null!==a)for(var s=A()(Object(a)),u=0,c=s.length;u<c;u+=1){var l=s[u],h=C()(a,l);void 0!==h&&h.enumerable&&(r[l]=a[l])}}return r},extend:function(){for(var t=!0,e=void 0,n=void 0,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];"boolean"==typeof i[0]?(t=i[0],e=i[1],i.splice(0,2),n=i):(e=i[0],i.splice(0,1),n=i);for(var a=0;a<n.length;a+=1){var s=i[a];if(void 0!==s&&null!==s)for(var u=A()(Object(s)),c=0,l=u.length;c<l;c+=1){var h=u[c],f=C()(s,h);void 0!==f&&f.enumerable&&(t?gt.isObject(e[h])&&gt.isObject(s[h])?gt.extend(e[h],s[h]):!gt.isObject(e[h])&&gt.isObject(s[h])?(e[h]={},gt.extend(e[h],s[h])):e[h]=s[h]:e[h]=s[h])}}return e}},mt=function(){var t=D.navigator.userAgent,e={ios:!1,android:!1,androidChrome:!1,desktop:!1,windows:!1,iphone:!1,iphoneX:!1,ipod:!1,ipad:!1,cordova:D.cordova||D.phonegap,phonegap:D.cordova||D.phonegap},n=t.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),r=t.match(/(Android);?[\s\/]+([\d.]+)?/),i=t.match(/(iPad).*OS\s([\d_]+)/),o=t.match(/(iPod)(.*OS\s([\d_]+))?/),a=!i&&t.match(/(iPhone\sOS|iOS)\s([\d_]+)/),s=a&&375===D.screen.width&&812===D.screen.height;if(n&&(e.os="windows",e.osVersion=n[2],e.windows=!0),r&&!n&&(e.os="android",e.osVersion=r[2],e.android=!0,e.androidChrome=t.toLowerCase().indexOf("chrome")>=0),(i||a||o)&&(e.os="ios",e.ios=!0),a&&!o&&(e.osVersion=a[2].replace(/_/g,"."),e.iphone=!0,e.iphoneX=s),i&&(e.osVersion=i[2].replace(/_/g,"."),e.ipad=!0),o&&(e.osVersion=o[3]?o[3].replace(/_/g,"."):null,e.iphone=!0),e.ios&&e.osVersion&&t.indexOf("Version/")>=0&&"10"===e.osVersion.split(".")[0]&&(e.osVersion=t.toLowerCase().split("version/")[1].split(" ")[0]),e.webView=(a||i||o)&&(t.match(/.*AppleWebKit(?!.*Safari)/i)||D.navigator.standalone),e.webview=e.webView,e.desktop=!(e.os||e.android||e.webView),e.os&&"ios"===e.os){var u=e.osVersion.split("."),c=N.querySelector('meta[name="viewport"]');e.minimalUi=!e.webView&&(o||a)&&(1*u[0]==7?1*u[1]>=1:1*u[0]>7)&&c&&c.getAttribute("content").indexOf("minimal-ui")>=0}return e.needsStatusbarOverlay=function(){return!(!(e.webView||e.android&&e.cordova)||D.innerWidth*D.innerHeight!=D.screen.width*D.screen.height)&&(!e.iphoneX||90!==D.orientation&&-90!==D.orientation)},e.statusbar=e.needsStatusbarOverlay(),e.pixelRatio=D.devicePixelRatio||1,e}(),yt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];_()(this,t);var r=this;r.params=e,r.eventsParents=n,r.eventsListeners={},r.params&&r.params.on&&A()(r.params.on).forEach(function(t){r.on(t,r.params.on[t])})}return x()(t,[{key:"on",value:function(t,e,n){var r=this;if("function"!=typeof e)return r;var i=n?"unshift":"push";return t.split(" ").forEach(function(t){r.eventsListeners[t]||(r.eventsListeners[t]=[]),r.eventsListeners[t][i](e)}),r}},{key:"once",value:function(t,e,n){var r=this;if("function"!=typeof e)return r;return r.on(t,function n(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];e.apply(r,o),r.off(t,n)},n)}},{key:"off",value:function(t,e){var n=this;return n.eventsListeners?(t.split(" ").forEach(function(t){void 0===e?n.eventsListeners[t]=[]:n.eventsListeners[t].forEach(function(r,i){r===e&&n.eventsListeners[t].splice(i,1)})}),n):n}},{key:"emit",value:function(){var t=this;if(!t.eventsListeners)return t;for(var e=void 0,n=void 0,r=void 0,i=void 0,o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];"string"==typeof a[0]||Array.isArray(a[0])?(e=a[0],n=a.slice(1,a.length),r=t,i=t.eventsParents):(e=a[0].events,n=a[0].data,r=a[0].context||t,i=a[0].local?[]:a[0].parents||t.eventsParents);var u=Array.isArray(e)?e:e.split(" "),c=u.map(function(t){return t.replace("local::","")}),l=u.filter(function(t){return t.indexOf("local::")<0});return c.forEach(function(e){if(t.eventsListeners&&t.eventsListeners[e]){var i=[];t.eventsListeners[e].forEach(function(t){i.push(t)}),i.forEach(function(t){t.apply(r,n)})}}),i&&i.length>0&&i.forEach(function(t){t.emit.apply(t,[l].concat(I()(n)))}),t}},{key:"useModulesParams",value:function(t){var e=this;e.modules&&A()(e.modules).forEach(function(n){var r=e.modules[n];r.params&&gt.extend(t,r.params)})}},{key:"useModules",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;e.modules&&A()(e.modules).forEach(function(n){var r=e.modules[n],i=t[n]||{};r.instance&&A()(r.instance).forEach(function(t){var n=r.instance[t];e[t]="function"==typeof n?n.bind(e):n}),r.on&&e.on&&A()(r.on).forEach(function(t){e.on(t,r.on[t])}),r.create&&r.create.bind(e)(i)})}}],[{key:"installModule",value:function(t){var e=this;e.prototype.modules||(e.prototype.modules={});var n=t.name||A()(e.prototype.modules).length+"_"+gt.now();if(e.prototype.modules[n]=t,t.proto&&A()(t.proto).forEach(function(n){e.prototype[n]=t.proto[n]}),t.static&&A()(t.static).forEach(function(n){e[n]=t.static[n]}),t.install){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];t.install.apply(e,i)}return e}},{key:"use",value:function(t){var e=this;if(Array.isArray(t))return t.forEach(function(t){return e.installModule(t)}),e;for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.installModule.apply(e,[t].concat(r))}},{key:"components",set:function(t){this.use&&this.use(t)}}]),t}(),bt=function(t){function e(t){var n;_()(this,e);var r=g()(this,(e.__proto__||p()(e)).call(this,t)),i=gt.extend({},t),o=r,a={version:"1.0.0",id:"io.framework7.testapp",root:"body",theme:"auto",language:D.navigator.language,routes:[],name:"Framework7",initOnDeviceReady:!0,init:!0};o.useModulesParams(a),o.params=gt.extend(a,t);var s=K(o.params.root);return gt.extend(o,{id:o.params.id,name:o.params.name,version:o.params.version,routes:o.params.routes,language:o.params.language,root:s,rtl:"rtl"===s.css("direction"),theme:"auto"===o.params.theme?mt.ios?"ios":"md":o.params.theme,passedParams:i}),o.root&&o.root[0]&&(o.root[0].f7=o),o.useModules(),o.params.init&&(mt.cordova&&o.params.initOnDeviceReady?K(N).on("deviceready",function(){o.init()}):o.init()),n=o,g()(r,n)}return y()(e,t),x()(e,[{key:"init",value:function(){var t=this;t.initialized||(t.root.addClass("framework7-initializing"),t.rtl&&K("html").attr("dir","rtl"),t.root.addClass("framework7-root"),K("html").removeClass("ios md").addClass(t.theme),t.data={},t.params.data&&"function"==typeof t.params.data?gt.extend(t.data,t.params.data.bind(t)()):t.params.data&&gt.extend(t.data,t.params.data),t.methods={},t.params.methods&&gt.extend(t.methods,t.params.methods),gt.nextFrame(function(){t.root.removeClass("framework7-initializing")}),t.initialized=!0,t.emit("init"))}},{key:"$",get:function(){return K}},{key:"t7",get:function(){return Y.a}}],[{key:"Dom7",get:function(){return K}},{key:"$",get:function(){return K}},{key:"Template7",get:function(){return Y.a}},{key:"Class",get:function(){return yt}}]),e}(yt),_t={},wt=0;function xt(t){var e=gt.extend({},_t);"beforeCreate beforeOpen beforeSend error complete success statusCode".split(" ").forEach(function(t){delete e[t]});var n=gt.extend({url:D.location.toString(),method:"GET",data:!1,async:!0,cache:!0,user:"",password:"",headers:{},xhrFields:{},statusCode:{},processData:!0,dataType:"text",contentType:"application/x-www-form-urlencoded",timeout:0},e),r=gt.extend({},n,t);function i(t){for(var e=void 0,n=void 0,i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return _t[t]&&(e=_t[t].apply(_t,o)),r[t]&&(n=r[t].apply(r,o)),"boolean"!=typeof e&&(e=!0),"boolean"!=typeof n&&(n=!0),e&&n}if(!1!==i("beforeCreate",r)){r.type&&(r.method=r.type);var o=r.url.indexOf("?")>=0?"&":"?",a=r.method.toUpperCase();if(("GET"===a||"HEAD"===a||"OPTIONS"===a||"DELETE"===a)&&r.data){var s=void 0;(s="string"==typeof r.data?r.data.indexOf("?")>=0?r.data.split("?")[1]:r.data:gt.serializeObject(r.data)).length&&(r.url+=o+s,"?"===o&&(o="&"))}if("json"===r.dataType&&r.url.indexOf("callback=")>=0){var u="f7jsonp_"+(Date.now()+(wt+=1)),c=void 0,l=r.url.split("callback="),h=l[0]+"callback="+u;if(l[1].indexOf("&")>=0){var f=l[1].split("&").filter(function(t){return t.indexOf("=")>0}).join("&");f.length>0&&(h+="&"+f)}var d=N.createElement("script");return d.type="text/javascript",d.onerror=function(){clearTimeout(c),i("error",null,"scripterror"),i("complete",null,"scripterror")},d.src=h,D[u]=function(t){clearTimeout(c),i("success",t),d.parentNode.removeChild(d),d=null,delete D[u]},N.querySelector("head").appendChild(d),void(r.timeout>0&&(c=setTimeout(function(){d.parentNode.removeChild(d),d=null,i("error",null,"timeout")},r.timeout)))}"GET"!==a&&"HEAD"!==a&&"OPTIONS"!==a&&"DELETE"!==a||!1===r.cache&&(r.url+=o+"_nocache"+Date.now());var p=new XMLHttpRequest;if(p.requestUrl=r.url,p.requestParameters=r,!1===i("beforeOpen",p,r))return p;p.open(a,r.url,r.async,r.user,r.password);var v=null;if(("POST"===a||"PUT"===a||"PATCH"===a)&&r.data)if(r.processData)if([ArrayBuffer,Blob,Document,FormData].indexOf(r.data.constructor)>=0)v=r.data;else{var g="---------------------------"+Date.now().toString(16);"multipart/form-data"===r.contentType?p.setRequestHeader("Content-Type","multipart/form-data; boundary="+g):p.setRequestHeader("Content-Type",r.contentType),v="";var m=gt.serializeObject(r.data);if("multipart/form-data"===r.contentType){m=m.split("&");for(var y=[],b=0;b<m.length;b+=1)y.push('Content-Disposition: form-data; name="'+m[b].split("=")[0]+'"\r\n\r\n'+m[b].split("=")[1]+"\r\n");v="--"+g+"\r\n"+y.join("--"+g+"\r\n")+"--"+g+"--\r\n"}else v=m}else v=r.data,p.setRequestHeader("Content-Type",r.contentType);r.headers&&A()(r.headers).forEach(function(t){p.setRequestHeader(t,r.headers[t])}),void 0===r.crossDomain&&(r.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(r.url)&&RegExp.$2!==D.location.host),r.crossDomain||p.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.xhrFields&&gt.extend(p,r.xhrFields);var _=void 0;return p.onload=function(){if(_&&clearTimeout(_),p.status>=200&&p.status<300||0===p.status){var t=void 0;if("json"===r.dataType){var e=void 0;try{t=JSON.parse(p.responseText)}catch(t){e=!0}e?i("error",p,"parseerror"):i("success",t,p.status,p)}else i("success",t="text"===p.responseType||""===p.responseType?p.responseText:p.response,p.status,p)}else i("error",p,p.status);r.statusCode&&(_t.statusCode&&_t.statusCode[p.status]&&_t.statusCode[p.status](p),r.statusCode[p.status]&&r.statusCode[p.status](p)),i("complete",p,p.status)},p.onerror=function(){_&&clearTimeout(_),i("error",p,p.status),i("complete",p,"error")},r.timeout>0&&(p.onabort=function(){_&&clearTimeout(_)},_=setTimeout(function(){p.abort(),i("error",p,"timeout"),i("complete",p,"timeout")},r.timeout)),!1===i("beforeSend",p,r)?p:(p.send(v),p)}}function Et(t){for(var e=[],n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=arguments.length,u=Array(s>1?s-1:0),c=1;c<s;c++)u[c-1]=arguments[c];"function"==typeof u[1]?(n=u[0],i=u[1],o=u[2],a=u[3]):(n=u[0],r=u[1],i=u[2],o=u[3],a=u[4]),[i,o].forEach(function(t){"string"==typeof t&&(a=t,t===i?i=void 0:o=void 0)}),a=a||("json"===t||"postJSON"===t?"json":void 0);var l={url:n,method:"post"===t||"postJSON"===t?"POST":"GET",data:r,success:i,error:o,dataType:a};return"postJSON"===t&&gt.extend(l,{contentType:"application/json",processData:!1,crossDomain:!0,data:"string"==typeof r?r:f()(r)}),xt(l)}xt.get=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Et.apply(void 0,["get"].concat(e))},xt.post=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Et.apply(void 0,["post"].concat(e))},xt.json=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Et.apply(void 0,["json"].concat(e))},xt.getJSON=xt.json,xt.postJSON=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Et.apply(void 0,["postJSON"].concat(e))},xt.setup=function(t){t.type&&!t.method&&gt.extend(t,{method:t.type}),gt.extend(_t,t)};var Ct,kt,Tt,St,Ot,Mt=(Ct=!1,kt=N.createElement("div"),"sticky -webkit-sticky -moz-sticky".split(" ").forEach(function(t){Ct||(kt.style.position=t,kt.style.position===t&&(Ct=!0))}),St=Ct,Ot=N.createElement("div"),{positionSticky:St,touch:!!("ontouchstart"in D||D.DocumentTouch&&N instanceof D.DocumentTouch),pointerEvents:!(!D.navigator.pointerEnabled&&!D.PointerEvent),prefixedPointerEvents:!!D.navigator.msPointerEnabled,transition:(Tt=Ot.style,"transition"in Tt||"webkitTransition"in Tt||"MozTransition"in Tt),transforms3d:D.Modernizr&&!0===D.Modernizr.csstransforms3d||function(){var t=Ot.style;return"webkitPerspective"in t||"MozPerspective"in t||"OPerspective"in t||"MsPerspective"in t||"perspective"in t}(),flexbox:function(){for(var t=N.createElement("div").style,e="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),n=0;n<e.length;n+=1)if(e[n]in t)return!0;return!1}(),observer:"MutationObserver"in D||"WebkitMutationObserver"in D,passiveListener:function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});D.addEventListener("testPassiveListener",null,e)}catch(t){}return t}(),gestures:"ongesturestart"in D}),At={name:"device",proto:{device:mt},static:{device:mt},on:{init:function(){var t=[],e=N.querySelector("html");if(e){if(t.push("device-pixel-ratio-"+Math.floor(mt.pixelRatio)),mt.pixelRatio>=2&&t.push("device-retina"),mt.os){if(t.push("device-"+mt.os,"device-"+mt.os+"-"+mt.osVersion.split(".")[0],"device-"+mt.os+"-"+mt.osVersion.replace(/\./g,"-")),"ios"===mt.os){for(var n=parseInt(mt.osVersion.split(".")[0],10)-1;n>=6;n-=1)t.push("device-ios-gt-"+n);mt.iphoneX&&t.push("device-iphone-x")}}else mt.desktop&&t.push("device-desktop");(mt.cordova||mt.phonegap)&&t.push("device-cordova"),t.forEach(function(t){e.classList.add(t)})}}}},Pt={name:"support",proto:{support:Mt},static:{support:Mt},on:{init:function(){var t=N.querySelector("html");if(t){var e=[];Mt.positionSticky&&e.push("support-position-sticky"),e.forEach(function(e){t.classList.add(e)})}}}},It={name:"utils",proto:{utils:gt},static:{utils:gt}},Nt={name:"resize",instance:{getSize:function(){if(!this.root[0])return{width:0,height:0,left:0,top:0};var t=this.root.offset(),e=[this.root[0].offsetWidth,this.root[0].offsetHeight,t.left,t.top],n=e[0],r=e[1],i=e[2],o=e[3];return this.width=n,this.height=r,this.left=i,this.top=o,{width:n,height:r,left:i,top:o}}},on:{init:function(){var t=this;t.getSize(),D.addEventListener("resize",function(){t.emit("resize")},!1),D.addEventListener("orientationchange",function(){t.emit("orientationchange")})},orientationchange:function(){this.device&&this.device.minimalUi&&(90!==D.orientation&&-90!==D.orientation||(N.body.scrollTop=0)),this.device.ipad&&(N.body.scrollLeft=0,setTimeout(function(){N.body.scrollLeft=0},0))},resize:function(){this.getSize()}}},Dt={name:"request",proto:{request:xt},static:{request:xt}};var Rt={name:"touch",params:{touch:{fastClicks:!0,fastClicksDistanceThreshold:10,fastClicksDelayBetweenClicks:50,fastClicksExclude:"",disableContextMenu:!0,tapHold:!1,tapHoldDelay:750,tapHoldPreventClicks:!0,activeState:!0,activeStateElements:"a, button, label, span, .actions-button, .stepper-button, .stepper-button-plus, .stepper-button-minus",materialRipple:!0,materialRippleElements:".ripple, .link, .item-link, .links-list a, .button, button, .input-clear-button, .dialog-button, .tab-link, .item-radio, .item-checkbox, .actions-button, .searchbar-disable-button, .fab a, .checkbox, .radio, .data-table .sortable-cell:not(.input-cell), .notification-close-button, .stepper-button, .stepper-button-minus, .stepper-button-plus"}},instance:{touchEvents:{start:Mt.touch?"touchstart":"mousedown",move:Mt.touch?"touchmove":"mousemove",end:Mt.touch?"touchend":"mouseup"}},on:{init:function(){var t=this,e=t.params.touch,n="md"===t.theme&&e.materialRipple;mt.ios&&mt.webView&&D.addEventListener("touchstart",function(){});var r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,h=void 0,f=void 0,d=void 0,p=void 0,v=void 0,g=void 0,m=void 0,y=void 0,b=void 0,_=void 0;function w(t){var n=K(t),r=n.parents(e.activeStateElements),i=void 0;return n.is(e.activeStateElements)&&(i=n),r.length>0&&(i=i?i.add(r):r),i||n}function x(t){var e=t.parents(".page-content, .panel");return 0!==e.length&&("yes"!==e.prop("scrollHandlerSet")&&(e.on("scroll",function(){clearTimeout(v),clearTimeout(_)}),e.prop("scrollHandlerSet","yes")),!0)}function E(){p&&p.addClass("active-state")}function C(){p&&(p.removeClass("active-state"),p=null)}function k(e,n,r){e&&(y=t.touchRipple.create(e,n,r))}function T(){y&&(y.remove(),y=void 0,b=void 0)}function S(t){(b=function(t){var n=e.materialRippleElements,r=K(t);if(r.is(n))return!r.hasClass("no-ripple")&&r;if(r.parents(n).length>0){var i=r.parents(n).eq(0);return!i.hasClass("no-ripple")&&i}return!1}(t))&&0!==b.length?x(b)?_=setTimeout(function(){k(b,r,i)},80):k(b,r,i):b=void 0}function O(){clearTimeout(_),T()}function M(){y?T():b&&!h?(clearTimeout(_),k(b,r,i),setTimeout(T,0)):T()}function A(e,n){t.emit({events:e,data:[n]})}function P(t){A("touchstart touchstart:active",t)}function I(t){A("touchmove touchmove:active",t)}function R(t){A("touchend touchend:active",t)}function j(t){A("touchstart:passive",t)}function L(t){A("touchmove:passive",t)}function F(t){A("touchend:passive",t)}var B=!!Mt.passiveListener&&{passive:!0},$=!!Mt.passiveListener&&{passive:!1};N.addEventListener("click",function(t){A("click",t)},!0),Mt.passiveListener?(N.addEventListener(t.touchEvents.start,P,$),N.addEventListener(t.touchEvents.move,I,$),N.addEventListener(t.touchEvents.end,R,$),N.addEventListener(t.touchEvents.start,j,B),N.addEventListener(t.touchEvents.move,L,B),N.addEventListener(t.touchEvents.end,F,B)):(N.addEventListener(t.touchEvents.start,function(t){P(t),j(t)},!1),N.addEventListener(t.touchEvents.move,function(t){I(t),L(t)},!1),N.addEventListener(t.touchEvents.end,function(t){R(t),F(t)},!1)),Mt.touch?(t.on("click",function(t){var n,r,i=!1;return s?(a=null,s=!1,!0):"submit"===t.target.type&&0===t.detail||"file"===t.target.type||(a||(n=t.target,r="input select textarea label".split(" "),n.nodeName&&r.indexOf(n.nodeName.toLowerCase())>=0||(i=!0)),g||(i=!0),N.activeElement===a&&(i=!0),t.forwardedTouchEvent&&(i=!0),t.cancelable||(i=!0),e.tapHold&&e.tapHoldPreventClicks&&f&&(i=!1),i||(t.stopImmediatePropagation(),t.stopPropagation(),a?(function(t){var e=K(t),n=!0;return(e.is("label")||e.parents("label").length>0)&&(n=!mt.android&&!(!mt.ios||!e.is("input"))),n}(a)||h)&&t.preventDefault():t.preventDefault(),a=null),m=setTimeout(function(){g=!1},mt.ios||mt.androidChrome?100:400),e.tapHold&&(d=setTimeout(function(){f=!1},mt.ios||mt.androidChrome?100:400)),i)}),t.on("touchstart",function(t){var y,b,_=this;if(h=!1,f=!1,t.targetTouches.length>1)return p&&C(),!0;if(t.touches.length>1&&p&&C(),e.tapHold&&(d&&clearTimeout(d),d=setTimeout(function(){t&&t.touches&&t.touches.length>1||(f=!0,t.preventDefault(),K(t.target).trigger("taphold"))},e.tapHoldDelay)),m&&clearTimeout(m),y=t.target,b=K(y),!(g=!("input"===y.nodeName.toLowerCase()&&("file"===y.type||"range"===y.type)||"select"===y.nodeName.toLowerCase()&&mt.android||b.hasClass("no-fastclick")||b.parents(".no-fastclick").length>0||e.fastClicksExclude&&b.is(e.fastClicksExclude))))return s=!1,!0;if(mt.ios||mt.android&&"getSelection"in D){var k=D.getSelection();if(k.rangeCount&&k.focusNode!==N.body&&(!k.isCollapsed||N.activeElement===k.focusNode))return u=!0,!0;u=!1}return mt.android&&function(t){var e="button input textarea select".split(" ");return!(!N.activeElement||t===N.activeElement||N.activeElement===N.body||e.indexOf(t.nodeName.toLowerCase())>=0)}(t.target)&&N.activeElement.blur(),s=!0,a=t.target,o=(new Date).getTime(),r=t.targetTouches[0].pageX,i=t.targetTouches[0].pageY,mt.ios&&(c=void 0,K(a).parents().each(function(){var t=_;t.scrollHeight>t.offsetHeight&&!c&&((c=t).f7ScrollTop=c.scrollTop)})),o-l<e.fastClicksDelayBetweenClicks&&t.preventDefault(),e.activeState&&(x(p=w(a))?v=setTimeout(E,80):E()),n&&S(a),!0}),t.on("touchmove",function(t){if(s){var o=e.fastClicksDistanceThreshold;if(o){var u=t.targetTouches[0].pageX,c=t.targetTouches[0].pageY;(Math.abs(u-r)>o||Math.abs(c-i)>o)&&(h=!0)}else h=!0;h&&(s=!1,a=null,h=!0,e.tapHold&&clearTimeout(d),e.activeState&&(clearTimeout(v),C()),n&&O())}}),t.on("touchend",function(r){clearTimeout(v),clearTimeout(d);var i=(new Date).getTime();if(!s)return!u&&g&&(mt.android&&!r.cancelable||!r.cancelable||r.preventDefault()),!0;if(N.activeElement===r.target)return e.activeState&&C(),n&&M(),!0;if(u||r.preventDefault(),i-l<e.fastClicksDelayBetweenClicks)return setTimeout(C,0),!0;if(l=i,s=!1,mt.ios&&c&&c.scrollTop!==c.f7ScrollTop)return!1;if(e.activeState&&(E(),setTimeout(C,0)),n&&M(),function(t){if(N.activeElement===t)return!1;var e=t.nodeName.toLowerCase(),n="button checkbox file image radio submit".split(" ");return!t.disabled&&!t.readOnly&&("textarea"===e||("select"===e?!mt.android:"input"===e&&n.indexOf(t.type)<0))}(a)){if(mt.ios&&mt.webView)return a.focus(),!1;a.focus()}return N.activeElement&&a!==N.activeElement&&N.activeElement!==N.body&&"label"!==a.nodeName.toLowerCase()&&N.activeElement.blur(),r.preventDefault(),!(e.tapHoldPreventClicks&&f||(function(e){var n=e.changedTouches[0],r=N.createEvent("MouseEvents"),i="click";mt.android&&"select"===a.nodeName.toLowerCase()&&(i="mousedown"),r.initMouseEvent(i,!0,!0,D,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),r.forwardedTouchEvent=!0,t.device.ios&&D.navigator.standalone?setTimeout(function(){(a=N.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY)).dispatchEvent(r)},10):a.dispatchEvent(r)}(r),1))}),N.addEventListener("touchcancel",function(){s=!1,a=null,clearTimeout(v),clearTimeout(d),e.activeState&&C(),n&&M()},{passive:!0})):e.activeState&&(t.on("touchstart",function(t){w(t.target).addClass("active-state"),"which"in t&&3===t.which&&setTimeout(function(){K(".active-state").removeClass("active-state")},0),n&&(r=t.pageX,i=t.pageY,S(t.target,t.pageX,t.pageY))}),t.on("touchmove",function(){K(".active-state").removeClass("active-state"),n&&O()}),t.on("touchend",function(){K(".active-state").removeClass("active-state"),n&&M()})),N.addEventListener("contextmenu",function(t){e.disableContextMenu&&(mt.ios||mt.android||mt.cordova)&&t.preventDefault(),n&&(p&&C(),M())})}}},jt=N.createElement("div"),Lt=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_()(this,t);var r=gt.extend({},e),i=gt.merge(this,n,{$options:r});"beforeCreate created beforeMount mounted beforeDestroy destroyed".split(" ").forEach(function(t){r[t]&&(r[t]=r[t].bind(i))}),r.data&&(r.data=r.data.bind(i),gt.extend(i,r.data())),r.render&&(r.render=r.render.bind(i)),r.methods&&A()(r.methods).forEach(function(t){i[t]=r.methods[t].bind(i)}),r.on&&A()(r.on).forEach(function(t){r.on[t]=r.on[t].bind(i)}),r.once&&A()(r.once).forEach(function(t){r.once[t]=r.once[t].bind(i)}),r.beforeCreate&&r.beforeCreate(),r.watch&&A()(r.watch).forEach(function(t){var e=i[t];l()(i,t,{enumerable:!0,configurable:!0,set:function(n){var o=e;e=n,o!==n&&r.watch[t].call(i,n,o)},get:function(){return e}})});var o=function(){var t="";if(r.render)t=r.render();else if(r.template)if("string"==typeof r.template)try{t=Y.a.compile(r.template)(i)}catch(t){throw t}else t=r.template(i);return t}();o&&"string"==typeof o?(o=o.trim(),jt.innerHTML=o):o&&(jt.innerHTML="",jt.appendChild(o));var a=jt.children[0],s=K(a);i.$el=s,i.el=a,i.el=a;var u=[];K(jt).find("*").each(function(t,e){for(var n=[],r=0;r<e.attributes.length;r+=1){var o=e.attributes[r];0===o.name.indexOf("@")&&n.push({name:o.name,value:o.value})}n.forEach(function(t){e.removeAttribute(t.name);var n=t.name.replace("@",""),r=n,o=!1,a=!1,s=!1;n.indexOf(".")>=0&&n.split(".").forEach(function(t,e){0===e?r=t:("stop"===t&&(o=!0),"prevent"===t&&(a=!0),"once"===t&&(s=!0))});var c=t.value.toString();u.push({el:e,name:r,once:s,handler:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0];o&&r.stopPropagation(),a&&r.preventDefault();var s=void 0,u=void 0,l=[];if(c.indexOf("(")<0?(l=e,s=c):(s=c.split("(")[0],c.split("(")[1].split(")")[0].split(",").forEach(function(t){var e=t.trim();if(isNaN(e))if("true"===e)e=!0;else if("false"===e)e=!1;else if("null"===e)e=null;else if("undefined"===e)e=void 0;else if('"'===e[0])e=e.replace(/"/g,"");else if("'"===e[0])e=e.replace(/'/g,"");else if(e.indexOf(".")>0){var n=void 0;e.split(".").forEach(function(t){n||(n=i),n=n[t]}),e=n}else e=i[e];else e=parseFloat(e);l.push(e)})),s.indexOf(".")>=0)s.split(".").forEach(function(t,e){if(u||(u=i),!u[t])throw new Error("Component doesn't have method \""+s.split(".").slice(0,e+1).join(".")+'"');u=u[t]});else{if(!i[s])throw new Error("Component doesn't have method \""+s+'"');u=i[s]}u.apply(void 0,I()(l))}})})});var c=void 0;r.style&&((c=N.createElement("style")).innerHTML=r.style),r.styleScopeId&&a.setAttribute("data-scope",r.styleScopeId),r.on&&A()(r.on).forEach(function(t){s.on(gt.eventNameToColonCase(t),r.on[t])}),r.once&&A()(r.once).forEach(function(t){s.once(gt.eventNameToColonCase(t),r.once[t])}),u.forEach(function(t){K(t.el)[t.once?"once":"on"](t.name,t.handler)}),r.created&&r.created(),i.$mount=function(t){r.beforeMount&&r.beforeMount(),c&&K("head").append(c),t&&t(a),r.mounted&&r.mounted()},i.$destroy=function(){r.beforeDestroy&&r.beforeDestroy(),c&&K(c).remove(),r.on&&A()(r.on).forEach(function(t){s.off(gt.eventNameToColonCase(t),r.on[t])}),r.once&&A()(r.once).forEach(function(t){s.off(gt.eventNameToColonCase(t),r.once[t])}),u.forEach(function(t){K(t.el).off(t.name,t.handler)}),r.destroyed&&r.destroyed(),a&&a.f7Component&&(a.f7Component=null,delete a.f7Component),gt.deleteProps(i),i=null};for(var h=0;h<jt.children.length;h+=1)jt.children[h].f7Component=i;return i},Ft={parse:function(t){var e="f7_component_callback_"+(new Date).getTime(),n=void 0;t.indexOf("<template>")>=0&&(n=t.split("<template>").filter(function(t,e){return e>0}).join("<template>").split("</template>").filter(function(t,e,n){return e<n.length-1}).join("</template>").replace(/{{#raw}}([ \n]*)<template/g,"{{#raw}}<template").replace(/\/template>([ \n]*){{\/raw}}/g,"/template>{{/raw}}").replace(/([ \n])<template/g,"$1{{#raw}}<template").replace(/\/template>([ \n])/g,"/template>{{/raw}}$1"));var r=void 0,i=gt.now();t.indexOf("<style>")>=0?r=t.split("<style>")[1].split("</style>")[0]:t.indexOf("<style scoped>")>=0&&(r=(r=t.split("<style scoped>")[1].split("</style>")[0]).split("\n").map(function(t){return t.indexOf("{")>=0?t.indexOf("{{this}}")>=0?t.replace("{{this}}",'[data-scope="'+i+'"]'):'[data-scope="'+i+'"] '+t.trim():t}).join("\n"));var o=void 0;if(t.indexOf("<script>")>=0){var a=t.split("<script>");o=a[a.length-1].split("<\/script>")[0].trim()}else o="return {}";o="window."+e+" = function () {"+o+"}";var s=N.createElement("script");s.innerHTML=o,K("head").append(s);var u=D[e]();return K(s).remove(),u.template||u.render||(u.template=n),r&&(u.style=r,u.styleScopeId=i),u},create:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Lt(t,e)}},Bt={queue:[],clearQueue:function(){0!==Bt.queue.length&&Bt.queue.shift()()},routerQueue:[],clearRouterQueue:function(){if(0!==Bt.routerQueue.length){var t=Bt.routerQueue.pop(),e=t.router,n=t.stateUrl,r=t.action,i=e.params.animate;!1===e.params.pushStateAnimate&&(i=!1),"back"===r&&e.back({animate:i,pushState:!1}),"load"===r&&e.navigate(n,{animate:i,pushState:!1})}},handle:function(t){if(!Bt.blockPopstate){var e=t.state;Bt.previousState=Bt.state,Bt.state=e,Bt.allowChange=!0,Bt.clearQueue(),(e=Bt.state)||(e={}),this.views.forEach(function(t){var n=t.router,r=e[t.id];if(!r&&t.params.pushState&&(r={url:t.router.history[0]}),r){var i=r.url||void 0,o=n.params.animate;!1===n.params.pushStateAnimate&&(o=!1),i!==n.url&&(n.history.indexOf(i)>=0?n.allowPageChange?n.back({animate:o,pushState:!1}):Bt.routerQueue.push({action:"back",router:n}):n.allowPageChange?n.navigate(i,{animate:o,pushState:!1}):Bt.routerQueue.unshift({action:"load",stateUrl:i,router:n}))}})}},initViewState:function(t,e){var n=gt.extend({},Bt.state||{},u()({},t,e));Bt.state=n,D.history.replaceState(n,"")},push:function(t,e,n){if(Bt.allowChange){Bt.previousState=Bt.state;var r=gt.extend({},Bt.previousState||{},u()({},t,e));Bt.state=r,D.history.pushState(r,"",n)}else Bt.queue.push(function(){Bt.push(t,e,n)})},replace:function(t,e,n){if(Bt.allowChange){Bt.previousState=Bt.state;var r=gt.extend({},Bt.previousState||{},u()({},t,e));Bt.state=r,D.history.replaceState(r,"",n)}else Bt.queue.push(function(){Bt.replace(t,e,n)})},go:function(t){Bt.allowChange=!1,D.history.go(t)},back:function(){Bt.allowChange=!1,D.history.back()},allowChange:!0,previousState:{},state:D.history.state,blockPopstate:!0,init:function(t){K(D).on("load",function(){setTimeout(function(){Bt.blockPopstate=!1},0)}),N.readyState&&"complete"===N.readyState&&(Bt.blockPopstate=!1),K(D).on("popstate",Bt.handle.bind(t))}};function $t(t,e,n){var r=this,i=e.route.redirect;if(n.initial&&r.params.pushState&&(n.replaceState=!0,n.history=!0),"function"==typeof i){r.allowPageChange=!1;var o=i.call(r,e,function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.allowPageChange=!0,r[t](e,gt.extend({},n,i))},function(){r.allowPageChange=!0});return o&&"string"==typeof o?(r.allowPageChange=!0,r[t](o,n)):r}return r[t](i,n)}function Ut(){return this.navigate(this.currentRoute.url,{ignoreCache:!0,reloadCurrent:!0})}function zt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this,r=n.app,i=n.view,o=gt.extend({animate:n.params.animate,pushState:!0,replaceState:!1,history:!0,reloadCurrent:n.params.reloadPages,reloadPrevious:!1,reloadAll:!1,clearPreviousHistory:!1,on:{}},e),a=n.dynamicNavbar,s=n.separateNavbar,u=n.$el,c=K(t),l=o.reloadPrevious||o.reloadCurrent||o.reloadAll,h=void 0,f=void 0,d=void 0,p=void 0;if(c.length&&n.removeThemeElements(c),a&&(d=c.children(".navbar").children(".navbar-inner"),s&&(f=n.$navbarEl,d.length>0&&c.children(".navbar").remove(),0===d.length&&c[0].f7Page&&(d=c[0].f7Page.$navbarEl))),n.allowPageChange=!1,0===c.length)return n.allowPageChange=!0,n;var v=u.children(".page:not(.stacked)").filter(function(t,e){return e!==c[0]}),g=void 0;if(s&&(g=f.children(".navbar-inner:not(.stacked)").filter(function(t,e){return e!==d[0]})),o.reloadPrevious&&v.length<2)return n.allowPageChange=!0,n;var m="next";if(o.reloadCurrent||o.reloadAll?m="current":o.reloadPrevious&&(m="previous"),c.addClass("page-"+m).removeClass("stacked"),a&&d.length&&d.addClass("navbar-"+m).removeClass("stacked"),o.reloadCurrent)h=v.eq(v.length-1),s&&(p=K(r.navbar.getElByPage(h)));else if(o.reloadPrevious)h=v.eq(v.length-2),s&&(p=K(r.navbar.getElByPage(h)));else if(o.reloadAll)h=v.filter(function(t,e){return e!==c[0]}),s&&(p=g.filter(function(t,e){return e!==d[0]}));else{if(v.length>1){var y=0;for(y=0;y<v.length-1;y+=1){var b=r.navbar.getElByPage(v.eq(y));n.params.stackPages?(v.eq(y).addClass("stacked"),s&&K(b).addClass("stacked")):(n.pageCallback("beforeRemove",v[y],g&&g[y],"previous",void 0,o),n.removePage(v[y]),s&&b&&n.removeNavbar(b))}}h=u.children(".page:not(.stacked)").filter(function(t,e){return e!==c[0]}),s&&(p=f.children(".navbar-inner:not(.stacked)").filter(function(t,e){return e!==d[0]}))}if(a&&!s&&(p=h.children(".navbar").children(".navbar-inner")),n.params.pushState&&(o.pushState||o.replaceState)&&!o.reloadPrevious){var _=n.params.pushStateRoot||"";Bt[o.reloadCurrent||o.reloadAll||o.replaceState?"replace":"push"](i.id,{url:o.route.url},_+n.params.pushStateSeparator+o.route.url)}o.reloadPrevious||(n.currentPageEl=c[0],a&&d.length?n.currentNavbarEl=d[0]:delete n.currentNavbarEl,n.currentRoute=o.route);var w=o.route.url;o.history&&((o.reloadCurrent&&n.history.length)>0||o.replaceState?n.history[n.history.length-(o.reloadPrevious?2:1)]=w:o.reloadPrevious?n.history[n.history.length-2]=w:o.reloadAll?n.history=[w]:n.history.push(w)),n.saveHistory();var x=c.parents(N).length>0,E=c[0].f7Component;if(o.reloadPrevious?(E&&!x?E.$mount(function(t){K(t).insertBefore(h)}):c.insertBefore(h),s&&d.length&&(p.length?d.insertBefore(p):(n.$navbarEl.parents(N).length||n.$el.prepend(n.$navbarEl),f.append(d)))):(h.next(".page")[0]!==c[0]&&(E&&!x?E.$mount(function(t){u.append(t)}):u.append(c[0])),s&&d.length&&(n.$navbarEl.parents(N).length||n.$el.prepend(n.$navbarEl),f.append(d[0]))),x||n.pageCallback("mounted",c,d,m,l?m:"current",o,h),o.reloadCurrent&&h.length>0?n.params.stackPages&&n.initialPages.indexOf(h[0])>=0?(h.addClass("stacked"),s&&p.addClass("stacked")):(n.pageCallback("beforeRemove",h,p,"previous",void 0,o),n.removePage(h),s&&p&&p.length&&n.removeNavbar(p)):o.reloadAll?h.each(function(t,e){var i=K(e),a=K(r.navbar.getElByPage(i));n.params.stackPages&&n.initialPages.indexOf(i[0])>=0?(i.addClass("stacked"),s&&a.addClass("stacked")):(n.pageCallback("beforeRemove",i,p&&p.eq(t),"previous",void 0,o),n.removePage(i),s&&a.length&&n.removeNavbar(a))}):o.reloadPrevious&&(n.params.stackPages&&n.initialPages.indexOf(h[0])>=0?(h.addClass("stacked"),s&&p.addClass("stacked")):(n.pageCallback("beforeRemove",h,p,"previous",void 0,o),n.removePage(h),s&&p&&p.length&&n.removeNavbar(p))),o.route.route.tab&&n.tabLoad(o.route.route.tab,gt.extend({},o,{history:!1,pushState:!1})),n.pageCallback("init",c,d,m,l?m:"current",o,h),o.reloadCurrent||o.reloadAll)return n.allowPageChange=!0,n.pageCallback("beforeIn",c,d,m,"current",o),n.pageCallback("afterIn",c,d,m,"current",o),o.reloadCurrent&&o.clearPreviousHistory&&n.clearPreviousHistory(),n;if(o.reloadPrevious)return n.allowPageChange=!0,n;function C(){var t="page-previous page-current page-next",e="navbar-previous navbar-current navbar-next";c.removeClass(t).addClass("page-current").removeAttr("aria-hidden"),h.removeClass(t).addClass("page-previous").attr("aria-hidden","true"),a&&(d.removeClass(e).addClass("navbar-current").removeAttr("aria-hidden"),p.removeClass(e).addClass("navbar-previous").attr("aria-hidden","true")),n.allowPageChange=!0,n.pageCallback("afterIn",c,d,"next","current",o),n.pageCallback("afterOut",h,p,"current","previous",o);var i="ios"===r.theme?n.params.preloadPreviousPage||n.params.iosSwipeBack:n.params.preloadPreviousPage;i||(c.hasClass("smart-select-page")||c.hasClass("photo-browser-page")||c.hasClass("autocomplete-page"))&&(i=!0),i||(n.params.stackPages?(h.addClass("stacked"),s&&p.addClass("stacked")):c.attr("data-name")&&"smart-select-page"===c.attr("data-name")||(n.pageCallback("beforeRemove",h,p,"previous",void 0,o),n.removePage(h),s&&p.length&&n.removeNavbar(p))),o.clearPreviousHistory&&n.clearPreviousHistory(),n.emit("routeChanged",n.currentRoute,n.previousRoute,n),n.params.pushState&&Bt.clearRouterQueue()}function k(){var t="page-previous page-current page-next",e="navbar-previous navbar-current navbar-next";h.removeClass(t).addClass("page-current").removeAttr("aria-hidden"),c.removeClass(t).addClass("page-next").removeAttr("aria-hidden"),a&&(p.removeClass(e).addClass("navbar-current").removeAttr("aria-hidden"),d.removeClass(e).addClass("navbar-next").removeAttr("aria-hidden"))}if(n.pageCallback("beforeIn",c,d,"next","current",o),n.pageCallback("beforeOut",h,p,"current","previous",o),o.animate){var T="md"===n.app.theme?n.params.materialPageLoadDelay:n.params.iosPageLoadDelay;T?setTimeout(function(){k(),n.animate(h,c,p,d,"forward",function(){C()})},T):(k(),n.animate(h,c,p,d,"forward",function(){C()}))}else C();return n}function qt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=this;if(!r.allowPageChange&&!n)return r;var i=t,o=e,a=i.url,s=i.content,u=i.el,c=i.pageName,l=i.template,h=i.templateUrl,f=i.component,d=i.componentUrl;if(!o.reloadCurrent&&o.route&&o.route.route&&o.route.route.parentPath&&r.currentRoute.route&&r.currentRoute.route.parentPath===o.route.route.parentPath){if(o.route.url===r.url)return!1;var p=A()(o.route.params).length===A()(r.currentRoute.params).length;if(p&&A()(o.route.params).forEach(function(t){t in r.currentRoute.params&&r.currentRoute.params[t]===o.route.params[t]||(p=!1)}),p)return!!o.route.route.tab&&r.tabLoad(o.route.route.tab,o)}if(o.route&&o.route.url&&r.url===o.route.url&&!o.reloadCurrent&&!o.reloadPrevious&&!r.params.allowDuplicateUrls)return r.allowPageChange=!0,!1;function v(t,e){return r.forward(t,gt.extend(o,e))}function g(){return r.allowPageChange=!0,r}if(!o.route&&a&&(o.route=r.parseRouteUrl(a),gt.extend(o.route,{route:{url:a,path:a}})),(a||h||d)&&(r.allowPageChange=!1),s)r.forward(r.getPageEl(s),o);else if(l||h)try{r.pageTemplateLoader(l,h,o,v,g)}catch(t){throw r.allowPageChange=!0,t}else if(u)r.forward(r.getPageEl(u),o);else if(c)r.forward(r.$el.children('.page[data-name="'+c+'"]').eq(0),o);else if(f||d)try{r.pageComponentLoader(r.el,f,d,o,v,g)}catch(t){throw r.allowPageChange=!0,t}else a&&(r.xhr&&(r.xhr.abort(),r.xhr=!1),r.xhrRequest(a,o).then(function(t){r.forward(r.getPageEl(t),o)}).catch(function(){r.allowPageChange=!0}));return r}function Vt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this,r=void 0,i=void 0;"string"==typeof t?r=t:(r=t.url,i=t.route);var o=n.app;if(!n.view)return o.views.main&&o.views.main.router.navigate(r,e),n;if("#"===r||""===r)return n;var a=r.replace("./","");if("/"!==a[0]&&0!==a.indexOf("#")){var s=n.currentRoute.parentPath||n.currentRoute.path;a=((s?s+"/":"/")+a).replace("///","/").replace("//","/")}var c=void 0;if(!(c=i?gt.extend(n.parseRouteUrl(a),{route:gt.extend({},i)}):n.findMatchingRoute(a)))return n;if(c.route.redirect)return $t.call(n,"navigate",c,e);var l={};return c.route.options?gt.extend(l,c.route.options,e,{route:c}):gt.extend(l,e,{route:c}),l&&l.context&&(c.context=l.context,l.route.context=l.context),"popup popover sheet loginScreen actions customModal".split(" ").forEach(function(t){c.route[t]&&n.modalLoad(t,c,l)}),"url content component pageName el componentUrl template templateUrl".split(" ").forEach(function(t){c.route[t]&&n.load(u()({},t,c.route[t]),l)}),c.route.async&&(n.allowPageChange=!1,c.route.async.call(n,c,n.currentRoute,function(t,e){n.allowPageChange=!1;var r=!1;e&&e.context&&(c.context?c.context=gt.extend({},c.context,e.context):c.context=e.context,l.route.context=c.context),"popup popover sheet loginScreen actions customModal".split(" ").forEach(function(i){if(t[i]){r=!0;var o=gt.extend({},c,{route:t});n.allowPageChange=!0,n.modalLoad(i,o,gt.extend(l,e))}}),r||n.load(t,gt.extend(l,e),!0)},function(){n.allowPageChange=!0})),n}function Ht(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this,r=gt.extend({animate:n.params.animate,pushState:!0,history:!0,parentPageEl:null,preload:!1,on:{}},e),i=void 0,o=void 0;r.route&&(r.preload||r.route===n.currentRoute||(o=n.previousRoute,n.currentRoute=r.route),r.preload?(i=r.route,o=n.currentRoute):(i=n.currentRoute,o||(o=n.previousRoute)),n.params.pushState&&r.pushState&&!r.reloadPrevious&&Bt.replace(n.view.id,{url:r.route.url},(n.params.pushStateRoot||"")+n.params.pushStateSeparator+r.route.url),r.history&&(n.history[Math.max(n.history.length-1,0)]=r.route.url,n.saveHistory()));var a=K(r.parentPageEl||n.currentPageEl),s=void 0;s=a.length&&a.find("#"+t.id).length?a.find("#"+t.id).eq(0):n.view.selector?n.view.selector+" #"+t.id:"#"+t.id;var c=n.app.tab.show({tabEl:s,animate:r.animate,tabRoute:r.route}),l=c.$newTabEl,h=c.$oldTabEl,f=c.animated,d=c.onTabsChanged;if(l&&l.parents(".page").length>0&&r.route){var p=l.parents(".page")[0].f7Page;p&&r.route&&(p.route=r.route)}if(!n.params.unloadTabContent&&l[0].f7RouterTabLoaded)return n;function v(e,r){var i=e.url,o=e.content,a=e.el,s=e.template,u=e.templateUrl,c=e.component,p=e.componentUrl;function v(e){n.allowPageChange=!0,e&&("string"==typeof e?l.html(e):(l.html(""),e.f7Component?e.f7Component.$mount(function(t){l.append(t)}):l.append(e)),n.params.unloadTabContent||(l[0].f7RouterTabLoaded=!0),function(e){n.removeThemeElements(l);var r=l;"string"!=typeof e&&(r=K(e)),r.trigger("tab:init tab:mounted",t),n.emit("tabInit tabMounted",l[0],t),h&&n.params.unloadTabContent&&(f?d(function(){n.tabRemove(h,l,t)}):n.tabRemove(h,l,t))}(e))}function g(){return n.allowPageChange=!0,n}if(o)v(o);else if(s||u)try{n.tabTemplateLoader(s,u,r,v,g)}catch(t){throw n.allowPageChange=!0,t}else if(a)v(a);else if(c||p)try{n.tabComponentLoader(l[0],c,p,r,v,g)}catch(t){throw n.allowPageChange=!0,t}else i&&(n.xhr&&(n.xhr.abort(),n.xhr=!1),n.xhrRequest(i,r).then(function(t){v(t)}).catch(function(){n.allowPageChange=!0}))}return"url content component el componentUrl template templateUrl".split(" ").forEach(function(e){t[e]&&v(u()({},e,t[e]),r)}),t.async&&t.async.call(n,i,o,function(t,e){v(t,gt.extend(r,e))},function(){n.allowPageChange=!0}),n}function Wt(t,e,n){var r=void 0;t.children().each(function(t,e){e.f7Component&&(r=!0,K(e).trigger("tab:beforeremove",n),e.f7Component.$destroy())}),r||t.trigger("tab:beforeremove",n),this.emit("tabBeforeRemove",t[0],e[0],n),this.removeTabContent(t[0],n)}function Gt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this,i=r.app,o=gt.extend({animate:r.params.animate,pushState:!0,history:!0,on:{}},n),a=gt.extend({},e.route[t]),s=e.route;function c(){var n=i[t].create(a);s.modalInstance=n;var u=n.el;function c(){n.close()}n.on("modalOpen",function(){u||(r.removeThemeElements(n.el),n.$el.trigger(t.toLowerCase()+":init "+t.toLowerCase()+":mounted",e,n),r.emit("modalInit "+t+"Init "+t+"Mounted",n.el,e,n)),r.once("swipeBackMove",c)}),n.on("modalClose",function(){r.off("swipeBackMove",c),n.closeByRouter||r.back()}),n.on("modalClosed",function(){n.$el.trigger(t.toLowerCase()+":beforeremove",e,n),n.emit("modalBeforeRemove "+t+"BeforeRemove",n.el,e,n);var i=n.el.f7Component;i&&i.$destroy(),gt.nextTick(function(){(i||a.component)&&r.removeModal(n.el),n.destroy(),delete s.modalInstance})}),o.route&&(r.params.pushState&&o.pushState&&Bt.push(r.view.id,{url:o.route.url,modal:t},(r.params.pushStateRoot||"")+r.params.pushStateSeparator+o.route.url),o.route!==r.currentRoute&&(r.currentRoute=gt.extend(o.route,{modal:n})),o.history&&(r.history.push(o.route.url),r.saveHistory())),u&&(r.removeThemeElements(n.el),n.$el.trigger(t.toLowerCase()+":init "+t.toLowerCase()+":mounted",e,n),r.emit("modalInit "+t+"Init "+t+"Mounted",n.el,e,n)),n.open()}function l(t,e){var n=t.url,o=t.content,s=t.template,u=t.templateUrl,l=t.component,h=t.componentUrl;function f(t){t&&("string"==typeof t?a.content=t:t.f7Component?t.f7Component.$mount(function(t){a.el=t,i.root.append(t)}):a.el=t,c())}function d(){return r.allowPageChange=!0,r}if(o)f(o);else if(s||u)try{r.modalTemplateLoader(s,u,e,f,d)}catch(t){throw r.allowPageChange=!0,t}else if(l||h)try{r.modalComponentLoader(i.root[0],l,h,e,f,d)}catch(t){throw r.allowPageChange=!0,t}else n?(r.xhr&&(r.xhr.abort(),r.xhr=!1),r.xhrRequest(n,e).then(function(t){a.content=t,c()}).catch(function(){r.allowPageChange=!0})):c()}var h=void 0;return"url content component el componentUrl template templateUrl".split(" ").forEach(function(t){a[t]&&!h&&(h=!0,l(u()({},t,a[t]),o))}),h||"actions"!==t||c(),a.async&&a.async.call(r,o.route,r.currentRoute,function(t,e){l(t,gt.extend(o,e))},function(){r.allowPageChange=!0}),r}function Kt(t){gt.extend(t,{closeByRouter:!0}),t.close()}function Yt(t,e){var n=this,r=n.app,i=n.view,o=gt.extend({animate:n.params.animate,pushState:!0},e),a=n.dynamicNavbar,s=n.separateNavbar,u=K(t),c=n.$el.children(".page-current");u.length&&n.removeThemeElements(u);var l=void 0,h=void 0,f=void 0;if(a&&(h=u.children(".navbar").children(".navbar-inner"),s?(l=n.$navbarEl,h.length>0&&u.children(".navbar").remove(),0===h.length&&u[0].f7Page&&(h=u[0].f7Page.$navbarEl),f=l.find(".navbar-current")):f=c.children(".navbar").children(".navbar-inner")),n.allowPageChange=!1,0===u.length||0===c.length)return n.allowPageChange=!0,n;n.removeThemeElements(u),u.addClass("page-previous").removeClass("stacked").removeAttr("aria-hidden"),a&&h.length>0&&h.addClass("navbar-previous").removeClass("stacked").removeAttr("aria-hidden");var d=void 0;if(o.force&&(c.prev(".page-previous:not(.stacked)").length>0||0===c.prev(".page-previous").length))if(n.history.indexOf(o.route.url)>=0?(d=n.history.length-n.history.indexOf(o.route.url)-1,n.history=n.history.slice(0,n.history.indexOf(o.route.url)+2),i.history=n.history):n.history[[n.history.length-2]]?n.history[n.history.length-2]=o.route.url:n.history.unshift(n.url),d&&n.params.stackPages)c.prevAll(".page-previous").each(function(t,e){var i=K(e),a=void 0;s&&(a=K(r.navbar.getElByPage(i))),i[0]!==u[0]&&i.index()>u.index()&&(n.initialPages.indexOf(i[0])>=0?(i.addClass("stacked"),s&&a.addClass("stacked")):(n.pageCallback("beforeRemove",i,a,"previous",void 0,o),n.removePage(i),s&&a.length>0&&n.removeNavbar(a)))});else{var p=c.prev(".page-previous:not(.stacked)"),v=void 0;s&&(v=K(r.navbar.getElByPage(p))),n.params.stackPages&&n.initialPages.indexOf(p[0])>=0?(p.addClass("stacked"),v.addClass("stacked")):p.length>0&&(n.pageCallback("beforeRemove",p,v,"previous",void 0,o),n.removePage(p),s&&v.length&&n.removeNavbar(v))}var g,m,y=u.parents(N).length>0,b=u[0].f7Component;function _(){0===u.next(c).length&&(!y&&b?b.$mount(function(t){K(t).insertBefore(c)}):u.insertBefore(c)),s&&h.length&&(h.insertBefore(f),f.length>0?h.insertBefore(f):(n.$navbarEl.parents(N).length||n.$el.prepend(n.$navbarEl),l.append(h))),y||n.pageCallback("mounted",u,h,"previous","current",o,c)}if(o.preload)return _(),o.route.route.tab&&n.tabLoad(o.route.route.tab,gt.extend({},o,{history:!1,pushState:!1,preload:!0})),n.pageCallback("init",u,h,"previous","current",o,c),u.prevAll(".page-previous:not(.stacked)").length>0&&u.prevAll(".page-previous:not(.stacked)").each(function(t,e){var i=K(e),o=void 0;s&&(o=K(r.navbar.getElByPage(i))),n.params.stackPages&&n.initialPages.indexOf(e)>=0?(i.addClass("stacked"),s&&o.addClass("stacked")):(n.pageCallback("beforeRemove",i,o,"previous",void 0),n.removePage(i),s&&o.length&&n.removeNavbar(o))}),n.allowPageChange=!0,n;function w(){var t="page-previous page-current page-next",e="navbar-previous navbar-current navbar-next";u.removeClass(t).addClass("page-current").removeAttr("aria-hidden"),c.removeClass(t).addClass("page-next").attr("aria-hidden","true"),a&&(h.removeClass(e).addClass("navbar-current").removeAttr("aria-hidden"),f.removeClass(e).addClass("navbar-next").attr("aria-hidden","true")),n.pageCallback("afterIn",u,h,"previous","current",o),n.pageCallback("afterOut",c,f,"current","next",o),n.params.stackPages&&n.initialPages.indexOf(c[0])>=0?(c.addClass("stacked"),s&&f.addClass("stacked")):(n.pageCallback("beforeRemove",c,f,"next",void 0,o),n.removePage(c),s&&f.length&&n.removeNavbar(f)),n.allowPageChange=!0,n.emit("routeChanged",n.currentRoute,n.previousRoute,n),("ios"===r.theme?n.params.preloadPreviousPage||n.params.iosSwipeBack:n.params.preloadPreviousPage)&&n.back(n.history[n.history.length-2],{preload:!0}),n.params.pushState&&Bt.clearRouterQueue()}return n.params.pushState&&o.pushState&&(d?Bt.go(-d):Bt.back()),1===n.history.length&&n.history.unshift(n.url),n.history.pop(),n.saveHistory(),n.currentPageEl=u[0],a&&h.length?n.currentNavbarEl=h[0]:delete n.currentNavbarEl,n.currentRoute=o.route,_(),o.route.route.tab&&n.tabLoad(o.route.route.tab,gt.extend({},o,{history:!1,pushState:!1})),n.pageCallback("init",u,h,"previous","current",o,c),n.pageCallback("beforeIn",u,h,"previous","current",o),n.pageCallback("beforeOut",c,f,"current","next",o),o.animate?(g="page-previous page-current page-next",m="navbar-previous navbar-current navbar-next",c.removeClass(g).addClass("page-current"),u.removeClass(g).addClass("page-previous").removeAttr("aria-hidden"),a&&(f.removeClass(m).addClass("navbar-current"),h.removeClass(m).addClass("navbar-previous").removeAttr("aria-hidden")),n.animate(c,u,f,h,"backward",function(){w()})):w(),n}function Qt(t,e,n){var r=this;if(!r.allowPageChange&&!n)return r;var i=t,o=e,a=i.url,s=i.content,u=i.el,c=i.pageName,l=i.template,h=i.templateUrl,f=i.component,d=i.componentUrl;if(o.route.url&&r.url===o.route.url&&!o.reloadCurrent&&!o.reloadPrevious&&!r.params.allowDuplicateUrls)return!1;function p(t,e){return r.backward(t,gt.extend(o,e))}function v(){return r.allowPageChange=!0,r}if(!o.route&&a&&(o.route=r.parseRouteUrl(a)),(a||h||d)&&(r.allowPageChange=!1),s)r.backward(r.getPageEl(s),o);else if(l||h)try{r.pageTemplateLoader(l,h,o,p,v)}catch(t){throw r.allowPageChange=!0,t}else if(u)r.backward(r.getPageEl(u),o);else if(c)r.backward(r.$el.children('.page[data-name="'+c+'"]').eq(0),o);else if(f||d)try{r.pageComponentLoader(r.el,f,d,o,p,v)}catch(t){throw r.allowPageChange=!0,t}else a&&(r.xhr&&(r.xhr.abort(),r.xhr=!1),r.xhrRequest(a,o).then(function(t){r.backward(r.getPageEl(t),o)}).catch(function(){r.allowPageChange=!0}));return r}function Xt(){var t=void 0,e=void 0;"object"===T()(arguments.length<=0?void 0:arguments[0])?e=(arguments.length<=0?void 0:arguments[0])||{}:(t=arguments.length<=0?void 0:arguments[0],e=(arguments.length<=1?void 0:arguments[1])||{});var n=this,r=n.app;if(!n.view)return r.views.main.router.back(t,e),n;var i=n.currentRoute.modal,o=void 0;if(i||"popup popover sheet loginScreen actions customModal".split(" ").forEach(function(t){n.currentRoute.route[t]&&(i=!0,o=t)}),i){var a=n.currentRoute.modal||n.currentRoute.route.modalInstance||r[o].get(),s=n.history[n.history.length-2],c=n.findMatchingRoute(s);return!c&&s&&(c={url:s,path:s.split("?")[0],query:gt.parseUrlQuery(s),route:{path:s.split("?")[0],url:s}}),c&&a?(n.params.pushState&&!1!==e.pushState&&Bt.back(),n.currentRoute=c,n.history.pop(),n.saveHistory(),n.modalRemove(a),n):n}var l=n.$el.children(".page-current").prevAll(".page-previous").eq(0);if(!e.force&&l.length>0)return n.params.pushState&&l[0].f7Page&&n.history[n.history.length-2]!==l[0].f7Page.route.url?(n.back(n.history[n.history.length-2],gt.extend(e,{force:!0})),n):(n.loadBack({el:l},gt.extend(e,{route:l[0].f7Page.route})),n);"#"===t&&(t=void 0),t&&"/"!==t[0]&&0!==t.indexOf("#")&&(t=((n.path||"/")+t).replace("//","/")),!t&&n.history.length>1&&(t=n.history[n.history.length-2]);var h=n.findMatchingRoute(t);if(h||t&&(h={url:t,path:t.split("?")[0],query:gt.parseUrlQuery(t),route:{path:t.split("?")[0],url:t}}),!h)return n;if(h.route.redirect)return $t.call(n,"back",h,e);var f={};return h.route.options?gt.extend(f,h.route.options,e,{route:h}):gt.extend(f,e,{route:h}),f&&f.context&&(h.context=f.context,f.route.context=f.context),f.force&&n.params.stackPages&&n.$el.children(".page-previous.stacked").each(function(t,e){e.f7Page&&e.f7Page.route&&e.f7Page.route.url===h.url&&n.loadBack({el:e},f)}),"url content component pageName el componentUrl template templateUrl".split(" ").forEach(function(t){h.route[t]&&n.loadBack(u()({},t,h.route[t]),f)}),h.route.async&&(n.allowPageChange=!1,h.route.async.call(n,h,n.currentRoute,function(t,e){n.allowPageChange=!1,e&&e.context&&(h.context?h.context=gt.extend({},h.context,e.context):h.context=e.context,f.route.context=h.context),n.loadBack(t,gt.extend(f,e),!0)},function(){n.allowPageChange=!0})),n}function Jt(){var t=this,e=t.app,n=t.separateNavbar,r=t.history[t.history.length-1],i=K(t.currentPageEl);t.$el.children(".page:not(.stacked)").filter(function(t,e){return e!==i[0]}).each(function(r,i){var o=K(i),a=K(e.navbar.getElByPage(o));t.params.stackPages&&t.initialPages.indexOf(o[0])>=0?(o.addClass("stacked"),n&&a.addClass("stacked")):(t.pageCallback("beforeRemove",o,a,"previous",void 0,{}),t.removePage(o),n&&a.length&&t.removeNavbar(a))}),t.history=[r],t.view.history=[r],t.saveHistory()}var Zt=function(t){function e(t,n){var r;_()(this,e);var i=g()(this,(e.__proto__||p()(e)).call(this,{},[void 0===n?t:n])),o=i;o.isAppRouter=void 0===n,o.isAppRouter?gt.extend(!1,o,{app:t,params:t.params.view,routes:t.routes||[],cache:t.cache}):gt.extend(!1,o,{app:t,view:n,viewId:n.id,params:n.params,routes:n.routes,$el:n.$el,el:n.el,$navbarEl:n.$navbarEl,navbarEl:n.navbarEl,history:n.history,scrollHistory:n.scrollHistory,cache:t.cache,dynamicNavbar:"ios"===t.theme&&n.params.iosDynamicNavbar,separateNavbar:"ios"===t.theme&&n.params.iosDynamicNavbar&&n.params.iosSeparateDynamicNavbar,initialPages:[],initialNavbars:[]}),o.useModules(),o.tempDom=N.createElement("div"),o.allowPageChange=!0;var a={},s={};return Object.defineProperty(o,"currentRoute",{enumerable:!0,configurable:!0,set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s=gt.extend({},a),(a=t)&&(o.url=a.url,o.emit("routeChange",t,s,o))},get:function(){return a}}),Object.defineProperty(o,"previousRoute",{enumerable:!0,configurable:!0,get:function(){return s},set:function(t){s=t}}),gt.extend(o,{forward:zt,load:qt,navigate:Vt,refreshPage:Ut,tabLoad:Ht,tabRemove:Wt,modalLoad:Gt,modalRemove:Kt,backward:Yt,loadBack:Qt,back:Xt,clearPreviousHistory:Jt}),r=o,g()(i,r)}return y()(e,t),x()(e,[{key:"animatableNavElements",value:function(t,e){var n=this.dynamicNavbar,r=this.params.iosAnimateNavbarBackIcon,i=void 0,o=void 0;function a(t,e){var n=K(t),i=n.hasClass("sliding")||e.hasClass("sliding"),o=n.hasClass("subnavbar"),a=!i||!o,s=i&&r&&n.hasClass("left")&&n.find(".back .icon").length>0,u=void 0;return s&&(u=n.find(".back .icon")),{$el:n,$iconEl:u,hasIcon:s,leftOffset:n[0].f7NavbarLeftOffset,rightOffset:n[0].f7NavbarRightOffset,isSliding:i,isSubnavbar:o,needsOpacityTransition:a}}return n&&(i=[],o=[],t.children(".left, .right, .title, .subnavbar").each(function(e,n){i.push(a(n,t))}),e.children(".left, .right, .title, .subnavbar").each(function(t,n){o.push(a(n,e))}),[o,i].forEach(function(t){t.forEach(function(e){var n=e,r=e.isSliding,a=e.$el,s=t===o?i:o;r&&a.hasClass("title")&&s&&s.forEach(function(t){if(t.$el.hasClass("left")&&t.hasIcon){var e=t.$el.find(".back span")[0];n.leftOffset+=e?e.offsetLeft:0}})})})),{newNavEls:i,oldNavEls:o}}},{key:"animateWithCSS",value:function(t,e,n,r,i,o){var a=this,s=a.dynamicNavbar,u=a.separateNavbar,c="ios"===a.app.theme,l="router-transition-"+i+" router-transition-css-"+i,h=void 0,f=void 0,d=0;if(c&&s){u||(d=r[0].offsetWidth);var p=a.animatableNavElements(r,n);h=p.newNavEls,f=p.oldNavEls}function v(t){c&&s&&(h.forEach(function(e){var n=e.$el,r="forward"===i?e.rightOffset:e.leftOffset;e.isSliding&&n.transform("translate3d("+r*(1-t)+"px,0,0)"),e.hasIcon&&("forward"===i?e.$iconEl.transform("translate3d("+(-r-d)*(1-t)+"px,0,0)"):e.$iconEl.transform("translate3d("+(d/5-r)*(1-t)+"px,0,0)"))}),f.forEach(function(e){var n=e.$el,r="forward"===i?e.leftOffset:e.rightOffset;e.isSliding&&n.transform("translate3d("+r*t+"px,0,0)"),e.hasIcon&&("forward"===i?e.$iconEl.transform("translate3d("+(d/5-r)*t+"px,0,0)"):e.$iconEl.transform("translate3d("+(-r-d)*t+"px,0,0)"))}))}("forward"===i?e:t).animationEnd(function(){a.dynamicNavbar&&(r.hasClass("sliding")?r.find(".title, .left, .right, .left .icon, .subnavbar").transform(""):r.find(".sliding").transform(""),n.hasClass("sliding")?n.find(".title, .left, .right, .left .icon, .subnavbar").transform(""):n.find(".sliding").transform("")),a.$el.removeClass(l),o&&o()}),s?(v(0),gt.nextTick(function(){v(1),a.$el.addClass(l)})):a.$el.addClass(l)}},{key:"animateWithJS",value:function(t,e,n,r,i,o){var a=this,s=a.dynamicNavbar,u=a.separateNavbar,c="ios"===a.app.theme,l=c?400:250,h="router-transition-"+i+" router-transition-js-"+i,f=null,d=!1,p=void 0,v=void 0,g=0;if(c&&s){u||(g=r[0].offsetWidth);var m=a.animatableNavElements(r,n);p=m.newNavEls,v=m.oldNavEls}var y=void 0,b=void 0;c&&(y=K('<div class="page-shadow-effect"></div>'),b=K('<div class="page-opacity-effect"></div>'),"forward"===i?(e.append(y),t.append(b)):(e.append(b),t.append(y)));var _=gt.bezier(.25,.1,.25,1);a.$el.addClass(h),gt.nextFrame(function n(){var r=gt.now();f||(f=r);var u=Math.max(Math.min((r-f)/l,1),0),m=_(u);u>=1&&(d=!0);var w=a.app.rtl?-1:1;if(c?("forward"===i?(e.transform("translate3d("+100*(1-m)*w+"%,0,0)"),t.transform("translate3d("+20*-m*w+"%,0,0)"),y[0].style.opacity=m,b[0].style.opacity=m):(e.transform("translate3d("+20*-(1-m)*w+"%,0,0)"),t.transform("translate3d("+100*m*w+"%,0,0)"),y[0].style.opacity=1-m,b[0].style.opacity=1-m),s&&(p.forEach(function(t){var e=t.$el,n="forward"===i?t.rightOffset:t.leftOffset;t.needsOpacityTransition&&(e[0].style.opacity=m),t.isSliding&&e.transform("translate3d("+n*(1-m)+"px,0,0)"),t.hasIcon&&("forward"===i?t.$iconEl.transform("translate3d("+(-n-g)*(1-m)+"px,0,0)"):t.$iconEl.transform("translate3d("+(g/5-n)*(1-m)+"px,0,0)"))}),v.forEach(function(t){var e=t.$el,n="forward"===i?t.leftOffset:t.rightOffset;t.needsOpacityTransition&&(e[0].style.opacity=1-m),t.isSliding&&e.transform("translate3d("+n*m+"px,0,0)"),t.hasIcon&&("forward"===i?t.$iconEl.transform("translate3d("+(g/5-n)*m+"px,0,0)"):t.$iconEl.transform("translate3d("+(-n-g)*m+"px,0,0)"))}))):"forward"===i?(e.transform("translate3d(0, "+56*(1-m)+"px,0)"),e.css("opacity",m)):(t.transform("translate3d(0, "+56*m+"px,0)"),t.css("opacity",1-m)),d)return e.transform("").css("opacity",""),t.transform("").css("opacity",""),c&&(y.remove(),b.remove(),s&&(p.forEach(function(t){t.$el.transform(""),t.$el.css("opacity","")}),v.forEach(function(t){t.$el.transform(""),t.$el.css("opacity","")}),p=[],v=[])),a.$el.removeClass(h),void(o&&o());gt.nextFrame(n)})}},{key:"animate",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.params.animateCustom?this.params.animateCustom.apply(this,e):this.params.animateWithJS?this.animateWithJS.apply(this,e):this.animateWithCSS.apply(this,e)}},{key:"removeModal",value:function(t){this.removeEl(t)}},{key:"removeTabContent",value:function(t){K(t).html("")}},{key:"removeNavbar",value:function(t){this.removeEl(t)}},{key:"removePage",value:function(t){this.removeEl(t)}},{key:"removeEl",value:function(t){if(t){var e=K(t);0!==e.length&&(e[0].f7Component&&e[0].f7Component.$destroy&&e[0].f7Component.$destroy(),e.find(".tab").each(function(t,e){K(e).children().each(function(t,e){e.f7Component&&(K(e).trigger("tab:beforeremove"),e.f7Component.$destroy())})}),this.params.removeElements&&(this.params.removeElementsWithTimeout?setTimeout(function(){e.remove()},this.params.removeElementsTimeout):e.remove()))}}},{key:"getPageEl",value:function(t){if("string"==typeof t)this.tempDom.innerHTML=t;else{if(K(t).hasClass("page"))return t;this.tempDom.innerHTML="",K(this.tempDom).append(t)}return this.findElement(".page",this.tempDom)}},{key:"findElement",value:function(t,e,n){var r=this.view,i=this.app,o=K(e),a=t;n&&(a+=":not(.stacked)");var s=o.find(a).filter(function(t,e){return 0===K(e).parents(".popup, .dialog, .popover, .actions-modal, .sheet-modal, .login-screen, .page").length});return s.length>1&&("string"==typeof r.selector&&(s=o.find(r.selector+" "+a)),s.length>1&&(s=o.find("."+i.params.viewMainClass+" "+a))),1===s.length?s:(n||(s=this.findElement(a,o,!0)),s&&1===s.length?s:s&&s.length>1?K(s[0]):void 0)}},{key:"flattenRoutes",value:function(){var t=this,e=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.routes).forEach(function(n){if("routes"in n){var r=n.routes.map(function(t){var e=gt.extend({},t);return e.path=(n.path+"/"+e.path).replace("///","/").replace("//","/"),e});e=e.concat(n,t.flattenRoutes(r))}else if("tabs"in n&&n.tabs){var i=n.tabs.map(function(t){var e=gt.extend({},n,{path:(n.path+"/"+t.path).replace("///","/").replace("//","/"),parentPath:n.path,tab:t});return delete e.tabs,e});e=e.concat(t.flattenRoutes(i))}else e.push(n)}),e}},{key:"parseRouteUrl",value:function(t){if(!t)return{};return{query:gt.parseUrlQuery(t),hash:t.split("#")[1],params:{},url:t,path:t.split("#")[0].split("?")[0]}}},{key:"findTabRoute",value:function(t){var e=K(t),n=this.currentRoute.route.parentPath,r=e.attr("id"),i=void 0;return this.flattenRoutes(this.routes).forEach(function(t){t.parentPath===n&&t.tab&&t.tab.id===r&&(i=t)}),i}},{key:"findRouteByKey",value:function(t,e){var n=this.routes,r=void 0;return this.flattenRoutes(n).forEach(function(n){r||n[t]===e&&(r=n)}),r}},{key:"findMatchingRoute",value:function(t){if(t){var e=this.routes,n=this.flattenRoutes(e),r=this.parseRouteUrl(t),i=r.path,o=r.query,a=r.hash,s=r.params,u=void 0;return n.forEach(function(e){if(!u){var n=[],r=[e.path];e.alias&&("string"==typeof e.alias?r.push(e.alias):Array.isArray(e.alias)&&e.alias.forEach(function(t){r.push(t)}));var c=void 0;if(r.forEach(function(t){c||(c=X()(t,n).exec(i))}),c){n.forEach(function(t,e){var n=c[e+1];s[t.name]=n});var l=void 0;e.parentPath&&(l=i.split("/").slice(0,e.parentPath.split("/").length-1).join("/")),u={query:o,hash:a,params:s,url:t,path:i,parentPath:l,route:e,name:e.name}}}}),u}}},{key:"removeFromXhrCache",value:function(t){for(var e=this.cache.xhr,n=!1,r=0;r<e.length;r+=1)e[r].url===t&&(n=r);!1!==n&&e.splice(n,1)}},{key:"xhrRequest",value:function(t,e){var n=this,r=n.params,i=e.ignoreCache,o=t,a=o.indexOf("?")>=0;return r.passRouteQueryToRequest&&e&&e.route&&e.route.query&&A()(e.route.query).length&&(o+=(a?"&":"?")+gt.serializeObject(e.route.query),a=!0),r.passRouteParamsToRequest&&e&&e.route&&e.route.params&&A()(e.route.params).length&&(o+=(a?"&":"?")+gt.serializeObject(e.route.params),a=!0),o.indexOf("{{")>=0&&e&&e.route&&e.route.params&&A()(e.route.params).length&&A()(e.route.params).forEach(function(t){var n=new RegExp("{{"+t+"}}","g");o=o.replace(n,e.route.params[t]||"")}),r.xhrCacheIgnoreGetParameters&&o.indexOf("?")>=0&&(o=o.split("?")[0]),gt.promise(function(t,a){if(r.xhrCache&&!i&&o.indexOf("nocache")<0&&r.xhrCacheIgnore.indexOf(o)<0)for(var s=0;s<n.cache.xhr.length;s+=1){var u=n.cache.xhr[s];if(u.url===o&&gt.now()-u.time<r.xhrCacheDuration)return void t(u.content)}n.xhr=n.app.request({url:o,method:"GET",beforeSend:function(t){n.emit("routerAjaxStart",t,e)},complete:function(i,s){n.emit("routerAjaxComplete",i),"error"!==s&&"timeout"!==s&&i.status>=200&&i.status<300||0===i.status?(r.xhrCache&&""!==i.responseText&&(n.removeFromXhrCache(o),n.cache.xhr.push({url:o,time:gt.now(),content:i.responseText})),n.emit("routerAjaxSuccess",i,e),t(i.responseText)):(n.emit("routerAjaxError",i,e),a(i))},error:function(t){n.emit("routerAjaxError",t,e),a(t)}})})}},{key:"removeThemeElements",value:function(t){var e=this.app.theme;K(t).find("."+("md"===e?"ios":"md")+"-only, .if-"+("md"===e?"ios":"md")).remove()}},{key:"templateLoader",value:function(t,e,n,r,i){var o=this;function a(t){var e=void 0,a=void 0;try{if("function"==typeof(a=n.context||{}))a=a.call(o);else if("string"==typeof a)try{a=JSON.parse(a)}catch(t){throw i(),t}e="function"==typeof t?t(a):Y.a.compile(t)(gt.extend({},a||{},{$app:o.app,$root:gt.extend({},o.app.data,o.app.methods),$route:n.route,$router:o,$theme:{ios:"ios"===o.app.theme,md:"md"===o.app.theme}}))}catch(t){throw i(),t}r(e,{context:a})}e?(o.xhr&&(o.xhr.abort(),o.xhr=!1),o.xhrRequest(e,n).then(function(t){a(t)}).catch(function(){i()})):a(t)}},{key:"modalTemplateLoader",value:function(t,e,n,r,i){return this.templateLoader(t,e,n,function(t){r(t)},i)}},{key:"tabTemplateLoader",value:function(t,e,n,r,i){return this.templateLoader(t,e,n,function(t){r(t)},i)}},{key:"pageTemplateLoader",value:function(t,e,n,r,i){var o=this;return o.templateLoader(t,e,n,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(o.getPageEl(t),e)},i)}},{key:"componentLoader",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i=arguments[4],o=this,a="string"==typeof t?t:e;function s(t){var e=n.context||{};if("function"==typeof e)e=e.call(o);else if("string"==typeof e)try{e=JSON.parse(e)}catch(t){throw i(),t}var a=gt.merge({},e,{$:K,$$:K,$app:o.app,$root:gt.merge({},o.app.data,o.app.methods),$route:n.route,$router:o,$dom7:K,$theme:{ios:"ios"===o.app.theme,md:"md"===o.app.theme}}),s=Ft.create(t,a);r(s.el)}a?(o.xhr&&(o.xhr.abort(),o.xhr=!1),o.xhrRequest(a,n).then(function(t){s(Ft.parse(t))}).catch(function(t){throw i(),t})):s(t)}},{key:"modalComponentLoader",value:function(t,e,n,r,i,o){this.componentLoader(e,n,r,function(t){i(t)},o)}},{key:"tabComponentLoader",value:function(t,e,n,r,i,o){this.componentLoader(e,n,r,function(t){i(t)},o)}},{key:"pageComponentLoader",value:function(t,e,n,r,i,o){this.componentLoader(e,n,r,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(t,e)},o)}},{key:"getPageData",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments[5],a=K(t),s=K(e),u=a[0].f7Page||{},c=void 0,l=void 0;if(("next"===n&&"current"===r||"current"===n&&"previous"===r)&&(c="forward"),("current"===n&&"next"===r||"previous"===n&&"current"===r)&&(c="backward"),u&&!u.fromPage){var h=K(o);h.length&&(l=h[0].f7Page)}(l=u.pageFrom||l)&&l.pageFrom&&(l.pageFrom=null);var f={app:this.app,view:this.view,router:this,$el:a,el:a[0],$pageEl:a,pageEl:a[0],$navbarEl:s,navbarEl:s[0],name:a.attr("data-name"),position:n,from:n,to:r,direction:c,route:u.route?u.route:i,pageFrom:l};return s&&s[0]&&(s[0].f7Page=f),a[0].f7Page=f,f}},{key:"pageCallback",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments[6];if(e){var s=this,u=K(e);if(u.length){var c=o.route,l=s.params.restoreScrollTopOnBack,h="page"+(t[0].toUpperCase()+t.slice(1,t.length)),f="page:"+t.toLowerCase(),d={};(d="beforeRemove"===t&&u[0].f7Page?gt.extend(u[0].f7Page,{from:r,to:i,position:r}):s.getPageData(e,n,r,i,c,a)).swipeBack=!!o.swipeBack;var p=o.route?o.route.route:{},v=p.on,g=void 0===v?{}:v,m=p.once,y=void 0===m?{}:m;if(o.on&&gt.extend(g,o.on),o.once&&gt.extend(y,o.once),"mounted"===t&&w(),"init"===t){if(l&&("previous"===r||!r)&&"current"===i&&s.scrollHistory[d.route.url]&&!u.hasClass("no-restore-scroll")){var b=u.find(".page-content");b.length>0&&(b=b.filter(function(t,e){return 0===K(e).parents(".tab:not(.tab-active)").length&&!K(e).is(".tab:not(.tab-active)")})),b.scrollTop(s.scrollHistory[d.route.url])}if(w(),u[0].f7PageInitialized)return u.trigger("page:reinit",d),void s.emit("pageReinit",d);u[0].f7PageInitialized=!0}if(l&&"beforeOut"===t&&"current"===r&&"previous"===i){var _=u.find(".page-content");_.length>0&&(_=_.filter(function(t,e){return 0===K(e).parents(".tab:not(.tab-active)").length&&!K(e).is(".tab:not(.tab-active)")})),s.scrollHistory[d.route.url]=_.scrollTop()}l&&"beforeOut"===t&&"current"===r&&"next"===i&&delete s.scrollHistory[d.route.url],u.trigger(f,d),s.emit(h,d),"beforeRemove"===t&&(u[0].f7RouteEventsAttached&&(u[0].f7RouteEventsOn&&A()(u[0].f7RouteEventsOn).forEach(function(t){u.off(gt.eventNameToColonCase(t),u[0].f7RouteEventsOn[t])}),u[0].f7RouteEventsOnce&&A()(u[0].f7RouteEventsOnce).forEach(function(t){u.off(gt.eventNameToColonCase(t),u[0].f7RouteEventsOnce[t])}),u[0].f7RouteEventsAttached=null,u[0].f7RouteEventsOn=null,u[0].f7RouteEventsOnce=null,delete u[0].f7RouteEventsAttached,delete u[0].f7RouteEventsOn,delete u[0].f7RouteEventsOnce),u[0].f7Page=null)}}function w(){u[0].f7RouteEventsAttached||(u[0].f7RouteEventsAttached=!0,g&&A()(g).length>0&&(u[0].f7RouteEventsOn=g,A()(g).forEach(function(t){g[t]=g[t].bind(s),u.on(gt.eventNameToColonCase(t),g[t])})),y&&A()(y).length>0&&(u[0].f7RouteEventsOnce=y,A()(y).forEach(function(t){y[t]=y[t].bind(s),u.once(gt.eventNameToColonCase(t),y[t])})))}}},{key:"saveHistory",value:function(){this.view.history=this.history,this.params.pushState&&(D.localStorage["f7router-"+this.view.id+"-history"]=f()(this.history))}},{key:"restoreHistory",value:function(){this.params.pushState&&D.localStorage["f7router-"+this.view.id+"-history"]&&(this.history=JSON.parse(D.localStorage["f7router-"+this.view.id+"-history"]),this.view.history=this.history)}},{key:"clearHistory",value:function(){this.history=[],this.view&&(this.view.history=[]),this.saveHistory()}},{key:"init",value:function(){var t=this,e=t.app,n=t.view;(n&&t.params.iosSwipeBack&&"ios"===e.theme||n&&t.params.mdSwipeBack&&"md"===e.theme)&&function(t){var e,n=t,r=n.$el,i=n.$navbarEl,o=n.app,a=n.params,s=!1,u=!1,c={},l=void 0,h=[],f=[],d=void 0,p=void 0,v=!0,g=void 0,m=[],y=[],b=void 0,_=void 0,w=void 0,x=void 0,E=void 0,C=void 0,k=void 0,T=void 0,S=void 0,O=void 0,M=a[o.theme+"SwipeBackAnimateShadow"],A=a[o.theme+"SwipeBackAnimateOpacity"],P=a[o.theme+"SwipeBackActiveArea"],I=a[o.theme+"SwipeBackThreshold"];function N(t){var e=a[o.theme+"SwipeBack"];!v||!e||s||o.swipeout&&o.swipeout.el||!n.allowPageChange||K(t.target).closest(".range-slider, .calendar-months").length>0||(u=!1,s=!0,l=void 0,c.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,c.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,g=gt.now(),C=n.dynamicNavbar,k=n.separateNavbar)}function D(t){if(s){var e="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,v="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY;if(void 0===l&&(l=!!(l||Math.abs(v-c.y)>Math.abs(e-c.x))||e<c.x),l||t.f7PreventSwipeBack||o.preventSwipeBack)s=!1;else{if(!u){var g=!1,N=K(t.target),D=N.closest(".swipeout");if(D.length>0&&(!o.rtl&&D.find(".swipeout-actions-left").length>0&&(g=!0),o.rtl&&D.find(".swipeout-actions-right").length>0&&(g=!0)),((h=N.closest(".page")).hasClass("no-swipeback")||N.closest(".no-swipeback").length>0)&&(g=!0),f=r.find(".page-previous:not(.stacked)"),c.x,r.offset().left,d=r.width(),(o.rtl?c.x<r.offset().left-r[0].scrollLeft+(d-P):c.x-r.offset().left>P)&&(g=!0),0!==f.length&&0!==h.length||(g=!0),g)return void(s=!1);M&&0===(T=h.find(".page-shadow-effect")).length&&(T=K('<div class="page-shadow-effect"></div>'),h.append(T)),A&&0===(S=f.find(".page-opacity-effect")).length&&(S=K('<div class="page-opacity-effect"></div>'),f.append(S)),C&&(k?(m=i.find(".navbar-current:not(.stacked)"),y=i.find(".navbar-previous:not(.stacked)")):(m=h.children(".navbar").children(".navbar-inner"),y=f.children(".navbar").children(".navbar-inner")),O=i[0].offsetWidth,b=m.children(".left, .title, .right, .subnavbar, .fading"),_=y.children(".left, .title, .right, .subnavbar, .fading"),a.iosAnimateNavbarBackIcon&&(m.hasClass("sliding")?(w=m.children(".left").find(".back .icon"),x=m.children(".left").find(".back span").eq(0)):(w=m.children(".left.sliding").find(".back .icon"),x=m.children(".left.sliding").find(".back span").eq(0)),E=y.hasClass("sliding")?y.children(".left").find(".back .icon"):y.children(".left.sliding").find(".back .icon"))),K(".sheet.modal-in").length>0&&o.sheet&&o.sheet.close(K(".sheet.modal-in"))}t.f7PreventPanelSwipe=!0,u=!0,o.preventSwipePanelBySwipeBack=!0,t.preventDefault();var R=o.rtl?-1:1;(p=(e-c.x-I)*R)<0&&(p=0);var j=p/d,L={percentage:j,currentPageEl:h[0],previousPageEl:f[0],currentNavbarEl:m[0],previousNavbarEl:y[0]};r.trigger("swipeback:move",L),n.emit("swipebackMove",L);var F=p*R,B=(p/5-d/5)*R;1===mt.pixelRatio&&(F=Math.round(F),B=Math.round(B)),h.transform("translate3d("+F+"px,0,0)"),M&&(T[0].style.opacity=1-1*j),"md"!==o.theme&&f.transform("translate3d("+B+"px,0,0)"),A&&(S[0].style.opacity=1-1*j),C&&(b.each(function(t,e){var n=K(e);if(n.is(".subnavbar")||(n[0].style.opacity=1-Math.pow(j,.33)),n[0].className.indexOf("sliding")>=0||m.hasClass("sliding")){var r=j*n[0].f7NavbarRightOffset;if(1===mt.pixelRatio&&(r=Math.round(r)),n.transform("translate3d("+r+"px,0,0)"),a.iosAnimateNavbarBackIcon&&n[0].className.indexOf("left")>=0&&w.length>0){var i=-r;k||(i-=O*j),w.transform("translate3d("+i+"px,0,0)")}}}),_.each(function(t,e){var n=K(e);if(n.is(".subnavbar")||(n[0].style.opacity=Math.pow(j,3)),n[0].className.indexOf("sliding")>=0||y.hasClass("sliding")){var r=n[0].f7NavbarLeftOffset*(1-j);if(r=n[0].className.indexOf("title")>=0&&w&&w.length&&x.length?(n[0].f7NavbarLeftOffset+x[0].offsetLeft)*(1-j):n[0].f7NavbarLeftOffset*(1-j),1===mt.pixelRatio&&(r=Math.round(r)),n.transform("translate3d("+r+"px,0,0)"),a.iosAnimateNavbarBackIcon&&n[0].className.indexOf("left")>=0&&E.length>0){var i=-r;k||(i+=O/5*(1-j)),E.transform("translate3d("+i+"px,0,0)")}}}))}}}function R(){if(o.preventSwipePanelBySwipeBack=!1,!s||!u)return s=!1,void(u=!1);if(s=!1,u=!1,0===p)return K([h[0],f[0]]).transform(""),T&&T.length>0&&T.remove(),S&&S.length>0&&S.remove(),void(C&&(b.transform("").css({opacity:""}),_.transform("").css({opacity:""}),w&&w.length>0&&w.transform(""),E&&w.length>0&&E.transform("")));var t=gt.now()-g,e=!1;(t<300&&p>10||t>=300&&p>d/2)&&(h.removeClass("page-current").addClass("page-next"+("md"===o.theme?" page-next-on-right":"")),f.removeClass("page-previous").addClass("page-current").removeAttr("aria-hidden"),T&&(T[0].style.opacity=""),S&&(S[0].style.opacity=""),C&&(m.removeClass("navbar-current").addClass("navbar-next"),y.removeClass("navbar-previous").addClass("navbar-current").removeAttr("aria-hidden")),e=!0),K([h[0],f[0]]).addClass("page-transitioning page-transitioning-swipeback").transform(""),C&&(b.css({opacity:""}).each(function(t,n){var r=e?n.f7NavbarRightOffset:0,i=K(n),o=e?-r:0;!k&&e&&(o-=O),i.transform("translate3d("+r+"px,0,0)"),a.iosAnimateNavbarBackIcon&&i.hasClass("left")&&w.length>0&&w.addClass("navbar-transitioning").transform("translate3d("+o+"px,0,0)")}).addClass("navbar-transitioning"),_.transform("").css({opacity:""}).each(function(t,n){var r=e?0:n.f7NavbarLeftOffset,i=K(n),o=e?0:-r;k||e||(o+=O/5),i.transform("translate3d("+r+"px,0,0)"),a.iosAnimateNavbarBackIcon&&i.hasClass("left")&&E.length>0&&E.addClass("navbar-transitioning").transform("translate3d("+o+"px,0,0)")}).addClass("navbar-transitioning")),v=!1,n.allowPageChange=!1;var i={currentPage:h[0],previousPage:f[0],currentNavbar:m[0],previousNavbar:y[0]};e?(n.currentRoute=f[0].f7Page.route,n.currentPage=f[0],n.pageCallback("beforeOut",h,m,"current","next",{route:h[0].f7Page.route,swipeBack:!0}),n.pageCallback("beforeIn",f,y,"previous","current",{route:f[0].f7Page.route,swipeBack:!0}),r.trigger("swipeback:beforechange",i),n.emit("swipebackBeforeChange",i)):(r.trigger("swipeback:beforereset",i),n.emit("swipebackBeforeReset",i)),h.transitionEnd(function(){K([h[0],f[0]]).removeClass("page-transitioning page-transitioning-swipeback"),C&&(b.removeClass("navbar-transitioning").css({opacity:""}).transform(""),_.removeClass("navbar-transitioning").css({opacity:""}).transform(""),w&&w.length>0&&w.removeClass("navbar-transitioning"),E&&E.length>0&&E.removeClass("navbar-transitioning")),v=!0,n.allowPageChange=!0,e?(1===n.history.length&&n.history.unshift(n.url),n.history.pop(),n.saveHistory(),a.pushState&&Bt.back(),n.pageCallback("afterOut",h,m,"current","next",{route:h[0].f7Page.route,swipeBack:!0}),n.pageCallback("afterIn",f,y,"previous","current",{route:f[0].f7Page.route,swipeBack:!0}),a.stackPages&&n.initialPages.indexOf(h[0])>=0?(h.addClass("stacked"),k&&m.addClass("stacked")):(n.pageCallback("beforeRemove",h,m,"next",{swipeBack:!0}),n.removePage(h),k&&n.removeNavbar(m)),r.trigger("swipeback:afterchange",i),n.emit("swipebackAfterChange",i),n.emit("routeChanged",n.currentRoute,n.previousRoute,n),a.preloadPreviousPage&&n.back(n.history[n.history.length-2],{preload:!0})):(r.trigger("swipeback:afterreset",i),n.emit("swipebackAfterReset",i)),T&&T.length>0&&T.remove(),S&&S.length>0&&S.remove()})}e=!("touchstart"!==o.touchEvents.start||!Mt.passiveListener)&&{passive:!0,capture:!1},r.on(o.touchEvents.start,N,e),o.on("touchmove:active",D),o.on("touchend:passive",R),n.on("routerDestroy",function(){var t=!("touchstart"!==o.touchEvents.start||!Mt.passiveListener)&&{passive:!0,capture:!1};r.off(o.touchEvents.start,N,t),o.off("touchmove:active",D),o.off("touchend:passive",R)})}(t),t.dynamicNavbar&&!t.separateNavbar&&t.$el.addClass("router-dynamic-navbar-inside");var r=t.params.url,i=N.location.href.split(N.location.origin)[1],o=void 0;t.params.pushState&&t.params.pushStateOnLoad?(t.params.pushStateRoot&&i.indexOf(t.params.pushStateRoot)>=0&&""===(i=i.split(t.params.pushStateRoot)[1])&&(i="/"),r=t.params.pushStateSeparator.length>0&&i.indexOf(t.params.pushStateSeparator)>=0?i.split(t.params.pushStateSeparator)[1]:i,t.restoreHistory(),t.history.indexOf(r)>=0?t.history=t.history.slice(0,t.history.indexOf(r)+1):t.params.url===r?t.history=[r]:Bt.state&&Bt.state[n.id]&&Bt.state[n.id].url===t.history[t.history.length-1]?r=t.history[t.history.length-1]:t.history=[i.split(t.params.pushStateSeparator)[0]||"/",r],t.history.length>1?o=!0:t.history=[],t.saveHistory()):(r||(r=i),N.location.search&&r.indexOf("?")<0&&(r+=N.location.search),N.location.hash&&r.indexOf("#")<0&&(r+=N.location.hash));var a=void 0;if(t.history.length>1?(a=t.findMatchingRoute(t.history[0]))||(a=gt.extend(t.parseRouteUrl(t.history[0]),{route:{url:t.history[0],path:t.history[0].split("?")[0]}})):(a=t.findMatchingRoute(r))||(a=gt.extend(t.parseRouteUrl(r),{route:{url:r,path:r.split("?")[0]}})),t.params.stackPages&&t.$el.children(".page").each(function(e,n){var r=K(n);t.initialPages.push(r[0]),t.separateNavbar&&r.children(".navbar").length>0&&t.initialNavbars.push(r.children(".navbar").find(".navbar-inner")[0])}),0===t.$el.children(".page:not(.stacked)").length&&r)t.navigate(r,{initial:!0,reloadCurrent:!0,pushState:!1});else{var s=void 0;t.currentRoute=a,t.$el.children(".page:not(.stacked)").each(function(e,n){var r=K(n),i=void 0;r.addClass("page-current"),t.separateNavbar&&((i=r.children(".navbar").children(".navbar-inner")).length>0?(t.$navbarEl.parents(N).length||t.$el.prepend(t.$navbarEl),t.$navbarEl.append(i),r.children(".navbar").remove()):t.$navbarEl.addClass("navbar-hidden"));var o={route:t.currentRoute};t.currentRoute&&t.currentRoute.route&&t.currentRoute.route.options&&gt.extend(o,t.currentRoute.route.options),t.currentPageEl=r[0],t.dynamicNavbar&&i.length&&(t.currentNavbarEl=i[0]),t.removeThemeElements(r),t.dynamicNavbar&&i.length&&t.removeThemeElements(i),o.route.route.tab&&(s=!0,t.tabLoad(o.route.route.tab,gt.extend({},o))),t.pageCallback("init",r,i,"current",void 0,o)}),o&&t.navigate(r,{initial:!0,pushState:!1,history:!1,animate:t.params.pushStateAnimateOnLoad,once:{pageAfterIn:function(){t.history.length>2&&t.back({preload:!0})}}}),o||s||(t.history.push(r),t.saveHistory())}!(r&&t.params.pushState&&t.params.pushStateOnLoad)||Bt.state&&Bt.state[n.id]||Bt.initViewState(n.id,{url:r}),t.emit("local::init routerInit",t)}},{key:"destroy",value:function(){var t=this;t.emit("local::destroy routerDestroy",t),A()(t).forEach(function(e){t[e]=null,delete t[e]}),t=null}}]),e}(yt),te={name:"router",static:{Router:Zt},instance:{cache:{xhr:[],templates:[],components:[]}},create:function(){this.app?this.params.router&&(this.router=new Zt(this.app,this)):this.router=new Zt(this)}},ee=function(t){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_()(this,e);var o=g()(this,(e.__proto__||p()(e)).call(this,i,[t])),a=t,s=K(n),u=o;u.params=gt.extend({routes:[],routesAdd:[]},a.params.view,i),u.params.routes.length>0?u.routes=u.params.routes:u.routes=[].concat(a.routes,u.params.routesAdd);var c=void 0;c="string"==typeof n?n:(s.attr("id")?"#"+s.attr("id"):"")+(s.attr("class")?"."+s.attr("class").replace(/ /g,".").replace(".active",""):"");var l=void 0;"ios"===a.theme&&u.params.iosDynamicNavbar&&u.params.iosSeparateDynamicNavbar&&0===(l=s.children(".navbar").eq(0)).length&&(l=K('<div class="navbar"></div>')),gt.extend(!1,u,{app:a,$el:s,el:s[0],name:u.params.name,main:u.params.main||s.hasClass("view-main"),$navbarEl:l,navbarEl:l?l[0]:void 0,selector:c,history:[],scrollHistory:{}}),s[0].f7View=u,u.useModules(),a.views.push(u),u.main&&(a.views.main=u),u.name&&(a.views[u.name]=u),u.index=a.views.indexOf(u);var h=void 0;return h=u.name?"view_"+u.name:u.main?"view_main":"view_"+u.index,u.id=h,a.initialized?u.init():a.on("init",function(){u.init()}),r=u,g()(o,r)}return y()(e,t),x()(e,[{key:"destroy",value:function(){var t=this,e=t.app;t.$el.trigger("view:beforedestroy",t),t.emit("local::beforeDestroy viewBeforeDestroy",t),t.main?(e.views.main=null,delete e.views.main):t.name&&(e.views[t.name]=null,delete e.views[t.name]),t.$el[0].f7View=null,delete t.$el[0].f7View,e.views.splice(e.views.indexOf(t),1),t.params.router&&t.router&&t.router.destroy(),t.emit("local::destroy viewDestroy",t),A()(t).forEach(function(e){t[e]=null,delete t[e]}),t=null}},{key:"init",value:function(){this.params.router&&this.router.init()}}]),e}(yt);ee.use(te);var ne={name:"clicks",params:{clicks:{externalLinks:".external"}},on:{init:function(){!function(t){if(t.on("click",function(e){var n=K(e.target),r=n.closest("a"),i=r.length>0,o=i&&r.attr("href"),a=i&&r.hasClass("tab-link")&&(r.attr("data-tab")||o&&0===o.indexOf("#"));if(i&&(r.is(t.params.clicks.externalLinks)||o&&o.indexOf("javascript:")>=0)){var s=r.attr("target");!o||"_system"!==s&&"_blank"!==s&&"_browser"!==s||(e.preventDefault(),"_browser"!==s&&D.cordova&&D.cordova.InAppBrowser?D.cordova.InAppBrowser.open(o,s):D.open(o,s))}else{A()(t.modules).forEach(function(e){var r=t.modules[e].clicks;r&&A()(r).forEach(function(e){var i=n.closest(e).eq(0);i.length>0&&r[e].call(t,i,i.dataset())})});var u={};i&&(e.preventDefault(),u=r.dataset());var c=o&&o.length>0&&"#"!==o&&!a,l=u.template;if(c||r.hasClass("back")||l){var h=void 0;if(u.view?h=K(u.view)[0].f7View:(h=n.parents(".view")[0]&&n.parents(".view")[0].f7View,!r.hasClass("back")&&h&&h.params.linksView&&("string"==typeof h.params.linksView?h=K(h.params.linksView)[0].f7View:h.params.linksView instanceof ee&&(h=h.params.linksView))),h||t.views.main&&(h=t.views.main),!h||!h.router)return;if(u.context&&"string"==typeof u.context)try{u.context=JSON.parse(u.context)}catch(t){}r.hasClass("back")?h.router.back(o,u):h.router.navigate(o,u)}}}),Mt.touch&&!mt.android){var e=!!Mt.passiveListener&&{passive:!1,capture:!1};K(N).on(t.params.touch.fastClicks?"touchstart":"touchmove",".panel-backdrop, .dialog-backdrop, .preloader-backdrop, .popup-backdrop, .searchbar-backdrop",function(t){t.preventDefault()},e)}}(this)}}},re={name:"history",static:{history:Bt},on:{init:function(){Bt.init(this)}}},ie={get:function(t){return gt.promise(function(e,n){try{e(JSON.parse(D.localStorage.getItem("f7storage-"+t)))}catch(t){n(t)}})},set:function(t,e){return gt.promise(function(n,r){try{D.localStorage.setItem("f7storage-"+t,f()(e)),n()}catch(t){r(t)}})},remove:function(t){return gt.promise(function(e,n){try{D.localStorage.removeItem("f7storage-"+t),e()}catch(t){n(t)}})},clear:function(){},length:function(){},keys:function(){return gt.promise(function(t,e){try{t(A()(D.localStorage).filter(function(t){return 0===t.indexOf("f7storage-")}).map(function(t){return t.replace("f7storage-","")}))}catch(t){e(t)}})},forEach:function(t){return gt.promise(function(e,n){try{A()(D.localStorage).filter(function(t){return 0===t.indexOf("f7storage-")}).forEach(function(e,n){var r=e.replace("f7storage-","");ie.get(r).then(function(e){t(r,e,n)})}),e()}catch(t){n(t)}})}},oe={name:"storage",static:{Storage:ie,storage:ie}},ae={hide:function(){K("html").removeClass("with-statusbar"),mt.cordova&&D.StatusBar&&D.StatusBar.hide()},show:function(){if(mt.cordova&&D.StatusBar)return D.StatusBar.show(),void gt.nextTick(function(){mt.needsStatusbarOverlay()&&K("html").addClass("with-statusbar")});K("html").addClass("with-statusbar")},onClick:function(){var t=void 0;(t=K(".popup.modal-in").length>0?K(".popup.modal-in").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):K(".panel.panel-active").length>0?K(".panel.panel-active").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):K(".views > .view.tab-active").length>0?K(".views > .view.tab-active").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):K(".views").length>0?K(".views").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):this.root.children(".view").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"))&&t.length>0&&(t.hasClass("tab")&&(t=t.parent(".tabs").children(".page-content.tab-active")),t.length>0&&t.scrollTop(0,300))},setIosTextColor:function(t){mt.cordova&&D.StatusBar&&("white"===t?D.StatusBar.styleLightContent():D.StatusBar.styleDefault())},setBackgroundColor:function(t){K(".statusbar").css("background-color",t),mt.cordova&&D.StatusBar&&D.StatusBar.backgroundColorByHexString(t)},isVisible:function(){return!(!mt.cordova||!D.StatusBar)&&D.StatusBar.isVisible},iosOverlaysWebView:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];mt.ios&&mt.cordova&&D.StatusBar&&(D.StatusBar.overlaysWebView(t),t?K("html").addClass("with-statusbar"):K("html").removeClass("with-statusbar"))},checkOverlay:function(){mt.needsStatusbarOverlay()?K("html").addClass("with-statusbar"):K("html").removeClass("with-statusbar")},init:function(){var t=this.params.statusbar;t.enabled&&("auto"===t.overlay?(mt.needsStatusbarOverlay()?K("html").addClass("with-statusbar"):K("html").removeClass("with-statusbar"),mt.ios&&(mt.cordova||mt.webView)&&(0===D.orientation&&this.once("resize",function(){ae.checkOverlay()}),K(N).on("resume",function(){ae.checkOverlay()},!1),this.on(mt.ios?"orientationchange":"orientationchange resize",function(){ae.checkOverlay()}))):!0===t.overlay?K("html").addClass("with-statusbar"):!1===t.overlay&&K("html").removeClass("with-statusbar"),mt.cordova&&D.StatusBar&&(t.scrollTopOnClick&&K(D).on("statusTap",ae.onClick.bind(this)),t.iosOverlaysWebView?D.StatusBar.overlaysWebView(!0):D.StatusBar.overlaysWebView(!1),"white"===t.iosTextColor?D.StatusBar.styleLightContent():D.StatusBar.styleDefault()),t.iosBackgroundColor&&"ios"===this.theme&&ae.setBackgroundColor(t.iosBackgroundColor),t.materialBackgroundColor&&"md"===this.theme&&ae.setBackgroundColor(t.materialBackgroundColor))}},se={name:"statusbar",params:{statusbar:{enabled:!0,overlay:"auto",scrollTopOnClick:!0,iosOverlaysWebView:!0,iosTextColor:"black",iosBackgroundColor:null,materialBackgroundColor:null}},create:function(){gt.extend(this,{statusbar:{checkOverlay:ae.checkOverlay,hide:ae.hide,show:ae.show,iosOverlaysWebView:ae.iosOverlaysWebView,setIosTextColor:ae.setIosTextColor,setBackgroundColor:ae.setBackgroundColor,isVisible:ae.isVisible,init:ae.init.bind(this)}})},on:{init:function(){ae.init.call(this)}},clicks:{".statusbar":function(){this.params.statusbar.enabled&&this.params.statusbar.scrollTopOnClick&&ae.onClick.call(this)}}};var ue={name:"view",params:{view:{name:void 0,main:!1,router:!0,linksView:null,stackPages:!1,xhrCache:!0,xhrCacheIgnore:[],xhrCacheIgnoreGetParameters:!1,xhrCacheDuration:6e5,preloadPreviousPage:!0,uniqueHistory:!1,uniqueHistoryIgnoreGetParameters:!1,allowDuplicateUrls:!1,reloadPages:!1,removeElements:!0,removeElementsWithTimeout:!1,removeElementsTimeout:0,restoreScrollTopOnBack:!0,unloadTabContent:!0,passRouteQueryToRequest:!0,passRouteParamsToRequest:!1,iosSwipeBack:!0,iosSwipeBackAnimateShadow:!0,iosSwipeBackAnimateOpacity:!0,iosSwipeBackActiveArea:30,iosSwipeBackThreshold:0,mdSwipeBack:!1,mdSwipeBackAnimateShadow:!0,mdSwipeBackAnimateOpacity:!1,mdSwipeBackActiveArea:30,mdSwipeBackThreshold:0,pushState:!1,pushStateRoot:void 0,pushStateAnimate:!0,pushStateAnimateOnLoad:!1,pushStateSeparator:"#!",pushStateOnLoad:!0,animate:!0,animateWithJS:!1,iosDynamicNavbar:!0,iosSeparateDynamicNavbar:!0,iosAnimateNavbarBackIcon:!0,iosPageLoadDelay:0,materialPageLoadDelay:0}},static:{View:ee},create:function(){var t=this;gt.extend(t,{views:gt.extend([],{create:function(e,n){return new ee(t,e,n)},get:function(t){var e=K(t);if(e.length&&e[0].f7View)return e[0].f7View}})}),Object.defineProperty(t.views,"current",{enumerable:!0,configurable:!0,get:function(){return function(t){var e=K(".popover.modal-in .view"),n=K(".popup.modal-in .view"),r=K(".panel.panel-active .view"),i=K(".views");0===i.length&&(i=t.root);var o=i.children(".view");if(o.length>1&&o.hasClass("tab")&&(o=i.children(".view.tab-active")),e.length>0&&e[0].f7View)return e[0].f7View;if(n.length>0&&n[0].f7View)return n[0].f7View;if(r.length>0&&r[0].f7View)return r[0].f7View;if(o.length>0){if(1===o.length&&o[0].f7View)return o[0].f7View;if(o.length>1)return t.views.main}}(t)}}),t.view=t.views},on:{init:function(){var t=this;K(".view-init").each(function(e,n){if(!n.f7View){var r=K(n).dataset();t.views.create(n,r)}})},modalOpen:function(t){var e=this;t.$el.find(".view-init").each(function(t,n){if(!n.f7View){var r=K(n).dataset();e.views.create(n,r)}})},modalBeforeDestroy:function(t){t&&t.$el&&t.$el.find(".view-init").each(function(t,e){var n=e.f7View;n&&n.destroy()})}}},ce={size:function(t){var e=this;if("ios"===e.theme){var n=K(t);if(n.hasClass("navbar"))n=n.children(".navbar-inner").each(function(t,n){e.navbar.size(n)});else if(!(n.hasClass("stacked")||n.parents(".stacked").length>0||n.parents(".tab:not(.tab-active)").length>0||n.parents(".popup:not(.modal-in)").length>0)){var r=n.parents(".view").eq(0),i=e.rtl?n.children(".right"):n.children(".left"),o=e.rtl?n.children(".left"):n.children(".right"),a=n.children(".title"),s=n.children(".subnavbar"),u=0===i.length,c=0===o.length,l=u?0:i.outerWidth(!0),h=c?0:o.outerWidth(!0),f=a.outerWidth(!0),d=n.styles(),p=n[0].offsetWidth,v=p-parseInt(d.paddingLeft,10)-parseInt(d.paddingRight,10),g=n.hasClass("navbar-previous"),m=n.hasClass("sliding"),y=void 0,b=void 0,_=0,w=0;r.length>0&&r[0].f7View&&(b=(y=r[0].f7View.router)&&y.dynamicNavbar,y&&y.separateNavbar||(_=p,w=p/5));var x=void 0,E=void 0;c&&(x=v-f),u&&(x=0),u||c||(x=(v-h-f+l)/2);var C=(v-f)/2;v-l-h>f?(C<l&&(C=l),C+f>v-h&&(C=v-h-f),E=C-x):E=0;var k=e.rtl?-1:1;if(b){if(a.hasClass("sliding")||a.length>0&&m){var T=-(x+E)*k+w,S=(v-x-E-f)*k-_;if(g&&y&&y.params.iosAnimateNavbarBackIcon){var O=n.parent().find(".navbar-current").children(".left.sliding").find(".back .icon ~ span");O.length>0&&(T+=O[0].offsetLeft)}a[0].f7NavbarLeftOffset=T,a[0].f7NavbarRightOffset=S}u||!i.hasClass("sliding")&&!m||(e.rtl?(i[0].f7NavbarLeftOffset=-(v-i[0].offsetWidth)/2*k,i[0].f7NavbarRightOffset=l*k):(i[0].f7NavbarLeftOffset=-l+w,i[0].f7NavbarRightOffset=(v-i[0].offsetWidth)/2-_,y&&y.params.iosAnimateNavbarBackIcon&&i.find(".back .icon").length>0&&(i[0].f7NavbarRightOffset-=i.find(".back .icon")[0].offsetWidth))),c||!o.hasClass("sliding")&&!m||(e.rtl?(o[0].f7NavbarLeftOffset=-h*k,o[0].f7NavbarRightOffset=(v-o[0].offsetWidth)/2*k):(o[0].f7NavbarLeftOffset=-(v-o[0].offsetWidth)/2+w,o[0].f7NavbarRightOffset=h-_)),s.length&&(s.hasClass("sliding")||m)&&(s[0].f7NavbarLeftOffset=e.rtl?s[0].offsetWidth:-s[0].offsetWidth+w,s[0].f7NavbarRightOffset=-s[0].f7NavbarLeftOffset-_+w)}if(e.params.navbar.iosCenterTitle){var M=E;e.rtl&&u&&c&&a.length>0&&(M=-M),a.css({left:M+"px"})}}}},hide:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=K(t);if(n.hasClass("navbar-inner")&&(n=n.parents(".navbar")),n.length&&!n.hasClass("navbar-hidden")){var r="navbar-hidden"+(e?" navbar-transitioning":"");n.transitionEnd(function(){n.removeClass("navbar-transitioning")}),n.addClass(r)}},show:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".navbar-hidden",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=K(t);n.hasClass("navbar-inner")&&(n=n.parents(".navbar")),n.length&&n.hasClass("navbar-hidden")&&(e&&(n.addClass("navbar-transitioning"),n.transitionEnd(function(){n.removeClass("navbar-transitioning")})),n.removeClass("navbar-hidden"))},getElByPage:function(t){var e=void 0,n=void 0,r=void 0;if(t.$navbarEl||t.$el?(r=t,e=t.$el):(e=K(t)).length>0&&(r=e[0].f7Page),r&&r.$navbarEl&&r.$navbarEl.length>0?n=r.$navbarEl:e&&(n=e.children(".navbar").children(".navbar-inner")),n&&(!n||0!==n.length))return n[0]},getPageByEl:function(t){var e=K(t);if(!(e.hasClass("navbar")&&(e=e.find(".navbar-inner")).length>1))return e[0].f7Page},initHideNavbarOnScroll:function(t,e){var n=this,r=K(t),i=K(e||n.navbar.getElByPage(t)).closest(".navbar"),o=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,h=void 0;function f(){r.hasClass("page-previous")||(a=this.scrollTop,s=this.scrollHeight,u=this.offsetHeight,c=a+u>=s,h=i.hasClass("navbar-hidden"),c?n.params.navbar.showOnPageScrollEnd&&(l="show"):l=o>a?n.params.navbar.showOnPageScrollTop||a<=44?"show":"hide":a>44?"hide":"show","show"===l&&h?(n.navbar.show(i),h=!1):"hide"!==l||h||(n.navbar.hide(i),h=!0),o=a)}r.on("scroll",".page-content",f,!0),r[0].f7ScrollNavbarHandler=f}},le={name:"navbar",create:function(){gt.extend(this,{navbar:{size:ce.size.bind(this),hide:ce.hide.bind(this),show:ce.show.bind(this),getElByPage:ce.getElByPage.bind(this),initHideNavbarOnScroll:ce.initHideNavbarOnScroll.bind(this)}})},params:{navbar:{scrollTopOnTitleClick:!0,iosCenterTitle:!0,hideOnPageScroll:!1,showOnPageScrollEnd:!0,showOnPageScrollTop:!0}},on:{"panelBreakpoint resize":function(){var t=this;"ios"===t.theme&&K(".navbar").each(function(e,n){t.navbar.size(n)})},pageBeforeRemove:function(t){t.$el[0].f7ScrollNavbarHandler&&t.$el.off("scroll",".page-content",t.$el[0].f7ScrollNavbarHandler,!0)},pageBeforeIn:function(t){if("ios"===this.theme){var e=void 0,n=t.$el.parents(".view")[0].f7View,r=this.navbar.getElByPage(t);if(e=r?K(r).parents(".navbar"):t.$el.parents(".view").children(".navbar"),t.$el.hasClass("no-navbar")||n.router.dynamicNavbar&&!r){var i=!!(t.pageFrom&&t.router.history.length>0);this.navbar.hide(e,i)}else this.navbar.show(e)}},pageReinit:function(t){if("ios"===this.theme){var e=K(this.navbar.getElByPage(t));e&&0!==e.length&&this.navbar.size(e)}},pageInit:function(t){var e=K(this.navbar.getElByPage(t));if(e&&0!==e.length&&("ios"===this.theme&&this.navbar.size(e),this.params.navbar.hideOnPageScroll||t.$el.find(".hide-navbar-on-scroll").length||t.$el.hasClass("hide-navbar-on-scroll")||t.$el.find(".hide-bars-on-scroll").length||t.$el.hasClass("hide-bars-on-scroll"))){if(t.$el.find(".keep-navbar-on-scroll").length||t.$el.hasClass("keep-navbar-on-scroll")||t.$el.find(".keep-bars-on-scroll").length||t.$el.hasClass("keep-bars-on-scroll"))return;this.navbar.initHideNavbarOnScroll(t.el,e[0])}},modalOpen:function(t){var e=this;"ios"===e.theme&&t.$el.find(".navbar:not(.navbar-previous):not(.stacked)").each(function(t,n){e.navbar.size(n)})},panelOpen:function(t){var e=this;"ios"===e.theme&&t.$el.find(".navbar:not(.navbar-previous):not(.stacked)").each(function(t,n){e.navbar.size(n)})},panelSwipeOpen:function(t){var e=this;"ios"===e.theme&&t.$el.find(".navbar:not(.navbar-previous):not(.stacked)").each(function(t,n){e.navbar.size(n)})},tabShow:function(t){var e=this;K(t).find(".navbar:not(.navbar-previous):not(.stacked)").each(function(t,n){e.navbar.size(n)})}},clicks:{".navbar .title":function(t){if(this.params.navbar.scrollTopOnTitleClick&&!(t.closest("a").length>0)){var e=void 0,n=t.parents(".navbar");0===(e=n.parents(".page-content")).length&&(n.parents(".page").length>0&&(e=n.parents(".page").find(".page-content")),0===e.length&&n.nextAll(".page-current:not(.stacked)").length>0&&(e=n.nextAll(".page-current:not(.stacked)").find(".page-content"))),e&&e.length>0&&(e.hasClass("tab")&&(e=e.parent(".tabs").children(".page-content.tab-active")),e.length>0&&e.scrollTop(0,300))}}}},he={setHighlight:function(t){if("md"===this.theme){var e=K(t);if(0!==e.length&&(e.hasClass("tabbar")||e.hasClass("tabbar-labels"))){0===e.find(".tab-link-highlight").length&&e.children(".toolbar-inner").append('<span class="tab-link-highlight"></span>');var n=e.find(".tab-link-highlight"),r=e.find(".tab-link-active"),i=void 0,o=void 0;if(e.hasClass("tabbar-scrollable")&&r&&r[0])i=r[0].offsetWidth+"px",o=r[0].offsetLeft+"px";else{var a=r.index();i=100/e.find(".tab-link").length+"%",o=100*(this.rtl?-a:a)+"%"}n.css("width",i).transform("translate3d("+o+",0,0)")}}},init:function(t){this.toolbar.setHighlight(t)},hide:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=K(t);if(!n.hasClass("toolbar-hidden")){var r="toolbar-hidden"+(e?" toolbar-transitioning":"");n.transitionEnd(function(){n.removeClass("toolbar-transitioning")}),n.addClass(r)}},show:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=K(t);n.hasClass("toolbar-hidden")&&(e&&(n.addClass("toolbar-transitioning"),n.transitionEnd(function(){n.removeClass("toolbar-transitioning")})),n.removeClass("toolbar-hidden"))},initHideToolbarOnScroll:function(t){var e=this,n=K(t),r=n.parents(".view").children(".toolbar");if(0===r.length&&(r=n.find(".toolbar")),0===r.length&&(r=n.parents(".views").children(".tabbar, .tabbar-labels")),0!==r.length){var i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0;n.on("scroll",".page-content",h,!0),n[0].f7ScrollToolbarHandler=h}function h(){n.hasClass("page-previous")||(o=this.scrollTop,a=this.scrollHeight,s=this.offsetHeight,u=o+s>=a,l=r.hasClass("toolbar-hidden"),u?e.params.toolbar.showOnPageScrollEnd&&(c="show"):c=i>o?e.params.toolbar.showOnPageScrollTop||o<=44?"show":"hide":o>44?"hide":"show","show"===c&&l?(e.toolbar.show(r),l=!1):"hide"!==c||l||(e.toolbar.hide(r),l=!0),i=o)}}},fe={name:"toolbar",create:function(){gt.extend(this,{toolbar:{hide:he.hide.bind(this),show:he.show.bind(this),setHighlight:he.setHighlight.bind(this),initHideToolbarOnScroll:he.initHideToolbarOnScroll.bind(this),init:he.init.bind(this)}})},params:{toolbar:{hideOnPageScroll:!1,showOnPageScrollEnd:!0,showOnPageScrollTop:!0}},on:{pageBeforeRemove:function(t){t.$el[0].f7ScrollToolbarHandler&&t.$el.off("scroll",".page-content",t.$el[0].f7ScrollToolbarHandler,!0)},pageBeforeIn:function(t){var e=t.$el.parents(".view").children(".toolbar");0===e.length&&(e=t.$el.find(".toolbar")),0===e.length&&(e=t.$el.parents(".views").children(".tabbar, .tabbar-labels")),0!==e.length&&(t.$el.hasClass("no-toolbar")?this.toolbar.hide(e):this.toolbar.show(e))},pageInit:function(t){var e=this;if(t.$el.find(".tabbar, .tabbar-labels").each(function(t,n){e.toolbar.init(n)}),e.params.toolbar.hideOnPageScroll||t.$el.find(".hide-toolbar-on-scroll").length||t.$el.hasClass("hide-toolbar-on-scroll")||t.$el.find(".hide-bars-on-scroll").length||t.$el.hasClass("hide-bars-on-scroll")){if(t.$el.find(".keep-toolbar-on-scroll").length||t.$el.hasClass("keep-toolbar-on-scroll")||t.$el.find(".keep-bars-on-scroll").length||t.$el.hasClass("keep-bars-on-scroll"))return;e.toolbar.initHideToolbarOnScroll(t.el)}},init:function(){var t=this;t.root.find(".tabbar, .tabbar-labels").each(function(e,n){t.toolbar.init(n)})}}},de=function(){function t(e,n,r){_()(this,t);if(e){var i=e[0].getBoundingClientRect(),o=n-i.left,a=r-i.top,s=i.width,u=i.height,c=Math.max(Math.pow(Math.pow(u,2)+Math.pow(s,2),.5),48);return this.$rippleWaveEl=K('<div class="ripple-wave" style="width: '+c+"px; height: "+c+"px; margin-top:-"+c/2+"px; margin-left:-"+c/2+"px; left:"+o+"px; top:"+a+'px;"></div>'),e.prepend(this.$rippleWaveEl),this._clientLeft=this.$rippleWaveEl[0].clientLeft,this.rippleTransform="translate3d("+(s/2-o)+"px, "+(u/2-a)+"px, 0) scale(1)",this.$rippleWaveEl.transform(this.rippleTransform),this}}return x()(t,[{key:"onRemove",value:function(){var t=this;t.$rippleWaveEl.remove(),A()(t).forEach(function(e){t[e]=null,delete t[e]}),t=null}},{key:"remove",value:function(){var t=this;if(!t.removing){var e=this.$rippleWaveEl,n=this.rippleTransform,r=gt.nextTick(function(){t.onRemove()},400);t.removing=!0,e.addClass("ripple-wave-fill").transform(n.replace("scale(1)","scale(1.01)")).transitionEnd(function(){clearTimeout(r),gt.nextFrame(function(){e.addClass("ripple-wave-out").transform(n.replace("scale(1)","scale(1.01)")),r=gt.nextTick(function(){t.onRemove()},700),e.transitionEnd(function(){clearTimeout(r),t.onRemove()})})})}}}]),t}(),pe={name:"touch-ripple",static:{TouchRipple:de},create:function(){this.touchRipple={create:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return new(Function.prototype.bind.apply(de,[null].concat(I()(e))))}}}},ve=[],ge=[];var me=function(t){function e(t,n){var r;_()(this,e);var i=g()(this,(e.__proto__||p()(e)).call(this,n,[t])),o=i,a={};return o.useModulesParams(a),o.params=gt.extend(a,n),o.useModules(),r=i,g()(i,r)}return y()(e,t),x()(e,[{key:"onOpen",value:function(){ve.push(this),K("html").addClass("with-modal-"+this.type.toLowerCase()),this.$el.trigger("modal:open "+this.type.toLowerCase()+":open",this),this.emit("local::open modalOpen "+this.type+"Open",this)}},{key:"onOpened",value:function(){this.$el.trigger("modal:opened "+this.type.toLowerCase()+":opened",this),this.emit("local::opened modalOpened "+this.type+"Opened",this)}},{key:"onClose",value:function(){this.type&&this.$el&&(ve.splice(ve.indexOf(this),1),K("html").removeClass("with-modal-"+this.type.toLowerCase()),this.$el.trigger("modal:close "+this.type.toLowerCase()+":close",this),this.emit("local::close modalClose "+this.type+"Close",this))}},{key:"onClosed",value:function(){this.type&&this.$el&&(this.$el.removeClass("modal-out"),this.$el.hide(),this.$el.trigger("modal:closed "+this.type.toLowerCase()+":closed",this),this.emit("local::closed modalClosed "+this.type+"Closed",this))}},{key:"open",value:function(t){var e=this,n=e.app,r=e.$el,i=e.$backdropEl,o=e.type,a=!0;if(void 0!==t?a=t:void 0!==e.params.animate&&(a=e.params.animate),!r||r.hasClass("modal-in"))return e;if("dialog"===o&&n.params.modal.queueDialogs){var s=void 0;if(K(".dialog.modal-in").length>0?s=!0:ve.length>0&&ve.forEach(function(t){"dialog"===t.type&&(s=!0)}),s)return ge.push(e),e}var u=r.parent(),c=r.parents(N).length>0;function l(){r.hasClass("modal-out")?e.onClosed():r.hasClass("modal-in")&&e.onOpened()}return n.params.modal.moveToRoot&&!u.is(n.root)&&(n.root.append(r),e.once(o+"Closed",function(){c?u.append(r):r.remove()})),r.show(),"dialog"===o&&r.css({marginTop:-Math.round(r.outerHeight()/2)+"px"}),e._clientLeft=r[0].clientLeft,i&&(i[a?"removeClass":"addClass"]("not-animated"),i.addClass("backdrop-in")),a?(r.animationEnd(function(){l()}),r.transitionEnd(function(){l()}),r.removeClass("modal-out not-animated").addClass("modal-in"),e.onOpen()):(r.removeClass("modal-out").addClass("modal-in not-animated"),e.onOpen(),e.onOpened()),e}},{key:"close",value:function(t){var e=this,n=e.$el,r=e.$backdropEl,i=!0;if(void 0!==t?i=t:void 0!==e.params.animate&&(i=e.params.animate),!n||!n.hasClass("modal-in"))return e;function o(){n.hasClass("modal-out")?e.onClosed():n.hasClass("modal-in")&&e.onOpened()}return r&&(r[i?"removeClass":"addClass"]("not-animated"),r.removeClass("backdrop-in")),n[i?"removeClass":"addClass"]("not-animated"),i?(n.animationEnd(function(){o()}),n.transitionEnd(function(){o()}),n.removeClass("modal-in").addClass("modal-out"),e.onClose()):(n.addClass("not-animated").removeClass("modal-in").addClass("modal-out"),e.onClose(),e.onClosed()),"dialog"===e.type&&0!==ge.length&&ge.shift().open(),e}},{key:"destroy",value:function(){this.destroyed||(this.emit("local::beforeDestroy modalBeforeDestroy "+this.type+"BeforeDestroy",this),this.$el&&(this.$el.trigger("modal:beforedestroy "+this.type.toLowerCase()+":beforedestroy",this),this.$el.length&&this.$el[0].f7Modal&&delete this.$el[0].f7Modal),gt.deleteProps(this),this.destroyed=!0)}}]),e}(yt),ye=function(t){function e(t,n){var r;_()(this,e);var i=gt.extend({backdrop:!0,closeByBackdropClick:!0,on:{}},n),o=g()(this,(e.__proto__||p()(e)).call(this,t,i)),a=o;a.params=i;var s,u,c=void 0;if((c=a.params.el?K(a.params.el):K(a.params.content))&&c.length>0&&c[0].f7Modal)return s=c[0].f7Modal,g()(o,s);if(0===c.length)return u=a.destroy(),g()(o,u);var l=void 0;function h(t){a&&!a.destroyed&&l&&t.target===l[0]&&a.close()}return a.params.backdrop&&0===(l=t.root.children(".custom-modal-backdrop")).length&&(l=K('<div class="custom-modal-backdrop"></div>'),t.root.append(l)),a.on("customModalOpened",function(){a.params.closeByBackdropClick&&a.params.backdrop&&t.on("click",h)}),a.on("customModalClose",function(){a.params.closeByBackdropClick&&a.params.backdrop&&t.off("click",h)}),gt.extend(a,{app:t,$el:c,el:c[0],$backdropEl:l,backdropEl:l&&l[0],type:"customModal"}),c[0].f7Modal=a,r=a,g()(o,r)}return y()(e,t),e}(me),be={name:"modal",static:{Modal:me,CustomModal:ye},create:function(){var t=this;t.customModal={create:function(e){return new ye(t,e)}}},params:{modal:{moveToRoot:!0,queueDialogs:!0}}},_e=function(t){function e(t,n){var r;_()(this,e);var i=gt.extend({title:t.params.dialog.title,text:void 0,content:"",buttons:[],verticalButtons:!1,onClick:void 0,cssClass:void 0,destroyOnClose:!1,on:{}},n);void 0===i.closeByBackdropClick&&(i.closeByBackdropClick=t.params.dialog.closeByBackdropClick);var o=g()(this,(e.__proto__||p()(e)).call(this,t,i)),a=o,s=i.title,u=i.text,c=i.content,l=i.buttons,h=i.verticalButtons,f=i.cssClass;a.params=i;var d,v,m=void 0;if(a.params.el)m=K(a.params.el);else{var y=["dialog"];0===l.length&&y.push("dialog-no-buttons"),l.length>0&&y.push("dialog-buttons-"+l.length),h&&y.push("dialog-buttons-vertical"),f&&y.push(f);var b="";l.length>0&&(b='\n          <div class="dialog-buttons">\n            '+l.map(function(t){return'\n              <span class="dialog-button'+(t.bold?" dialog-button-bold":"")+(t.color?" color-"+t.color:"")+(t.cssClass?" "+t.cssClass:"")+'">'+t.text+"</span>\n            "}).join("")+"\n          </div>\n        ");var w='\n        <div class="'+y.join(" ")+'">\n          <div class="dialog-inner">\n            '+(s?'<div class="dialog-title">'+s+"</div>":"")+"\n            "+(u?'<div class="dialog-text">'+u+"</div>":"")+"\n            "+c+"\n          </div>\n          "+b+"\n        </div>\n      ";m=K(w)}if(m&&m.length>0&&m[0].f7Modal)return d=m[0].f7Modal,g()(o,d);if(0===m.length)return v=a.destroy(),g()(o,v);var x=t.root.children(".dialog-backdrop");function E(t){var e=K(this).index(),n=l[e];n.onClick&&n.onClick(a,t),a.params.onClick&&a.params.onClick(a,e),!1!==n.close&&a.close()}0===x.length&&(x=K('<div class="dialog-backdrop"></div>'),t.root.append(x));var C=void 0;function k(t){var e=t.keyCode;l.forEach(function(n,r){n.keyCodes&&n.keyCodes.indexOf(e)>=0&&(N.activeElement&&N.activeElement.blur(),n.onClick&&n.onClick(a,t),a.params.onClick&&a.params.onClick(a,r),!1!==n.close&&a.close())})}function T(t){var e=t.target;0===K(e).closest(a.el).length&&a.params.closeByBackdropClick&&a.backdropEl&&a.backdropEl===e&&a.close()}return l&&l.length>0&&(a.on("open",function(){m.find(".dialog-button").each(function(t,e){l[t].keyCodes&&(C=!0),K(e).on("click",E)}),!C||t.device.ios||t.device.android||t.device.cordova||K(N).on("keydown",k)}),a.on("close",function(){m.find(".dialog-button").each(function(t,e){K(e).off("click",E)}),!C||t.device.ios||t.device.android||t.device.cordova||K(N).off("keydown",k),C=!1})),gt.extend(a,{app:t,$el:m,el:m[0],$backdropEl:x,backdropEl:x[0],type:"dialog",setProgress:function(e,n){return t.progressbar.set(m.find(".progressbar"),e,n),a},setText:function(t){var e=m.find(".dialog-text");return 0===e.length&&(e=K('<div class="dialog-text"></div>'),void 0!==s?e.insertAfter(m.find(".dialog-title")):m.find(".dialog-inner").prepend(e)),e.html(t),a.params.text=t,a},setTitle:function(t){var e=m.find(".dialog-title");return 0===e.length&&(e=K('<div class="dialog-title"></div>'),m.find(".dialog-inner").prepend(e)),e.html(t),a.params.title=t,a}}),a.on("opened",function(){a.params.closeByBackdropClick&&t.on("click",T)}),a.on("close",function(){a.params.closeByBackdropClick&&t.off("click",T)}),m[0].f7Modal=a,a.params.destroyOnClose&&a.once("closed",function(){setTimeout(function(){a.destroy()},0)}),r=a,g()(o,r)}return y()(e,t),e}(me);function we(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.defaultSelector,n=t.constructor,r=t.domProp,i=t.app,o=t.addMethods,a={create:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return i?new(Function.prototype.bind.apply(n,[null].concat([i],I()(e)))):new(Function.prototype.bind.apply(n,[null].concat(I()(e))))},get:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;if(t instanceof n)return t;var i=K(t);return 0!==i.length?i[0][r]:void 0},destroy:function(t){var e=a.get(t);if(e&&e.destroy)return e.destroy()}};return o&&Array.isArray(o)&&o.forEach(function(t){a[t]=function(){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,s=a.get(o);if(s&&s[t])return s[t].apply(s,r)}}),a}function xe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.defaultSelector,n=t.constructor,r=t.app;return gt.extend(we({defaultSelector:e,constructor:n,app:r,domProp:"f7Modal"}),{open:function(t,e){var i=K(t),o=i[0].f7Modal;return o||(o=new n(r,{el:i})),o.open(e)},close:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,i=arguments[1],o=K(t);if(0!==o.length){var a=o[0].f7Modal;return a||(a=new n(r,{el:o})),a.close(i)}}})}var Ee={name:"dialog",params:{dialog:{title:void 0,buttonOk:"OK",buttonCancel:"Cancel",usernamePlaceholder:"Username",passwordPlaceholder:"Password",preloaderTitle:"Loading... ",progressTitle:"Loading... ",closeByBackdropClick:!1,destroyPredefinedDialogs:!0,keyboardActions:!0}},static:{Dialog:_e},create:function(){var t=this,e=t.params.dialog.title||t.name,n=t.params.dialog.destroyPredefinedDialogs,r=t.params.dialog.keyboardActions;t.dialog=gt.extend(xe({app:t,constructor:_e,defaultSelector:".dialog.modal-in"}),{alert:function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];var u=a()(o,3),c=u[0],l=u[1],h=u[2];if(2===o.length&&"function"==typeof o[1]){var f=a()(o,3);c=f[0],h=f[1],l=f[2]}return new _e(t,{title:void 0===l?e:l,text:c,buttons:[{text:t.params.dialog.buttonOk,bold:!0,onClick:h,keyCodes:r?[13,27]:null}],destroyOnClose:n}).open()},prompt:function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];var u=a()(o,4),c=u[0],l=u[1],h=u[2],f=u[3];if("function"==typeof o[1]){var d=a()(o,4);c=d[0],h=d[1],f=d[2],l=d[3]}return new _e(t,{title:void 0===l?e:l,text:c,content:'<div class="dialog-input-field item-input"><div class="item-input-wrap"><input type="text" class="dialog-input"></div></div>',buttons:[{text:t.params.dialog.buttonCancel,keyCodes:r?[27]:null},{text:t.params.dialog.buttonOk,bold:!0,keyCodes:r?[13]:null}],onClick:function(t,e){var n=t.$el.find(".dialog-input").val();0===e&&f&&f(n),1===e&&h&&h(n)},destroyOnClose:n}).open()},confirm:function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];var u=a()(o,4),c=u[0],l=u[1],h=u[2],f=u[3];if("function"==typeof o[1]){var d=a()(o,4);c=d[0],h=d[1],f=d[2],l=d[3]}return new _e(t,{title:void 0===l?e:l,text:c,buttons:[{text:t.params.dialog.buttonCancel,onClick:f,keyCodes:r?[27]:null},{text:t.params.dialog.buttonOk,bold:!0,onClick:h,keyCodes:r?[13]:null}],destroyOnClose:n}).open()},login:function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];var u=a()(o,4),c=u[0],l=u[1],h=u[2],f=u[3];if("function"==typeof o[1]){var d=a()(o,4);c=d[0],h=d[1],f=d[2],l=d[3]}return new _e(t,{title:void 0===l?e:l,text:c,content:'\n              <div class="dialog-input-field dialog-input-double item-input">\n                <div class="item-input-wrap">\n                  <input type="text" name="dialog-username" placeholder="'+t.params.dialog.usernamePlaceholder+'" class="dialog-input">\n                </div>\n              </div>\n              <div class="dialog-input-field dialog-input-double item-input">\n                <div class="item-input-wrap">\n                  <input type="password" name="dialog-password" placeholder="'+t.params.dialog.passwordPlaceholder+'" class="dialog-input">\n                </div>\n              </div>',buttons:[{text:t.params.dialog.buttonCancel,keyCodes:r?[27]:null},{text:t.params.dialog.buttonOk,bold:!0,keyCodes:r?[13]:null}],onClick:function(t,e){var n=t.$el.find('[name="dialog-username"]').val(),r=t.$el.find('[name="dialog-password"]').val();0===e&&f&&f(n,r),1===e&&h&&h(n,r)},destroyOnClose:n}).open()},password:function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];var u=a()(o,4),c=u[0],l=u[1],h=u[2],f=u[3];if("function"==typeof o[1]){var d=a()(o,4);c=d[0],h=d[1],f=d[2],l=d[3]}return new _e(t,{title:void 0===l?e:l,text:c,content:'\n              <div class="dialog-input-field item-input">\n                <div class="item-input-wrap">\n                  <input type="password" name="dialog-password" placeholder="'+t.params.dialog.passwordPlaceholder+'" class="dialog-input">\n                </div>\n              </div>',buttons:[{text:t.params.dialog.buttonCancel,keyCodes:r?[27]:null},{text:t.params.dialog.buttonOk,bold:!0,keyCodes:r?[13]:null}],onClick:function(t,e){var n=t.$el.find('[name="dialog-password"]').val();0===e&&f&&f(n),1===e&&h&&h(n)},destroyOnClose:n}).open()},preloader:function(e){var r="md"!==t.theme?"":gt.mdPreloaderContent;return new _e(t,{title:void 0===e?t.params.dialog.preloaderTitle:e,content:'<div class="preloader">'+r+"</div>",cssClass:"dialog-preloader",destroyOnClose:n}).open()},progress:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=a()(r,3),s=o[0],u=o[1],c=o[2];if(2===r.length){if("number"==typeof r[0]){var l=a()(r,3);u=l[0],c=l[1],s=l[2]}else if("string"==typeof r[0]&&"string"==typeof r[1]){var h=a()(r,3);s=h[0],c=h[1],u=h[2]}}else if(1===r.length&&"number"==typeof r[0]){var f=a()(r,3);u=f[0],s=f[1],c=f[2]}var d=void 0===u,p=new _e(t,{title:void 0===s?t.params.dialog.progressTitle:s,cssClass:"dialog-progress",content:'\n              <div class="progressbar'+(d?"-infinite":"")+(c?" color-"+c:"")+'">\n                '+(d?"":"<span></span>")+"\n              </div>\n            ",destroyOnClose:n});return d||p.setProgress(u),p.open()}})}},Ce=function(t){function e(t,n){var r;_()(this,e);var i=gt.extend({on:{}},t.params.popup,n),o=g()(this,(e.__proto__||p()(e)).call(this,t,i)),a=o;a.params=i;var s,u,c=void 0;if((c=a.params.el?K(a.params.el):K(a.params.content))&&c.length>0&&c[0].f7Modal)return s=c[0].f7Modal,g()(o,s);if(0===c.length)return u=a.destroy(),g()(o,u);var l=void 0;function h(t){var e=t.target;0===K(e).closest(a.el).length&&a.params&&a.params.closeByBackdropClick&&a.params.backdrop&&a.backdropEl&&a.backdropEl===e&&a.close()}return a.params.backdrop&&0===(l=t.root.children(".popup-backdrop")).length&&(l=K('<div class="popup-backdrop"></div>'),t.root.append(l)),gt.extend(a,{app:t,$el:c,el:c[0],$backdropEl:l,backdropEl:l&&l[0],type:"popup"}),a.on("popupOpened",function(){a.params.closeByBackdropClick&&t.on("click",h)}),a.on("popupClose",function(){a.params.closeByBackdropClick&&t.off("click",h)}),c[0].f7Modal=a,r=a,g()(o,r)}return y()(e,t),e}(me),ke={name:"popup",params:{popup:{backdrop:!0,closeByBackdropClick:!0}},static:{Popup:Ce},create:function(){this.popup=xe({app:this,constructor:Ce,defaultSelector:".popup.modal-in"})},clicks:{".popup-open":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.popup.open(e.popup,e.animate)},".popup-close":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.popup.close(e.popup,e.animate)}}},Te=function(t){function e(t,n){var r;_()(this,e);var i=gt.extend({on:{}},n),o=g()(this,(e.__proto__||p()(e)).call(this,t,i)),a=o;a.params=i;var s,u,c=void 0;return(c=a.params.el?K(a.params.el):K(a.params.content))&&c.length>0&&c[0].f7Modal?(s=c[0].f7Modal,g()(o,s)):0===c.length?(u=a.destroy(),g()(o,u)):(gt.extend(a,{app:t,$el:c,el:c[0],type:"loginScreen"}),c[0].f7Modal=a,r=a,g()(o,r))}return y()(e,t),e}(me),Se={name:"loginScreen",static:{LoginScreen:Te},create:function(){this.loginScreen=xe({app:this,constructor:Te,defaultSelector:".login-screen.modal-in"})},clicks:{".login-screen-open":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loginScreen.open(e.loginScreen,e.animate)},".login-screen-close":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loginScreen.close(e.loginScreen,e.animate)}}},Oe=function(t){function e(t,n){var r;_()(this,e);var i=gt.extend({on:{}},t.params.popover,n),o=g()(this,(e.__proto__||p()(e)).call(this,t,i)),s=o;s.params=i;var u,c=void 0;if((c=s.params.el?K(s.params.el):K(s.params.content))&&c.length>0&&c[0].f7Modal)return u=c[0].f7Modal,g()(o,u);var l,h=K(s.params.targetEl).eq(0);if(0===c.length)return l=s.destroy(),g()(o,l);var f=void 0;s.params.backdrop&&0===(f=t.root.children(".popover-backdrop")).length&&(f=K('<div class="popover-backdrop"></div>'),t.root.append(f));var d=void 0;0===c.find(".popover-angle").length?(d=K('<div class="popover-angle"></div>'),c.prepend(d)):d=c.find(".popover-angle");var v=s.open;function m(){s.resize()}function y(t){var e=t.target;0===K(e).closest(s.el).length&&(s.params.closeByBackdropClick&&s.params.backdrop&&s.backdropEl&&s.backdropEl===e?s.close():s.params.closeByOutsideClick&&s.close())}return gt.extend(s,{app:t,$el:c,el:c[0],$targetEl:h,targetEl:h[0],$angleEl:d,angleEl:d[0],$backdropEl:f,backdropEl:f&&f[0],type:"popover",open:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=a()(e,2),i=r[0],o=r[1];if("boolean"==typeof e[0]){var u=a()(e,2);o=u[0],i=u[1]}i&&(s.$targetEl=K(i),s.targetEl=s.$targetEl[0]),v.call(s,o)}}),s.on("popoverOpen",function(){s.resize(),t.on("resize",m),s.on("popoverClose popoverBeforeDestroy",function(){t.off("resize",m)})}),s.on("popoverOpened",function(){(s.params.closeByOutsideClick||s.params.closeByBackdropClick)&&t.on("click",y)}),s.on("popoverClose",function(){(s.params.closeByOutsideClick||s.params.closeByBackdropClick)&&t.off("click",y)}),c[0].f7Modal=s,r=s,g()(o,r)}return y()(e,t),x()(e,[{key:"resize",value:function(){var t=this.app,e=this.$el,n=this.$targetEl,r=this.$angleEl,i=this.params,o=i.targetX,a=i.targetY;e.css({left:"",top:""});var s=[e.width(),e.height()],u=s[0],c=s[1],l=0,h=void 0,f=void 0;"ios"===t.theme?(r.removeClass("on-left on-right on-top on-bottom").css({left:"",top:""}),l=r.width()/2):e.removeClass("popover-on-left popover-on-right popover-on-top popover-on-bottom").css({left:"",top:""});var d=void 0,p=void 0,v=void 0,g=void 0;if(n&&n.length>0){d=n.outerWidth(),p=n.outerHeight();var m=n.offset();v=m.left-t.left,g=m.top-t.top;var y=n.parents(".page");y.length>0&&(g-=y[0].scrollTop)}else void 0!==o&&"undefined"!==a&&(v=o,g=a,d=this.params.targetWidth||0,p=this.params.targetHeight||0);var b=0,_=0,w=0,x="md"===t.theme?"bottom":"top";"md"===t.theme?(c<t.height-g-p?(x="bottom",_=g):c<g?(_=g-c+p,x="top"):(x="bottom",_=g),_<=0?_=8:_+c>=t.height&&(_=t.height-c-8),(b=v+d-u-8)+u>=t.width-8&&(b=v+d-u-8),b<8&&(b=8),"top"===x&&e.addClass("popover-on-top"),"bottom"===x&&e.addClass("popover-on-bottom")):(c+l<g?_=g-c-l:c+l<t.height-g-p?(x="bottom",_=g+p+l):(x="middle",w=_=p/2+g-c/2,_<=0?_=5:_+c>=t.height&&(_=t.height-c-5),w-=_),"top"===x||"bottom"===x?(w=b=d/2+v-u/2,b<5&&(b=5),b+u>t.width&&(b=t.width-u-5),b<0&&(b=0),"top"===x&&r.addClass("on-bottom"),"bottom"===x&&r.addClass("on-top"),h=u/2-l+(w-=b),h=Math.max(Math.min(h,u-2*l-13),13),r.css({left:h+"px"})):"middle"===x&&(b=v-u-l,r.addClass("on-right"),(b<5||b+u>t.width)&&(b<5&&(b=v+d+l),b+u>t.width&&(b=t.width-u-5),r.removeClass("on-right").addClass("on-left")),f=c/2-l+w,f=Math.max(Math.min(f,c-2*l-13),13),r.css({top:f+"px"}))),e.css({top:_+"px",left:b+"px"})}}]),e}(me),Me={name:"popover",params:{popover:{closeByBackdropClick:!0,closeByOutsideClick:!1,backdrop:!0}},static:{Popover:Oe},create:function(){var t=this;t.popover=gt.extend(xe({app:t,constructor:Oe,defaultSelector:".popover.modal-in"}),{open:function(e,n,r){var i=K(e),o=i[0].f7Modal;return o||(o=new Oe(t,{el:i,targetEl:n})),o.open(n,r)}})},clicks:{".popover-open":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.popover.open(e.popover,t,e.animate)},".popover-close":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.popover.close(e.popover,e.animate)}}},Ae=function(t){function e(t,n){var r;_()(this,e);var i=gt.extend({on:{}},t.params.actions,n),o=g()(this,(e.__proto__||p()(e)).call(this,t,i)),a=o;a.params=i;var s=void 0;a.params.buttons&&(s=a.params.buttons,Array.isArray(s[0])||(s=[s])),a.groups=s;var u,c,l=void 0;if(a.params.el?l=K(a.params.el):a.params.content?l=K(a.params.content):a.params.buttons&&(a.params.convertToPopover&&(a.popoverHtml=a.renderPopover()),a.actionsHtml=a.render()),l&&l.length>0&&l[0].f7Modal)return u=l[0].f7Modal,g()(o,u);if(l&&0===l.length&&!a.actionsHtml&&!a.popoverHtml)return c=a.destroy(),g()(o,c);var h=void 0;a.params.backdrop&&0===(h=t.root.children(".actions-backdrop")).length&&(h=K('<div class="actions-backdrop"></div>'),t.root.append(h));var f=a.open,d=a.close,v=void 0;function m(t){var e=void 0,n=void 0;if(K(this).hasClass("item-link")?(e=K(this).parents("li").index(),n=K(this).parents(".list").index()):(e=K(this).index(),n=K(this).parents(".actions-group").index()),void 0!==s){var r=s[n][e];r.onClick&&r.onClick(a,t),a.params.onClick&&a.params.onClick(a,t),!1!==r.close&&a.close()}}function y(t){var e=t.target;0===K(e).closest(a.el).length&&(a.params.closeByBackdropClick&&a.params.backdrop&&a.backdropEl&&a.backdropEl===e?a.close():a.params.closeByOutsideClick&&a.close())}return a.open=function(e){var n=!1,r=a.params,i=r.targetEl,o=r.targetX,s=r.targetY,u=r.targetWidth,c=r.targetHeight;return a.params.convertToPopover&&(i||void 0!==o&&void 0!==s)&&(a.params.forceToPopover||t.device.ios&&t.device.ipad||t.width>=768)&&(n=!0),n&&a.popoverHtml?((v=t.popover.create({content:a.popoverHtml,backdrop:a.params.backdrop,targetEl:i,targetX:o,targetY:s,targetWidth:u,targetHeight:c})).open(e),v.once("popoverOpened",function(){v.$el.find(".item-link").each(function(t,e){K(e).on("click",m)})}),v.once("popoverClosed",function(){v.$el.find(".item-link").each(function(t,e){K(e).off("click",m)}),gt.nextTick(function(){v.destroy(),v=void 0})})):(a.$el=a.actionsHtml?K(a.actionsHtml):a.$el,a.$el[0].f7Modal=a,a.groups&&(a.$el.find(".actions-button").each(function(t,e){K(e).on("click",m)}),a.once("actionsClosed",function(){a.$el.find(".actions-button").each(function(t,e){K(e).off("click",m)})})),a.el=a.$el[0],f.call(a,e)),a},a.close=function(t){return v?v.close(t):d.call(a,t),a},gt.extend(a,{app:t,$el:l,el:l?l[0]:void 0,$backdropEl:h,backdropEl:h&&h[0],type:"actions"}),a.on("opened",function(){(a.params.closeByBackdropClick||a.params.closeByOutsideClick)&&t.on("click",y)}),a.on("close",function(){(a.params.closeByBackdropClick||a.params.closeByOutsideClick)&&t.off("click",y)}),l&&(l[0].f7Modal=a),r=a,g()(o,r)}return y()(e,t),x()(e,[{key:"render",value:function(){if(this.params.render)return this.params.render.call(this,this);var t=this.groups;return('\n      <div class="actions-modal'+(this.params.grid?" actions-grid":"")+'">\n        '+t.map(function(t){return'<div class="actions-group">\n            '+t.map(function(t){var e=["actions-"+(t.label?"label":"button")],n=t.color,r=t.bg,i=t.bold,o=t.disabled,a=t.label,s=t.text,u=t.icon;return n&&e.push("color-"+n),r&&e.push("bg-color-"+r),i&&e.push("actions-button-bold"),o&&e.push("disabled"),a?'<div class="'+e.join(" ")+'">'+s+"</div>":('\n                <div class="'+e.join(" ")+'">\n                  '+(u?'<div class="actions-button-media">'+u+"</div>":"")+'\n                  <div class="actions-button-text">'+s+"</div>\n                </div>").trim()}).join("")+"\n          </div>"}).join("")+"\n      </div>\n    ").trim()}},{key:"renderPopover",value:function(){return this.params.renderPopover?this.params.renderPopover.call(this,this):('\n      <div class="popover popover-from-actions">\n        <div class="popover-inner">\n          '+this.groups.map(function(t){return'\n            <div class="list">\n              <ul>\n                '+t.map(function(t){var e=[],n=t.color,r=t.bg,i=t.bold,o=t.disabled,a=t.label,s=t.text,u=t.icon;return n&&e.push("color-"+n),r&&e.push("bg-color-"+r),i&&e.push("popover-from-actions-bold"),o&&e.push("disabled"),a?(e.push("popover-from-actions-label"),'<li class="'+e.join(" ")+'">'+s+"</li>"):(e.push("item-link"),u?(e.push("item-content"),'\n                      <li>\n                        <a class="'+e.join(" ")+'">\n                          <div class="item-media">\n                            '+u+'\n                          </div>\n                          <div class="item-inner">\n                            <div class="item-title">\n                              '+s+"\n                            </div>\n                          </div>\n                        </a>\n                      </li>\n                    "):(e.push("list-button"),'\n                    <li>\n                      <a href="#" class="list-button '+e.join(" ")+'">'+s+"</a>\n                    </li>\n                  "))}).join("")+"\n              </ul>\n            </div>\n          "}).join("")+"\n        </div>\n      </div>\n    ").trim()}}]),e}(me),Pe={name:"actions",params:{actions:{convertToPopover:!0,forceToPopover:!1,closeByBackdropClick:!0,render:null,renderPopover:null,backdrop:!0}},static:{Actions:Ae},create:function(){this.actions=xe({app:this,constructor:Ae,defaultSelector:".actions-modal.modal-in"})},clicks:{".actions-open":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.actions.open(e.actions,e.animate)},".actions-close":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.actions.close(e.actions,e.animate)}}},Ie=function(t){function e(t,n){var r;_()(this,e);var i=gt.extend({on:{}},t.params.sheet,n),o=g()(this,(e.__proto__||p()(e)).call(this,t,i)),a=o;a.params=i;var s,u,c=void 0;if((c=a.params.el?K(a.params.el):K(a.params.content))&&c.length>0&&c[0].f7Modal)return s=c[0].f7Modal,g()(o,s);if(0===c.length)return u=a.destroy(),g()(o,u);var l=void 0;a.params.backdrop&&0===(l=t.root.children(".sheet-backdrop")).length&&(l=K('<div class="sheet-backdrop"></div>'),t.root.append(l));var h=void 0;function f(t){var e=t.target;0===K(e).closest(a.el).length&&(a.params.closeByBackdropClick&&a.params.backdrop&&a.backdropEl&&a.backdropEl===e?a.close():a.params.closeByOutsideClick&&a.close())}return a.on("sheetOpen",function(){a.params.scrollToEl&&function(){var t=K(a.params.scrollToEl).eq(0);if(0!==t.length&&0!==(h=t.parents(".page-content")).length){var e=parseInt(h.css("padding-top"),10),n=parseInt(h.css("padding-bottom"),10),r=h[0].offsetHeight-e-c.height(),i=h[0].scrollHeight-e-c.height(),o=h.scrollTop(),s=void 0,u=t.offset().top-e+t[0].offsetHeight;if(u>r){var l=o+u-r;l+r>i&&(s=l+r-i+n,r===i&&(s=c.height()),h.css({"padding-bottom":s+"px"})),h.scrollTop(l,300)}}}()}),a.on("sheetOpened",function(){(a.params.closeByOutsideClick||a.params.closeByBackdropClick)&&t.on("click",f)}),a.on("sheetClose",function(){a.params.scrollToEl&&h&&h.length>0&&h.css({"padding-bottom":""}),(a.params.closeByOutsideClick||a.params.closeByBackdropClick)&&t.off("click",f)}),gt.extend(a,{app:t,$el:c,el:c[0],$backdropEl:l,backdropEl:l&&l[0],type:"sheet"}),c[0].f7Modal=a,r=a,g()(o,r)}return y()(e,t),e}(me),Ne={name:"sheet",params:{sheet:{closeByBackdropClick:!0,closeByOutsideClick:!1}},static:{Sheet:Ie},create:function(){this.passedParams.sheet&&void 0!==this.passedParams.sheet.backdrop||(this.params.sheet.backdrop="md"===this.theme),this.sheet=gt.extend({},xe({app:this,constructor:Ie,defaultSelector:".sheet-modal.modal-in"}))},clicks:{".sheet-open":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};K(".sheet-modal.modal-in").length>0&&e.sheet&&K(e.sheet)[0]!==K(".sheet-modal.modal-in")[0]&&this.sheet.close(".sheet-modal.modal-in"),this.sheet.open(e.sheet,e.animate)},".sheet-close":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.sheet.close(e.sheet,e.animate)}}},De=function(t){function e(t,n){var r;_()(this,e);var i=gt.extend({on:{}},t.params.toast,n),o=g()(this,(e.__proto__||p()(e)).call(this,t,i)),a=o;a.app=t,a.params=i;var s,u,c=a.params,l=c.closeButton,h=c.closeTimeout,f=void 0;if(a.params.el)f=K(a.params.el);else{var d=a.render();f=K(d)}if(f&&f.length>0&&f[0].f7Modal)return s=f[0].f7Modal,g()(o,s);if(0===f.length)return u=a.destroy(),g()(o,u);gt.extend(a,{$el:f,el:f[0],type:"toast"}),f[0].f7Modal=a,l&&(f.find(".toast-button").on("click",function(){a.emit("local::closeButtonClick toastCloseButtonClick",a),a.close()}),a.on("beforeDestroy",function(){f.find(".toast-button").off("click")}));var v=void 0;return a.on("open",function(){K(".toast.modal-in").each(function(e,n){var r=t.toast.get(n);n!==a.el&&r&&r.close()}),h&&(v=gt.nextTick(function(){a.close()},h))}),a.on("close",function(){D.clearTimeout(v)}),a.params.destroyOnClose&&a.once("closed",function(){setTimeout(function(){a.destroy()},0)}),r=a,g()(o,r)}return y()(e,t),x()(e,[{key:"render",value:function(){var t=this.app;if(this.params.render)return this.params.render.call(this,this);var e=this.params,n=e.position,r=e.cssClass,i=e.icon,o=e.text,a=e.closeButton,s=e.closeButtonColor,u=e.closeButtonText;return('\n      <div class="toast toast-'+n+" "+(r||"")+" "+(i?"toast-with-icon":"")+'">\n        <div class="toast-content">\n          '+(i?'<div class="toast-icon">'+i+"</div>":"")+'\n          <div class="toast-text">'+o+"</div>\n          "+(a&&!i?('\n          <a class="toast-button '+("md"===t.theme?"button":"link")+" "+(s?"color-"+s:"")+'">'+u+"</a>\n          ").trim():"")+"\n        </div>\n      </div>\n    ").trim()}}]),e}(me),Re={name:"toast",static:{Toast:De},create:function(){var t=this;t.toast=gt.extend({},xe({app:t,constructor:De,defaultSelector:".toast.modal-in"}),{show:function(e){return gt.extend(e,{destroyOnClose:!0}),new De(t,e).open()}})},params:{toast:{icon:null,text:null,position:"bottom",closeButton:!1,closeButtonColor:null,closeButtonText:"Ok",closeTimeout:null,cssClass:null,render:null}}},je={init:function(t){if("md"===this.theme){var e=K(t);0===e.length||e.children(".preloader-inner").length>0||e.append(gt.mdPreloaderContent)}},visible:!1,show:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"white";if(!je.visible){var e="md"!==this.theme?"":gt.mdPreloaderContent;K("html").addClass("with-modal-preloader"),this.root.append('\n      <div class="preloader-backdrop"></div>\n      <div class="preloader-modal">\n        <div class="preloader color-'+t+'">'+e+"</div>\n      </div>\n    "),je.visible=!0}},hide:function(){je.visible&&(K("html").removeClass("with-modal-preloader"),this.root.find(".preloader-backdrop, .preloader-modal").remove(),je.visible=!1)}},Le={name:"preloader",create:function(){gt.extend(this,{preloader:{init:je.init.bind(this),show:je.show.bind(this),hide:je.hide.bind(this)}})},on:{photoBrowserOpen:function(t){var e=this;"md"===e.theme&&t.$el.find(".preloader").each(function(t,n){e.preloader.init(n)})},pageInit:function(t){var e=this;"md"===e.theme&&t.$el.find(".preloader").each(function(t,n){e.preloader.init(n)})}}},Fe={set:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=a()(e,3),i=r[0],o=r[1],s=r[2];if("number"==typeof e[0]){var u=a()(e,2);o=u[0],s=u[1],i=this.root}if(void 0===o||null===o)return i;o||(o=0);var c=K(i||this.root);if(0===c.length)return i;var l=Math.min(Math.max(o,0),100),h=void 0;if(0===(h=c.hasClass("progressbar")?c.eq(0):c.children(".progressbar")).length||h.hasClass("progressbar-infinite"))return h;var f=h.children("span");return 0===f.length&&(f=K("<span></span>"),h.append(f)),f.transition(void 0!==s?s:"").transform("translate3d("+(-100+l)+"%,0,0)"),h[0]},show:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=a()(e,3),i=r[0],o=r[1],s=r[2],u="determined";if(2===e.length)if("string"!=typeof e[0]&&"object"!==T()(e[0])||"string"!=typeof e[1]){if("number"==typeof e[0]&&"string"==typeof e[1]){var c=a()(e,2);o=c[0],s=c[1],i=this.root}}else{var l=a()(e,3);i=l[0],s=l[1],o=l[2],u="infinite"}else 1===e.length?"number"==typeof e[0]?(i=this.root,o=e[0]):"string"==typeof e[0]&&(u="infinite",i=this.root,s=e[0]):0===e.length&&(u="infinite",i=this.root);var h=K(i);if(0!==h.length){var f=void 0;return h.hasClass("progressbar")||h.hasClass("progressbar-infinite")?f=h:0===(f=h.children(".progressbar:not(.progressbar-out), .progressbar-infinite:not(.progressbar-out)")).length&&(f=K('\n          <span class="progressbar'+("infinite"===u?"-infinite":"")+(s?" color-"+s:"")+' progressbar-in">\n            '+("infinite"===u?"":"<span></span>")+"\n          </span>"),h.append(f)),void 0!==o&&this.progressbar.set(f,o),f[0]}},hide:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=K(t||this.root);if(0!==n.length){var r=void 0;return 0===(r=n.hasClass("progressbar")||n.hasClass("progressbar-infinite")?n:n.children(".progressbar, .progressbar-infinite")).length||!r.hasClass("progressbar-in")||r.hasClass("progressbar-out")?r:(r.removeClass("progressbar-in").addClass("progressbar-out").animationEnd(function(){e&&r.remove()}),r)}}},Be={name:"progressbar",create:function(){gt.extend(this,{progressbar:{set:Fe.set.bind(this),show:Fe.show.bind(this),hide:Fe.hide.bind(this)}})},on:{pageInit:function(t){var e=this;t.$el.find(".progressbar").each(function(t,n){var r=K(n);e.progressbar.set(r,r.attr("data-progress"))})}}},$e={init:function(){var t=this,e=void 0,n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,h=void 0,f=void 0,d=void 0,p=void 0,v=void 0,g=void 0,m=void 0,y=void 0,b=void 0,_=void 0;var w=!!t.support.passiveListener&&{passive:!1,capture:!1};K(N).on(t.touchEvents.start,".list.sortable .sortable-handler",function(i){n=!1,e=!0,r="touchstart"===i.type?i.targetTouches[0].pageY:i.pageY,o=K(this).parent("li"),d=o.index(),s=o.parents(".sortable");var u=o.parents(".list-group");u.length&&u.parents(s).length&&(s=u),a=s.children("ul").children("li"),t.panel&&(t.panel.allowOpen=!1),t.swipeout&&(t.swipeout.allow=!1)},w),t.on("touchmove:active",function(t){if(e&&o){var d="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY;if(!n){p=o.parents(".page"),v=o.parents(".page-content");var w=parseInt(v.css("padding-top"),10),x=parseInt(v.css("padding-bottom"),10);_=v[0].scrollTop,m=p.offset().top+w,g=p.height()-w-x,o.addClass("sorting"),s.addClass("sortable-sorting"),y=o[0].offsetTop,c=o[0].offsetTop,l=o.parent().height()-y-o.height(),u=o[0].offsetHeight,b=o.offset().top}n=!0,t.preventDefault(),t.f7PreventSwipePanel=!0,i=d-r;var E=v[0].scrollTop-_,C=Math.min(Math.max(i+E,-c),l);o.transform("translate3d(0,"+C+"px,0)");var k=!0;i+E+44<-c&&(k=!1),i+E-44>l&&(k=!1),f=void 0,h=void 0;var T=void 0;k&&(b+i+u+44>m+g&&(T=b+i+u+44-(m+g)),b+i<m+44&&(T=b+i-m-44),T&&(v[0].scrollTop+=T)),a.each(function(t,e){var n=K(e);if(n[0]!==o[0]){var r=n[0].offsetTop,i=n.height(),a=y+C;a>=r-i/2&&o.index()<n.index()?(n.transform("translate3d(0, "+-u+"px,0)"),h=n,f=void 0):a<=r+i/2&&o.index()>n.index()?(n.transform("translate3d(0, "+u+"px,0)"),h=void 0,f||(f=n)):n.transform("translate3d(0, 0%,0)")}})}}),t.on("touchend:passive",function(){if(!e||!n)return n=!1,void((e=!1)&&!n&&(t.panel&&(t.panel.allowOpen=!0),t.swipeout&&(t.swipeout.allow=!0)));t.panel&&(t.panel.allowOpen=!0),t.swipeout&&(t.swipeout.allow=!0),a.transform(""),o.removeClass("sorting"),s.removeClass("sortable-sorting");var r=void 0,i=void 0,u=void 0;t.params.sortable.moveElements&&(h&&o.insertAfter(h),f&&o.insertBefore(f)),(h||f)&&s.hasClass("virtual-list")&&(r=s[0].f7VirtualList,i=o[0].f7VirtualListIndex,u=f?f[0].f7VirtualListIndex:h[0].f7VirtualListIndex,r&&r.moveItem(i,u)),o.trigger("sortable:sort",{from:d,to:o.index()}),t.emit("sortableSort",o[0],{from:d,to:o.index()}),f=void 0,h=void 0,e=!1,n=!1})},enable:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".list.sortable",e=K(t);0!==e.length&&(e.addClass("sortable-enabled"),e.trigger("sortable:enable"),this.emit("sortableEnable",e[0]))},disable:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".list.sortable",e=K(t);0!==e.length&&(e.removeClass("sortable-enabled"),e.trigger("sortable:disable"),this.emit("sortableDisable",e[0]))},toggle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".list.sortable",e=K(t);0!==e.length&&(e.hasClass("sortable-enabled")?this.sortable.disable(e):this.sortable.enable(e))}},Ue={name:"sortable",params:{sortable:{moveElements:!0}},create:function(){gt.extend(this,{sortable:{init:$e.init.bind(this),enable:$e.enable.bind(this),disable:$e.disable.bind(this),toggle:$e.toggle.bind(this)}})},on:{init:function(){this.params.sortable&&this.sortable.init()}},clicks:{".sortable-enable":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.sortable.enable(e.sortable)},".sortable-disable":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.sortable.disable(e.sortable)},".sortable-toggle":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.sortable.toggle(e.sortable)}}},ze={init:function(){var t=this,e={},n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,h=void 0,f=void 0,d=void 0,p=void 0,v=void 0,g=void 0,m=void 0,y=void 0,b=void 0,_=void 0,w=void 0,x=void 0;var E=!!t.support.passiveListener&&{passive:!0};t.on("touchstart",function(e){if(ze.el){var n=K(e.target);K(ze.el).is(n[0])||n.parents(".swipeout").is(ze.el)||n.hasClass("modal-in")||(n.attr("class")||"").indexOf("-backdrop")>0||n.hasClass("actions-modal")||n.parents(".actions-modal.modal-in, .dialog.modal-in").length>0||t.swipeout.close(ze.el)}}),K(N).on(t.touchEvents.start,"li.swipeout",function(t){ze.allow&&(r=!1,n=!0,i=void 0,e.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,e.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,o=(new Date).getTime(),s=K(this))},E),t.on("touchmove:active",function(o){if(n){var E="touchmove"===o.type?o.targetTouches[0].pageX:o.pageX,C="touchmove"===o.type?o.targetTouches[0].pageY:o.pageY;if(void 0===i&&(i=!!(i||Math.abs(C-e.y)>Math.abs(E-e.x))),i)n=!1;else{if(!r){if(K(".list.sortable-opened").length>0)return;u=s.find(".swipeout-content"),c=s.find(".swipeout-actions-right"),l=s.find(".swipeout-actions-left"),h=null,f=null,g=null,m=null,_=null,b=null,l.length>0&&(h=l.outerWidth(),g=l.children("a"),b=l.find(".swipeout-overswipe")),c.length>0&&(f=c.outerWidth(),m=c.children("a"),_=c.find(".swipeout-overswipe")),(p=s.hasClass("swipeout-opened"))&&(v=s.find(".swipeout-actions-left.swipeout-actions-opened").length>0?"left":"right"),s.removeClass("swipeout-transitioning"),t.params.swipeout.noFollow||(s.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),s.removeClass("swipeout-opened"))}if(r=!0,o.preventDefault(),a=E-e.x,d=a,p&&("right"===v?d-=f:d+=h),d>0&&0===l.length||d<0&&0===c.length){if(!p)return n=!1,r=!1,u.transform(""),m&&m.length>0&&m.transform(""),void(g&&g.length>0&&g.transform(""));d=0}d<0?y="to-left":d>0?y="to-right":y||(y="to-left");var k=void 0,T=void 0;if(o.f7PreventSwipePanel=!0,t.params.swipeout.noFollow)return p?("right"===v&&a>0&&t.swipeout.close(s),"left"===v&&a<0&&t.swipeout.close(s)):(a<0&&c.length>0&&t.swipeout.open(s,"right"),a>0&&l.length>0&&t.swipeout.open(s,"left")),n=!1,void(r=!1);if(w=!1,x=!1,c.length>0){var S=d;T=S/f,S<-f&&(S=-f-Math.pow(-S-f,.8),d=S,_.length>0&&(x=!0)),"to-left"!==y&&(T=0,S=0),m.each(function(t,e){var n=K(e);void 0===e.f7SwipeoutButtonOffset&&(n[0].f7SwipeoutButtonOffset=e.offsetLeft),k=e.f7SwipeoutButtonOffset,_.length>0&&n.hasClass("swipeout-overswipe")&&"to-left"===y&&(n.css({left:(x?-k:0)+"px"}),x?n.addClass("swipeout-overswipe-active"):n.removeClass("swipeout-overswipe-active")),n.transform("translate3d("+(S-k*(1+Math.max(T,-1)))+"px,0,0)")})}if(l.length>0){var O=d;T=O/h,O>h&&(O=h+Math.pow(O-h,.8),d=O,b.length>0&&(w=!0)),"to-right"!==y&&(O=0,T=0),g.each(function(t,e){var n=K(e);void 0===e.f7SwipeoutButtonOffset&&(n[0].f7SwipeoutButtonOffset=h-e.offsetLeft-e.offsetWidth),k=e.f7SwipeoutButtonOffset,b.length>0&&n.hasClass("swipeout-overswipe")&&"to-right"===y&&(n.css({left:(w?k:0)+"px"}),w?n.addClass("swipeout-overswipe-active"):n.removeClass("swipeout-overswipe-active")),g.length>1&&n.css("z-index",g.length-t),n.transform("translate3d("+(O+k*(1-Math.min(T,1)))+"px,0,0)")})}s.trigger("swipeout",T),t.emit("swipeout",s[0],T),u.transform("translate3d("+d+"px,0,0)")}}}),t.on("touchend:passive",function(){if(!n||!r)return n=!1,void(r=!1);n=!1,r=!1;var e=(new Date).getTime()-o,i="to-left"===y?c:l,v="to-left"===y?f:h,b=void 0,_=void 0,E=void 0;if(b=e<300&&(a<-10&&"to-left"===y||a>10&&"to-right"===y)||e>=300&&Math.abs(d)>v/2?"open":"close",e<300&&(0===Math.abs(d)&&(b="close"),Math.abs(d)===v&&(b="open")),"open"===b){ze.el=s[0],s.trigger("swipeout:open"),t.emit("swipeoutOpen",s[0]),s.addClass("swipeout-opened swipeout-transitioning");var C="to-left"===y?-v:v;if(u.transform("translate3d("+C+"px,0,0)"),i.addClass("swipeout-actions-opened"),_="to-left"===y?m:g)for(E=0;E<_.length;E+=1)K(_[E]).transform("translate3d("+C+"px,0,0)");x&&c.find(".swipeout-overswipe")[0].click(),w&&l.find(".swipeout-overswipe")[0].click()}else s.trigger("swipeout:close"),t.emit("swipeoutClose",s[0]),ze.el=void 0,s.addClass("swipeout-transitioning").removeClass("swipeout-opened"),u.transform(""),i.removeClass("swipeout-actions-opened");var k=void 0;g&&g.length>0&&g!==_&&g.each(function(t,e){var n=K(e);void 0===(k=e.f7SwipeoutButtonOffset)&&(n[0].f7SwipeoutButtonOffset=h-e.offsetLeft-e.offsetWidth),n.transform("translate3d("+k+"px,0,0)")}),m&&m.length>0&&m!==_&&m.each(function(t,e){var n=K(e);void 0===(k=e.f7SwipeoutButtonOffset)&&(n[0].f7SwipeoutButtonOffset=e.offsetLeft),n.transform("translate3d("+-k+"px,0,0)")}),u.transitionEnd(function(){p&&"open"===b||!p&&"close"===b||(s.trigger("open"===b?"swipeout:opened":"swipeout:closed"),t.emit("open"===b?"swipeoutOpened":"swipeoutClosed",s[0]),s.removeClass("swipeout-transitioning"),p&&"close"===b&&(c.length>0&&m.transform(""),l.length>0&&g.transform("")))})})},allow:!0,el:void 0,open:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=a()(n,3),o=i[0],s=i[1],u=i[2];if("function"==typeof n[1]){var c=a()(n,3);o=c[0],u=c[1],s=c[2]}var l=K(o).eq(0);if(0!==l.length&&l.hasClass("swipeout")&&!l.hasClass("swipeout-opened")){s||(s=l.find(".swipeout-actions-right").length>0?"right":"left");var h=l.find(".swipeout-actions-"+s),f=l.find(".swipeout-content");if(0!==h.length){l.trigger("swipeout:open").addClass("swipeout-opened").removeClass("swipeout-transitioning"),t.emit("swipeoutOpen",l[0]),h.addClass("swipeout-actions-opened");var d=h.children("a"),p=h.outerWidth(),v="right"===s?-p:p;d.length>1&&d.each(function(t,e){var n=K(e);"right"===s?n.transform("translate3d("+-e.offsetLeft+"px,0,0)"):n.css("z-index",d.length-t).transform("translate3d("+(p-e.offsetWidth-e.offsetLeft)+"px,0,0)")}),l.addClass("swipeout-transitioning"),f.transitionEnd(function(){l.trigger("swipeout:opened"),t.emit("swipeoutOpened",l[0]),u&&u.call(l[0])}),gt.nextFrame(function(){d.transform("translate3d("+v+"px,0,0)"),f.transform("translate3d("+v+"px,0,0)")}),ze.el=l[0]}}},close:function(t,e){var n=this,r=K(t).eq(0);if(0!==r.length&&r.hasClass("swipeout-opened")){var i=r.find(".swipeout-actions-opened").hasClass("swipeout-actions-right")?"right":"left",o=r.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),a=o.children("a"),s=o.outerWidth();ze.allow=!1,r.trigger("swipeout:close"),n.emit("swipeoutClose",r[0]),r.removeClass("swipeout-opened").addClass("swipeout-transitioning");var u=void 0;r.find(".swipeout-content").transform("").transitionEnd(c),u=setTimeout(c,500),a.each(function(t,e){var n=K(e);"right"===i?n.transform("translate3d("+-e.offsetLeft+"px,0,0)"):n.transform("translate3d("+(s-e.offsetWidth-e.offsetLeft)+"px,0,0)"),n.css({left:"0px"}).removeClass("swipeout-overswipe-active")}),ze.el&&ze.el===r[0]&&(ze.el=void 0)}function c(){ze.allow=!0,r.hasClass("swipeout-opened")||(r.removeClass("swipeout-transitioning"),a.transform(""),r.trigger("swipeout:closed"),n.emit("swipeoutClosed",r[0]),e&&e.call(r[0]),u&&clearTimeout(u))}},delete:function(t,e){var n=this,r=K(t).eq(0);0!==r.length&&(ze.el=void 0,r.trigger("swipeout:delete"),n.emit("swipeoutDelete",r[0]),r.css({height:r.outerHeight()+"px"}),r.transitionEnd(function(){if(r.trigger("swipeout:deleted"),n.emit("swipeoutDeleted",r[0]),e&&e.call(r[0]),r.parents(".virtual-list").length>0){var t=r.parents(".virtual-list")[0].f7VirtualList,i=r[0].f7VirtualListIndex;t&&void 0!==i&&t.deleteItem(i)}else n.params.swipeout.removeElements?n.params.swipeout.removeElementsWithTimeout?setTimeout(function(){r.remove()},n.params.swipeout.removeElementsTimeout):r.remove():r.removeClass("swipeout-deleting swipeout-transitioning")}),r[0]._clientLeft=r[0].clientLeft,r.addClass("swipeout-deleting swipeout-transitioning").css({height:"0px"}).find(".swipeout-content").transform("translate3d(-100%,0,0)"))}},qe={name:"swipeout",params:{swipeout:{actionsNoFold:!1,noFollow:!1,removeElements:!0,removeElementsWithTimeout:!1,removeElementsTimeout:0}},create:function(){gt.extend(this,{swipeout:{init:ze.init.bind(this),open:ze.open.bind(this),close:ze.close.bind(this),delete:ze.delete.bind(this)}}),Object.defineProperty(this.swipeout,"el",{enumerable:!0,configurable:!0,get:function(){return ze.el},set:function(t){ze.el=t}}),Object.defineProperty(this.swipeout,"allow",{enumerable:!0,configurable:!0,get:function(){return ze.allow},set:function(t){ze.allow=t}})},clicks:{".swipeout-open":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.swipeout.open(e.swipeout,e.side)},".swipeout-close":function(t){var e=t.closest(".swipeout");0!==e.length&&this.swipeout.close(e)},".swipeout-delete":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this,r=t.closest(".swipeout");if(0!==r.length){var i=e.confirm,o=e.confirmTitle;e.confirm?n.dialog.confirm(i,o,function(){n.swipeout.delete(r)}):n.swipeout.delete(r)}}},on:{init:function(){this.params.swipeout&&this.swipeout.init()}}},Ve={toggleClicked:function(t){var e=t.closest(".accordion-item").eq(0);e.length||(e=t.parents("li").eq(0)),t.parents("li").length>1&&t.parents("li")[0]!==e[0]||this.accordion.toggle(e)},open:function(t){var e=this,n=K(t),r=n.parents(".accordion-list").eq(0),i=n.children(".accordion-item-content");if(0===i.length&&(i=n.find(".accordion-item-content")),0!==i.length){var o=r.length>0&&n.parent().children(".accordion-item-opened");o.length>0&&e.accordion.close(o),i.transitionEnd(function(){n.hasClass("accordion-item-opened")?(i.transition(0),i.css("height","auto"),i._clientLeft=i[0].clientLeft,i.transition(""),n.trigger("accordion:opened"),e.emit("accordionOpened",n[0])):(i.css("height",""),n.trigger("accordion:closed"),e.emit("accordionClosed",n[0]))}),i.css("height",i[0].scrollHeight+"px"),n.trigger("accordion:open"),n.addClass("accordion-item-opened"),e.emit("accordionOpen",n[0])}},close:function(t){var e=this,n=K(t),r=n.children(".accordion-item-content");0===r.length&&(r=n.find(".accordion-item-content")),n.removeClass("accordion-item-opened"),r.transition(0),r.css("height",r[0].scrollHeight+"px"),r._clientLeft=r[0].clientLeft,r.transition(""),r.transitionEnd(function(){n.hasClass("accordion-item-opened")?(r.transition(0),r.css("height","auto"),r._clientLeft=r[0].clientLeft,r.transition(""),n.trigger("accordion:opened"),e.emit("accordionOpened",n[0])):(r.css("height",""),n.trigger("accordion:closed"),e.emit("accordionClosed",n[0]))}),gt.nextFrame(function(){r.transition(""),r.css("height",""),n.trigger("accordion:close"),e.emit("accordionClose")})},toggle:function(t){var e=K(t);0!==e.length&&(e.hasClass("accordion-item-opened")?this.accordion.close(t):this.accordion.open(t))}},He={name:"accordion",create:function(){gt.extend(this,{accordion:{open:Ve.open.bind(this),close:Ve.close.bind(this),toggle:Ve.toggle.bind(this)}})},clicks:{".accordion-item .item-link, .accordion-item-toggle, .links-list.accordion-list > ul > li > a":function(t){Ve.toggleClicked.call(this,t)}}},We=function(t){function e(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_()(this,e);var o=g()(this,(e.__proto__||p()(e)).call(this,i,[t])),a=o,s={cols:1,height:"md"===t.theme?48:44,cache:!0,dynamicHeightBufferSize:1,showFilteredItemsOnly:!1,renderExternal:void 0,setListHeight:!0,searchByItem:void 0,searchAll:void 0,itemTemplate:void 0,ul:null,createUl:!0,renderItem:function(t){return('\n          <li>\n            <div class="item-content">\n              <div class="item-inner">\n                <div class="item-title">'+t+"</div>\n              </div>\n            </div>\n          </li>\n        ").trim()},on:{}};if(a.useModulesParams(s),a.params=gt.extend(s,i),void 0!==a.params.height&&a.params.height||(a.params.height="md"===t.theme?48:44),a.$el=K(i.el),a.el=a.$el[0],0===a.$el.length)return n=void 0,g()(o,n);a.$el[0].f7VirtualList=a,a.items=a.params.items,a.params.showFilteredItemsOnly&&(a.filteredItems=[]),a.params.itemTemplate?"string"==typeof a.params.itemTemplate?a.renderItem=Y.a.compile(a.params.itemTemplate):"function"==typeof a.params.itemTemplate&&(a.renderItem=a.params.itemTemplate):a.params.renderItem&&(a.renderItem=a.params.renderItem),a.$pageContentEl=a.$el.parents(".page-content"),a.pageContentEl=a.$pageContentEl[0],void 0!==a.params.updatableScroll?a.updatableScroll=a.params.updatableScroll:(a.updatableScroll=!0,mt.ios&&mt.osVersion.split(".")[0]<8&&(a.updatableScroll=!1));var u=a.params.ul;a.$ul=u?K(a.params.ul):a.$el.children("ul"),0===a.$ul.length&&a.params.createUl&&(a.$el.append("<ul></ul>"),a.$ul=a.$el.children("ul")),a.ul=a.$ul[0];var c=void 0;c=a.ul||a.params.createUl?a.$ul:a.$el,gt.extend(a,{$itemsWrapEl:c,itemsWrapEl:c[0],domCache:{},displayDomCache:{},tempDomElement:N.createElement("ul"),lastRepaintY:null,fragment:N.createDocumentFragment(),pageHeight:void 0,rowsPerScreen:void 0,rowsBefore:void 0,rowsAfter:void 0,rowsToRender:void 0,maxBufferHeight:0,listHeight:void 0,dynamicHeight:"function"==typeof a.params.height}),a.useModules();var l=a.handleScroll.bind(a),h=a.handleResize.bind(a),f=void 0,d=void 0,v=void 0,m=void 0;return a.attachEvents=function(){f=a.$el.parents(".page").eq(0),d=a.$el.parents(".tab").eq(0),v=a.$el.parents(".panel").eq(0),m=a.$el.parents(".popup").eq(0),a.$pageContentEl.on("scroll",l),f&&f.on("page:reinit",h),d&&d.on("tab:show",h),v&&v.on("panel:open",h),m&&m.on("popup:open",h),t.on("resize",h)},a.detachEvents=function(){a.$pageContentEl.off("scroll",l),f&&f.off("page:reinit",h),d&&d.off("tab:show",h),v&&v.off("panel:open",h),m&&m.off("popup:open",h),t.off("resize",h)},a.init(),r=a,g()(o,r)}return y()(e,t),x()(e,[{key:"setListSize",value:function(){var t=this,e=t.filteredItems||t.items;if(t.pageHeight=t.$pageContentEl[0].offsetHeight,t.dynamicHeight){t.listHeight=0,t.heights=[];for(var n=0;n<e.length;n+=1){var r=t.params.height(e[n]);t.listHeight+=r,t.heights.push(r)}}else t.listHeight=Math.ceil(e.length/t.params.cols)*t.params.height,t.rowsPerScreen=Math.ceil(t.pageHeight/t.params.height),t.rowsBefore=t.params.rowsBefore||2*t.rowsPerScreen,t.rowsAfter=t.params.rowsAfter||t.rowsPerScreen,t.rowsToRender=t.rowsPerScreen+t.rowsBefore+t.rowsAfter,t.maxBufferHeight=t.rowsBefore/2*t.params.height;(t.updatableScroll||t.params.setListHeight)&&t.$itemsWrapEl.css({height:t.listHeight+"px"})}},{key:"render",value:function(t,e){var n=this;t&&(n.lastRepaintY=null);var r=-(n.$el[0].getBoundingClientRect().top-n.$pageContentEl[0].getBoundingClientRect().top);if(void 0!==e&&(r=e),null===n.lastRepaintY||Math.abs(r-n.lastRepaintY)>n.maxBufferHeight||!n.updatableScroll&&n.$pageContentEl[0].scrollTop+n.pageHeight>=n.$pageContentEl[0].scrollHeight){n.lastRepaintY=r;var i=n.filteredItems||n.items,o=void 0,a=void 0,s=0,u=0;if(n.dynamicHeight){var c=0,l=void 0;n.maxBufferHeight=n.pageHeight;for(var h=0;h<n.heights.length;h+=1)l=n.heights[h],void 0===o&&(c+l>=r-2*n.pageHeight*n.params.dynamicHeightBufferSize?o=h:s+=l),void 0===a&&((c+l>=r+2*n.pageHeight*n.params.dynamicHeightBufferSize||h===n.heights.length-1)&&(a=h+1),u+=l),c+=l;a=Math.min(a,i.length)}else(o=(parseInt(r/n.params.height,10)-n.rowsBefore)*n.params.cols)<0&&(o=0),a=Math.min(o+n.rowsToRender*n.params.cols,i.length);var f=void 0,d=[];n.reachEnd=!1;var p=void 0;for(p=o;p<a;p+=1){var v=void 0,g=n.items.indexOf(i[p]);p===o&&(n.currentFromIndex=g),p===a-1&&(n.currentToIndex=g),n.filteredItems?n.items[g]===n.filteredItems[n.filteredItems.length-1]&&(n.reachEnd=!0):g===n.items.length-1&&(n.reachEnd=!0),n.params.renderExternal?d.push(i[p]):n.domCache[g]?(v=n.domCache[g]).f7VirtualListIndex=g:(n.renderItem?n.tempDomElement.innerHTML=n.renderItem(i[p],g).trim():n.tempDomElement.innerHTML=i[p].toString().trim(),v=n.tempDomElement.childNodes[0],n.params.cache&&(n.domCache[g]=v),v.f7VirtualListIndex=g),p===o&&(f=n.dynamicHeight?s:p*n.params.height/n.params.cols),n.params.renderExternal||(v.style.top=f+"px",n.emit("local::itemBeforeInsert vlItemBeforeInsert",n,v,i[p]),n.fragment.appendChild(v))}n.updatableScroll||(n.dynamicHeight?n.itemsWrapEl.style.height=u+"px":n.itemsWrapEl.style.height=p*n.params.height/n.params.cols+"px"),n.params.renderExternal?i&&0===i.length&&(n.reachEnd=!0):(n.emit("local::beforeClear vlBeforeClear",n,n.fragment),n.itemsWrapEl.innerHTML="",n.emit("local::itemsBeforeInsert vlItemsBeforeInsert",n,n.fragment),i&&0===i.length?(n.reachEnd=!0,n.params.emptyTemplate&&(n.itemsWrapEl.innerHTML=n.params.emptyTemplate)):n.itemsWrapEl.appendChild(n.fragment),n.emit("local::itemsAfterInsert vlItemsAfterInsert",n,n.fragment)),void 0!==e&&t&&n.$pageContentEl.scrollTop(e,0),n.params.renderExternal&&n.params.renderExternal(n,{fromIndex:o,toIndex:a,listHeight:n.listHeight,topPosition:f,items:d})}}},{key:"filterItems",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;n.filteredItems=[];for(var r=0;r<t.length;r+=1)n.filteredItems.push(n.items[t[r]]);e&&(n.$pageContentEl[0].scrollTop=0),n.update()}},{key:"resetFilter",value:function(){var t=this;t.params.showFilteredItemsOnly?t.filteredItems=[]:(t.filteredItems=null,delete t.filteredItems),t.update()}},{key:"scrollToItem",value:function(t){var e=this;if(t>e.items.length)return!1;var n=0;if(e.dynamicHeight)for(var r=0;r<t;r+=1)n+=e.heights[r];else n=t*e.params.height;var i=e.$el[0].offsetTop;return e.render(!0,i+n-parseInt(e.$pageContentEl.css("padding-top"),10)),!0}},{key:"handleScroll",value:function(){this.render()}},{key:"isVisible",value:function(){return!!(this.el.offsetWidth||this.el.offsetHeight||this.el.getClientRects().length)}},{key:"handleResize",value:function(){this.isVisible()&&(this.setListSize(),this.render(!0))}},{key:"appendItems",value:function(t){for(var e=0;e<t.length;e+=1)this.items.push(t[e]);this.update()}},{key:"appendItem",value:function(t){this.appendItems([t])}},{key:"replaceAllItems",value:function(t){this.items=t,delete this.filteredItems,this.domCache={},this.update()}},{key:"replaceItem",value:function(t,e){this.items[t]=e,this.params.cache&&delete this.domCache[t],this.update()}},{key:"prependItems",value:function(t){for(var e=this,n=t.length-1;n>=0;n-=1)e.items.unshift(t[n]);if(e.params.cache){var r={};A()(e.domCache).forEach(function(n){r[parseInt(n,10)+t.length]=e.domCache[n]}),e.domCache=r}e.update()}},{key:"prependItem",value:function(t){this.prependItems([t])}},{key:"moveItem",value:function(t,e){var n=this,r=t,i=e;if(r!==i){var o=n.items.splice(r,1)[0];if(i>=n.items.length?(n.items.push(o),i=n.items.length-1):n.items.splice(i,0,o),n.params.cache){var a={};A()(n.domCache).forEach(function(t){var e=parseInt(t,10),o=r<i?r:i,s=r<i?i:r,u=r<i?-1:1;(e<o||e>s)&&(a[e]=n.domCache[e]),e===o&&(a[s]=n.domCache[e]),e>o&&e<=s&&(a[e+u]=n.domCache[e])}),n.domCache=a}n.update()}}},{key:"insertItemBefore",value:function(t,e){var n=this;if(0!==t)if(t>=n.items.length)n.appendItem(e);else{if(n.items.splice(t,0,e),n.params.cache){var r={};A()(n.domCache).forEach(function(e){var i=parseInt(e,10);i>=t&&(r[i+1]=n.domCache[i])}),n.domCache=r}n.update()}else n.prependItem(e)}},{key:"deleteItems",value:function(t){for(var e=this,n=void 0,r=0,i=function(i){var o=t[i];void 0!==n&&o>n&&(r=-i),o+=r,n=t[i];var a=e.items.splice(o,1)[0];if(e.filteredItems&&e.filteredItems.indexOf(a)>=0&&e.filteredItems.splice(e.filteredItems.indexOf(a),1),e.params.cache){var s={};A()(e.domCache).forEach(function(t){var n=parseInt(t,10);n===o?delete e.domCache[o]:parseInt(t,10)>o?s[n-1]=e.domCache[t]:s[n]=e.domCache[t]}),e.domCache=s}},o=0;o<t.length;o+=1)i(o);e.update()}},{key:"deleteAllItems",value:function(){var t=this;t.items=[],delete t.filteredItems,t.params.cache&&(t.domCache={}),t.update()}},{key:"deleteItem",value:function(t){this.deleteItems([t])}},{key:"clearCache",value:function(){this.domCache={}}},{key:"update",value:function(t){t&&this.params.cache&&(this.domCache={}),this.setListSize(),this.render(!0)}},{key:"init",value:function(){this.attachEvents(),this.setListSize(),this.render()}},{key:"destroy",value:function(){var t=this;t.detachEvents(),t.$el[0].f7VirtualList=null,delete t.$el[0].f7VirtualList,gt.deleteProps(t),t=null}}]),e}(yt),Ge={name:"virtualList",static:{VirtualList:We},create:function(){this.virtualList=we({defaultSelector:".virtual-list",constructor:We,app:this,domProp:"f7VirtualList"})}},Ke=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_()(this,e);var i=g()(this,(e.__proto__||p()(e)).call(this,r,[t])),o=i,a={el:null,listEl:null,indexes:"auto",iosItemHeight:14,mdItemHeight:14,scrollList:!0,label:!1,renderItem:function(t,e){return("\n          <li>"+t+"</li>\n        ").trim()},renderSkipPlaceholder:function(){return'<li class="list-index-skip-placeholder"></li>'},on:{}};o.useModulesParams(a),o.params=gt.extend(a,r);var s,u,c=void 0,l=void 0,h=void 0,f=void 0;if(!o.params.el)return s=o,g()(i,s);if(c=K(o.params.el),0===(f=c.find("ul")).length&&(f=K("<ul></ul>"),c.append(f)),o.params.listEl&&(l=K(o.params.listEl)),"auto"===o.params.indexes&&!l)return u=o,g()(i,u);function d(){var t={index:o};o.calcSize(),t!==o.height&&o.render()}function v(t){var e=K(t.target).closest("li");if(e.length){var n=e.index();if(o.skipRate>0){var r=n/(e.siblings("li").length-1);n=Math.round((o.indexes.length-1)*r)}var i=o.indexes[n];o.$el.trigger("listindex:click",i,n),o.emit("local::click listIndexClick",o,i,n),o.$el.trigger("listindex:select",i,n),o.emit("local::select listIndexSelect",o,i,n),o.$listEl&&o.params.scrollList&&o.scrollListToIndex(i,n)}}l?h=l.parents(".page-content").eq(0):0===(h=c.siblings(".page-content").eq(0)).length&&(h=c.parents(".page").eq(0).find(".page-content").eq(0)),c[0].f7ListIndex=o,gt.extend(o,{app:t,$el:c,el:c&&c[0],$ul:f,ul:f&&f[0],$listEl:l,listEl:l&&l[0],$pageContentEl:h,pageContentEl:h&&h[0],indexes:r.indexes,height:0,skipRate:0}),o.useModules();var m={},y=void 0,b=void 0,w=void 0,x=void 0,E=void 0,C=null;function k(t){var e=f.children();e.length&&(w=e[0].getBoundingClientRect().top,x=e[e.length-1].getBoundingClientRect().top+e[0].offsetHeight,m.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,m.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,y=!0,b=!1,C=null)}function T(t){if(y){!b&&o.params.label&&(E=K('<span class="list-index-label"></span>'),c.append(E)),b=!0;var e="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY;t.preventDefault();var n=(e-w)/(x-w);n=Math.min(Math.max(n,0),1);var r=Math.round((o.indexes.length-1)*n),i=o.indexes[r],a=x-w,s=(o.height-a)/2+(1-n)*a;r!==C&&(o.params.label&&E.html(i).transform("translateY(-"+s+"px)"),o.$listEl&&o.params.scrollList&&o.scrollListToIndex(i,r)),C=r,o.$el.trigger("listindex:select",o),o.emit("local::select listIndexSelect",o,i,r)}}function S(){y&&(y=!1,b=!1,o.params.label&&(E&&E.remove(),E=void 0))}var O=!!t.support.passiveListener&&{passive:!0};return o.attachEvents=function(){c.parents(".tab").on("tab:show",d),c.parents(".page").on("page:reinit",d),c.parents(".panel").on("panel:open",d),c.parents(".sheet-modal, .actions-modal, .popup, .popover, .login-screen, .dialog, .toast").on("modal:open",d),t.on("resize",d),c.on("click",v),c.on(t.touchEvents.start,k,O),t.on("touchmove:active",T),t.on("touchend:passive",S)},o.detachEvents=function(){c.parents(".tab").off("tab:show",d),c.parents(".page").off("page:reinit",d),c.parents(".panel").off("panel:open",d),c.parents(".sheet-modal, .actions-modal, .popup, .popover, .login-screen, .dialog, .toast").off("modal:open",d),t.off("resize",d),c.off("click",v),c.off(t.touchEvents.start,k,O),t.off("touchmove:active",T),t.off("touchend:passive",S)},o.init(),n=o,g()(i,n)}return y()(e,t),x()(e,[{key:"scrollListToIndex",value:function(t,e){var n=this.$listEl,r=this.$pageContentEl;if(!n||!r||0===r.length)return this;var i=void 0;if(n.find(".list-group-title, .item-divider").each(function(e,n){if(!i){var r=K(n);r.text()===t&&(i=r)}}),!i||0===i.length)return this;var o=i.parent().offset().top,a=parseInt(r.css("padding-top"),10),s=r[0].scrollTop,u=i.offset().top;return o<=a?r.scrollTop(o+s-a):r.scrollTop(u+s-a),this}},{key:"renderSkipPlaceholder",value:function(){return this.params.renderSkipPlaceholder.call(this)}},{key:"renderItem",value:function(t,e){return this.params.renderItem.call(this,t,e)}},{key:"render",value:function(){var t=this,e=t.$ul,n=t.indexes,r=t.skipRate,i=void 0,o=n.map(function(e,n){if(n%r!=0&&r>0)return i=!0,"";var o=t.renderItem(e,n);return i&&(o=t.renderSkipPlaceholder()+o),i=!1,o}).join("");return e.html(o),t}},{key:"calcSize",value:function(){var t=this.app,e=this.params,n=this.el,r=this.indexes,i=n.offsetHeight,o="ios"===t.theme?e.iosItemHeight:e.mdItemHeight,a=Math.floor(i/o),s=r.length,u=0;return s>a&&(u=Math.ceil((2*s-1)/a)),this.height=i,this.skipRate=u,this}},{key:"calcIndexes",value:function(){var t=this;return"auto"===t.params.indexes?(t.indexes=[],t.$listEl.find(".list-group-title, .item-divider").each(function(e,n){var r=K(n).text();t.indexes.indexOf(r)<0&&t.indexes.push(r)})):t.indexes=t.params.indexes,t}},{key:"update",value:function(){return this.calcIndexes(),this.calcSize(),this.render(),this}},{key:"init",value:function(){this.calcIndexes(),this.calcSize(),this.render(),this.attachEvents()}},{key:"destroy",value:function(){var t=this;t.$el.trigger("listindex:beforedestroy",t),t.emit("local::beforeDestroy listIndexBeforeDestroy",t),t.detachEvents(),t.$el[0].f7ListIndex=null,delete t.$el[0].f7ListIndex,gt.deleteProps(t),t=null}}]),e}(yt),Ye={name:"listIndex",static:{ListIndex:Ke},create:function(){this.listIndex=we({defaultSelector:".list-index",constructor:Ke,app:this,domProp:"f7ListIndex"})},on:{tabMounted:function(t){var e=this;K(t).find(".list-index-init").each(function(t,n){var r=gt.extend(K(n).dataset(),{el:n});e.listIndex.create(r)})},tabBeforeRemove:function(t){K(t).find(".list-index-init").each(function(t,e){e.f7ListIndex&&e.f7ListIndex.destroy()})},pageInit:function(t){var e=this;t.$el.find(".list-index-init").each(function(t,n){var r=gt.extend(K(n).dataset(),{el:n});e.listIndex.create(r)})},pageBeforeRemove:function(t){t.$el.find(".list-index-init").each(function(t,e){e.f7ListIndex&&e.f7ListIndex.destroy()})}}},Qe={show:function(){for(var t=this,e=void 0,n=void 0,r=void 0,i=void 0,o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];if(1===s.length&&s[0].constructor===Object)e=s[0].tabEl,n=s[0].tabLinkEl,r=s[0].animate,i=s[0].tabRoute;else{var c=a()(s,4);if(e=c[0],n=c[1],r=c[2],i=c[3],"boolean"==typeof s[1]){var l=a()(s,4);if(e=l[0],r=l[1],n=l[2],i=l[3],s.length>2&&n.constructor===Object){var h=a()(s,4);e=h[0],r=h[1],i=h[2],n=h[3]}}}void 0===r&&(r=!0);var f=K(e);if(i&&f[0]&&(f[0].f7TabRoute=i),0===f.length||f.hasClass("tab-active"))return{$newTabEl:f,newTabEl:f[0]};var d=void 0;n&&(d=K(n));var p=f.parent(".tabs");if(0===p.length)return{$newTabEl:f,newTabEl:f[0]};t.swipeout&&(t.swipeout.allowOpen=!0);var v=[];function g(){v.forEach(function(t){t()})}var m=!1;if(p.parent().hasClass("tabs-animated-wrap")){p.parent()[r?"removeClass":"addClass"]("not-animated");var y=parseFloat(p.css("transition-duration").replace(",","."));r&&y&&(p.transitionEnd(g),m=!0);var b=100*(t.rtl?f.index():-f.index());p.transform("translate3d("+b+"%,0,0)")}if(p.parent().hasClass("tabs-swipeable-wrap")&&t.swiper){var _=p.parent()[0].swiper;_&&_.activeIndex!==f.index()&&(m=!0,_.once("slideChangeTransitionEnd",function(){g()}).slideTo(f.index(),r?void 0:0))}var w=p.children(".tab-active");if(w.removeClass("tab-active").trigger("tab:hide"),t.emit("tabHide",w[0]),f.addClass("tab-active").trigger("tab:show"),t.emit("tabShow",f[0]),!d&&((!(d=K("string"==typeof e?'.tab-link[href="'+e+'"]':'.tab-link[href="#'+f.attr("id")+'"]'))||d&&0===d.length)&&K("[data-tab]").each(function(t,e){f.is(K(e).attr("data-tab"))&&(d=K(e))}),i&&(!d||d&&0===d.length)&&0===(d=K('[data-route-tab-id="'+i.route.tab.id+'"]')).length&&(d=K('.tab-link[href="'+i.url+'"]')),d.length>1&&f.parents(".page").length&&(d=d.filter(function(t,e){return K(e).parents(".page")[0]===f.parents(".page")[0]}),"ios"===t.theme&&0===d.length&&i))){var x=f.parents(".page"),E=K(t.navbar.getElByPage(x));0===(d=E.find('[data-route-tab-id="'+i.route.tab.id+'"]')).length&&(d=E.find('.tab-link[href="'+i.url+'"]'))}if(d.length>0){var C=void 0;if(w&&w.length>0){var k=w.attr("id");k&&(!(C=K('.tab-link[href="#'+k+'"]'))||C&&0===C.length)&&(C=K('.tab-link[data-route-tab-id="'+k+'"]')),(!C||C&&0===C.length)&&K("[data-tab]").each(function(t,e){w.is(K(e).attr("data-tab"))&&(C=K(e))}),(!C||C&&0===C.length)&&(C=d.siblings(".tab-link-active"))}else i&&(C=d.siblings(".tab-link-active"));if(C&&C.length>1&&w&&w.parents(".page").length&&(C=C.filter(function(t,e){return K(e).parents(".page")[0]===w.parents(".page")[0]})),C&&C.length>0&&C.removeClass("tab-link-active"),d&&d.length>0&&(d.addClass("tab-link-active"),"md"===t.theme&&t.toolbar)){var T=d.parents(".tabbar, .tabbar-labels");T.length>0&&t.toolbar.setHighlight(T)}}return{$newTabEl:f,newTabEl:f[0],$oldTabEl:w,oldTabEl:w[0],onTabsChanged:function(t){v.push(t)},animated:m}}},Xe={name:"tabs",create:function(){gt.extend(this,{tab:{show:Qe.show.bind(this)}})},clicks:{".tab-link":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(t.attr("href")&&0===t.attr("href").indexOf("#")||t.attr("data-tab"))&&this.tab.show({tabEl:e.tab||t.attr("href"),tabLinkEl:t,animate:e.animate})}}};var Je=function(t){function e(t){var n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_()(this,e);var a=g()(this,(e.__proto__||p()(e)).call(this,o,[t])),s=a,c=o.el,l=K(c);if(0===l.length)return n=s,g()(a,n);if(l[0].f7Panel)return r=l[0].f7Panel,g()(a,r);l[0].f7Panel=s;var h=o.opened,f=o.side,d=o.effect;void 0===h&&(h=l.hasClass("panel-active")),void 0===f&&(f=l.hasClass("panel-left")?"left":"right"),void 0===d&&(d=l.hasClass("panel-cover")?"cover":"reveal"),t.panel[f]||gt.extend(t.panel,u()({},f,s));var v=K(".panel-backdrop");return 0===v.length&&(v=K('<div class="panel-backdrop"></div>')).insertBefore(l),gt.extend(s,{app:t,side:f,effect:d,$el:l,el:l[0],opened:h,$backdropEl:v,backdropEl:v[0]}),s.useModules(),s.init(),i=s,g()(a,i)}return y()(e,t),x()(e,[{key:"init",value:function(){var t=this.app;t.params.panel[this.side+"Breakpoint"]&&this.initBreakpoints(),(t.params.panel.swipe===this.side||"both"===t.params.panel.swipe||t.params.panel.swipe&&t.params.panel.swipe!==this.side&&t.params.panel.swipeCloseOpposite)&&this.initSwipePanel()}},{key:"getViewEl",value:function(){var t=this.app;return t.root.children(".views").length>0?t.root.children(".views")[0]:t.root.children(".view")[0]}},{key:"setBreakpoint",value:function(){var t=this.app,e=this.side,n=this.$el,r=K(this.getViewEl()),i=t.params.panel[e+"Breakpoint"],o=n.hasClass("panel-visible-by-breakpoint");t.width>=i?o||(K("html").removeClass("with-panel-"+e+"-reveal with-panel-"+e+"-cover with-panel"),n.css("display","").addClass("panel-visible-by-breakpoint").removeClass("panel-active"),this.onOpen(),this.onOpened(),r.css(u()({},"margin-"+e,n.width()+"px")),t.allowPanelOpen=!0,t.emit("local::breakpoint panelBreakpoint"),this.$el.trigger("panel:breakpoint",this)):o&&(n.css("display","").removeClass("panel-visible-by-breakpoint panel-active"),this.onClose(),this.onClosed(),r.css(u()({},"margin-"+e,"")),t.emit("local::breakpoint panelBreakpoint"),this.$el.trigger("panel:breakpoint",this))}},{key:"initBreakpoints",value:function(){var t=this,e=t.app;return t.resizeHandler=function(){t.setBreakpoint()},e.params.panel[t.side+"Breakpoint"]&&e.on("resize",t.resizeHandler),t.setBreakpoint(),t}},{key:"initSwipePanel",value:function(){!function(t){var e=t.app;gt.extend(t,{swipeable:!0,swipeInitialized:!0});var n=e.params.panel,r=t.$el,i=t.$backdropEl,o=t.side,a=t.effect,s=void 0,u=void 0,c=void 0,l=void 0,h={},f=void 0,d=void 0,p=void 0,v=void 0,g=void 0,m=void 0,y=void 0,b=0;function _(i){if(t.swipeable&&e.panel.allowOpen&&(n.swipe||n.swipeOnlyClose)&&!u&&!(K(".modal-in, .photo-browser-in").length>0)&&(s=e.panel["left"===o?"right":"left"]||{},(t.opened||!s.opened)&&(n.swipeCloseOpposite||n.swipeOnlyClose||!s.opened)&&(!i.target||"input"!==i.target.nodeName.toLowerCase()||"range"!==i.target.type)&&!(K(i.target).closest(".range-slider, .tabs-swipeable-wrap, .calendar-months, .no-swipe-panel").length>0)&&(h.x="touchstart"===i.type?i.targetTouches[0].pageX:i.pageX,h.y="touchstart"===i.type?i.targetTouches[0].pageY:i.pageY,(!n.swipeOnlyClose||t.opened)&&("both"===n.swipe||!n.swipeCloseOpposite||n.swipe===o||t.opened)))){if(n.swipeActiveArea&&!t.opened){if("left"===o&&h.x>n.swipeActiveArea)return;if("right"===o&&h.x<e.width-n.swipeActiveArea)return}if(n.swipeCloseActiveAreaSide&&t.opened){if("left"===o&&h.x<r[0].offsetWidth-n.swipeCloseActiveAreaSide)return;if("right"===o&&h.x>e.width-r[0].offsetWidth+n.swipeCloseActiveAreaSide)return}b=0,y=K(t.getViewEl()),c=!1,u=!0,l=void 0,f=gt.now(),m=void 0}}function w(s){if(u&&!((b+=1)<2))if(s.f7PreventSwipePanel||e.preventSwipePanelBySwipeBack||e.preventSwipePanel)u=!1;else{var _="touchmove"===s.type?s.targetTouches[0].pageX:s.pageX,w="touchmove"===s.type?s.targetTouches[0].pageY:s.pageY;if(void 0===l&&(l=!!(l||Math.abs(w-h.y)>Math.abs(_-h.x))),l)u=!1;else{if(!m){if(m=_>h.x?"to-right":"to-left","both"===n.swipe&&n.swipeActiveArea>0&&!t.opened){if("left"===o&&h.x>n.swipeActiveArea)return void(u=!1);if("right"===o&&h.x<e.width-n.swipeActiveArea)return void(u=!1)}if(r.hasClass("panel-visible-by-breakpoint"))return void(u=!1);if("left"===o&&"to-left"===m&&!r.hasClass("panel-active")||"right"===o&&"to-right"===m&&!r.hasClass("panel-active"))return void(u=!1)}if(n.swipeNoFollow)return(new Date).getTime()-f<300&&("to-left"===m&&("right"===o&&e.panel.open(o),"left"===o&&r.hasClass("panel-active")&&e.panel.close()),"to-right"===m&&("left"===o&&e.panel.open(o),"right"===o&&r.hasClass("panel-active")&&e.panel.close())),u=!1,void(c=!1);c||(t.opened||(r.show(),i.show(),r.trigger("panel:swipeopen",t),t.emit("local::swipeOpen panelSwipeOpen",t)),g=r[0].offsetWidth,r.transition(0)),c=!0,s.preventDefault();var x=t.opened?0:-n.swipeThreshold;"right"===o&&(x=-x),d=_-h.x+x,"right"===o?"cover"===a?((p=d+(t.opened?0:g))<0&&(p=0),p>g&&(p=g)):((p=d-(t.opened?g:0))>0&&(p=0),p<-g&&(p=-g)):((p=d+(t.opened?g:0))<0&&(p=0),p>g&&(p=g)),"reveal"===a?(y.transform("translate3d("+p+"px,0,0)").transition(0),i.transform("translate3d("+p+"px,0,0)").transition(0),r.trigger("panel:swipe",t,Math.abs(p/g)),t.emit("local::swipe panelSwipe",t,Math.abs(p/g))):("left"===o&&(p-=g),r.transform("translate3d("+p+"px,0,0)").transition(0),i.transition(0),v=1-Math.abs(p/g),i.css({opacity:v}),r.trigger("panel:swipe",t,Math.abs(p/g)),t.emit("local::swipe panelSwipe",t,Math.abs(p/g)))}}}function x(){if(!u||!c)return u=!1,void(c=!1);u=!1,c=!1;var e=(new Date).getTime()-f,s=void 0,l=0===p||Math.abs(p)===g,h=n.swipeThreshold||0;if("swap"==(s=t.opened?"cover"===a?0===p?"reset":e<300&&Math.abs(p)>0?"swap":e>=300&&Math.abs(p)<g/2?"reset":"swap":p===-g?"reset":e<300&&Math.abs(p)>=0||e>=300&&Math.abs(p)<=g/2?"left"===o&&p===g?"reset":"swap":"reset":Math.abs(d)<h?"reset":"cover"===a?0===p?"swap":e<300&&Math.abs(p)>0?"swap":e>=300&&Math.abs(p)<g/2?"swap":"reset":0===p?"reset":e<300&&Math.abs(p)>0||e>=300&&Math.abs(p)>=g/2?"swap":"reset")&&(t.opened?t.close(!l):t.open(!l)),"reset"===s&&!t.opened)if(l)r.css({display:""});else{var v="reveal"===a?y:r;K("html").addClass("with-panel-transitioning"),v.transitionEnd(function(){r.hasClass("panel-active")||(r.css({display:""}),K("html").removeClass("with-panel-transitioning"))})}"reveal"===a&&gt.nextFrame(function(){y.transition(""),y.transform("")}),r.transition("").transform(""),i.css({display:""}).transform("").transition("").css("opacity","")}e.on("touchstart:passive",_),e.on("touchmove:active",w),e.on("touchend:passive",x),t.on("panelDestroy",function(){e.off("touchstart:passive",_),e.off("touchmove:active",w),e.off("touchend:passive",x)})}(this)}},{key:"destroy",value:function(){var t=this,e=t.app;t.emit("local::beforeDestroy panelBeforeDestroy",t),t.$el.trigger("panel:beforedestroy",t),t.resizeHandler&&e.off("resize",t.resizeHandler),t.$el.trigger("panel:destroy",t),t.emit("local::destroy panelDestroy"),delete e.panel[t.side],delete t.el.f7Panel,gt.deleteProps(t),t=null}},{key:"open",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this,n=e.app;if(!n.panel.allowOpen)return!1;var r=e.side,i=e.effect,o=e.$el,a=e.$backdropEl;if(e.opened||o.hasClass("panel-visible-by-breakpoint")||o.hasClass("panel-active"))return!1;n.panel.close("left"===r?"right":"left",t),n.panel.allowOpen=!1,o[t?"removeClass":"addClass"]("not-animated"),o.css({display:"block"}).addClass("panel-active"),a[t?"removeClass":"addClass"]("not-animated"),a.show(),e._clientLeft=o[0].clientLeft,K("html").addClass("with-panel with-panel-"+r+"-"+i),e.onOpen();var s="reveal"===i?o.nextAll(".view, .views").eq(0):o;return t?function t(){s.transitionEnd(function(n){K(n.target).is(s)?o.hasClass("panel-active")?(e.onOpened(),a.css({display:""})):(e.onClosed(),a.css({display:""})):t()})}():(e.onOpened(),a.css({display:""})),!0}},{key:"close",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this,n=e.app,r=e.side,i=e.effect,o=e.$el,a=e.$backdropEl;if(!e.opened||o.hasClass("panel-visible-by-breakpoint")||!o.hasClass("panel-active"))return!1;o[t?"removeClass":"addClass"]("not-animated"),o.removeClass("panel-active"),a[t?"removeClass":"addClass"]("not-animated");var s="reveal"===i?o.nextAll(".view, .views").eq(0):o;return e.onClose(),n.panel.allowOpen=!1,t?(s.transitionEnd(function(){o.hasClass("panel-active")||(o.css({display:""}),K("html").removeClass("with-panel-transitioning"),e.onClosed())}),K("html").removeClass("with-panel with-panel-"+r+"-"+i).addClass("with-panel-transitioning")):(o.css({display:""}),o.removeClass("not-animated"),K("html").removeClass("with-panel with-panel-transitioning with-panel-"+r+"-"+i),e.onClosed()),!0}},{key:"onOpen",value:function(){this.opened=!0,this.$el.trigger("panel:open",this),this.emit("local::open panelOpen",this)}},{key:"onOpened",value:function(){this.app.panel.allowOpen=!0,this.$el.trigger("panel:opened",this),this.emit("local::opened panelOpened",this)}},{key:"onClose",value:function(){this.opened=!1,this.$el.addClass("panel-closing"),this.$el.trigger("panel:close",this),this.emit("local::close panelClose",this)}},{key:"onClosed",value:function(){this.app.panel.allowOpen=!0,this.$el.removeClass("panel-closing"),this.$el.trigger("panel:closed",this),this.emit("local::closed panelClosed",this)}}]),e}(yt),Ze={name:"panel",params:{panel:{leftBreakpoint:0,rightBreakpoint:0,swipe:void 0,swipeActiveArea:0,swipeCloseActiveAreaSide:0,swipeCloseOpposite:!0,swipeOnlyClose:!1,swipeNoFollow:!1,swipeThreshold:0,closeByBackdropClick:!0}},static:{Panel:Je},instance:{panel:{allowOpen:!0}},create:function(){var t=this;gt.extend(t.panel,{disableSwipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"both",n=void 0,r=[];"string"==typeof e?"both"===e?(n="both",r=[t.panel.left,t.panel.right]):(n=e,r.push(t.panel[n])):r=[e],r.forEach(function(t){t&&gt.extend(t,{swipeable:!1})})},enableSwipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"both",n=[],r=void 0;"string"==typeof e?(r=e,"left"===t.params.panel.swipe&&"right"===r||"right"===t.params.panel.swipe&&"left"===r||"both"===r?(r="both",t.params.panel.swipe=r,n=[t.panel.left,t.panel.right]):(t.params.panel.swipe=r,n.push(t.panel[r]))):e&&n.push(e),n.length&&n.forEach(function(t){t&&(t.swipeInitialized?gt.extend(t,{swipeable:!0}):t.initSwipePanel())})},create:function(e){return new Je(t,e)},open:function(e,n){var r=e;if(!r){if(K(".panel").length>1)return!1;r=K(".panel").hasClass("panel-left")?"left":"right"}if(!r)return!1;if(t.panel[r])return t.panel[r].open(n);var i=K(".panel-"+r);return i.length>0&&t.panel.create({el:i}).open(n)},close:function(e,n){var r=void 0,i=void 0;return i?r=K(".panel-"+(i=e)):i=(r=K(".panel.panel-active")).hasClass("panel-left")?"left":"right",!!i&&(t.panel[i]?t.panel[i].close(n):r.length>0&&t.panel.create({el:r}).close(n))},get:function(e){var n=e;if(!n){if(K(".panel").length>1)return;n=K(".panel").hasClass("panel-left")?"left":"right"}if(n){if(t.panel[n])return t.panel[n];var r=K(".panel-"+n);return r.length>0?t.panel.create({el:r}):void 0}}})},on:{init:function(){var t=this;K(".panel").each(function(e,n){var r=K(n).hasClass("panel-left")?"left":"right";t.panel[r]=t.panel.create({el:n,side:r})})}},clicks:{".panel-open":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="left";("right"===e.panel||1===K(".panel").length&&K(".panel").hasClass("panel-right"))&&(n="right"),this.panel.open(n,e.animate)},".panel-close":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.panel;this.panel.close(n,e.animate)},".panel-backdrop":function(){var t=K(".panel-active"),e=t[0]&&t[0].f7Panel;t.trigger("panel:backdrop-click"),e&&e.emit("backdropClick",e),this.emit("panelBackdropClick",e||t[0]),this.params.panel.closeByBackdropClick&&this.panel.close()}}},tn={store:function(t,e){var n=t,r=K(t);r.length&&r.is("form")&&r.attr("id")&&(n=r.attr("id")),this.form.data["form-"+n]=e;try{D.localStorage["f7form-"+n]=f()(e)}catch(t){throw t}},get:function(t){var e=t,n=K(t);n.length&&n.is("form")&&n.attr("id")&&(e=n.attr("id"));try{if(D.localStorage["f7form-"+e])return JSON.parse(D.localStorage["f7form-"+e])}catch(t){throw t}if(this.form.data["form-"+e])return this.form.data["form-"+e]},remove:function(t){var e=t,n=K(t);n.length&&n.is("form")&&n.attr("id")&&(e=n.attr("id")),this.form.data["form-"+e]&&(this.form.data["form-"+e]="",delete this.form.data["form-"+e]);try{D.localStorage["f7form-"+e]&&(D.localStorage["f7form-"+e]="",D.localStorage.removeItem("f7form-"+e))}catch(t){throw t}}},en={init:function(t){var e=this,n=K(t),r=n.attr("id");if(r){var i=e.form.getFormData(r);i&&e.form.fillFromData(n,i),n.on("change submit",function(){var t=e.form.convertToData(n);t&&(e.form.storeFormData(r,t),n.trigger("form:storedata",t),e.emit("formStoreData",n[0],t))})}},destroy:function(t){K(t).off("change submit")}};var nn={name:"form",create:function(){gt.extend(this,{form:{data:{},storeFormData:tn.store.bind(this),getFormData:tn.get.bind(this),removeFormData:tn.remove.bind(this),convertToData:function(t){var e=K(t).eq(0);if(0!==e.length){var n={},r=["submit","image","button","file"],i=[];return e.find("input, select, textarea").each(function(t,o){var a=K(o);if(!a.hasClass("ignore-store-data")&&!a.hasClass("no-store-data")){var s=a.attr("name"),u=a.attr("type"),c=o.nodeName.toLowerCase();if(!(r.indexOf(u)>=0)&&!(i.indexOf(s)>=0)&&s)if("select"===c&&a.prop("multiple"))i.push(s),n[s]=[],e.find('select[name="'+s+'"] option').each(function(t,e){e.selected&&n[s].push(e.value)});else switch(u){case"checkbox":i.push(s),n[s]=[],e.find('input[name="'+s+'"]').each(function(t,e){e.checked&&n[s].push(e.value)});break;case"radio":i.push(s),e.find('input[name="'+s+'"]').each(function(t,e){e.checked&&(n[s]=e.value)});break;default:n[s]=a.val()}}}),e.trigger("form:todata",n),this.emit("formToData",e[0],n),n}}.bind(this),fillFromData:function(t,e){var n=K(t).eq(0);if(n.length){var r=e,i=n.attr("id");if(!r&&i&&(r=this.form.getFormData(i)),r){var o=["submit","image","button","file"],a=[];n.find("input, select, textarea").each(function(t,e){var i=K(e);if(!i.hasClass("ignore-store-data")&&!i.hasClass("no-store-data")){var s=i.attr("name"),u=i.attr("type"),c=e.nodeName.toLowerCase();if(void 0!==r[s]&&null!==r[s]&&!(o.indexOf(u)>=0)&&!(a.indexOf(s)>=0)&&s){if("select"===c&&i.prop("multiple"))a.push(s),n.find('select[name="'+s+'"] option').each(function(t,e){var n=e;r[s].indexOf(e.value)>=0?n.selected=!0:n.selected=!1});else switch(u){case"checkbox":a.push(s),n.find('input[name="'+s+'"]').each(function(t,e){var n=e;r[s].indexOf(e.value)>=0?n.checked=!0:n.checked=!1});break;case"radio":a.push(s),n.find('input[name="'+s+'"]').each(function(t,e){var n=e;r[s]===e.value?n.checked=!0:n.checked=!1});break;default:i.val(r[s])}"select"!==c&&"input"!==c&&"textarea"!==c||i.trigger("change","fromdata")}}}),n.trigger("form:fromdata",r),this.emit("formFromData",n[0],r)}}}.bind(this),storage:{init:en.init.bind(this),destroy:en.destroy.bind(this)}}})},on:{init:function(){(function(){var t=this;K(N).on("submit change","form.form-ajax-submit, form.form-ajax-submit-onchange",function(e,n){var r=K(this);if(("change"!==e.type||r.hasClass("form-ajax-submit-onchange"))&&("submit"===e.type&&e.preventDefault(),"change"!==e.type||"fromdata"!==n)){var i=(r.attr("method")||"GET").toUpperCase(),o=r.prop("enctype")||r.attr("enctype"),a=r.attr("action");if(a){var s=void 0;s="POST"===i?"application/x-www-form-urlencoded"===o?t.form.convertToData(r[0]):new D.FormData(r[0]):gt.serializeObject(t.form.convertToData(r[0]));var u=t.request({method:i,url:a,contentType:o,data:s,beforeSend:function(){r.trigger("formajax:beforesend",s,u),t.emit("formAjaxBeforeSend",r[0],s,u)},error:function(){r.trigger("formajax:error",s,u),t.emit("formAjaxError",r[0],s,u)},complete:function(){r.trigger("formajax:complete",s,u),t.emit("formAjaxComplete",r[0],s,u)},success:function(){r.trigger("formajax:success",s,u),t.emit("formAjaxSuccess",r[0],s,u)}})}}})}).call(this)},tabBeforeRemove:function(t){var e=this;K(t).find(".form-store-data").each(function(t,n){e.form.storage.destroy(n)})},tabMounted:function(t){var e=this;K(t).find(".form-store-data").each(function(t,n){e.form.storage.init(n)})},pageBeforeRemove:function(t){var e=this;t.$el.find(".form-store-data").each(function(t,n){e.form.storage.destroy(n)})},pageInit:function(t){var e=this;t.$el.find(".form-store-data").each(function(t,n){e.form.storage.init(n)})}}},rn={ignoreTypes:["checkbox","button","submit","range","radio","image"],createTextareaResizableShadow:function(){var t=K(N.createElement("textarea"));t.addClass("textarea-resizable-shadow"),t.prop({disabled:!0,readonly:!0}),rn.textareaResizableShadow=t},textareaResizableShadow:void 0,resizeTextarea:function(t){var e=K(t);rn.textareaResizableShadow||rn.createTextareaResizableShadow();var n=rn.textareaResizableShadow;if(e.length&&e.hasClass("resizable")){0===rn.textareaResizableShadow.parents().length&&this.root.append(n);var r=D.getComputedStyle(e[0]);"padding margin width font-size font-family font-style font-weight line-height font-variant text-transform letter-spacing border box-sizing display".split(" ").forEach(function(t){var e=r[t];"font-size line-height letter-spacing width".split(" ").indexOf(t)>=0&&(e=e.replace(",",".")),n.css(t,e)});var i=e[0].clientHeight;n.val("");var o=n[0].scrollHeight;n.val(e.val()),n.css("height",0);var a=n[0].scrollHeight;i!==a&&(a>o?(e.css("height",a+"px"),e.trigger("textarea:resize",{initialHeight:o,currentHeight:i,scrollHeight:a})):a<i&&(e.css("height",""),e.trigger("textarea:resize",{initialHeight:o,currentHeight:i,scrollHeight:a})))}},validate:function(t){var e=K(t);if(e.length){var n=e.parents(".item-input"),r=e.parents(".input"),i=e[0].validity,o=e.dataset().errorMessage||e[0].validationMessage||"";if(i)if(i.valid)n.removeClass("item-input-invalid item-input-with-error-message"),r.removeClass("input-invalid input-with-error-message"),e.removeClass("input-invalid");else{var a=e.nextAll(".item-input-error-message, .input-error-message");o&&(0===a.length&&(a=K('<div class="'+(r.length?"input-error-message":"item-input-error-message")+'"></div>')).insertAfter(e),a.text(o)),a.length>0&&(n.addClass("item-input-with-error-message"),r.addClass("input-with-eror-message")),n.addClass("item-input-invalid"),r.addClass("input-invalid"),e.addClass("input-invalid")}}},validateInputs:function(t){var e=this;K(t).find("input, textarea, select").each(function(t,n){e.input.validate(n)})},focus:function(t){var e=K(t),n=e.attr("type");rn.ignoreTypes.indexOf(n)>=0||(e.parents(".item-input").addClass("item-input-focused"),e.parents(".input").addClass("input-focused"),e.addClass("input-focused"))},blur:function(t){var e=K(t);e.parents(".item-input").removeClass("item-input-focused"),e.parents(".input").removeClass("input-focused"),e.removeClass("input-focused")},checkEmptyState:function(t){var e=K(t),n=e.val(),r=e.parents(".item-input"),i=e.parents(".input");n&&"string"==typeof n&&""!==n.trim()||Array.isArray(n)&&n.length>0?(r.addClass("item-input-with-value"),i.addClass("input-with-value"),e.addClass("input-with-value"),e.trigger("input:notempty")):(r.removeClass("item-input-with-value"),i.removeClass("input-with-value"),e.removeClass("input-with-value"),e.trigger("input:empty"))},scrollIntoView:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],r=arguments[3],i=K(t),o=i.parents(".page-content, .panel").eq(0);if(!o.length)return!1;var a=o[0].offsetHeight,s=o[0].scrollTop,u=parseInt(o.css("padding-top"),10),c=parseInt(o.css("padding-bottom"),10),l=o.offset().top-s,h=i.offset().top-l,f=h+s-u,d=h+s-a+c+i[0].offsetHeight,p=f+(d-f)/2;return s>f?(o.scrollTop(n?p:f,e),!0):s<d?(o.scrollTop(n?p:d,e),!0):(r&&o.scrollTop(n?p:d,e),!1)},init:function(){var t=this;rn.createTextareaResizableShadow(),K(N).on("click",".input-clear-button",function(){var t=K(this).siblings("input, textarea").eq(0),e=t.val();t.val("").trigger("change input").focus().trigger("input:clear",e)}),K(N).on("change input","input, textarea, select",function(){var e=K(this),n=e.attr("type"),r=e[0].nodeName.toLowerCase();rn.ignoreTypes.indexOf(n)>=0||(t.input.checkEmptyState(e),(e.dataset().validate||null!==e.attr("validate"))&&t.input.validate(e),"textarea"===r&&e.hasClass("resizable")&&t.input.resizeTextarea(e))},!0),K(N).on("focus","input, textarea, select",function(){var e=this;t.params.input.scrollIntoViewOnFocus&&(mt.android?K(D).once("resize",function(){N&&N.activeElement===e&&t.input.scrollIntoView(e,t.params.input.scrollIntoViewDuration,t.params.input.scrollIntoViewCentered,t.params.input.scrollIntoViewAlways)}):t.input.scrollIntoView(e,t.params.input.scrollIntoViewDuration,t.params.input.scrollIntoViewCentered,t.params.input.scrollIntoViewAlways)),t.input.focus(e)},!0),K(N).on("blur","input, textarea, select",function(){var e=K(this),n=e[0].nodeName.toLowerCase();t.input.blur(e),(e.dataset().validate||null!==e.attr("validate"))&&t.input.validate(e),"textarea"===n&&e.hasClass("resizable")&&rn.textareaResizableShadow&&rn.textareaResizableShadow.remove()},!0),K(N).on("invalid","input, textarea, select",function(e){var n=K(this);(n.dataset().validate||null!==n.attr("validate"))&&(e.preventDefault(),t.input.validate(n))},!0)}},on={name:"input",params:{input:{scrollIntoViewOnFocus:mt.android,scrollIntoViewCentered:!1,scrollIntoViewDuration:0,scrollIntoViewAlways:!1}},create:function(){gt.extend(this,{input:{scrollIntoView:rn.scrollIntoView.bind(this),focus:rn.focus.bind(this),blur:rn.blur.bind(this),validate:rn.validate.bind(this),validateInputs:rn.validateInputs.bind(this),checkEmptyState:rn.checkEmptyState.bind(this),resizeTextarea:rn.resizeTextarea.bind(this),init:rn.init.bind(this)}})},on:{init:function(){this.input.init()},tabMounted:function(t){var e=this,n=K(t);n.find(".item-input, .input").each(function(t,n){K(n).find("input, select, textarea").each(function(t,n){var r=K(n);rn.ignoreTypes.indexOf(r.attr("type"))>=0||e.input.checkEmptyState(r)})}),n.find("textarea.resizable").each(function(t,n){e.input.resizeTextarea(n)})},pageInit:function(t){var e=this,n=t.$el;n.find(".item-input, .input").each(function(t,n){K(n).find("input, select, textarea").each(function(t,n){var r=K(n);rn.ignoreTypes.indexOf(r.attr("type"))>=0||e.input.checkEmptyState(r)})}),n.find("textarea.resizable").each(function(t,n){e.input.resizeTextarea(n)})}}},an=function(t){function e(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_()(this,e);var o=g()(this,(e.__proto__||p()(e)).call(this,i,[t])),a=o,s={};a.useModulesParams(s),a.params=gt.extend(s,i);var u=a.params.el;if(!u)return n=a,g()(o,n);var c=K(u);if(0===c.length)return r=a,g()(o,r);var l=c.children('input[type="checkbox"]');gt.extend(a,{app:t,$el:c,el:c[0],$inputEl:l,inputEl:l[0],disabled:c.hasClass("disabled")||l.hasClass("disabled")||l.attr("disabled")||l[0].disabled}),Object.defineProperty(a,"checked",{enumerable:!0,configurable:!0,set:function(t){a&&void 0!==a.$inputEl&&a.checked!==t&&(l[0].checked=t,a.$inputEl.trigger("change"))},get:function(){return l[0].checked}}),c[0].f7Toggle=a;var h=void 0,f={},d=void 0,v=void 0,m=void 0,y=void 0,b=void 0;function w(t){h||a.disabled||(f.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,f.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,v=0,h=!0,d=void 0,y=gt.now(),b=a.checked,m=c[0].offsetWidth,gt.nextTick(function(){h&&c.addClass("toggle-active-state")}))}function x(e){if(h&&!a.disabled){var n="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,r="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,i=t.rtl?-1:1;if(void 0===d&&(d=!!(d||Math.abs(r-f.y)>Math.abs(n-f.x))),d)h=!1;else{e.preventDefault();var o=void 0;(v=n-f.x)*i<0&&Math.abs(v)>m/3&&b&&(o=!0),v*i>0&&Math.abs(v)>m/3&&!b&&(o=!0),o&&(f.x=n,a.checked=!b,b=!b)}}}function E(){if(!h||a.disabled)return d&&c.removeClass("toggle-active-state"),void(h=!1);var e=t.rtl?-1:1;h=!1,c.removeClass("toggle-active-state");var n=void 0;gt.now()-y<300&&(v*e<0&&b&&(n=!0),v*e>0&&!b&&(n=!0),n&&(a.checked=!b))}function C(){a.$el.trigger("toggle:change",a),a.emit("local::change toggleChange",a)}return a.attachEvents=function(){if(Mt.touch){var e=!!Mt.passiveListener&&{passive:!0};c.on(t.touchEvents.start,w,e),t.on("touchmove",x),t.on("touchend:passive",E),a.$inputEl.on("change",C)}},a.detachEvents=function(){if(Mt.touch){var e=!!Mt.passiveListener&&{passive:!0};c.off(t.touchEvents.start,w,e),t.off("touchmove",x),t.off("touchend:passive",E),a.$inputEl.off("change",C)}},a.useModules(),a.init(),o}return y()(e,t),x()(e,[{key:"toggle",value:function(){this.checked=!this.checked}},{key:"init",value:function(){this.attachEvents()}},{key:"destroy",value:function(){var t=this;t.$el.trigger("toggle:beforedestroy",t),t.emit("local::beforeDestroy toggleBeforeDestroy",t),delete t.$el[0].f7Toggle,t.detachEvents(),gt.deleteProps(t),t=null}}]),e}(yt),sn={name:"toggle",create:function(){this.toggle=we({defaultSelector:".toggle",constructor:an,app:this,domProp:"f7Toggle"})},static:{Toggle:an},on:{tabMounted:function(t){var e=this;K(t).find(".toggle-init").each(function(t,n){return e.toggle.create({el:n})})},tabBeforeRemove:function(t){K(t).find(".toggle-init").each(function(t,e){e.f7Toggle&&e.f7Toggle.destroy()})},pageInit:function(t){var e=this;t.$el.find(".toggle-init").each(function(t,n){return e.toggle.create({el:n})})},pageBeforeRemove:function(t){t.$el.find(".toggle-init").each(function(t,e){e.f7Toggle&&e.f7Toggle.destroy()})}}},un=function(t){function e(t,n){var r,i,o;_()(this,e);var a=g()(this,(e.__proto__||p()(e)).call(this,n,[t])),s=a,u={el:null,inputEl:null,dual:!1,step:1,label:!1,min:0,max:100,value:0,draggableBar:!0};s.useModulesParams(u),s.params=gt.extend(u,n);var c=s.params.el;if(!c)return r=s,g()(a,r);var l=K(c);if(0===l.length)return i=s,g()(a,i);var h=l.dataset();"step min max value".split(" ").forEach(function(t){void 0===n[t]&&void 0!==h[t]&&(s.params[t]=parseFloat(h[t]))}),"dual label".split(" ").forEach(function(t){void 0===n[t]&&void 0!==h[t]&&(s.params[t]=h[t])}),s.params.value||(void 0!==h.value&&(s.params.value=h.value),void 0!==h.valueLeft&&void 0!==h.valueRight&&(s.params.value=[parseFloat(h.valueLeft),parseFloat(h.valueRight)]));var f=void 0;s.params.dual||(s.params.inputEl?f=K(s.params.inputEl):l.find('input[type="range"]').length&&(f=l.find('input[type="range"]').eq(0)));var d=s.params,v=d.dual,m=d.step,y=d.label,b=d.min,w=d.max,x=d.value;gt.extend(s,{$el:l,el:l[0],$inputEl:f,inputEl:f?f[0]:void 0,dual:v,step:m,label:y,min:b,max:w,value:x,previousValue:x}),f&&("step min max".split(" ").forEach(function(t){!n[t]&&f.attr(t)&&(s.params[t]=parseFloat(f.attr(t)),s[t]=parseFloat(f.attr(t)))}),void 0!==f.val()&&(s.params.value=parseFloat(f.val()),s.value=parseFloat(f.val()))),s.dual&&l.addClass("range-slider-dual"),s.label&&l.addClass("range-slider-label");var E=K('<div class="range-bar"></div>'),C=K('<div class="range-bar-active"></div>');E.append(C);var k='\n      <div class="range-knob-wrap">\n        <div class="range-knob"></div>\n        '+(s.label?'<div class="range-knob-label"></div>':"")+"\n      </div>\n    ",T=[K(k)],S=[];s.dual&&T.push(K(k)),l.append(E),T.forEach(function(t){l.append(t)}),s.label&&(S.push(T[0].find(".range-knob-label")),s.dual&&S.push(T[1].find(".range-knob-label"))),gt.extend(s,{app:t,knobs:T,labels:S,$barEl:E,$barActiveEl:C}),l[0].f7Range=s;var O=void 0,M={},A=void 0,P=void 0,I=void 0,N=void 0,D=void 0;function R(){D=!0}function j(t){if(!O&&(s.params.draggableBar||0!==K(t.target).closest(".range-knob").length)){D=!1,M.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,M.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,O=!0,A=void 0,P=l.offset().left;var e=void 0,n=(e=s.app.rtl?(P+s.rangeWidth-M.x)/s.rangeWidth:(M.x-P)/s.rangeWidth)*(s.max-s.min)+s.min;s.dual?Math.abs(s.value[0]-n)<Math.abs(s.value[1]-n)?(N=0,I=s.knobs[0],n=[n,s.value[1]]):(N=1,I=s.knobs[1],n=[s.value[0],n]):(I=s.knobs[0],n=e*(s.max-s.min)+s.min),gt.nextTick(function(){O&&I.addClass("range-knob-active-state")},70),s.on("change",R),s.setValue(n,!0)}}function L(t){if(O){var e="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,n="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY;if(void 0===A&&(A=!!(A||Math.abs(n-M.y)>Math.abs(e-M.x))),A)O=!1;else{t.preventDefault();var r=(s.app.rtl?(P+s.rangeWidth-e)/s.rangeWidth:(e-P)/s.rangeWidth)*(s.max-s.min)+s.min;if(s.dual){var i=void 0,o=void 0;0===N?(i=r)>(o=s.value[1])&&(o=i):(o=r)<(i=s.value[0])&&(i=o),r=[i,o]}s.setValue(r,!0)}}}function F(){if(!O)return A&&I.removeClass("range-knob-active-state"),void(O=!1);s.off("change",R),O=!1,I.removeClass("range-knob-active-state"),D&&s.$inputEl&&!s.dual&&s.$inputEl.trigger("change"),D=!1,void 0!==s.previousValue&&(s.dual&&(s.previousValue[0]!==s.value[0]||s.previousValue[1]!==s.value[1])||!s.dual&&s.previousValue!==s.value)&&(s.$el.trigger("range:changed",s,s.value),s.emit("local::changed rangeChanged",s,s.value))}function B(){s.calcSize(),s.layout()}return s.attachEvents=function(){var e=!!Mt.passiveListener&&{passive:!0};s.$el.on(t.touchEvents.start,j,e),t.on("touchmove",L),t.on("touchend:passive",F),t.on("tabShow",B),t.on("resize",B),s.$el.parents(".sheet-modal, .actions-modal, .popup, .popover, .login-screen, .dialog, .toast").on("modal:open",B),s.$el.parents(".panel").on("panel:open",B)},s.detachEvents=function(){var e=!!Mt.passiveListener&&{passive:!0};s.$el.off(t.touchEvents.start,j,e),t.off("touchmove",L),t.off("touchend:passive",F),t.off("tabShow",B),t.off("resize",B),s.$el.parents(".sheet-modal, .actions-modal, .popup, .popover, .login-screen, .dialog, .toast").off("modal:open",B),s.$el.parents(".panel").off("panel:open",B)},s.useModules(),s.init(),o=s,g()(a,o)}return y()(e,t),x()(e,[{key:"calcSize",value:function(){var t=this.$el.outerWidth();0!==t&&(this.rangeWidth=t,this.knobWidth=this.knobs[0].outerWidth())}},{key:"layout",value:function(){var t=this.app,e=this.knobWidth,n=this.rangeWidth,r=this.min,i=this.max,o=this.knobs,a=this.$barActiveEl,s=this.value,c=this.label,l=this.labels,h=t.rtl?"right":"left";if(this.dual){var f,d=[(s[0]-r)/(i-r),(s[1]-r)/(i-r)];a.css((f={},u()(f,h,100*d[0]+"%"),u()(f,"width",100*(d[1]-d[0])+"%"),f)),o.forEach(function(t,r){var i=n*d[r],o=n*d[r]-e/2;o<0&&(i=e/2),o+e>n&&(i=n-e/2),t.css(h,i+"px"),c&&l[r].text(s[r])})}else{var p=(s-r)/(i-r);a.css("width",100*p+"%");var v=n*p,g=n*p-e/2;g<0&&(v=e/2),g+e>n&&(v=n-e/2),o[0].css(h,v+"px"),c&&l[0].text(s)}this.dual&&s.indexOf(r)>=0||!this.dual&&s===r?this.$el.addClass("range-slider-min"):this.$el.removeClass("range-slider-min"),this.dual&&s.indexOf(i)>=0||!this.dual&&s===i?this.$el.addClass("range-slider-max"):this.$el.removeClass("range-slider-max")}},{key:"setValue",value:function(t,e){var n=this,r=n.step,i=n.min,o=n.max,a=void 0,s=void 0;if(n.dual){s=[n.value[0],n.value[1]];var u=t;if(Array.isArray(u)||(u=[t,t]),t[0]>t[1]&&(u=[u[0],u[0]]),(u=u.map(function(t){return Math.max(Math.min(Math.round(t/r)*r,o),i)}))[0]===n.value[0]&&u[1]===n.value[1])return n;u.forEach(function(t,e){n.value[e]=t}),a=s[0]!==u[0]||s[1]!==u[1],n.layout()}else{s=n.value;var c=Math.max(Math.min(Math.round(t/r)*r,o),i);n.value=c,n.layout(),a=s!==c}return a&&(n.previousValue=s),a?(n.$el.trigger("range:change",n,n.value),n.$inputEl&&!n.dual&&(n.$inputEl.val(n.value),e?n.$inputEl.trigger("input"):n.$inputEl.trigger("input change")),e||(n.$el.trigger("range:changed",n,n.value),n.emit("local::changed rangeChanged",n,n.value)),n.emit("local::change rangeChange",n,n.value),n):n}},{key:"getValue",value:function(){return this.value}},{key:"init",value:function(){return this.calcSize(),this.layout(),this.attachEvents(),this}},{key:"destroy",value:function(){var t=this;t.$el.trigger("range:beforedestroy",t),t.emit("local::beforeDestroy rangeBeforeDestroy",t),delete t.$el[0].f7Range,t.detachEvents(),gt.deleteProps(t),t=null}}]),e}(yt),cn={name:"range",create:function(){var t=this;t.range=gt.extend(we({defaultSelector:".range-slider",constructor:un,app:t,domProp:"f7Range"}),{getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".range-slider",n=t.range.get(e);if(n)return n.getValue()},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".range-slider",n=arguments[1],r=t.range.get(e);if(r)return r.setValue(n)}})},static:{Range:un},on:{tabMounted:function(t){var e=this;K(t).find(".range-slider-init").each(function(t,n){return new un(e,{el:n})})},tabBeforeRemove:function(t){K(t).find(".range-slider-init").each(function(t,e){e.f7Range&&e.f7Range.destroy()})},pageInit:function(t){var e=this;t.$el.find(".range-slider-init").each(function(t,n){return new un(e,{el:n})})},pageBeforeRemove:function(t){t.$el.find(".range-slider-init").each(function(t,e){e.f7Range&&e.f7Range.destroy()})}}},ln=function(t){function e(t,n){var r,o,a;_()(this,e);var s=g()(this,(e.__proto__||p()(e)).call(this,n,[t])),u=s,c={el:null,inputEl:null,valueEl:null,value:0,formatValue:null,step:1,min:0,max:100,watchInput:!0,autorepeat:!1,autorepeatDynamic:!1,wraps:!1};u.useModulesParams(c),u.params=gt.extend(c,n),u.params.value<u.params.min&&(u.params.value=u.params.min),u.params.value>u.params.max&&(u.params.value=u.params.max);var l=u.params.el;if(!l)return r=u,g()(s,r);var h=K(l);if(0===h.length)return o=u,g()(s,o);var f=void 0;if(u.params.inputEl?f=K(u.params.inputEl):h.find(".stepper-input-wrap").find("input, textarea").length&&(f=h.find(".stepper-input-wrap").find("input, textarea").eq(0)),f&&f.length){"step min max".split(" ").forEach(function(t){!n[t]&&f.attr(t)&&(u.params[t]=parseFloat(f.attr(t)))});var d=parseFloat(f.val());void 0!==n.value||i()(d)||!d&&0!==d||(u.params.value=d)}var v=void 0;u.params.valueEl?v=K(u.params.valueEl):h.find(".stepper-value").length&&(v=h.find(".stepper-value").eq(0));var m=h.find(".stepper-button-plus"),y=h.find(".stepper-button-minus"),b=u.params,w=b.step,x=b.min,E=b.max,C=b.value;gt.extend(u,{app:t,$el:h,el:h[0],$buttonPlusEl:m,buttonPlusEl:m[0],$buttonMinusEl:y,buttonMinusEl:y[0],$inputEl:f,inputEl:f?f[0]:void 0,$valueEl:v,valueEl:v?v[0]:void 0,step:w,min:x,max:E,value:C}),h[0].f7Stepper=u;var k={},T=void 0,S=void 0,O=void 0,M=void 0,A=void 0,P=null,I=!1;function N(t){T||(K(t.target).closest(m).length?P="increment":K(t.target).closest(y).length&&(P="decrement"),P&&(k.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,k.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,T=!0,S=void 0,function t(e,n,r,i,o,a){clearTimeout(A),A=setTimeout(function(){1===e&&(O=!0,I=!0),clearInterval(M),a(),M=setInterval(function(){a()},o),e<n&&t(e+1,n,r,i,o/2,a)},1===e?r:i)}(1,u.params.autorepeatDynamic?4:1,500,1e3,300,function(){u[P]()})))}function D(t){if(T){var e="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,n="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY;void 0!==S||I||(S=!!(S||Math.abs(n-k.y)>Math.abs(e-k.x)));var r=Math.pow(Math.pow(e-k.x,2)+Math.pow(n-k.y,2),.5);(S||r>20)&&(T=!1,clearTimeout(A),clearInterval(M))}}function R(){clearTimeout(A),clearInterval(M),P=null,I=!1,T=!1}function j(){O?O=!1:u.decrement()}function L(){O?O=!1:u.increment()}function F(t){t.detail&&t.detail.sentByF7Stepper||u.setValue(t.target.value,!0)}return u.attachEvents=function(){y.on("click",j),m.on("click",L),u.params.watchInput&&f&&f.length&&f.on("input",F),u.params.autorepeat&&(t.on("touchstart:passive",N),t.on("touchmove:active",D),t.on("touchend:passive",R))},u.detachEvents=function(){y.off("click",j),m.off("click",L),u.params.watchInput&&f&&f.length&&f.off("input",F)},u.useModules(),u.init(),a=u,g()(s,a)}return y()(e,t),x()(e,[{key:"minus",value:function(){return this.decrement()}},{key:"plus",value:function(){return this.increment()}},{key:"decrement",value:function(){return this.setValue(this.value-this.step)}},{key:"increment",value:function(){return this.setValue(this.value+this.step)}},{key:"setValue",value:function(t,e){var n=this.step,r=this.min,o=this.max,a=this.value,s=Math.round(t/n)*n;if(this.params.wraps?(s>o&&(s=r),s<r&&(s=o)):s=Math.max(Math.min(s,o),r),i()(s)&&(s=a),this.value=s,!(a!==s)&&!e)return this;this.$el.trigger("stepper:change",this,this.value);var u=this.formatValue(this.value);return this.$inputEl&&this.$inputEl.length&&(this.$inputEl.val(u),this.$inputEl.trigger("input change",{sentByF7Stepper:!0})),this.$valueEl&&this.$valueEl.length&&this.$valueEl.html(u),this.emit("local::change stepperChange",this,this.value),this}},{key:"getValue",value:function(){return this.value}},{key:"formatValue",value:function(t){return this.params.formatValue?this.params.formatValue.call(this,t):t}},{key:"init",value:function(){if(this.attachEvents(),this.$valueEl&&this.$valueEl.length){var t=this.formatValue(this.value);this.$valueEl.html(t)}return this}},{key:"destroy",value:function(){var t=this;t.$el.trigger("stepper:beforedestroy",t),t.emit("local::beforeDestroy stepperBeforeDestroy",t),delete t.$el[0].f7Stepper,t.detachEvents(),gt.deleteProps(t),t=null}}]),e}(yt),hn={name:"stepper",create:function(){var t=this;t.stepper=gt.extend(we({defaultSelector:".stepper",constructor:ln,app:t,domProp:"f7Stepper"}),{getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".stepper",n=t.stepper.get(e);if(n)return n.getValue()},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".stepper",n=arguments[1],r=t.stepper.get(e);if(r)return r.setValue(n)}})},static:{Stepper:ln},on:{tabMounted:function(t){var e=this;K(t).find(".stepper-init").each(function(t,n){var r=K(n).dataset();new ln(e,gt.extend({el:n},r||{}))})},tabBeforeRemove:function(t){K(t).find(".stepper-init").each(function(t,e){e.f7Stepper&&e.f7Stepper.destroy()})},pageInit:function(t){var e=this;t.$el.find(".stepper-init").each(function(t,n){var r=K(n).dataset();new ln(e,gt.extend({el:n},r||{}))})},pageBeforeRemove:function(t){t.$el.find(".stepper-init").each(function(t,e){e.f7Stepper&&e.f7Stepper.destroy()})}}},fn=function(t){function e(t){var n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_()(this,e);var a=g()(this,(e.__proto__||p()(e)).call(this,o,[t])),s=a;s.app=t;var u=gt.extend({on:{}},t.params.smartSelect),c=K(o.el).eq(0);if(0===c.length)return n=s,g()(a,n);var l=c.find("select").eq(0);if(0===l.length)return r=s,g()(a,r);var h=K(o.valueEl);0===h.length&&(h=c.find(".item-after")),0===h.length&&(h=K('<div class="item-after"></div>')).insertAfter(c.find(".item-title")),s.useModulesParams(u);var f=o.view;if(f||(f=c.parents(".view").length&&c.parents(".view")[0].f7View),!f)throw Error("Smart Select requires initialized View");var d=o.url;d||(d=c.attr("href")&&"#"!==c.attr("href")?c.attr("href"):l.attr("name").toLowerCase()+"-select/"),d||(d=s.params.url);var v=l[0].multiple,m=v?"checkbox":"radio",y=gt.now();function b(){s.open()}function w(){s.setValue()}function x(){var t=void 0,e=void 0,n=this.value,r=[],i=void 0;if("checkbox"===this.type){for(var o=0;o<s.selectEl.options.length;o+=1)(t=s.selectEl.options[o]).value===n&&(t.selected=this.checked),t.selected&&(e=(i=t.dataset?t.dataset.displayAs:K(t).data("display-value-as"))&&void 0!==i?i:t.textContent,r.push(e.trim()));s.maxLength&&s.checkMaxLength()}else r=[e=(i=(t=s.$selectEl.find('option[value="'+n+'"]')[0]).dataset?t.dataset.displayAs:K(t).data("display-as"))&&void 0!==i?i:t.textContent],s.selectEl.value=n;s.$selectEl.trigger("change"),s.$valueEl.text(r.join(", ")),s.params.closeOnSelect&&"radio"===s.inputType&&s.close()}return gt.extend(s,{params:gt.extend(u,o),$el:c,el:c[0],$selectEl:l,selectEl:l[0],$valueEl:h,valueEl:h[0],url:d,multiple:v,inputType:m,id:y,view:f,inputName:m+"-"+y,selectName:l.attr("name"),maxLength:l.attr("maxlength")||o.maxLength}),c[0].f7SmartSelect=s,s.attachEvents=function(){c.on("click",b),c.on("change","select",w)},s.detachEvents=function(){c.off("click",b),c.off("change","select",w)},s.attachInputsEvents=function(){s.$containerEl.on("change",'input[type="checkbox"], input[type="radio"]',x)},s.detachInputsEvents=function(){s.$containerEl.off("change",'input[type="checkbox"], input[type="radio"]',x)},s.useModules(),s.init(),i=s,g()(a,i)}return y()(e,t),x()(e,[{key:"checkMaxLength",value:function(){var t=this.$containerEl;this.selectEl.selectedOptions.length>=this.maxLength?t.find('input[type="checkbox"]').each(function(t,e){e.checked?K(e).parents("li").removeClass("disabled"):K(e).parents("li").addClass("disabled")}):t.find(".disabled").removeClass("disabled")}},{key:"setValue",value:function(t){var e=[];void 0!==t?e=Array.isArray(t)?t:[t]:this.$selectEl.find("option").each(function(t,n){var r=K(n);if(n.selected){var i=n.dataset?n.dataset.displayAs:r.data("display-value-as");i&&void 0!==i?e.push(i):e.push(n.textContent.trim())}}),this.$valueEl.text(e.join(", "))}},{key:"getItemsData",value:function(){var t=this,e=[],n=void 0;return t.$selectEl.find("option").each(function(r,i){var o=K(i),a=o.dataset(),s=a.optionImage||t.params.optionImage,u=a.optionIcon||t.params.optionIcon,c=s||u,l=a.optionColor,h=a.optionClass||"";o[0].disabled&&(h+=" disabled");var f=o.parent("optgroup")[0],d=f&&f.label,p=!1;f&&f!==n&&(p=!0,n=f,e.push({groupLabel:d,isLabel:p})),e.push({value:o[0].value,text:o[0].textContent.trim(),selected:o[0].selected,groupEl:f,groupLabel:d,image:s,icon:u,color:l,className:h,disabled:o[0].disabled,id:t.id,hasMedia:c,checkbox:"checkbox"===t.inputType,radio:"radio"===t.inputType,inputName:t.inputName,inputType:t.inputType})}),t.items=e,e}},{key:"renderSearchbar",value:function(){var t=this;return t.params.renderSearchbar?t.params.renderSearchbar.call(t):'\n      <form class="searchbar">\n        <div class="searchbar-inner">\n          <div class="searchbar-input-wrap">\n            <input type="search" placeholder="'+t.params.searchbarPlaceholder+'"/>\n            <i class="searchbar-icon"></i>\n            <span class="input-clear-button"></span>\n          </div>\n          <span class="searchbar-disable-button">'+t.params.searchbarDisableText+"</span>\n        </div>\n      </form>\n    "}},{key:"renderItem",value:function(t,e){if(this.params.renderItem)return this.params.renderItem.call(this,t,e);return t.isLabel?'<li class="item-divider">'+t.groupLabel+"</li>":'\n        <li class="'+(t.className||"")+'">\n          <label class="item-'+t.inputType+' item-content">\n            <input type="'+t.inputType+'" name="'+t.inputName+'" value="'+t.value+'" '+(t.selected?"checked":"")+'/>\n            <i class="icon icon-'+t.inputType+'"></i>\n            '+(t.hasMedia?'\n              <div class="item-media">\n                '+(t.icon?'<i class="icon '+t.icon+'"></i>':"")+"\n                "+(t.image?'<img src="'+t.image+'">':"")+"\n              </div>\n            ":"")+'\n            <div class="item-inner">\n              <div class="item-title'+(t.color?" color-"+t.color:"")+'">'+t.text+"</div>\n            </div>\n          </label>\n        </li>\n      "}},{key:"renderItems",value:function(){var t=this;return t.params.renderItems?t.params.renderItems.call(t,t.items):"\n      "+t.items.map(function(e,n){return""+t.renderItem(e,n)}).join("")+"\n    "}},{key:"renderPage",value:function(){var t=this;if(t.params.renderPage)return t.params.renderPage.call(t,t.items);var e=t.params.pageTitle;return void 0===e&&(e=t.$el.find(".item-title").text().trim()),'\n      <div class="page smart-select-page" data-name="smart-select-page" data-select-name="'+t.selectName+'">\n        <div class="navbar '+(t.params.navbarColorTheme?"color-theme-"+t.params.navbarColorTheme:"")+'">\n          <div class="navbar-inner sliding '+(t.params.navbarColorTheme?"color-theme-"+t.params.navbarColorTheme:"")+'">\n            <div class="left">\n              <a href="#" class="link back">\n                <i class="icon icon-back"></i>\n                <span class="ios-only">'+t.params.pageBackLinkText+"</span>\n              </a>\n            </div>\n            "+(e?'<div class="title">'+e+"</div>":"")+"\n            "+(t.params.searchbar?'<div class="subnavbar">'+t.renderSearchbar()+"</div>":"")+"\n          </div>\n        </div>\n        "+(t.params.searchbar?'<div class="searchbar-backdrop"></div>':"")+'\n        <div class="page-content">\n          <div class="list smart-select-list-'+t.id+" "+(t.params.virtualList?" virtual-list":"")+" "+(t.params.formColorTheme?"color-theme-"+t.params.formColorTheme:"")+'">\n            <ul>'+(!t.params.virtualList&&t.renderItems(t.items))+"</ul>\n          </div>\n        </div>\n      </div>\n    "}},{key:"renderPopup",value:function(){var t=this;if(t.params.renderPopup)return t.params.renderPopup.call(t,t.items);var e=t.params.pageTitle;return void 0===e&&(e=t.$el.find(".item-title").text().trim()),'\n      <div class="popup smart-select-popup" data-select-name="'+t.selectName+'">\n        <div class="view">\n          <div class="page smart-select-page '+(t.params.searchbar?"page-with-subnavbar":"")+'" data-name="smart-select-page">\n            <div class="navbar'+(t.params.navbarColorTheme?"theme-"+t.params.navbarColorTheme:"")+'">\n              <div class="navbar-inner sliding">\n                <div class="left">\n                  <a href="#" class="link popup-close">\n                    <i class="icon icon-back"></i>\n                    <span class="ios-only">'+t.params.popupCloseLinkText+"</span>\n                  </a>\n                </div>\n                "+(e?'<div class="title">'+e+"</div>":"")+"\n                "+(t.params.searchbar?'<div class="subnavbar">'+t.renderSearchbar()+"</div>":"")+"\n              </div>\n            </div>\n            "+(t.params.searchbar?'<div class="searchbar-backdrop"></div>':"")+'\n            <div class="page-content">\n              <div class="list smart-select-list-'+t.id+" "+(t.params.virtualList?" virtual-list":"")+(t.params.formColorTheme?"theme-"+t.params.formColorTheme:"")+'">\n                <ul>'+(!t.params.virtualList&&t.renderItems(t.items))+"</ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    "}},{key:"renderSheet",value:function(){var t=this;return t.params.renderSheet?t.params.renderSheet.call(t,t.items):'\n      <div class="sheet-modal smart-select-sheet" data-select-name="'+t.selectName+'">\n        <div class="toolbar '+(t.params.toolbarColorTheme?"theme-"+t.params.toolbarColorTheme:"")+'">\n          <div class="toolbar-inner">\n            <div class="left"></div>\n            <div class="right">\n              <a class="link sheet-close">'+t.params.sheetCloseLinkText+'</a>\n            </div>\n          </div>\n        </div>\n        <div class="sheet-modal-inner">\n          <div class="page-content">\n            <div class="list smart-select-list-'+t.id+" "+(t.params.virtualList?" virtual-list":"")+(t.params.formColorTheme?"theme-"+t.params.formColorTheme:"")+'">\n              <ul>'+(!t.params.virtualList&&t.renderItems(t.items))+"</ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    "}},{key:"renderPopover",value:function(){var t=this;return t.params.renderPopover?t.params.renderPopover.call(t,t.items):'\n      <div class="popover smart-select-popover" data-select-name="'+t.selectName+'">\n        <div class="popover-inner">\n          <div class="list smart-select-list-'+t.id+" "+(t.params.virtualList?" virtual-list":"")+(t.params.formColorTheme?"theme-"+t.params.formColorTheme:"")+'">\n            <ul>'+(!t.params.virtualList&&t.renderItems(t.items))+"</ul>\n          </div>\n        </div>\n      </div>\n    "}},{key:"onOpen",value:function(t,e){var n=this,r=n.app,i=K(e);if(n.$containerEl=i,n.openedIn=t,n.opened=!0,n.params.virtualList&&(n.vl=r.virtualList.create({el:i.find(".virtual-list"),items:n.items,renderItem:n.renderItem.bind(n),height:n.params.virtualListHeight,searchByItem:function(t,e){return!!(e.text&&e.text.toLowerCase().indexOf(t.trim().toLowerCase())>=0)}})),n.params.searchbar){var o=i.find(".searchbar");"page"===t&&"ios"===r.theme&&(o=K(r.navbar.getElByPage(i)).find(".searchbar")),n.searchbar=r.searchbar.create({el:o,backdropEl:i.find(".searchbar-backdrop"),searchContainer:".smart-select-list-"+n.id,searchIn:".item-title"})}n.maxLength&&n.checkMaxLength(),n.params.closeOnSelect&&n.$containerEl.find('input[type="radio"][name="'+n.inputName+'"]:checked').parents("label").once("click",function(){n.close()}),n.attachInputsEvents(),n.$el.trigger("smartselect:open",n),n.emit("local::open smartSelectOpen",n)}},{key:"onOpened",value:function(){this.$el.trigger("smartselect:opened",this),this.emit("local::opened smartSelectOpened",this)}},{key:"onClose",value:function(){var t=this;t.destroyed||(t.vl&&t.vl.destroy&&(t.vl.destroy(),t.vl=null,delete t.vl),t.searchbar&&t.searchbar.destroy&&(t.searchbar.destroy(),t.searchbar=null,delete t.searchbar),t.detachInputsEvents(),t.$el.trigger("smartselect:close",t),t.emit("local::close smartSelectClose",t))}},{key:"onClosed",value:function(){var t=this;t.destroyed||(t.opened=!1,t.$containerEl=null,delete t.$containerEl,t.$el.trigger("smartselect:closed",t),t.emit("local::closed smartSelectClosed",t))}},{key:"openPage",value:function(){var t=this;if(t.opened)return t;t.getItemsData();var e=t.renderPage(t.items);return t.view.router.navigate({url:t.url,route:{content:e,path:t.url,on:{pageBeforeIn:function(e,n){t.onOpen("page",n.el)},pageAfterIn:function(e,n){t.onOpened("page",n.el)},pageBeforeOut:function(e,n){t.onClose("page",n.el)},pageAfterOut:function(e,n){t.onClosed("page",n.el)}}}}),t}},{key:"openPopup",value:function(){var t=this;if(t.opened)return t;t.getItemsData();var e={content:t.renderPopup(t.items),on:{popupOpen:function(e){t.onOpen("popup",e.el)},popupOpened:function(e){t.onOpened("popup",e.el)},popupClose:function(e){t.onClose("popup",e.el)},popupClosed:function(e){t.onClosed("popup",e.el)}}};return t.params.routableModals?t.view.router.navigate({url:t.url,route:{path:t.url,popup:e}}):t.modal=t.app.popup.create(e).open(),t}},{key:"openSheet",value:function(){var t=this;if(t.opened)return t;t.getItemsData();var e={content:t.renderSheet(t.items),backdrop:!1,scrollToEl:t.$el,closeByOutsideClick:!0,on:{sheetOpen:function(e){t.onOpen("sheet",e.el)},sheetOpened:function(e){t.onOpened("sheet",e.el)},sheetClose:function(e){t.onClose("sheet",e.el)},sheetClosed:function(e){t.onClosed("sheet",e.el)}}};return t.params.routableModals?t.view.router.navigate({url:t.url,route:{path:t.url,sheet:e}}):t.modal=t.app.sheet.create(e).open(),t}},{key:"openPopover",value:function(){var t=this;if(t.opened)return t;t.getItemsData();var e={content:t.renderPopover(t.items),targetEl:t.$el,on:{popoverOpen:function(e){t.onOpen("popover",e.el)},popoverOpened:function(e){t.onOpened("popover",e.el)},popoverClose:function(e){t.onClose("popover",e.el)},popoverClosed:function(e){t.onClosed("popover",e.el)}}};return t.params.routableModals?t.view.router.navigate({url:t.url,route:{path:t.url,popover:e}}):t.modal=t.app.popover.create(e).open(),t}},{key:"open",value:function(t){var e=this;return e.opened?e:(e["open"+(t||e.params.openIn).split("").map(function(t,e){return 0===e?t.toUpperCase():t}).join("")](),e)}},{key:"close",value:function(){var t=this;return t.opened?(t.params.routableModals||"page"===t.openedIn?t.view.router.back():(t.modal.once("modalClosed",function(){gt.nextTick(function(){t.modal.destroy(),delete t.modal})}),t.modal.close()),t):t}},{key:"init",value:function(){this.attachEvents(),this.setValue()}},{key:"destroy",value:function(){var t=this;t.emit("local::beforeDestroy smartSelectBeforeDestroy",t),t.$el.trigger("smartselect:beforedestroy",t),t.detachEvents(),delete t.$el[0].f7SmartSelect,gt.deleteProps(t),t.destroyed=!0}}]),e}(yt),dn={name:"smartSelect",params:{smartSelect:{el:void 0,valueEl:void 0,openIn:"page",pageTitle:void 0,pageBackLinkText:"Back",popupCloseLinkText:"Close",sheetCloseLinkText:"Done",searchbar:!1,searchbarPlaceholder:"Search",searchbarDisableText:"Cancel",closeOnSelect:!1,virtualList:!1,virtualListHeight:void 0,formColorTheme:void 0,navbarColorTheme:void 0,routableModals:!0,url:"select/",renderPage:void 0,renderPopup:void 0,renderSheet:void 0,renderPopover:void 0,renderItems:void 0,renderItem:void 0,renderSearchbar:void 0}},static:{SmartSelect:fn},create:function(){var t=this;t.smartSelect=gt.extend(we({defaultSelector:".smart-select",constructor:fn,app:t,domProp:"f7SmartSelect"}),{open:function(e){var n=t.smartSelect.get(e);if(n&&n.open)return n.open()},close:function(e){var n=t.smartSelect.get(e);if(n&&n.close)return n.close()}})},on:{tabMounted:function(t){var e=this;K(t).find(".smart-select-init").each(function(t,n){e.smartSelect.create(gt.extend({el:n},K(n).dataset()))})},tabBeforeRemove:function(t){K(t).find(".smart-select-init").each(function(t,e){e.f7SmartSelect&&e.f7SmartSelect.destroy&&e.f7SmartSelect.destroy()})},pageInit:function(t){var e=this;t.$el.find(".smart-select-init").each(function(t,n){e.smartSelect.create(gt.extend({el:n},K(n).dataset()))})},pageBeforeRemove:function(t){t.$el.find(".smart-select-init").each(function(t,e){e.f7SmartSelect&&e.f7SmartSelect.destroy&&e.f7SmartSelect.destroy()})}},clicks:{".smart-select":function(t,e){t[0].f7SmartSelect||this.smartSelect.create(gt.extend({el:t},e)).open()}}},pn=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_()(this,e);var i=g()(this,(e.__proto__||p()(e)).call(this,r,[t])),o=i;o.params=gt.extend({},t.params.calendar,r);var a,s=void 0;if(o.params.containerEl&&0===(s=K(o.params.containerEl)).length)return a=o,g()(i,a);var u=void 0;o.params.inputEl&&(u=K(o.params.inputEl));var c=void 0;u&&(c=u.parents(".view").length&&u.parents(".view")[0].f7View),c||(c=t.views.main);var l="horizontal"===o.params.direction,h=1;function f(){o.open()}function d(t){t.preventDefault()}function v(t){var e=K(t.target);o.isPopover()||o.opened&&(e.closest('[class*="backdrop"]').length||(u&&u.length>0?e[0]!==u[0]&&0===e.closest(".sheet-modal, .calendar-modal").length&&o.close():0===K(t.target).closest(".sheet-modal, .calendar-modal").length&&o.close()))}return l&&(h=t.rtl?-1:1),gt.extend(o,{app:t,$containerEl:s,containerEl:s&&s[0],inline:s&&s.length>0,$inputEl:u,inputEl:u&&u[0],initialized:!1,opened:!1,url:o.params.url,isHorizontal:l,inverter:h,view:c,animating:!1}),gt.extend(o,{attachInputEvents:function(){o.$inputEl.on("click",f),o.params.inputReadOnly&&o.$inputEl.on("focus mousedown",d)},detachInputEvents:function(){o.$inputEl.off("click",f),o.params.inputReadOnly&&o.$inputEl.off("focus mousedown",d)},attachHtmlEvents:function(){t.on("click",v)},detachHtmlEvents:function(){t.off("click",v)}}),o.attachCalendarEvents=function(){var e=!0,n=void 0,r=void 0,i=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,h=void 0,f=void 0,d=void 0,p=void 0,v=void 0,g=o.$el,m=o.$wrapperEl;function y(t){r||n||(n=!0,i="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,s=i,a="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,u=a,c=(new Date).getTime(),d=0,e=!0,v=void 0,l=o.monthsTranslate)}function b(t){if(n){var c=o.isHorizontal;s="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,u="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,void 0===v&&(v=!!(v||Math.abs(u-a)>Math.abs(s-i))),c&&v?n=!1:(t.preventDefault(),o.animating?n=!1:(e=!1,r||(r=!0,h=m[0].offsetWidth,f=m[0].offsetHeight,m.transition(0)),d=(p=c?s-i:u-a)/(c?h:f),l=100*(o.monthsTranslate*o.inverter+d),m.transform("translate3d("+(c?l:0)+"%, "+(c?0:l)+"%, 0)")))}}function _(){if(!n||!r)return n=!1,void(r=!1);n=!1,r=!1,(new Date).getTime()-c<300?Math.abs(p)<10?o.resetMonth():p>=10?t.rtl?o.nextMonth():o.prevMonth():t.rtl?o.prevMonth():o.nextMonth():d<=-.5?t.rtl?o.prevMonth():o.nextMonth():d>=.5?t.rtl?o.nextMonth():o.prevMonth():o.resetMonth(),setTimeout(function(){e=!0},100)}function w(t){if(e){var n=K(t.target).parents(".calendar-day");if(0===n.length&&K(t.target).hasClass("calendar-day")&&(n=K(t.target)),0!==n.length&&!n.hasClass("calendar-day-disabled")){o.params.rangePicker||(n.hasClass("calendar-day-next")&&o.nextMonth(),n.hasClass("calendar-day-prev")&&o.prevMonth());var r=n.attr("data-year"),i=n.attr("data-month"),a=n.attr("data-day");o.emit("local::dayClick calendarDayClick",o,n[0],r,i,a),(!n.hasClass("calendar-day-selected")||o.params.multiple||o.params.rangePicker)&&o.addValue(new Date(r,i,a,0,0,0)),o.params.closeOnSelect&&(o.params.rangePicker&&2===o.value.length||!o.params.rangePicker)&&o.close()}}}function x(){o.nextMonth()}function E(){o.prevMonth()}function C(){o.nextYear()}function k(){o.prevYear()}var T=!("touchstart"!==t.touchEvents.start||!t.support.passiveListener)&&{passive:!0,capture:!1};g.find(".calendar-prev-month-button").on("click",E),g.find(".calendar-next-month-button").on("click",x),g.find(".calendar-prev-year-button").on("click",k),g.find(".calendar-next-year-button").on("click",C),m.on("click",w),o.params.touchMove&&(m.on(t.touchEvents.start,y,T),t.on("touchmove:active",b),t.on("touchend:passive",_)),o.detachCalendarEvents=function(){g.find(".calendar-prev-month-button").off("click",E),g.find(".calendar-next-month-button").off("click",x),g.find(".calendar-prev-year-button").off("click",k),g.find(".calendar-next-year-button").off("click",C),m.off("click",w),o.params.touchMove&&(m.off(t.touchEvents.start,y,T),t.off("touchmove:active",b),t.off("touchend:passive",_))}},o.init(),n=o,g()(i,n)}return y()(e,t),x()(e,[{key:"normalizeDate",value:function(t){var e=new Date(t);return new Date(e.getFullYear(),e.getMonth(),e.getDate())}},{key:"normalizeValues",value:function(t){var e=this,n=[];return t&&Array.isArray(t)&&(n=t.map(function(t){return e.normalizeDate(t)})),n}},{key:"initInput",value:function(){this.$inputEl&&this.params.inputReadOnly&&this.$inputEl.prop("readOnly",!0)}},{key:"isPopover",value:function(){var t=this.app,e=this.modal,n=this.params;if("sheet"===n.openIn)return!1;if(e&&"popover"!==e.type)return!1;if(!this.inline&&this.inputEl){if("popover"===n.openIn)return!0;if(t.device.ios)return!!t.device.ipad;if(t.width>=768)return!0}return!1}},{key:"formatDate",value:function(t){var e=new Date(t),n=e.getFullYear(),r=e.getMonth(),i=r+1,o=e.getDate(),a=e.getDay(),s=this.params,u=s.dateFormat,c=s.monthNames,l=s.monthNamesShort,h=s.dayNames,f=s.dayNamesShort;return u.replace(/yyyy/g,n).replace(/yy/g,String(n).substring(2)).replace(/mm/g,i<10?"0"+i:i).replace(/m(\W+)/g,i+"$1").replace(/MM/g,c[r]).replace(/M(\W+)/g,l[r]+"$1").replace(/dd/g,o<10?"0"+o:o).replace(/d(\W+)/g,o+"$1").replace(/DD/g,h[a]).replace(/D(\W+)/g,f[a]+"$1")}},{key:"formatValue",value:function(){var t=this,e=t.value;return t.params.formatValue?t.params.formatValue.call(t,e):e.map(function(e){return t.formatDate(e)}).join(t.params.rangePicker?" - ":", ")}},{key:"addValue",value:function(t){var e=this.params,n=e.multiple,r=e.rangePicker;if(n){this.value||(this.value=[]);for(var i=void 0,o=0;o<this.value.length;o+=1)new Date(t).getTime()===new Date(this.value[o]).getTime()&&(i=o);void 0===i?this.value.push(t):this.value.splice(i,1),this.updateValue()}else r?(this.value||(this.value=[]),2!==this.value.length&&0!==this.value.length||(this.value=[]),this.value[0]!==t?this.value.push(t):this.value=[],this.value.sort(function(t,e){return t-e}),this.updateValue()):(this.value=[t],this.updateValue())}},{key:"setValue",value:function(t){this.value=t,this.updateValue()}},{key:"getValue",value:function(){return this.value}},{key:"updateValue",value:function(t){var e=this.$el,n=this.$wrapperEl,r=this.$inputEl,i=this.value,o=this.params,a=void 0;if(e&&e.length>0){n.find(".calendar-day-selected").removeClass("calendar-day-selected");var s=void 0;if(o.rangePicker&&2===i.length)for(a=new Date(i[0]).getTime();a<=new Date(i[1]).getTime();a+=864e5)s=new Date(a),n.find('.calendar-day[data-date="'+s.getFullYear()+"-"+s.getMonth()+"-"+s.getDate()+'"]').addClass("calendar-day-selected");else for(a=0;a<this.value.length;a+=1)s=new Date(i[a]),n.find('.calendar-day[data-date="'+s.getFullYear()+"-"+s.getMonth()+"-"+s.getDate()+'"]').addClass("calendar-day-selected")}if(t||this.emit("local::change calendarChange",this,i),r&&r.length||o.header){var u=this.formatValue(i);o.header&&e&&e.length&&e.find(".calendar-selected-date").text(u),r&&r.length&&!t&&(r.val(u),r.trigger("change"))}}},{key:"updateCurrentMonthYear",value:function(t){var e=this.$months,n=this.$el,r=this.params;void 0===t?(this.currentMonth=parseInt(e.eq(1).attr("data-month"),10),this.currentYear=parseInt(e.eq(1).attr("data-year"),10)):(this.currentMonth=parseInt(e.eq("next"===t?e.length-1:0).attr("data-month"),10),this.currentYear=parseInt(e.eq("next"===t?e.length-1:0).attr("data-year"),10)),n.find(".current-month-value").text(r.monthNames[this.currentMonth]),n.find(".current-year-value").text(this.currentYear)}},{key:"update",value:function(){var t=this,e=t.currentYear,n=t.currentMonth,r=t.$wrapperEl,i=new Date(e,n),o=t.renderMonth(i,"prev"),a=t.renderMonth(i),s=t.renderMonth(i,"next");r.transition(0).html(""+o+a+s).transform("translate3d(0,0,0)"),t.$months=r.find(".calendar-month"),t.monthsTranslate=0,t.setMonthsTranslate(),t.$months.each(function(e,n){t.emit("local::monthAdd calendarMonthAdd",n)})}},{key:"onMonthChangeStart",value:function(t){var e=this.$months,n=this.currentYear,r=this.currentMonth;this.updateCurrentMonthYear(t),e.removeClass("calendar-month-current calendar-month-prev calendar-month-next");var i="next"===t?e.length-1:0;e.eq(i).addClass("calendar-month-current"),e.eq("next"===t?i-1:i+1).addClass("next"===t?"calendar-month-prev":"calendar-month-next"),this.emit("local::monthYearChangeStart calendarMonthYearChangeStart",this,n,r)}},{key:"onMonthChangeEnd",value:function(t,e){var n=this.currentYear,r=this.currentMonth,i=this.$wrapperEl,o=this.monthsTranslate;this.animating=!1;var a=void 0,s=void 0,u=void 0;i.find(".calendar-month:not(.calendar-month-prev):not(.calendar-month-current):not(.calendar-month-next)").remove(),void 0===t&&(t="next",e=!0),e?(i.find(".calendar-month-next, .calendar-month-prev").remove(),s=this.renderMonth(new Date(n,r),"prev"),a=this.renderMonth(new Date(n,r),"next")):u=this.renderMonth(new Date(n,r),t),("next"===t||e)&&i.append(u||a),("prev"===t||e)&&i.prepend(u||s);var c=i.find(".calendar-month");this.$months=c,this.setMonthsTranslate(o),this.emit("local::monthAdd calendarMonthAdd",this,"next"===t?c.eq(c.length-1)[0]:c.eq(0)[0]),this.emit("local::monthYearChangeEnd calendarMonthYearChangeEnd",this,n,r)}},{key:"setMonthsTranslate",value:function(t){var e=this.$months,n=this.isHorizontal,r=this.inverter;t=t||this.monthsTranslate||0,void 0===this.monthsTranslate&&(this.monthsTranslate=t),e.removeClass("calendar-month-current calendar-month-prev calendar-month-next");var i=100*-(t+1)*r,o=100*-t*r,a=100*-(t-1)*r;e.eq(0).transform("translate3d("+(n?i:0)+"%, "+(n?0:i)+"%, 0)").addClass("calendar-month-prev"),e.eq(1).transform("translate3d("+(n?o:0)+"%, "+(n?0:o)+"%, 0)").addClass("calendar-month-current"),e.eq(2).transform("translate3d("+(n?a:0)+"%, "+(n?0:a)+"%, 0)").addClass("calendar-month-next")}},{key:"nextMonth",value:function(t){var e=this,n=e.params,r=e.$wrapperEl,i=e.inverter,o=e.isHorizontal;void 0!==t&&"object"!==(void 0===t?"undefined":T()(t))||(t="",n.animate||(t=0));var a=parseInt(e.$months.eq(e.$months.length-1).attr("data-month"),10),s=parseInt(e.$months.eq(e.$months.length-1).attr("data-year"),10),u=new Date(s,a).getTime(),c=!e.animating;if(n.maxDate&&u>new Date(n.maxDate).getTime())e.resetMonth();else{if(e.monthsTranslate-=1,a===e.currentMonth){var l=100*-e.monthsTranslate*i,h=K(e.renderMonth(u,"next")).transform("translate3d("+(o?l:0)+"%, "+(o?0:l)+"%, 0)").addClass("calendar-month-next");r.append(h[0]),e.$months=r.find(".calendar-month"),e.emit("local::monthAdd calendarMonthAdd",e.$months.eq(e.$months.length-1)[0])}e.animating=!0,e.onMonthChangeStart("next");var f=100*e.monthsTranslate*i;r.transition(t).transform("translate3d("+(o?f:0)+"%, "+(o?0:f)+"%, 0)"),c&&r.transitionEnd(function(){e.onMonthChangeEnd("next")}),n.animate||e.onMonthChangeEnd("next")}}},{key:"prevMonth",value:function(t){var e=this,n=e.params,r=e.$wrapperEl,i=e.inverter,o=e.isHorizontal;void 0!==t&&"object"!==(void 0===t?"undefined":T()(t))||(t="",n.animate||(t=0));var a=parseInt(e.$months.eq(0).attr("data-month"),10),s=parseInt(e.$months.eq(0).attr("data-year"),10),u=new Date(s,a+1,-1).getTime(),c=!e.animating;if(n.minDate&&u<new Date(n.minDate).getTime())e.resetMonth();else{if(e.monthsTranslate+=1,a===e.currentMonth){var l=100*-e.monthsTranslate*i,h=K(e.renderMonth(u,"prev")).transform("translate3d("+(o?l:0)+"%, "+(o?0:l)+"%, 0)").addClass("calendar-month-prev");r.prepend(h[0]),e.$months=r.find(".calendar-month"),e.emit("local::monthAdd calendarMonthAdd",e.$months.eq(0)[0])}e.animating=!0,e.onMonthChangeStart("prev");var f=100*e.monthsTranslate*i;r.transition(t).transform("translate3d("+(o?f:0)+"%, "+(o?0:f)+"%, 0)"),c&&r.transitionEnd(function(){e.onMonthChangeEnd("prev")}),n.animate||e.onMonthChangeEnd("prev")}}},{key:"resetMonth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.$wrapperEl,n=this.inverter,r=this.isHorizontal,i=100*this.monthsTranslate*n;e.transition(t).transform("translate3d("+(r?i:0)+"%, "+(r?0:i)+"%, 0)")}},{key:"setYearMonth",value:function(t,e,n){var r=this,i=r.params,o=r.isHorizontal,a=r.$wrapperEl,s=r.inverter;void 0===t&&(t=r.currentYear),void 0===e&&(e=r.currentMonth),void 0!==n&&"object"!==(void 0===n?"undefined":T()(n))||(n="",i.animate||(n=0));var u=void 0;if(u=t<r.currentYear?new Date(t,e+1,-1).getTime():new Date(t,e).getTime(),i.maxDate&&u>new Date(i.maxDate).getTime())return!1;if(i.minDate&&u<new Date(i.minDate).getTime())return!1;var c=new Date(r.currentYear,r.currentMonth).getTime(),l=u>c?"next":"prev",h=r.renderMonth(new Date(t,e));r.monthsTranslate=r.monthsTranslate||0;var f=r.monthsTranslate,d=void 0,p=!r.animating;u>c?(r.monthsTranslate-=1,r.animating||r.$months.eq(r.$months.length-1).remove(),a.append(h),r.$months=a.find(".calendar-month"),d=100*-(f-1)*s,r.$months.eq(r.$months.length-1).transform("translate3d("+(o?d:0)+"%, "+(o?0:d)+"%, 0)").addClass("calendar-month-next")):(r.monthsTranslate+=1,r.animating||r.$months.eq(0).remove(),a.prepend(h),r.$months=a.find(".calendar-month"),d=100*-(f+1)*s,r.$months.eq(0).transform("translate3d("+(o?d:0)+"%, "+(o?0:d)+"%, 0)").addClass("calendar-month-prev")),r.emit("local::monthAdd calendarMonthAdd","next"===l?r.$months.eq(r.$months.length-1)[0]:r.$months.eq(0)[0]),r.animating=!0,r.onMonthChangeStart(l);var v=100*r.monthsTranslate*s;a.transition(n).transform("translate3d("+(o?v:0)+"%, "+(o?0:v)+"%, 0)"),p&&a.transitionEnd(function(){r.onMonthChangeEnd(l,!0)}),i.animate||r.onMonthChangeEnd(l)}},{key:"nextYear",value:function(){this.setYearMonth(this.currentYear+1)}},{key:"prevYear",value:function(){this.setYearMonth(this.currentYear-1)}},{key:"dateInRange",value:function(t,e){var n=!1,r=void 0;if(!e)return!1;if(Array.isArray(e))for(r=0;r<e.length;r+=1)e[r].from||e[r].to?e[r].from&&e[r].to?t<=new Date(e[r].to).getTime()&&t>=new Date(e[r].from).getTime()&&(n=!0):e[r].from?t>=new Date(e[r].from).getTime()&&(n=!0):e[r].to&&t<=new Date(e[r].to).getTime()&&(n=!0):t===new Date(e[r]).getTime()&&(n=!0);else e.from||e.to?e.from&&e.to?t<=new Date(e.to).getTime()&&t>=new Date(e.from).getTime()&&(n=!0):e.from?t>=new Date(e.from).getTime()&&(n=!0):e.to&&t<=new Date(e.to).getTime()&&(n=!0):"function"==typeof e&&(n=e(new Date(t)));return n}},{key:"daysInMonth",value:function(t){var e=new Date(t);return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}},{key:"renderMonths",value:function(t){return this.params.renderMonths?this.params.renderMonths.call(this,t):('\n      <div class="calendar-months-wrapper">\n        '+this.renderMonth(t,"prev")+"\n        "+this.renderMonth(t)+"\n        "+this.renderMonth(t,"next")+"\n      </div>\n    ").trim()}},{key:"renderMonth",value:function(t,e){var n=this.params,r=this.value;if(n.renderMonth)return n.renderMonth.call(this,t,e);var i=new Date(t),o=i.getFullYear(),a=i.getMonth();"next"===e&&(i=11===a?new Date(o+1,0):new Date(o,a+1,1)),"prev"===e&&(i=0===a?new Date(o-1,11):new Date(o,a-1,1)),"next"!==e&&"prev"!==e||(a=i.getMonth(),o=i.getFullYear());var s=[],u=(new Date).setHours(0,0,0,0),c=n.minDate?new Date(n.minDate).getTime():null,l=n.maxDate?new Date(n.maxDate).getTime():null,h=this.daysInMonth(new Date(i.getFullYear(),i.getMonth()).getTime()-864e6),f=this.daysInMonth(i),d=6===n.firstDay?0:1,p="",v=n.firstDay-1+0,g=void 0,m=void 0,y=new Date(i.getFullYear(),i.getMonth()).getDay();if(0===y&&(y=7),r&&r.length)for(var b=0;b<r.length;b+=1)s.push(new Date(r[b]).setHours(0,0,0,0));for(var _=1;_<=6;_+=1){for(var w="",x=1;x<=7;x+=1){var E=void 0,C=(v+=1)-y,k="";1===_&&1===x&&C>d&&1!==n.firstDay&&(C=(v-=7)-y);var T=x-1+n.firstDay>6?x-1-7+n.firstDay:x-1+n.firstDay;if(C<0?(C=h+C+1,k+=" calendar-day-prev",E=new Date(a-1<0?o-1:o,a-1<0?11:a-1,C).getTime()):(C+=1)>f?(C-=f,k+=" calendar-day-next",E=new Date(a+1>11?o+1:o,a+1>11?0:a+1,C).getTime()):E=new Date(o,a,C).getTime(),E===u&&(k+=" calendar-day-today"),n.rangePicker&&2===s.length?E>=s[0]&&E<=s[1]&&(k+=" calendar-day-selected"):s.indexOf(E)>=0&&(k+=" calendar-day-selected"),n.weekendDays.indexOf(T)>=0&&(k+=" calendar-day-weekend"),m=!1,n.events&&this.dateInRange(E,n.events)&&(m=!0),m&&(k+=" calendar-day-has-events"),n.rangesClasses)for(var S=0;S<n.rangesClasses.length;S+=1)this.dateInRange(E,n.rangesClasses[S].range)&&(k+=" "+n.rangesClasses[S].cssClass);g=!1,(c&&E<c||l&&E>l)&&(g=!0),n.disabled&&this.dateInRange(E,n.disabled)&&(g=!0),g&&(k+=" calendar-day-disabled");var O=(E=new Date(E)).getFullYear(),M=E.getMonth();w+=('\n          <div data-year="'+O+'" data-month="'+M+'" data-day="'+C+'" class="calendar-day'+k+'" data-date="'+O+"-"+M+"-"+C+'">\n            <span>'+C+"</span>\n          </div>").trim()}p+='<div class="calendar-row">'+w+"</div>"}return p='<div class="calendar-month" data-year="'+o+'" data-month="'+a+'">'+p+"</div>"}},{key:"renderWeekHeader",value:function(){if(this.params.renderWeekHeader)return this.params.renderWeekHeader.call(this);for(var t=this.params,e="",n=0;n<7;n+=1){var r=n+t.firstDay>6?n-7+t.firstDay:n+t.firstDay;e+='<div class="calendar-week-day">'+t.dayNamesShort[r]+"</div>"}return('\n      <div class="calendar-week-header">\n        '+e+"\n      </div>\n    ").trim()}},{key:"renderMonthSelector",value:function(){var t=this.app;if(this.params.renderMonthSelector)return this.params.renderMonthSelector.call(this);var e=void 0;this.inline&&0===this.$containerEl.closest(".theme-dark").length?e=!0:0===t.root.closest(".theme-dark").length&&(e=!0);var n="md"===t.theme&&e?"color-black":"";return('\n      <div class="calendar-month-selector">\n        <a href="#" class="link icon-only calendar-prev-month-button">\n          <i class="icon icon-prev '+n+'"></i>\n        </a>\n        <span class="current-month-value"></span>\n        <a href="#" class="link icon-only calendar-next-month-button">\n          <i class="icon icon-next '+n+'"></i>\n        </a>\n      </div>\n    ').trim()}},{key:"renderYearSelector",value:function(){var t=this.app;if(this.params.renderYearSelector)return this.params.renderYearSelector.call(this);var e=void 0;this.inline&&0===this.$containerEl.closest(".theme-dark").length?e=!0:0===t.root.closest(".theme-dark").length&&(e=!0);var n="md"===t.theme&&e?"color-black":"";return('\n      <div class="calendar-year-selector">\n        <a href="#" class="link icon-only calendar-prev-year-button">\n          <i class="icon icon-prev '+n+'"></i>\n        </a>\n        <span class="current-year-value"></span>\n        <a href="#" class="link icon-only calendar-next-year-button">\n          <i class="icon icon-next '+n+'"></i>\n        </a>\n      </div>\n    ').trim()}},{key:"renderHeader",value:function(){return this.params.renderHeader?this.params.renderHeader.call(this):('\n      <div class="calendar-header">\n        <div class="calendar-selected-date">'+this.params.headerPlaceholder+"</div>\n      </div>\n    ").trim()}},{key:"renderFooter",value:function(){var t=this.app;return this.params.renderFooter?this.params.renderFooter.call(this):('\n      <div class="calendar-footer">\n        <a href="#" class="'+("md"===t.theme?"button":"link")+' calendar-close sheet-close popover-close">'+this.params.toolbarCloseText+"</a>\n      </div>\n    ").trim()}},{key:"renderToolbar",value:function(){return this.params.renderToolbar?this.params.renderToolbar.call(this,this):('\n      <div class="toolbar no-shadow">\n        <div class="toolbar-inner">\n          '+this.renderMonthSelector()+"\n          "+this.renderYearSelector()+"\n        </div>\n      </div>\n    ").trim()}},{key:"renderInline",value:function(){var t=this.params,e=t.cssClass,n=t.toolbar,r=t.header,i=t.footer,o=t.rangePicker,a=t.weekHeader,s=this.value,u=s&&s.length?s[0]:(new Date).setHours(0,0,0);return('\n      <div class="calendar calendar-inline '+(o?"calendar-range":"")+" "+(e||"")+'">\n        '+(r?this.renderHeader():"")+"\n        "+(n?this.renderToolbar():"")+"\n        "+(a?this.renderWeekHeader():"")+'\n        <div class="calendar-months">\n          '+this.renderMonths(u)+"\n        </div>\n        "+(i?this.renderFooter():"")+"\n      </div>\n    ").trim()}},{key:"renderCustomModal",value:function(){var t=this.params,e=t.cssClass,n=t.toolbar,r=t.header,i=t.footer,o=t.rangePicker,a=t.weekHeader,s=this.value,u=s&&s.length?s[0]:(new Date).setHours(0,0,0);return('\n      <div class="calendar calendar-modal '+(o?"calendar-range":"")+" "+(e||"")+'">\n        '+(r?this.renderHeader():"")+"\n        "+(n?this.renderToolbar():"")+"\n        "+(a?this.renderWeekHeader():"")+'\n        <div class="calendar-months">\n          '+this.renderMonths(u)+"\n        </div>\n        "+(i?this.renderFooter():"")+"\n      </div>\n    ").trim()}},{key:"renderSheet",value:function(){var t=this.params,e=t.cssClass,n=t.toolbar,r=t.header,i=t.footer,o=t.rangePicker,a=t.weekHeader,s=this.value,u=s&&s.length?s[0]:(new Date).setHours(0,0,0);return('\n      <div class="sheet-modal calendar calendar-sheet '+(o?"calendar-range":"")+" "+(e||"")+'">\n        '+(r?this.renderHeader():"")+"\n        "+(n?this.renderToolbar():"")+"\n        "+(a?this.renderWeekHeader():"")+'\n        <div class="sheet-modal-inner calendar-months">\n          '+this.renderMonths(u)+"\n        </div>\n        "+(i?this.renderFooter():"")+"\n      </div>\n    ").trim()}},{key:"renderPopover",value:function(){var t=this.params,e=t.cssClass,n=t.toolbar,r=t.header,i=t.footer,o=t.rangePicker,a=t.weekHeader,s=this.value,u=s&&s.length?s[0]:(new Date).setHours(0,0,0);return('\n      <div class="popover calendar-popover">\n        <div class="popover-inner">\n          <div class="calendar '+(o?"calendar-range":"")+" "+(e||"")+'">\n            '+(r?this.renderHeader():"")+"\n            "+(n?this.renderToolbar():"")+"\n            "+(a?this.renderWeekHeader():"")+'\n            <div class="calendar-months">\n              '+this.renderMonths(u)+"\n            </div>\n            "+(i?this.renderFooter():"")+"\n          </div>\n        </div>\n      </div>\n    ").trim()}},{key:"render",value:function(){var t=this.params;if(t.render)return t.render.call(this);if(!this.inline){var e=t.openIn;return"auto"===e&&(e=this.isPopover()?"popover":"sheet"),"popover"===e?this.renderPopover():"sheet"===e?this.renderSheet():this.renderCustomModal()}return this.renderInline()}},{key:"onOpen",value:function(){var t=this,e=t.initialized,n=t.$el,r=t.app,i=t.$inputEl,o=t.inline,a=t.value,s=t.params;t.opened=!0,t.attachCalendarEvents();var u=!a&&s.value;e?a&&t.setValue(a,0):a?t.setValue(a,0):s.value&&t.setValue(t.normalizeValues(s.value),0),t.updateCurrentMonthYear(),t.monthsTranslate=0,t.setMonthsTranslate(),u?t.updateValue():s.header&&a&&t.updateValue(!0),!o&&i.length&&"md"===r.theme&&i.trigger("focus"),t.initialized=!0,t.$months.each(function(e,n){t.emit("local::monthAdd calendarMonthAdd",n)}),n&&n.trigger("calendar:open",t),i&&i.trigger("calendar:open",t),t.emit("local::open calendarOpen",t)}},{key:"onOpened",value:function(){this.$el&&this.$el.trigger("calendar:opened",this),this.$inputEl&&this.$inputEl.trigger("calendar:opened",this),this.emit("local::opened calendarOpened",this)}},{key:"onClose",value:function(){var t=this.app;this.$inputEl&&"md"===t.theme&&this.$inputEl.trigger("blur"),this.detachCalendarEvents&&this.detachCalendarEvents(),this.$el&&this.$el.trigger("calendar:close",this),this.$inputEl&&this.$inputEl.trigger("calendar:close",this),this.emit("local::close calendarClose",this)}},{key:"onClosed",value:function(){var t=this;t.opened=!1,t.inline||gt.nextTick(function(){t.modal&&t.modal.el&&t.modal.destroy&&(t.params.routableModals||t.modal.destroy()),delete t.modal}),t.$el&&t.$el.trigger("calendar:closed",t),t.$inputEl&&t.$inputEl.trigger("calendar:closed",t),t.emit("local::closed calendarClosed",t)}},{key:"open",value:function(){var t=this,e=t.app,n=t.opened,r=t.inline,i=t.$inputEl,o=t.params;if(!n){if(r)return t.$el=K(t.render()),t.$el[0].f7Calendar=t,t.$wrapperEl=t.$el.find(".calendar-months-wrapper"),t.$months=t.$wrapperEl.find(".calendar-month"),t.$containerEl.append(t.$el),t.onOpen(),void t.onOpened();var a=o.openIn;"auto"===a&&(a=t.isPopover()?"popover":"sheet");var s=t.render(),c={targetEl:i,scrollToEl:t.params.scrollToInput?i:void 0,content:s,backdrop:"popover"===a&&!1!==e.params.popover.backdrop,on:{open:function(){t.modal=this,t.$el="popover"===a?this.$el.find(".calendar"):this.$el,t.$wrapperEl=t.$el.find(".calendar-months-wrapper"),t.$months=t.$wrapperEl.find(".calendar-month"),t.$el[0].f7Calendar=t,"customModal"===a&&K(t.$el).find(".calendar-close").once("click",function(){t.close()}),t.onOpen()},opened:function(){t.onOpened()},close:function(){t.onClose()},closed:function(){t.onClosed()}}};t.params.routableModals?t.view.router.navigate({url:t.url,route:u()({path:t.url},a,c)}):(t.modal=e[a].create(c),t.modal.open())}}},{key:"close",value:function(){var t=this.opened,e=this.inline;if(t)return e?(this.onClose(),void this.onClosed()):void(this.params.routableModals?this.view.router.back():this.modal.close())}},{key:"init",value:function(){if(this.initInput(),this.inline)return this.open(),void this.emit("local::init calendarInit",this);!this.initialized&&this.params.value&&this.setValue(this.normalizeValues(this.params.value)),this.$inputEl&&this.attachInputEvents(),this.params.closeByOutsideClick&&this.attachHtmlEvents(),this.emit("local::init calendarInit",this)}},{key:"destroy",value:function(){if(!this.destroyed){var t=this.$el;this.emit("local::beforeDestroy calendarBeforeDestroy",this),t&&t.trigger("calendar:beforedestroy",this),this.close(),this.$inputEl&&this.detachInputEvents(),this.params.closeByOutsideClick&&this.detachHtmlEvents(),t&&t.length&&delete this.$el[0].f7Calendar,gt.deleteProps(this),this.destroyed=!0}}}]),e}(yt),vn={name:"calendar",static:{Calendar:pn},create:function(){this.calendar=we({defaultSelector:".calendar",constructor:pn,app:this,domProp:"f7Calendar"}),this.calendar.close=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".calendar",e=K(t);if(0!==e.length){var n=e[0].f7Calendar;!n||n&&!n.opened||n.close()}}},params:{calendar:{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDay:1,weekendDays:[0,6],multiple:!1,rangePicker:!1,dateFormat:"yyyy-mm-dd",direction:"horizontal",minDate:null,maxDate:null,disabled:null,events:null,rangesClasses:null,touchMove:!0,animate:!0,closeOnSelect:!1,monthSelector:!0,yearSelector:!0,weekHeader:!0,value:null,containerEl:null,openIn:"auto",formatValue:null,inputEl:null,inputReadOnly:!0,closeByOutsideClick:!0,scrollToInput:!0,header:!1,headerPlaceholder:"Select date",footer:!1,toolbar:!0,toolbarCloseText:"Done",cssClass:null,routableModals:!0,view:null,url:"date/",renderWeekHeader:null,renderMonths:null,renderMonth:null,renderMonthSelector:null,renderYearSelector:null,renderHeader:null,renderFooter:null,renderToolbar:null,renderInline:null,renderPopover:null,renderSheet:null,render:null}}};var gn=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_()(this,e);var i=g()(this,(e.__proto__||p()(e)).call(this,r,[t])),o=i;o.params=gt.extend({},t.params.picker,r);var a,s=void 0;if(o.params.containerEl&&0===(s=K(o.params.containerEl)).length)return a=o,g()(i,a);var u=void 0;o.params.inputEl&&(u=K(o.params.inputEl));var c=void 0;function l(){o.resizeCols()}function h(){o.open()}function f(t){t.preventDefault()}function d(t){var e=K(t.target);o.isPopover()||o.opened&&(e.closest('[class*="backdrop"]').length||(u&&u.length>0?e[0]!==u[0]&&0===e.closest(".sheet-modal").length&&o.close():0===K(t.target).closest(".sheet-modal").length&&o.close()))}return u&&(c=u.parents(".view").length&&u.parents(".view")[0].f7View),c||(c=t.views.main),gt.extend(o,{app:t,$containerEl:s,containerEl:s&&s[0],inline:s&&s.length>0,needsOriginFix:t.device.ios||D.navigator.userAgent.toLowerCase().indexOf("safari")>=0&&D.navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!t.device.android,cols:[],$inputEl:u,inputEl:u&&u[0],initialized:!1,opened:!1,url:o.params.url,view:c}),gt.extend(o,{attachResizeEvent:function(){t.on("resize",l)},detachResizeEvent:function(){t.off("resize",l)},attachInputEvents:function(){o.$inputEl.on("click",h),o.params.inputReadOnly&&o.$inputEl.on("focus mousedown",f)},detachInputEvents:function(){o.$inputEl.off("click",h),o.params.inputReadOnly&&o.$inputEl.off("focus mousedown",f)},attachHtmlEvents:function(){t.on("click",d)},detachHtmlEvents:function(){t.off("click",d)}}),o.init(),n=o,g()(i,n)}return y()(e,t),x()(e,[{key:"initInput",value:function(){this.$inputEl&&this.params.inputReadOnly&&this.$inputEl.prop("readOnly",!0)}},{key:"resizeCols",value:function(){if(this.opened)for(var t=0;t<this.cols.length;t+=1)this.cols[t].divider||(this.cols[t].calcSize(),this.cols[t].setValue(this.cols[t].value,0,!1))}},{key:"isPopover",value:function(){var t=this.app,e=this.modal,n=this.params;if("sheet"===n.openIn)return!1;if(e&&"popover"!==e.type)return!1;if(!this.inline&&this.inputEl){if("popover"===n.openIn)return!0;if(t.device.ios)return!!t.device.ipad;if(t.width>=768)return!0}return!1}},{key:"formatValue",value:function(){var t=this.value,e=this.displayValue;return this.params.formatValue?this.params.formatValue.call(this,t,e):t.join(" ")}},{key:"setValue",value:function(t,e){var n=0;if(0===this.cols.length)return this.value=t,void this.updateValue(t);for(var r=0;r<this.cols.length;r+=1)this.cols[r]&&!this.cols[r].divider&&(this.cols[r].setValue(t[n],e),n+=1)}},{key:"getValue",value:function(){return this.value}},{key:"updateValue",value:function(t){var e=t||[],n=[],r=void 0;if(0===this.cols.length)for(var i=this.params.cols.filter(function(t){return!t.divider}),o=0;o<i.length;o+=1)void 0!==(r=i[o]).displayValues&&void 0!==r.values&&-1!==r.values.indexOf(e[o])?n.push(r.displayValues[r.values.indexOf(e[o])]):n.push(e[o]);else for(var a=0;a<this.cols.length;a+=1)this.cols[a].divider||(e.push(this.cols[a].value),n.push(this.cols[a].displayValue));e.indexOf(void 0)>=0||(this.value=e,this.displayValue=n,this.emit("local::change pickerChange",this,this.value,this.displayValue),this.inputEl&&(this.$inputEl.val(this.formatValue()),this.$inputEl.trigger("change")))}},{key:"initColumn",value:function(t,e){(function(t,e){var n=this,r=n.app,i=K(t),o=i.index(),a=n.cols[o];if(!a.divider){a.$el=i,a.el=i[0],a.$itemsEl=a.$el.find(".picker-items"),a.items=a.$itemsEl.find(".picker-item");var s=void 0,u=void 0,c=void 0,l=void 0,h=void 0;a.replaceValues=function(t,e){a.detachEvents(),a.values=t,a.displayValues=e,a.$itemsEl.html(n.renderColumn(a,!0)),a.items=a.$itemsEl.find(".picker-item"),a.calcSize(),a.setValue(a.values[0],0,!0),a.attachEvents()},a.calcSize=function(){n.params.rotateEffect&&(a.$el.removeClass("picker-column-absolute"),a.width||a.$el.css({width:""}));var t=0,e=a.$el[0].offsetHeight;s=a.items[0].offsetHeight,u=s*a.items.length,c=e/2-u+s/2,l=e/2-s/2,a.width&&(t=a.width,parseInt(t,10)===t&&(t+="px"),a.$el.css({width:t})),n.params.rotateEffect&&(a.width||(a.items.each(function(e,n){var r=K(n).children("span");t=Math.max(t,r[0].offsetWidth)}),a.$el.css({width:t+2+"px"})),a.$el.addClass("picker-column-absolute"))},a.setValue=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments[2],i=a.$itemsEl.find('.picker-item[data-picker-value="'+t+'"]').index();if(void 0!==i&&-1!==i){var o=-i*s+l;a.$itemsEl.transition(e),a.$itemsEl.transform("translate3d(0,"+o+"px,0)"),n.params.updateValuesOnMomentum&&a.activeIndex&&a.activeIndex!==i&&(gt.cancelAnimationFrame(h),a.$itemsEl.transitionEnd(function(){gt.cancelAnimationFrame(h)}),C()),a.updateItems(i,o,e,r)}},a.updateItems=function(t,e,r,i){void 0===e&&(e=gt.getTranslate(a.$itemsEl[0],"y")),void 0===t&&(t=-Math.round((e-l)/s)),t<0&&(t=0),t>=a.items.length&&(t=a.items.length-1);var o=a.activeIndex;a.activeIndex=t,a.$itemsEl.find(".picker-item-selected").removeClass("picker-item-selected"),a.items.transition(r);var u=a.items.eq(t).addClass("picker-item-selected").transform("");n.params.rotateEffect&&a.items.each(function(t,r){var i=K(r),o=(i.index()*s-(l-e))/s,u=Math.ceil(a.height/s/2)+1,c=-18*o;c>180&&(c=180),c<-180&&(c=-180),Math.abs(o)>u?i.addClass("picker-item-far"):i.removeClass("picker-item-far"),i.transform("translate3d(0, "+(-e+l)+"px, "+(n.needsOriginFix?-110:0)+"px) rotateX("+c+"deg)")}),(i||void 0===i)&&(a.value=u.attr("data-picker-value"),a.displayValue=a.displayValues?a.displayValues[t]:a.value,o!==t&&(a.onChange&&a.onChange(n,a.value,a.displayValue),n.updateValue()))};var f=!0,d=void 0,p=void 0,v=void 0,g=void 0,m=void 0,y=void 0,b=void 0,_=void 0,w=void 0,x=void 0,E=!!r.support.passiveListener&&{passive:!1,capture:!1};a.attachEvents=function(){a.$el.on(r.touchEvents.start,k,E),r.on("touchmove:active",T),r.on("touchend:passive",S),a.items.on("click",O)},a.detachEvents=function(){a.$el.off(r.touchEvents.start,k,E),r.off("touchmove:active",T),r.off("touchend:passive",S),a.items.off("click",O)},a.init=function(){a.calcSize(),a.$itemsEl.transform("translate3d(0,"+l+"px,0)").transition(0),0===o&&a.$el.addClass("picker-column-first"),o===n.cols.length-1&&a.$el.addClass("picker-column-last"),e&&a.updateItems(0,l,0),a.attachEvents()},a.destroy=function(){a.detachEvents()},a.init()}function C(){h=gt.requestAnimationFrame(function(){a.updateItems(void 0,void 0,0),C()})}function k(t){p||d||(t.preventDefault(),d=!0,v="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,g=v,m=(new Date).getTime(),f=!0,y=gt.getTranslate(a.$itemsEl[0],"y"),_=y)}function T(t){d&&(t.preventDefault(),f=!1,g="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,p||(gt.cancelAnimationFrame(h),p=!0,y=gt.getTranslate(a.$itemsEl[0],"y"),_=y,a.$itemsEl.transition(0)),b=void 0,(_=y+(g-v))<c&&(_=c-Math.pow(c-_,.8),b="min"),_>l&&(_=l+Math.pow(_-l,.8),b="max"),a.$itemsEl.transform("translate3d(0,"+_+"px,0)"),a.updateItems(void 0,_,0,n.params.updateValuesOnTouchmove),x=_-w||_,w=_)}function S(){if(!d||!p)return d=!1,void(p=!1);d=!1,p=!1,a.$itemsEl.transition(""),b&&("min"===b?a.$itemsEl.transform("translate3d(0,"+c+"px,0)"):a.$itemsEl.transform("translate3d(0,"+l+"px,0)"));var t=void 0;t=(new Date).getTime()-m>300?_:_+x*n.params.momentumRatio,t=Math.max(Math.min(t,l),c);var e=-Math.floor((t-l)/s);n.params.freeMode||(t=-e*s+l),a.$itemsEl.transform("translate3d(0,"+parseInt(t,10)+"px,0)"),a.updateItems(e,t,"",!0),n.params.updateValuesOnMomentum&&(C(),a.$itemsEl.transitionEnd(function(){gt.cancelAnimationFrame(h)})),setTimeout(function(){f=!0},100)}function O(){if(f){gt.cancelAnimationFrame(h);var t=K(this).attr("data-picker-value");a.setValue(t)}}}).call(this,t,e)}},{key:"destroyColumn",value:function(t){var e=K(t).index();this.cols[e]&&this.cols[e].destroy&&this.cols[e].destroy()}},{key:"renderToolbar",value:function(){return this.params.renderToolbar?this.params.renderToolbar.call(this,this):('\n      <div class="toolbar no-shadow">\n        <div class="toolbar-inner">\n          <div class="left"></div>\n          <div class="right">\n            <a href="#" class="link sheet-close popover-close">'+this.params.toolbarCloseText+"</a>\n          </div>\n        </div>\n      </div>\n    ").trim()}},{key:"renderColumn",value:function(t,e){var n="picker-column "+(t.textAlign?"picker-column-"+t.textAlign:"")+" "+(t.cssClass||""),r=void 0,i=void 0;return r=t.divider?'\n        <div class="'+n+' picker-column-divider">'+t.content+"</div>\n      ":'\n        <div class="'+n+'">\n          <div class="picker-items">'+(i=t.values.map(function(e,n){return'\n        <div class="picker-item" data-picker-value="'+e+'">\n          <span>'+(t.displayValues?t.displayValues[n]:e)+"</span>\n        </div>\n      "}).join(""))+"</div>\n        </div>\n      ",e?i.trim():r.trim()}},{key:"renderInline",value:function(){var t=this,e=t.params,n=e.rotateEffect,r=e.cssClass,i=e.toolbar;return('\n      <div class="picker picker-inline '+(n?"picker-3d":"")+" "+(r||"")+'">\n        '+(i?t.renderToolbar():"")+'\n        <div class="picker-columns">\n          '+t.cols.map(function(e){return t.renderColumn(e)}).join("")+'\n          <div class="picker-center-highlight"></div>\n        </div>\n      </div>\n    ').trim()}},{key:"renderSheet",value:function(){var t=this,e=t.params,n=e.rotateEffect,r=e.cssClass,i=e.toolbar;return('\n      <div class="sheet-modal picker picker-sheet '+(n?"picker-3d":"")+" "+(r||"")+'">\n        '+(i?t.renderToolbar():"")+'\n        <div class="sheet-modal-inner picker-columns">\n          '+t.cols.map(function(e){return t.renderColumn(e)}).join("")+'\n          <div class="picker-center-highlight"></div>\n        </div>\n      </div>\n    ').trim()}},{key:"renderPopover",value:function(){var t=this,e=t.params,n=e.rotateEffect,r=e.cssClass,i=e.toolbar;return('\n      <div class="popover picker-popover">\n        <div class="popover-inner">\n          <div class="picker '+(n?"picker-3d":"")+" "+(r||"")+'">\n            '+(i?t.renderToolbar():"")+'\n            <div class="picker-columns">\n              '+t.cols.map(function(e){return t.renderColumn(e)}).join("")+'\n              <div class="picker-center-highlight"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ').trim()}},{key:"render",value:function(){return this.params.render?this.params.render.call(this):this.inline?this.renderInline():this.isPopover()?this.renderPopover():this.renderSheet()}},{key:"onOpen",value:function(){var t=this,e=t.initialized,n=t.$el,r=t.app,i=t.$inputEl,o=t.inline,a=t.value,s=t.params;t.opened=!0,t.attachResizeEvent(),n.find(".picker-column").each(function(n,r){var i=!0;(!e&&s.value||e&&a)&&(i=!1),t.initColumn(r,i)}),e?a&&t.setValue(a,0):a?t.setValue(a,0):s.value&&t.setValue(s.value,0),!o&&i.length&&"md"===r.theme&&i.trigger("focus"),t.initialized=!0,n&&n.trigger("picker:open",t),i&&i.trigger("picker:open",t),t.emit("local::open pickerOpen",t)}},{key:"onOpened",value:function(){this.$el&&this.$el.trigger("picker:opened",this),this.$inputEl&&this.$inputEl.trigger("picker:opened",this),this.emit("local::opened pickerOpened",this)}},{key:"onClose",value:function(){var t=this.app;this.detachResizeEvent(),this.cols.forEach(function(t){t.destroy&&t.destroy()}),this.$inputEl&&"md"===t.theme&&this.$inputEl.trigger("blur"),this.$el&&this.$el.trigger("picker:close",this),this.$inputEl&&this.$inputEl.trigger("picker:close",this),this.emit("local::close pickerClose",this)}},{key:"onClosed",value:function(){var t=this;t.opened=!1,t.inline||gt.nextTick(function(){t.modal&&t.modal.el&&t.modal.destroy&&(t.params.routableModals||t.modal.destroy()),delete t.modal}),t.$el&&t.$el.trigger("picker:closed",t),t.$inputEl&&t.$inputEl.trigger("picker:closed",t),t.emit("local::closed pickerClosed",t)}},{key:"open",value:function(){var t=this,e=t.app,n=t.opened,r=t.inline,i=t.$inputEl;if(!n){if(0===t.cols.length&&t.params.cols.length&&t.params.cols.forEach(function(e){t.cols.push(e)}),r)return t.$el=K(t.render()),t.$el[0].f7Picker=t,t.$containerEl.append(t.$el),t.onOpen(),void t.onOpened();var o=t.isPopover(),a=o?"popover":"sheet",s={targetEl:i,scrollToEl:t.params.scrollToInput?i:void 0,content:t.render(),backdrop:o,on:{open:function(){t.modal=this,t.$el=o?this.$el.find(".picker"):this.$el,t.$el[0].f7Picker=t,t.onOpen()},opened:function(){t.onOpened()},close:function(){t.onClose()},closed:function(){t.onClosed()}}};t.params.routableModals?t.view.router.navigate({url:t.url,route:u()({path:t.url},a,s)}):(t.modal=e[a].create(s),t.modal.open())}}},{key:"close",value:function(){var t=this.opened,e=this.inline;if(t)return e?(this.onClose(),void this.onClosed()):void(this.params.routableModals?this.view.router.back():this.modal.close())}},{key:"init",value:function(){if(this.initInput(),this.inline)return this.open(),void this.emit("local::init pickerInit",this);!this.initialized&&this.params.value&&this.setValue(this.params.value),this.$inputEl&&this.attachInputEvents(),this.params.closeByOutsideClick&&this.attachHtmlEvents(),this.emit("local::init pickerInit",this)}},{key:"destroy",value:function(){if(!this.destroyed){var t=this.$el;this.emit("local::beforeDestroy pickerBeforeDestroy",this),t&&t.trigger("picker:beforedestroy",this),this.close(),this.$inputEl&&this.detachInputEvents(),this.params.closeByOutsideClick&&this.detachHtmlEvents(),t&&t.length&&delete this.$el[0].f7Picker,gt.deleteProps(this),this.destroyed=!0}}}]),e}(yt),mn={name:"picker",static:{Picker:gn},create:function(){this.picker=we({defaultSelector:".picker",constructor:gn,app:this,domProp:"f7Picker"}),this.picker.close=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".picker",e=K(t);if(0!==e.length){var n=e[0].f7Picker;!n||n&&!n.opened||n.close()}}},params:{picker:{updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,cols:[],containerEl:null,openIn:"auto",formatValue:null,inputEl:null,inputReadOnly:!0,closeByOutsideClick:!0,scrollToInput:!0,toolbar:!0,toolbarCloseText:"Done",cssClass:null,routableModals:!0,view:null,url:"select/",renderToolbar:null,render:null}}},yn={handleScroll:function(t,e){var n=K(t),r=n[0].scrollTop,i=n[0].scrollHeight,o=n[0].offsetHeight,a=n[0].getAttribute("data-infinite-distance"),s=n.find(".virtual-list"),u=void 0,c=n.hasClass("infinite-scroll-top");if(a||(a=50),"string"==typeof a&&a.indexOf("%")>=0&&(a=parseInt(a,10)/100*o),a>o&&(a=o),c)r<a&&(n.trigger("infinite",e),this.emit("infinite",n[0],e));else if(r+o>=i-a){if(s.length>0&&(u=s.eq(-1)[0].f7VirtualList)&&!u.reachEnd&&!u.params.updatableScroll)return;n.trigger("infinite",e),this.emit("infinite",n[0],e)}},create:function(t){var e=this;K(t).on("scroll",function(t){e.infiniteScroll.handle(this,t)})},destroy:function(t){K(t).off("scroll")}},bn={name:"infiniteScroll",create:function(){gt.extend(this,{infiniteScroll:{handle:yn.handleScroll.bind(this),create:yn.create.bind(this),destroy:yn.destroy.bind(this)}})},on:{tabMounted:function(t){var e=this;K(t).find(".infinite-scroll-content").each(function(t,n){e.infiniteScroll.create(n)})},tabBeforeRemove:function(t){var e=this;K(t).find(".infinite-scroll-content").each(function(t,n){e.infiniteScroll.destroy(n)})},pageInit:function(t){var e=this;t.$el.find(".infinite-scroll-content").each(function(t,n){e.infiniteScroll.create(n)})},pageBeforeRemove:function(t){var e=this;t.$el.find(".infinite-scroll-content").each(function(t,n){e.infiniteScroll.destroy(n)})}}},_n=function(t){function e(t,n){var r,i;_()(this,e);var o=g()(this,(e.__proto__||p()(e)).call(this,{},[t])),a=o,s=K(n),u=s.find(".ptr-preloader");a.$el=s,a.el=s[0],a.app=t,a.useModulesParams({});var c="md"===t.theme;a.done=function(){return(c?u:s).transitionEnd(function(){s.removeClass("ptr-transitioning ptr-pull-up ptr-pull-down"),s.trigger("ptr:done"),a.emit("local::done ptrDone",s[0])}),s.removeClass("ptr-refreshing").addClass("ptr-transitioning"),a},a.refresh=function(){return s.hasClass("ptr-refreshing")?a:(s.addClass("ptr-transitioning ptr-refreshing"),s.trigger("ptr:refresh",a.done),a.emit("local::refresh ptrRefresh",s[0],a.done),a)};var l=void 0,h=void 0,f=void 0,d={},v=void 0,m=void 0,y=!1,b=!1,w=0,x=void 0,E=void 0,C=void 0,k=void 0,T=void 0,S=void 0,O=!1,M=s.parents(".page");function A(t){if(h){if("android"!==mt.os)return;if("targetTouches"in t&&t.targetTouches.length>1)return}s.hasClass("ptr-refreshing")||K(t.target).closest(".sortable-handler").length||(f=!1,S=!1,h=!0,v=void 0,C=void 0,"touchstart"===t.type&&(l=t.targetTouches[0].identifier),d.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,d.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY)}function P(t){if(h){var e=void 0,n=void 0,r=void 0;if("touchmove"===t.type){if(l&&t.touches)for(var i=0;i<t.touches.length;i+=1)t.touches[i].identifier===l&&(r=t.touches[i]);r||(r=t.targetTouches[0]),e=r.pageX,n=r.pageY}else e=t.pageX,n=t.pageY;if(e&&n)if(void 0===v&&(v=!!(v||Math.abs(n-d.y)>Math.abs(e-d.x))),v){if(E=s[0].scrollTop,void 0===C&&0!==E&&(C=!0),!f){if(s.removeClass("ptr-transitioning"),E>s[0].offsetHeight)return void(h=!1);T&&(k=s.attr("data-ptr-distance")).indexOf("%")>=0&&(k=s[0].offsetHeight*parseInt(k,10)/100),w=s.hasClass("ptr-refreshing")?k:0,b=!(s[0].scrollHeight!==s[0].offsetHeight&&"ios"===mt.os&&!c)}f=!0,(m=n-d.y)>0&&E<=0||E<0?("ios"===mt.os&&parseInt(mt.osVersion.split(".")[0],10)>7&&0===E&&!C&&(b=!0),b&&(t.preventDefault(),x=Math.pow(m,.85)+w,c?u.transform("translate3d(0,"+x+"px,0)").find(".ptr-arrow").transform("rotate("+(m/66*180+100)+"deg)"):s.transform("translate3d(0,"+x+"px,0)")),b&&Math.pow(m,.85)>k||!b&&m>=2*k?(y=!0,s.addClass("ptr-pull-up").removeClass("ptr-pull-down")):(y=!1,s.removeClass("ptr-pull-up").addClass("ptr-pull-down")),S||(s.trigger("ptr:pullstart"),a.emit("local::pullStart ptrPullStart",s[0]),S=!0),s.trigger("ptr:pullmove",{event:t,scrollTop:E,translate:x,touchesDiff:m}),a.emit("local::pullMove ptrPullMove",s[0],{event:t,scrollTop:E,translate:x,touchesDiff:m})):(S=!1,s.removeClass("ptr-pull-up ptr-pull-down"),y=!1)}else h=!1}}function I(t){return"touchend"===t.type&&t.changedTouches&&t.changedTouches.length>0&&l&&t.changedTouches[0].identifier!==l?(h=!1,v=!1,f=!1,void(l=null)):h&&f?(x&&(s.addClass("ptr-transitioning"),x=0),c?u.transform("").find(".ptr-arrow").transform(""):s.transform(""),y?(s.addClass("ptr-refreshing"),s.trigger("ptr:refresh",a.done),a.emit("local::refresh ptrRefresh",s[0],a.done)):s.removeClass("ptr-pull-down"),h=!1,f=!1,void(S&&(s.trigger("ptr:pullend"),a.emit("local::pullEnd ptrPullEnd",s[0])))):(h=!1,void(f=!1))}return(M.find(".navbar").length>0||M.parents(".view").children(".navbar").length>0)&&(O=!0),M.hasClass("no-navbar")&&(O=!1),O||s.addClass("ptr-no-navbar"),s.attr("data-ptr-distance")?T=!0:k=c?66:44,M.length&&s.length?(s[0].f7PullToRefresh=a,a.attachEvents=function(){var e=!!Mt.passiveListener&&{passive:!0};s.on(t.touchEvents.start,A,e),t.on("touchmove",P),t.on("touchend:passive",I)},a.detachEvents=function(){var e=!!Mt.passiveListener&&{passive:!0};s.off(t.touchEvents.start,A,e),t.off("touchmove",P),t.off("touchend:passive",I)},a.useModules(),a.init(),i=a,g()(o,i)):(r=a,g()(o,r))}return y()(e,t),x()(e,[{key:"init",value:function(){this.attachEvents()}},{key:"destroy",value:function(){var t=this;t.emit("local::beforeDestroy ptrBeforeDestroy",t),t.$el.trigger("ptr:beforedestroy",t),delete t.el.f7PullToRefresh,t.detachEvents(),gt.deleteProps(t),t=null}}]),e}(yt),wn={name:"pullToRefresh",create:function(){var t=this;t.ptr=gt.extend(we({defaultSelector:".ptr-content",constructor:_n,app:t,domProp:"f7PullToRefresh"}),{done:function(e){var n=t.ptr.get(e);if(n)return n.done()},refresh:function(e){var n=t.ptr.get(e);if(n)return n.refresh()}})},static:{PullToRefresh:_n},on:{tabMounted:function(t){var e=this;K(t).find(".ptr-content").each(function(t,n){e.ptr.create(n)})},tabBeforeRemove:function(t){var e=this;K(t).find(".ptr-content").each(function(t,n){e.ptr.destroy(n)})},pageInit:function(t){var e=this;t.$el.find(".ptr-content").each(function(t,n){e.ptr.create(n)})},pageBeforeRemove:function(t){var e=this;t.$el.find(".ptr-content").each(function(t,n){e.ptr.destroy(n)})}}},xn={destroy:function(t){var e=K(t).closest(".page");e.length&&e[0].f7LazyDestroy&&e[0].f7LazyDestroy()},create:function(t){var e=this,n=K(t).closest(".page").eq(0),r=n.find(".lazy");if(0!==r.length||n.hasClass("lazy")){var i=e.params.lazy.placeholder;!1!==i&&r.each(function(t,e){K(e).attr("data-src")&&!K(e).attr("src")&&K(e).attr("src",i)});var o=[],a=!1;n[0].f7LazyDestroy||(n[0].f7LazyDestroy=function(){n[0].f7LazyAttached=!1,delete n[0].f7LazyAttached,n.off("lazy",u),n.off("scroll",u,!0),n.find(".tab").off("tab:mounted tab:show",u),e.off("resize",u)}),n[0].f7LazyAttached||(n[0].f7LazyAttached=!0,n.on("lazy",u),n.on("scroll",u,!0),n.find(".tab").on("tab:mounted tab:show",u),e.on("resize",u)),u()}function s(t){o.indexOf(t)>=0&&o.splice(o.indexOf(t),1),a=!1,e.params.lazy.sequential&&o.length>0&&(a=!0,e.lazy.loadImage(o[0],s))}function u(){e.lazy.load(n,function(t){e.params.lazy.sequential&&a?o.indexOf(t)<0&&o.push(t):(a=!0,e.lazy.loadImage(t,s))})}},isInViewport:function(t){var e=t.getBoundingClientRect(),n=this.params.lazy.threshold||0;return e.top>=0-n&&e.left>=0-n&&e.top<=this.height+n&&e.left<=this.width+n},loadImage:function(t,e){var n=this,r=K(t),i=r.attr("data-background"),o=i||r.attr("data-src");if(o){var a=new D.Image;a.onload=function(){r.removeClass("lazy").addClass("lazy-loaded"),i?r.css("background-image","url("+o+")"):r.attr("src",o),e&&e(t),r.trigger("lazy:loaded"),n.emit("lazyLoaded",r[0])},a.onerror=function(){r.removeClass("lazy").addClass("lazy-loaded"),i?r.css("background-image","url("+(n.params.lazy.placeholder||"")+")"):r.attr("src",n.params.lazy.placeholder||""),e&&e(t),r.trigger("lazy:error"),n.emit("lazyError",r[0])},a.src=o,r.removeAttr("data-src").removeAttr("data-background"),r.trigger("lazy:load"),n.emit("lazyLoad",r[0])}},load:function(t,e){var n=this,r=K(t);r.hasClass("page")||(r=r.parents(".page").eq(0)),0!==r.length&&r.find(".lazy").each(function(t,r){K(r).parents(".tab:not(.tab-active)").length>0||n.lazy.isInViewport(r)&&(e?e(r):n.lazy.loadImage(r))})}},En={name:"lazy",params:{lazy:{placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXCwsK592mkAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",threshold:0,sequential:!0}},create:function(){gt.extend(this,{lazy:{create:xn.create.bind(this),destroy:xn.destroy.bind(this),loadImage:xn.loadImage.bind(this),load:xn.load.bind(this),isInViewport:xn.isInViewport.bind(this)}})},on:{pageInit:function(t){(t.$el.find(".lazy").length>0||t.$el.hasClass("lazy"))&&this.lazy.create(t.$el)},pageAfterIn:function(t){(t.$el.find(".lazy").length>0||t.$el.hasClass("lazy"))&&this.lazy.create(t.$el)},pageBeforeRemove:function(t){(t.$el.find(".lazy").length>0||t.$el.hasClass("lazy"))&&this.lazy.destroy(t.$el)},tabMounted:function(t){var e=K(t);(e.find(".lazy").length>0||e.hasClass("lazy"))&&this.lazy.create(e)},tabBeforeRemove:function(t){var e=K(t);(e.find(".lazy").length>0||e.hasClass("lazy"))&&this.lazy.destroy(e)}}},Cn=function(t){function e(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_()(this,e);var o=g()(this,(e.__proto__||p()(e)).call(this,i,[t])),a=o,s={};a.useModulesParams(s),a.params=gt.extend(s,i);var u=K(a.params.el);if(0===u.length)return n=void 0,g()(o,n);if(a.$el=u,a.el=u[0],a.$el[0].f7DataTable){var c,l=a.$el[0].f7DataTable;return a.destroy(),c=l,g()(o,c)}function h(t){if(!t.detail||!t.detail.sentByF7DataTable){var e=K(this),n=e[0].checked,r=e.parents("td,th").index();e.parents("thead").length>0?(0===r&&u.find("tbody tr")[n?"addClass":"removeClass"]("data-table-row-selected"),u.find("tbody tr td:nth-child("+(r+1)+") input").prop("checked",n).trigger("change",{sentByF7DataTable:!0})):(0===r&&e.parents("tr")[n?"addClass":"removeClass"]("data-table-row-selected"),n?u.find("tbody .checkbox-cell:nth-child("+(r+1)+') input[type="checkbox"]:checked').length===u.find("tbody tr").length&&u.find("thead .checkbox-cell:nth-child("+(r+1)+') input[type="checkbox"]').prop("checked",!0).trigger("change",{sentByF7DataTable:!0}):u.find("thead .checkbox-cell:nth-child("+(r+1)+') input[type="checkbox"]').prop("checked",!1)),a.checkSelectedHeader()}}function f(){var t=K(this),e=t.hasClass("sortable-cell-active"),n=t.hasClass("sortable-desc")?"desc":"asc",r=void 0;e?(r="desc"===n?"asc":"desc",t.removeClass("sortable-desc sortable-asc").addClass("sortable-"+r)):(u.find("thead .sortable-cell-active").removeClass("sortable-cell-active"),t.addClass("sortable-cell-active"),r=n),t.trigger("datatable:sort",r),a.emit("local::sort dataTableSort",a,r)}return a.$el[0].f7DataTable=a,gt.extend(a,{collapsible:u.hasClass("data-table-collapsible"),$headerEl:u.find(".data-table-header"),$headerSelectedEl:u.find(".data-table-header-selected")}),a.attachEvents=function(){a.$el.on("change",'.checkbox-cell input[type="checkbox"]',h),a.$el.find("thead .sortable-cell").on("click",f)},a.detachEvents=function(){a.$el.off("change",'.checkbox-cell input[type="checkbox"]',h),a.$el.find("thead .sortable-cell").off("click",f)},a.useModules(),a.init(),r=a,g()(o,r)}return y()(e,t),x()(e,[{key:"setCollapsibleLabels",value:function(){var t=this;t.collapsible&&t.$el.find("tbody td:not(.checkbox-cell)").each(function(e,n){var r=K(n),i=r.index(),o=r.attr("data-collapsible-title");o||""===o||r.attr("data-collapsible-title",t.$el.find("thead th").eq(i).text())})}},{key:"checkSelectedHeader",value:function(){if(this.$headerEl.length>0&&this.$headerSelectedEl.length>0){var t=this.$el.find("tbody .checkbox-cell input:checked").length;this.$el[t>0?"addClass":"removeClass"]("data-table-has-checked"),this.$headerSelectedEl.find(".data-table-selected-count").text(t)}}},{key:"init",value:function(){this.attachEvents(),this.setCollapsibleLabels(),this.checkSelectedHeader()}},{key:"destroy",value:function(){var t=this;t.$el.trigger("datatable:beforedestroy",t),t.emit("local::beforeDestroy datatableBeforeDestroy",t),t.attachEvents(),t.$el[0].f7DataTable=null,delete t.$el[0].f7DataTable,gt.deleteProps(t),t=null}}]),e}(yt),kn={name:"dataTable",static:{DataTable:Cn},create:function(){this.dataTable=we({defaultSelector:".data-table",constructor:Cn,app:this,domProp:"f7DataTable"})},on:{tabBeforeRemove:function(t){var e=this;K(t).find(".data-table-init").each(function(t,n){e.dataTable.destroy(n)})},tabMounted:function(t){var e=this;K(t).find(".data-table-init").each(function(t,n){e.dataTable.create({el:n})})},pageBeforeRemove:function(t){var e=this;t.$el.find(".data-table-init").each(function(t,n){e.dataTable.destroy(n)})},pageInit:function(t){var e=this;t.$el.find(".data-table-init").each(function(t,n){e.dataTable.create({el:n})})}},clicks:{}},Tn={morphOpen:function(t,e){var n=this,r=K(t),i=K(e);if(0!==i.length){i.transition(0).addClass("fab-morph-target-visible");var o={width:i[0].offsetWidth,height:i[0].offsetHeight,offset:i.offset(),borderRadius:i.css("border-radius"),zIndex:i.css("z-index")},a={width:r[0].offsetWidth,height:r[0].offsetHeight,offset:r.offset(),translateX:gt.getTranslate(r[0],"x"),translateY:gt.getTranslate(r[0],"y")};r[0].f7FabMorphData={$targetEl:i,target:o,fab:a};var s=a.offset.left+a.width/2-(o.offset.left+o.width/2)-a.translateX,u=a.offset.top+a.height/2-(o.offset.top+o.height/2)-a.translateY,c=o.width/a.width,l=o.height/a.height,h=Math.ceil(parseInt(o.borderRadius,10)/Math.max(c,l));h>0&&(h+=2),r[0].f7FabMorphResizeHandler=function(){r.transition(0).transform(""),i.transition(0),o.width=i[0].offsetWidth,o.height=i[0].offsetHeight,o.offset=i.offset(),a.offset=r.offset();var t=a.offset.left+a.width/2-(o.offset.left+o.width/2)-a.translateX,e=a.offset.top+a.height/2-(o.offset.top+o.height/2)-a.translateY,n=o.width/a.width,s=o.height/a.height;r.transform("translate3d("+-t+"px, "+-e+"px, 0) scale("+n+", "+s+")")},i.css("opacity",0).transform("scale("+1/c+", "+1/l+")"),r.addClass("fab-opened").css("z-index",o.zIndex-1).transform("translate3d("+-s+"px, "+-u+"px, 0)"),r.transitionEnd(function(){i.transition(""),gt.nextTick(function(){i.css("opacity",1).transform("scale(1,1)")}),r.transform("translate3d("+-s+"px, "+-u+"px, 0) scale("+c+", "+l+")").css("border-radius",h+"px").css("box-shadow","none"),n.on("resize",r[0].f7FabMorphResizeHandler),i.parents(".page-content").length>0&&i.parents(".page-content").on("scroll",r[0].f7FabMorphResizeHandler)})}},morphClose:function(t){var e=K(t),n=e[0].f7FabMorphData;if(n){var r=n.$targetEl,i=n.target,o=n.fab;if(0!==r.length){var a=o.offset.left+o.width/2-(i.offset.left+i.width/2)-o.translateX,s=o.offset.top+o.height/2-(i.offset.top+i.height/2)-o.translateY,u=i.width/o.width,c=i.height/o.height;this.off("resize",e[0].f7FabMorphResizeHandler),r.parents(".page-content").length>0&&r.parents(".page-content").off("scroll",e[0].f7FabMorphResizeHandler),r.css("opacity",0).transform("scale("+1/u+", "+1/c+")"),e.transition("").css("box-shadow","").css("border-radius","").transform("translate3d("+-a+"px, "+-s+"px, 0)"),e.transitionEnd(function(){e.css("z-index","").removeClass("fab-opened").transform(""),gt.nextTick(function(){e.transitionEnd(function(){r.removeClass("fab-morph-target-visible").css("opacity","").transform("").transition("")})})})}}},open:function(t,e){var n=K(t).eq(0),r=n.find(".fab-buttons");if(n.length&&!n.hasClass("fab-opened")&&(r.length||n.hasClass("fab-morph"))){if(this.fab.openedEl){if(this.fab.openedEl===n[0])return;this.fab.close(this.fab.openedEl)}this.fab.openedEl=n[0],n.hasClass("fab-morph")?this.fab.morphOpen(n,e||n.attr("data-morph-to")):n.addClass("fab-opened"),n.trigger("fab:open")}},close:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fab-opened",e=K(t).eq(0),n=e.find(".fab-buttons");e.length&&e.hasClass("fab-opened")&&(n.length||e.hasClass("fab-morph"))&&(this.fab.openedEl=null,e.hasClass("fab-morph")?this.fab.morphClose(e):e.removeClass("fab-opened"),e.trigger("fab:close"))},toggle:function(t){K(t).hasClass("fab-opened")?this.fab.close(t):this.fab.open(t)}},Sn={name:"fab",create:function(){gt.extend(this,{fab:{openedEl:null,morphOpen:Tn.morphOpen.bind(this),morphClose:Tn.morphClose.bind(this),open:Tn.open.bind(this),close:Tn.close.bind(this),toggle:Tn.toggle.bind(this)}})},clicks:{".fab > a":function(t){this.fab.toggle(t.parents(".fab"))},".fab-open":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fab.open(e.fab)},".fab-close":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fab.close(e.fab)}}},On=function(t){function e(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_()(this,e);var o=g()(this,(e.__proto__||p()(e)).call(this,i,[t])),a=o,s={el:void 0,inputEl:void 0,disableButton:!0,disableButtonEl:void 0,backdropEl:void 0,searchContainer:void 0,searchItem:"li",searchIn:void 0,ignore:".searchbar-ignore",foundEl:".searchbar-found",notFoundEl:".searchbar-not-found",hideOnEnableEl:".searchbar-hide-on-enable",hideOnSearchEl:".searchbar-hide-on-search",backdrop:!0,removeDiacritics:!0,customSearch:!1,hideDividers:!0,hideGroups:!0,disableOnBackdropClick:!0,expandable:!1};a.useModulesParams(s),a.params=gt.extend(s,i);var u=K(a.params.el);if(0===u.length)return n=a,g()(o,n);u[0].f7Searchbar=a;var c=void 0,l=void 0;if(u.parents(".page").length>0)c=u.parents(".page");else if((l=u.parents(".navbar-inner")).length>0)if(l[0].f7Page)c=l[0].f7Page.$el;else{var h=u.parents(".view").find(".page-current");h[0]&&h[0].f7Page&&h[0].f7Page.navbarEl===l[0]&&(c=h)}var f=void 0;i.foundEl?f=K(i.foundEl):"string"==typeof a.params.foundEl&&c&&(f=c.find(a.params.foundEl));var d=void 0;i.notFoundEl?d=K(i.notFoundEl):"string"==typeof a.params.notFoundEl&&c&&(d=c.find(a.params.notFoundEl));var v=void 0;i.hideOnEnableEl?v=K(i.hideOnEnableEl):"string"==typeof a.params.hideOnEnableEl&&c&&(v=c.find(a.params.hideOnEnableEl));var m=void 0;i.hideOnSearchEl?m=K(i.hideOnSearchEl):"string"==typeof a.params.hideOnSearchEl&&c&&(m=c.find(a.params.hideOnSearchEl));var y=void 0;a.params.backdrop&&0===(y=a.params.backdropEl?K(a.params.backdropEl):c&&c.length>0?c.find(".searchbar-backdrop"):u.siblings(".searchbar-backdrop")).length&&(y=K('<div class="searchbar-backdrop"></div>'),c&&c.length?u.parents(c).length>0&&l&&0===u.parents(l).length?y.insertBefore(u):y.insertBefore(c.find(".page-content").eq(0)):y.insertBefore(u));var b=void 0;a.params.searchContainer&&(b=K(a.params.searchContainer));var w=void 0;w=a.params.inputEl?K(a.params.inputEl):u.find('input[type="search"]').eq(0);var x=void 0;function E(t){t.preventDefault()}function C(t){a.enable(t),a.$el.addClass("searchbar-focused")}function k(){a.$el.removeClass("searchbar-focused")}function T(){var t=a.$inputEl.val().trim();(a.$searchContainer&&a.$searchContainer.length>0&&(a.params.searchIn||a.isVirtualList||a.params.searchIn===a.params.searchItem)||a.params.customSearch)&&a.search(t,!0)}function S(t,e){a.$el.trigger("searchbar:clear",e),a.emit("local::clear searchbarClear",a,e)}function O(t){a.disable(t)}function M(){!a||a&&!a.$el||a.enabled&&a.$el.removeClass("searchbar-enabled")}function A(){!a||a&&!a.$el||a.enabled&&a.$el.addClass("searchbar-enabled")}return a.params.disableButton&&(x=a.params.disableButtonEl?K(a.params.disableButtonEl):u.find(".searchbar-disable-button")),gt.extend(a,{app:t,view:t.views.get(u.parents(".view")),$el:u,el:u[0],$backdropEl:y,backdropEl:y&&y[0],$searchContainer:b,searchContainer:b&&b[0],$inputEl:w,inputEl:w[0],$disableButtonEl:x,disableButtonEl:x&&x[0],disableButtonHasMargin:!1,$pageEl:c,pageEl:c&&c[0],$navbarEl:l,navbarEl:l&&l[0],$foundEl:f,foundEl:f&&f[0],$notFoundEl:d,notFoundEl:d&&d[0],$hideOnEnableEl:v,hideOnEnableEl:v&&v[0],$hideOnSearchEl:m,hideOnSearchEl:m&&m[0],previousQuery:"",query:"",isVirtualList:b&&b.hasClass("virtual-list"),virtualList:void 0,enabled:!1,expandable:a.params.expandable||u.hasClass("searchbar-expandable")}),a.attachEvents=function(){u.on("submit",E),a.params.disableButton&&a.$disableButtonEl.on("click",O),a.params.disableOnBackdropClick&&a.$backdropEl&&a.$backdropEl.on("click",O),a.expandable&&"ios"===t.theme&&a.view&&l&&a.$pageEl&&(a.$pageEl.on("page:beforeout",M),a.$pageEl.on("page:beforein",A)),a.$inputEl.on("focus",C),a.$inputEl.on("blur",k),a.$inputEl.on("change input compositionend",T),a.$inputEl.on("input:clear",S)},a.detachEvents=function(){u.off("submit",E),a.params.disableButton&&a.$disableButtonEl.off("click",O),a.params.disableOnBackdropClick&&a.$backdropEl&&a.$backdropEl.off("click",O),a.expandable&&"ios"===t.theme&&a.view&&l&&a.$pageEl&&(a.$pageEl.on("page:beforeout",M),a.$pageEl.on("page:beforein",A)),a.$inputEl.off("focus",C),a.$inputEl.off("blur",k),a.$inputEl.off("change input compositionend",T),a.$inputEl.off("input:clear",S)},a.useModules(),a.init(),r=a,g()(o,r)}return y()(e,t),x()(e,[{key:"clear",value:function(t){var e=this;if(!e.query&&t&&K(t.target).hasClass("searchbar-clear"))return e.disable(),e;var n=e.value;return e.$inputEl.val("").trigger("change").focus(),e.$el.trigger("searchbar:clear",n),e.emit("local::clear searchbarClear",e,n),e}},{key:"setDisableButtonMargin",value:function(){var t=this;if(!t.expandable){var e=t.app;t.$disableButtonEl.transition(0).show(),t.$disableButtonEl.css("margin-"+(e.rtl?"left":"right"),-t.disableButtonEl.offsetWidth+"px"),t._clientLeft=t.$disableButtonEl[0].clientLeft,t.$disableButtonEl.transition(""),t.disableButtonHasMargin=!0}}},{key:"enable",value:function(t){var e=this;if(e.enabled)return e;var n=e.app;function r(){e.$backdropEl&&(e.$searchContainer&&e.$searchContainer.length||e.params.customSearch)&&!e.$el.hasClass("searchbar-enabled")&&!e.query&&e.backdropShow(),e.$el.addClass("searchbar-enabled"),!e.expandable&&e.$disableButtonEl&&e.$disableButtonEl.length>0&&"ios"===n.theme&&(e.disableButtonHasMargin||e.setDisableButtonMargin(),e.$disableButtonEl.css("margin-"+(n.rtl?"left":"right"),"0px")),e.$hideOnEnableEl&&e.$hideOnEnableEl.addClass("hidden-by-searchbar"),e.$el.trigger("searchbar:enable"),e.emit("local::enable searchbarEnable",e)}e.enabled=!0;var i=!1;return!0===t&&N.activeElement!==e.inputEl&&(i=!0),n.device.ios&&"ios"===n.theme?e.expandable?(i&&e.$inputEl.focus(),r()):(i&&e.$inputEl.focus(),!t||"focus"!==t.type&&!0!==t?r():gt.nextTick(function(){r()},400)):(i&&e.$inputEl.focus(),"md"===n.theme&&e.expandable&&e.$el.parents(".page, .view, .navbar-inner").scrollLeft(0),r()),e}},{key:"disable",value:function(){var t=this;if(!t.enabled)return t;var e=t.app;return t.$inputEl.val("").trigger("change"),t.$el.removeClass("searchbar-enabled"),t.$el.removeClass("searchbar-focused"),!t.expandable&&t.$disableButtonEl&&t.$disableButtonEl.length>0&&"ios"===e.theme&&t.$disableButtonEl.css("margin-"+(e.rtl?"left":"right"),-t.disableButtonEl.offsetWidth+"px"),t.$backdropEl&&(t.$searchContainer&&t.$searchContainer.length||t.params.customSearch)&&t.backdropHide(),t.enabled=!1,t.$inputEl.blur(),t.$hideOnEnableEl&&t.$hideOnEnableEl.removeClass("hidden-by-searchbar"),t.$el.trigger("searchbar:disable"),t.emit("local::disable searchbarDisable",t),t}},{key:"toggle",value:function(){return this.enabled?this.disable():this.enable(!0),this}},{key:"backdropShow",value:function(){return this.$backdropEl&&this.$backdropEl.addClass("searchbar-backdrop-in"),this}},{key:"backdropHide",value:function(){return this.$backdropEl&&this.$backdropEl.removeClass("searchbar-backdrop-in"),this}},{key:"search",value:function(t,e){var n=this;if(n.previousQuery&&t.trim()===n.previousQuery)return n;if(void 0!==n.previousQuery&&""===n.previousQuery.trim()&&""===t.trim())return n;n.previousQuery=t.trim(),e||(n.enabled||n.enable(),n.$inputEl.val(t)),n.query=t,n.value=t;var r=n.$searchContainer,i=n.$el,o=n.$foundEl,a=n.$notFoundEl,s=n.$hideOnSearchEl,u=n.isVirtualList;if(t.length>0&&s?s.addClass("hidden-by-searchbar"):s&&s.removeClass("hidden-by-searchbar"),(r&&r.length&&i.hasClass("searchbar-enabled")||n.params.customSearch&&i.hasClass("searchbar-enabled"))&&(0===t.length?n.backdropShow():n.backdropHide()),n.params.customSearch)return i.trigger("searchbar:search",t,n.previousQuery),n.emit("local::search searchbarSearch",n,t,n.previousQuery),n;var c=[],l=void 0;if(u){if(n.virtualList=r[0].f7VirtualList,""===t.trim())return n.virtualList.resetFilter(),a&&a.hide(),o&&o.show(),n;if(l=n.params.removeDiacritics?gt.removeDiacritics(t):t,n.virtualList.params.searchAll)c=n.virtualList.params.searchAll(l,n.virtualList.items)||[];else if(n.virtualList.params.searchByItem)for(var h=0;h<n.virtualList.items.length;h+=1)n.virtualList.params.searchByItem(l,n.virtualList.params.items[h],h)&&c.push(h)}else{var f=void 0;f=n.params.removeDiacritics?gt.removeDiacritics(t.trim().toLowerCase()).split(" "):t.trim().toLowerCase().split(" "),r.find(n.params.searchItem).removeClass("hidden-by-searchbar").each(function(t,e){var r=K(e),i=[],o=n.params.searchIn?r.find(n.params.searchIn):r;n.params.searchIn===n.params.searchItem&&(o=r),o.each(function(t,e){var r=K(e).text().trim().toLowerCase();n.params.removeDiacritics&&(r=gt.removeDiacritics(r)),i.push(r)}),i=i.join(" ");for(var a=0,s=0;s<f.length;s+=1)i.indexOf(f[s])>=0&&(a+=1);a===f.length||n.params.ignore&&r.is(n.params.ignore)?c.push(r[0]):r.addClass("hidden-by-searchbar")}),n.params.hideDividers&&r.find(".item-divider, .list-group-title").each(function(t,e){for(var r=K(e),i=r.nextAll("li"),o=!0,a=0;a<i.length;a+=1){var s=i.eq(a);if(s.hasClass("list-group-title")||s.hasClass("item-divider"))break;s.hasClass("hidden-by-searchbar")||(o=!1)}var u=n.params.ignore&&r.is(n.params.ignore);o&&!u?r.addClass("hidden-by-searchbar"):r.removeClass("hidden-by-searchbar")}),n.params.hideGroups&&r.find(".list-group").each(function(t,e){var r=K(e),i=n.params.ignore&&r.is(n.params.ignore);0!==r.find("li:not(.hidden-by-searchbar)").length||i?r.removeClass("hidden-by-searchbar"):r.addClass("hidden-by-searchbar")})}return 0===c.length?(a&&a.show(),o&&o.hide()):(a&&a.hide(),o&&o.show()),u&&n.virtualList&&n.virtualList.filterItems(c),i.trigger("searchbar:search",t,n.previousQuery,c),n.emit("local::search searchbarSearch",n,t,n.previousQuery,c),n}},{key:"init",value:function(){this.attachEvents()}},{key:"destroy",value:function(){var t=this;t.emit("local::beforeDestroy searchbarBeforeDestroy",t),t.$el.trigger("searchbar:beforedestroy",t),t.detachEvents(),delete t.$el.f7Searchbar,gt.deleteProps(t)}}]),e}(yt),Mn={name:"searchbar",static:{Searchbar:On},create:function(){this.searchbar=we({defaultSelector:".searchbar",constructor:On,app:this,domProp:"f7Searchbar",addMethods:"clear enable disable toggle search".split(" ")})},on:{tabMounted:function(t){var e=this;K(t).find(".searchbar-init").each(function(t,n){var r=K(n);e.searchbar.create(gt.extend(r.dataset(),{el:n}))})},tabBeforeRemove:function(t){K(t).find(".searchbar-init").each(function(t,e){e.f7Searchbar&&e.f7Searchbar.destroy&&e.f7Searchbar.destroy()})},pageInit:function(t){var e=this;t.$el.find(".searchbar-init").each(function(t,n){var r=K(n);e.searchbar.create(gt.extend(r.dataset(),{el:n}))}),"ios"===e.theme&&t.view&&t.view.router.separateNavbar&&t.$navbarEl&&t.$navbarEl.length>0&&t.$navbarEl.find(".searchbar-init").each(function(t,n){var r=K(n);e.searchbar.create(gt.extend(r.dataset(),{el:n}))})},pageBeforeRemove:function(t){t.$el.find(".searchbar-init").each(function(t,e){e.f7Searchbar&&e.f7Searchbar.destroy&&e.f7Searchbar.destroy()}),"ios"===this.theme&&t.view&&t.view.router.separateNavbar&&t.$navbarEl&&t.$navbarEl.length>0&&t.$navbarEl.find(".searchbar-init").each(function(t,e){e.f7Searchbar&&e.f7Searchbar.destroy&&e.f7Searchbar.destroy()})}},clicks:{".searchbar-clear":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.searchbar.get(e.searchbar);n&&n.clear()},".searchbar-enable":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.searchbar.get(e.searchbar);n&&n.enable(!0)},".searchbar-disable":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.searchbar.get(e.searchbar);n&&n.disable()},".searchbar-toggle":function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.searchbar.get(e.searchbar);n&&n.toggle()}}},An=function(t){function e(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_()(this,e);var o=g()(this,(e.__proto__||p()(e)).call(this,i,[t])),a=o,s={autoLayout:!0,messages:[],newMessagesFirst:!1,scrollMessages:!0,scrollMessagesOnEdge:!0,firstMessageRule:void 0,lastMessageRule:void 0,tailMessageRule:void 0,sameNameMessageRule:void 0,sameHeaderMessageRule:void 0,sameFooterMessageRule:void 0,sameAvatarMessageRule:void 0,customClassMessageRule:void 0,renderMessage:void 0};a.useModulesParams(s),a.params=gt.extend(s,i);var u=K(i.el).eq(0);if(0===u.length)return n=a,g()(o,n);u[0].f7Messages=a;var c=u.closest(".page-content").eq(0);return gt.extend(a,{messages:a.params.messages,$el:u,el:u[0],$pageContentEl:c,pageContentEl:c[0]}),a.useModules(),a.init(),r=a,g()(o,r)}return y()(e,t),x()(e,[{key:"getMessageData",value:function(t){var e=K(t),n={name:e.find(".message-name").html(),header:e.find(".message-header").html(),textHeader:e.find(".message-text-header").html(),textFooter:e.find(".message-text-footer").html(),footer:e.find(".message-footer").html(),isTitle:e.hasClass("messages-title"),type:e.hasClass("message-sent")?"sent":"received",text:e.find(".message-text").html(),image:e.find(".message-image").html(),imageSrc:e.find(".message-image img").attr("src"),typing:e.hasClass("message-typing")};n.isTitle&&(n.text=e.html()),n.text&&n.textHeader&&(n.text=n.text.replace('<div class="message-text-header">'+n.textHeader+"</div>","")),n.text&&n.textFooter&&(n.text=n.text.replace('<div class="message-text-footer">'+n.textFooter+"</div>",""));var r=e.find(".message-avatar").css("background-image");return"none"!==r&&""!==r||(r=void 0),r=r&&"string"==typeof r?r.replace("url(","").replace(")","").replace(/"/g,"").replace(/'/g,""):void 0,n.avatar=r,n}},{key:"getMessagesData",value:function(){var t=this,e=[];return t.$el.find(".message, .messages-title").each(function(n,r){e.push(t.getMessageData(r))}),e}},{key:"renderMessage",value:function(t){var e=this,n=gt.extend({type:"sent"},t);return e.params.renderMessage?e.params.renderMessage.call(e,n):n.isTitle?'<div class="messages-title">'+n.text+"</div>":'\n      <div class="message message-'+n.type+" "+(n.isTyping?"message-typing":"")+'">\n        '+(n.avatar?'\n        <div class="message-avatar" style="background-image:url('+n.avatar+')"></div>\n        ':"")+'\n        <div class="message-content">\n          '+(n.name?'<div class="message-name">'+n.name+"</div>":"")+"\n          "+(n.header?'<div class="message-header">'+n.header+"</div>":"")+'\n          <div class="message-bubble">\n            '+(n.textHeader?'<div class="message-text-header">'+n.textHeader+"</div>":"")+"\n            "+(n.image?'<div class="message-image">'+n.image+"</div>":"")+"\n            "+(n.imageSrc&&!n.image?'<div class="message-image"><img src="'+n.imageSrc+'"></div>':"")+"\n            "+(n.text||n.isTyping?'<div class="message-text">'+(n.text||"")+(n.isTyping?'<div class="message-typing-indicator"><div></div><div></div><div></div></div>':"")+"</div>":"")+"\n            "+(n.textFooter?'<div class="message-text-footer">'+n.textFooter+"</div>":"")+"\n          </div>\n          "+(n.footer?'<div class="message-footer">'+n.footer+"</div>":"")+"\n        </div>\n      </div>\n    "}},{key:"renderMessages",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.messages,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.newMessagesFirst?"prepend":"append",n=this,r=t.map(function(t){return n.renderMessage(t)}).join("");n.$el[e](r)}},{key:"isFirstMessage",value:function(){var t;return!!this.params.firstMessageRule&&(t=this.params).firstMessageRule.apply(t,arguments)}},{key:"isLastMessage",value:function(){var t;return!!this.params.lastMessageRule&&(t=this.params).lastMessageRule.apply(t,arguments)}},{key:"isTailMessage",value:function(){var t;return!!this.params.tailMessageRule&&(t=this.params).tailMessageRule.apply(t,arguments)}},{key:"isSameNameMessage",value:function(){var t;return!!this.params.sameNameMessageRule&&(t=this.params).sameNameMessageRule.apply(t,arguments)}},{key:"isSameHeaderMessage",value:function(){var t;return!!this.params.sameHeaderMessageRule&&(t=this.params).sameHeaderMessageRule.apply(t,arguments)}},{key:"isSameFooterMessage",value:function(){var t;return!!this.params.sameFooterMessageRule&&(t=this.params).sameFooterMessageRule.apply(t,arguments)}},{key:"isSameAvatarMessage",value:function(){var t;return!!this.params.sameAvatarMessageRule&&(t=this.params).sameAvatarMessageRule.apply(t,arguments)}},{key:"isCustomClassMessage",value:function(){var t;if(this.params.customClassMessageRule)return(t=this.params).customClassMessageRule.apply(t,arguments)}},{key:"layout",value:function(){var t=this;t.$el.find(".message, .messages-title").each(function(e,n){var r=K(n);t.messages||(t.messages=t.getMessagesData());var i=[],o=t.messages[e],a=t.messages[e-1],s=t.messages[e+1];t.isFirstMessage(o,a,s)&&i.push("message-first"),t.isLastMessage(o,a,s)&&i.push("message-last"),t.isTailMessage(o,a,s)&&i.push("message-tail"),t.isSameNameMessage(o,a,s)&&i.push("message-same-name"),t.isSameHeaderMessage(o,a,s)&&i.push("message-same-header"),t.isSameFooterMessage(o,a,s)&&i.push("message-same-footer"),t.isSameAvatarMessage(o,a,s)&&i.push("message-same-avatar");var u=t.isCustomClassMessage(o,a,s);u&&u.length&&("string"==typeof u&&(u=u.split(" ")),u.forEach(function(t){i.push(t)})),r.removeClass("message-first message-last message-tail message-same-name message-same-header message-same-footer message-same-avatar"),i.forEach(function(t){r.addClass(t)})})}},{key:"clear",value:function(){this.messages=[],this.$el.html("")}},{key:"removeMessage",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=void 0,i=void 0;return"number"==typeof t?(r=t,i=n.$el.find(".message, .messages-title").eq(r)):n.messages&&n.messages.indexOf(t)>=0?(r=n.messages.indexOf(t),i=n.$el.children().eq(r)):r=(i=K(t)).index(),0===i.length?n:(i.remove(),n.messages.splice(r,1),n.params.autoLayout&&e&&n.layout(),n)}},{key:"removeMessages",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;if(Array.isArray(t)){var r=[];t.forEach(function(t){r.push(n.$el.find(".message, .messages-title").eq(t))}),r.forEach(function(t){n.removeMessage(t,!1)})}else K(t).each(function(t,e){n.removeMessage(e,!1)});return n.params.autoLayout&&e&&n.layout(),n}},{key:"addMessage",value:function(){for(var t=void 0,e=void 0,n=void 0,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return"boolean"==typeof i[1]?(t=i[0],e=i[1],n=i[2]):(t=i[0],n=i[1],e=i[2]),void 0===e&&(e=!0),void 0===n&&(n=this.params.newMessagesFirst?"prepend":"append"),this.addMessages([t],e,n)}},{key:"addMessages",value:function(){for(var t=this,e=void 0,n=void 0,r=void 0,i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];"boolean"==typeof o[1]?(e=o[0],n=o[1],r=o[2]):(e=o[0],r=o[1],n=o[2]),void 0===n&&(n=!0),void 0===r&&(r=t.params.newMessagesFirst?"prepend":"append");var s=t.pageContentEl.scrollHeight,u=t.pageContentEl.offsetHeight,c=t.pageContentEl.scrollTop,l="",h=t.messages.filter(function(t){return t.isTyping})[0];e.forEach(function(e){h?"append"===r?t.messages.splice(t.messages.indexOf(h),0,e):t.messages.splice(t.messages.indexOf(h)+1,0,e):t.messages["append"===r?"push":"unshift"](e),l+=t.renderMessage(e)});var f=K(l);if(n&&("append"!==r||t.params.newMessagesFirst||f.addClass("message-appear-from-bottom"),"prepend"===r&&t.params.newMessagesFirst&&f.addClass("message-appear-from-top")),h?"append"===r?f.insertBefore(t.$el.find(".message-typing")):f.insertAfter(t.$el.find(".message-typing")):t.$el[r](f),t.params.autoLayout&&t.layout(),"prepend"!==r||h||(t.pageContentEl.scrollTop=c+(t.pageContentEl.scrollHeight-s)),t.params.scrollMessages&&("append"===r&&!t.params.newMessagesFirst||"prepend"===r&&t.params.newMessagesFirst&&!h))if(t.params.scrollMessagesOnEdge){var d=!1;t.params.newMessagesFirst&&0===c&&(d=!0),!t.params.newMessagesFirst&&c-(s-u)>=-10&&(d=!0),d&&t.scroll(n?void 0:0)}else t.scroll(n?void 0:0);return t}},{key:"showTyping",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this,n=e.messages.filter(function(t){return t.isTyping})[0];return n&&e.removeMessage(e.messages.indexOf(n)),e.addMessage(gt.extend({type:"received",isTyping:!0},t)),e}},{key:"hideTyping",value:function(){var t=this,e=void 0,n=void 0;if(t.messages.forEach(function(t,n){t.isTyping&&(e=n)}),void 0!==e&&t.$el.find(".message").eq(e).hasClass("message-typing")&&(n=!0,t.removeMessage(e)),!n){var r=t.$el.find(".message-typing");r.length&&t.removeMessage(r)}return t}},{key:"scroll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,e=arguments[1],n=this,r=n.pageContentEl.scrollTop,i=void 0;if(void 0!==e)i=e;else if((i=n.params.newMessagesFirst?0:n.pageContentEl.scrollHeight-n.pageContentEl.offsetHeight)===r)return n;return n.$pageContentEl.scrollTop(i,t),n}},{key:"init",value:function(){var t=this;t.messages&&0!==t.messages.length||(t.messages=t.getMessagesData()),t.params.messages&&t.params.messages.length&&t.renderMessages(),t.params.autoLayout&&t.layout(),t.params.scrollMessages&&t.scroll(0)}},{key:"destroy",value:function(){var t=this;t.emit("local::beforeDestroy messagesBeforeDestroy",t),t.$el.trigger("messages:beforedestroy",t),t.$el[0].f7Messages=null,delete t.$el[0].f7Messages,gt.deleteProps(t)}}]),e}(yt),Pn={name:"messages",static:{Messages:An},create:function(){this.messages=we({defaultSelector:".messages",constructor:An,app:this,domProp:"f7Messages",addMethods:"renderMessages layout scroll clear removeMessage removeMessages addMessage addMessages".split(" ")})},on:{tabBeforeRemove:function(t){var e=this;K(t).find(".messages-init").each(function(t,n){e.messages.destroy(n)})},tabMounted:function(t){var e=this;K(t).find(".messages-init").each(function(t,n){e.messages.create({el:n})})},pageBeforeRemove:function(t){var e=this;t.$el.find(".messages-init").each(function(t,n){e.messages.destroy(n)})},pageInit:function(t){var e=this;t.$el.find(".messages-init").each(function(t,n){e.messages.create({el:n})})}},clicks:{}},In=function(t){function e(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_()(this,e);var o=g()(this,(e.__proto__||p()(e)).call(this,i,[t])),a=o,s={top:!1,topOffset:0,bottomOffset:0,attachments:[],renderAttachments:void 0,renderAttachment:void 0,maxHeight:null,resizePage:!0};a.useModulesParams(s),a.params=gt.extend(s,i);var u=K(a.params.el);if(0===u.length)return n=a,g()(o,n);u[0].f7Messagebar=a;var c=u.parents(".page").eq(0),l=c.find(".page-content").eq(0),h=u.find(".messagebar-area"),f=void 0;f=a.params.textareaEl?K(a.params.textareaEl):u.find("textarea");var d=u.find(".messagebar-attachments"),v=u.find(".messagebar-sheet");function m(){a.params.resizePage&&a.resizePage()}function y(t){t.preventDefault()}function b(t){var e=K(this).index();K(t.target).closest(".messagebar-attachment-delete").length?(K(this).trigger("messagebar:attachmentdelete",e),a.emit("local::attachmentDelete messagebarAttachmentDelete",a,this,e)):(K(this).trigger("messagebar:attachmentclick",e),a.emit("local::attachmentClick messagebarAttachmentClick",a,this,e))}function w(){a.checkEmptyState(),a.$el.trigger("messagebar:change"),a.emit("local::change messagebarChange",a)}function x(){a.sheetHide(),a.$el.addClass("messagebar-focused"),a.$el.trigger("messagebar:focus"),a.emit("local::focus messagebarFocus",a)}function E(){a.$el.removeClass("messagebar-focused"),a.$el.trigger("messagebar:blur"),a.emit("local::blur messagebarBlur",a)}return a.params.top&&u.addClass("messagebar-top"),gt.extend(a,{$el:u,el:u[0],$areaEl:h,areaEl:h[0],$textareaEl:f,textareaEl:f[0],$attachmentsEl:d,attachmentsEl:d[0],attachmentsVisible:d.hasClass("messagebar-attachments-visible"),$sheetEl:v,sheetEl:v[0],sheetVisible:v.hasClass("messagebar-sheet-visible"),$pageEl:c,pageEl:c[0],$pageContentEl:l,pageContentEl:l,top:u.hasClass("messagebar-top")||a.params.top,attachments:[]}),a.attachEvents=function(){u.on("textarea:resize",m),u.on("submit",y),u.on("click",".messagebar-attachment",b),f.on("change input",w),f.on("focus",x),f.on("blur",E),t.on("resize",m)},a.detachEvents=function(){u.off("textarea:resize",m),u.off("submit",y),u.off("click",".messagebar-attachment",b),f.off("change input",w),f.off("focus",x),f.off("blur",E),t.off("resize",m)},a.useModules(),a.init(),r=a,g()(o,r)}return y()(e,t),x()(e,[{key:"focus",value:function(){return this.$textareaEl.focus(),this}},{key:"blur",value:function(){return this.$textareaEl.blur(),this}},{key:"clear",value:function(){return this.$textareaEl.val("").trigger("change"),this}},{key:"getValue",value:function(){return this.$textareaEl.val().trim()}},{key:"setValue",value:function(t){return this.$textareaEl.val(t).trigger("change"),this}},{key:"setPlaceholder",value:function(t){return this.$textareaEl.attr("placeholder",t),this}},{key:"resizePage",value:function(){var t=this.params,e=this.$el,n=this.top,r=this.$pageEl,i=this.$pageContentEl,o=this.$areaEl,a=this.$textareaEl,s=this.$sheetEl,u=this.$attachmentsEl,c=e[0].offsetHeight,l=t.maxHeight;if(n);else{var h=parseInt(i.css("padding-bottom"),10),f=c+t.bottomOffset;if(f!==h&&i.length){var d=parseInt(i.css("padding-top"),10),p=i[0].scrollHeight,v=i[0].offsetHeight,g=i[0].scrollTop===p-v;l||(l=r[0].offsetHeight-d-s.outerHeight()-u.outerHeight()-parseInt(o.css("margin-top"),10)-parseInt(o.css("margin-bottom"),10)),a.css("max-height",l+"px"),i.css("padding-bottom",f+"px"),g&&i.scrollTop(i[0].scrollHeight-v),e.trigger("messagebar:resizepage"),this.emit("local::resizePage messagebarResizePage",this)}}}},{key:"checkEmptyState",value:function(){var t=this.$el,e=this.$textareaEl.val().trim();e&&e.length?t.addClass("messagebar-with-value"):t.removeClass("messagebar-with-value")}},{key:"attachmentsCreate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=K('<div class="messagebar-attachments">'+t+"</div>");return e.insertBefore(this.$textareaEl),gt.extend(this,{$attachmentsEl:e,attachmentsEl:e[0]}),this}},{key:"attachmentsShow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.$attachmentsEl=this.$el.find(".messagebar-attachments"),0===this.$attachmentsEl.length&&this.attachmentsCreate(t),this.$el.addClass("messagebar-attachments-visible"),this.attachmentsVisible=!0,this.params.resizePage&&this.resizePage(),this}},{key:"attachmentsHide",value:function(){return this.$el.removeClass("messagebar-attachments-visible"),this.attachmentsVisible=!1,this.params.resizePage&&this.resizePage(),this}},{key:"attachmentsToggle",value:function(){return this.attachmentsVisible?this.attachmentsHide():this.attachmentsShow(),this}},{key:"renderAttachment",value:function(t){return this.params.renderAttachment?this.params.renderAttachment.call(this,t):'\n      <div class="messagebar-attachment">\n        <img src="'+t+'">\n        <span class="messagebar-attachment-delete"></span>\n      </div>\n    '}},{key:"renderAttachments",value:function(){var t=this,e=void 0;e=t.params.renderAttachments?t.params.renderAttachments.call(t,t.attachments):""+t.attachments.map(function(e){return t.renderAttachment(e)}).join(""),0===t.$attachmentsEl.length?t.attachmentsCreate(e):t.$attachmentsEl.html(e)}},{key:"sheetCreate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=K('<div class="messagebar-sheet">'+t+"</div>");return this.$el.append(e),gt.extend(this,{$sheetEl:e,sheetEl:e[0]}),this}},{key:"sheetShow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.$sheetEl=this.$el.find(".messagebar-sheet"),0===this.$sheetEl.length&&this.sheetCreate(t),this.$el.addClass("messagebar-sheet-visible"),this.sheetVisible=!0,this.params.resizePage&&this.resizePage(),this}},{key:"sheetHide",value:function(){return this.$el.removeClass("messagebar-sheet-visible"),this.sheetVisible=!1,this.params.resizePage&&this.resizePage(),this}},{key:"sheetToggle",value:function(){return this.sheetVisible?this.sheetHide():this.sheetShow(),this}},{key:"init",value:function(){return this.attachEvents(),this.checkEmptyState(),this}},{key:"destroy",value:function(){this.emit("local::beforeDestroy messagebarBeforeDestroy",this),this.$el.trigger("messagebar:beforedestroy",this),this.detachEvents(),this.$el[0].f7Messagebar=null,delete this.$el[0].f7Messagebar,gt.deleteProps(this)}}]),e}(yt),Nn={name:"messagebar",static:{Messagebar:In},create:function(){this.messagebar=we({defaultSelector:".messagebar",constructor:In,app:this,domProp:"f7Messagebar",addMethods:"clear getValue setValue setPlaceholder resizePage focus blur attachmentsCreate attachmentsShow attachmentsHide attachmentsToggle renderAttachments sheetCreate sheetShow sheetHide sheetToggle".split(" ")})},on:{tabBeforeRemove:function(t){var e=this;K(t).find(".messagebar-init").each(function(t,n){e.messagebar.destroy(n)})},tabMounted:function(t){var e=this;K(t).find(".messagebar-init").each(function(t,n){e.messagebar.create(gt.extend({el:n},K(n).dataset()))})},pageBeforeRemove:function(t){var e=this;t.$el.find(".messagebar-init").each(function(t,n){e.messagebar.destroy(n)})},pageInit:function(t){var e=this;t.$el.find(".messagebar-init").each(function(t,n){e.messagebar.create(gt.extend({el:n},K(n).dataset()))})}}};var Dn={updateSize:function(){var t=void 0,e=void 0,n=this.$el;t=void 0!==this.params.width?this.params.width:n[0].clientWidth,e=void 0!==this.params.height?this.params.height:n[0].clientHeight,0===t&&this.isHorizontal()||0===e&&this.isVertical()||(t=t-parseInt(n.css("padding-left"),10)-parseInt(n.css("padding-right"),10),e=e-parseInt(n.css("padding-top"),10)-parseInt(n.css("padding-bottom"),10),gt.extend(this,{width:t,height:e,size:this.isHorizontal()?t:e}))},updateSlides:function(){var t=this.params,e=this.$wrapperEl,n=this.size,r=this.rtlTranslate,i=this.wrongRTL,o=this.virtual&&t.virtual.enabled,a=o?this.virtual.slides.length:this.slides.length,s=e.children("."+this.params.slideClass),u=o?this.virtual.slides.length:s.length,c=[],l=[],h=[],f=t.slidesOffsetBefore;"function"==typeof f&&(f=t.slidesOffsetBefore.call(this));var d=t.slidesOffsetAfter;"function"==typeof d&&(d=t.slidesOffsetAfter.call(this));var p=this.snapGrid.length,v=this.snapGrid.length,g=t.spaceBetween,m=-f,y=0,b=0;if(void 0!==n){"string"==typeof g&&g.indexOf("%")>=0&&(g=parseFloat(g.replace("%",""))/100*n),this.virtualSize=-g,r?s.css({marginLeft:"",marginTop:""}):s.css({marginRight:"",marginBottom:""});var _=void 0;t.slidesPerColumn>1&&(_=Math.floor(u/t.slidesPerColumn)===u/this.params.slidesPerColumn?u:Math.ceil(u/t.slidesPerColumn)*t.slidesPerColumn,"auto"!==t.slidesPerView&&"row"===t.slidesPerColumnFill&&(_=Math.max(_,t.slidesPerView*t.slidesPerColumn)));for(var w=void 0,x=t.slidesPerColumn,E=_/x,C=E-(t.slidesPerColumn*E-u),k=0;k<u;k+=1){w=0;var T=s.eq(k);if(t.slidesPerColumn>1){var S=void 0,O=void 0,M=void 0;"column"===t.slidesPerColumnFill?(M=k-(O=Math.floor(k/x))*x,(O>C||O===C&&M===x-1)&&(M+=1)>=x&&(M=0,O+=1),S=O+M*_/x,T.css({"-webkit-box-ordinal-group":S,"-moz-box-ordinal-group":S,"-ms-flex-order":S,"-webkit-order":S,order:S})):O=k-(M=Math.floor(k/E))*E,T.css("margin-"+(this.isHorizontal()?"top":"left"),0!==M&&t.spaceBetween&&t.spaceBetween+"px").attr("data-swiper-column",O).attr("data-swiper-row",M)}if("none"!==T.css("display")){if("auto"===t.slidesPerView){var A=D.getComputedStyle(T[0],null),P=T[0].style.transform,I=T[0].style.webkitTransform;P&&(T[0].style.transform="none"),I&&(T[0].style.webkitTransform="none"),w=this.isHorizontal()?T[0].getBoundingClientRect().width+parseFloat(A.getPropertyValue("margin-left"))+parseFloat(A.getPropertyValue("margin-right")):T[0].getBoundingClientRect().height+parseFloat(A.getPropertyValue("margin-top"))+parseFloat(A.getPropertyValue("margin-bottom")),P&&(T[0].style.transform=P),I&&(T[0].style.webkitTransform=I),t.roundLengths&&(w=Math.floor(w))}else w=(n-(t.slidesPerView-1)*g)/t.slidesPerView,t.roundLengths&&(w=Math.floor(w)),s[k]&&(this.isHorizontal()?s[k].style.width=w+"px":s[k].style.height=w+"px");s[k]&&(s[k].swiperSlideSize=w),h.push(w),t.centeredSlides?(m=m+w/2+y/2+g,0===y&&0!==k&&(m=m-n/2-g),0===k&&(m=m-n/2-g),Math.abs(m)<.001&&(m=0),b%t.slidesPerGroup==0&&c.push(m),l.push(m)):(b%t.slidesPerGroup==0&&c.push(m),l.push(m),m=m+w+g),this.virtualSize+=w+g,y=w,b+=1}}this.virtualSize=Math.max(this.virtualSize,n)+d;var N=void 0;if(r&&i&&("slide"===t.effect||"coverflow"===t.effect)&&e.css({width:this.virtualSize+t.spaceBetween+"px"}),Mt.flexbox&&!t.setWrapperSize||(this.isHorizontal()?e.css({width:this.virtualSize+t.spaceBetween+"px"}):e.css({height:this.virtualSize+t.spaceBetween+"px"})),t.slidesPerColumn>1&&(this.virtualSize=(w+t.spaceBetween)*_,this.virtualSize=Math.ceil(this.virtualSize/t.slidesPerColumn)-t.spaceBetween,this.isHorizontal()?e.css({width:this.virtualSize+t.spaceBetween+"px"}):e.css({height:this.virtualSize+t.spaceBetween+"px"}),t.centeredSlides)){N=[];for(var R=0;R<c.length;R+=1)c[R]<this.virtualSize+c[0]&&N.push(c[R]);c=N}if(!t.centeredSlides){N=[];for(var j=0;j<c.length;j+=1)c[j]<=this.virtualSize-n&&N.push(c[j]);c=N,Math.floor(this.virtualSize-n)-Math.floor(c[c.length-1])>1&&c.push(this.virtualSize-n)}0===c.length&&(c=[0]),0!==t.spaceBetween&&(this.isHorizontal()?r?s.css({marginLeft:g+"px"}):s.css({marginRight:g+"px"}):s.css({marginBottom:g+"px"})),gt.extend(this,{slides:s,snapGrid:c,slidesGrid:l,slidesSizesGrid:h}),u!==a&&this.emit("slidesLengthChange"),c.length!==p&&(this.params.watchOverflow&&this.checkOverflow(),this.emit("snapGridLengthChange")),l.length!==v&&this.emit("slidesGridLengthChange"),(t.watchSlidesProgress||t.watchSlidesVisibility)&&this.updateSlidesOffset()}},updateAutoHeight:function(t){var e=[],n=0,r=void 0;if("number"==typeof t?this.setTransition(t):!0===t&&this.setTransition(this.params.speed),"auto"!==this.params.slidesPerView&&this.params.slidesPerView>1)for(r=0;r<Math.ceil(this.params.slidesPerView);r+=1){var i=this.activeIndex+r;if(i>this.slides.length)break;e.push(this.slides.eq(i)[0])}else e.push(this.slides.eq(this.activeIndex)[0]);for(r=0;r<e.length;r+=1)if(void 0!==e[r]){var o=e[r].offsetHeight;n=o>n?o:n}n&&this.$wrapperEl.css("height",n+"px")},updateSlidesOffset:function(){for(var t=this.slides,e=0;e<t.length;e+=1)t[e].swiperSlideOffset=this.isHorizontal()?t[e].offsetLeft:t[e].offsetTop},updateSlidesProgress:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this&&this.translate||0,e=this.params,n=this.slides,r=this.rtlTranslate;if(0!==n.length){void 0===n[0].swiperSlideOffset&&this.updateSlidesOffset();var i=-t;r&&(i=t),n.removeClass(e.slideVisibleClass);for(var o=0;o<n.length;o+=1){var a=n[o],s=(i+(e.centeredSlides?this.minTranslate():0)-a.swiperSlideOffset)/(a.swiperSlideSize+e.spaceBetween);if(e.watchSlidesVisibility){var u=-(i-a.swiperSlideOffset),c=u+this.slidesSizesGrid[o];(u>=0&&u<this.size||c>0&&c<=this.size||u<=0&&c>=this.size)&&n.eq(o).addClass(e.slideVisibleClass)}a.progress=r?-s:s}}},updateProgress:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this&&this.translate||0,e=this.params,n=this.maxTranslate()-this.minTranslate(),r=this.progress,i=this.isBeginning,o=this.isEnd,a=i,s=o;0===n?(r=0,i=!0,o=!0):(i=(r=(t-this.minTranslate())/n)<=0,o=r>=1),gt.extend(this,{progress:r,isBeginning:i,isEnd:o}),(e.watchSlidesProgress||e.watchSlidesVisibility)&&this.updateSlidesProgress(t),i&&!a&&this.emit("reachBeginning toEdge"),o&&!s&&this.emit("reachEnd toEdge"),(a&&!i||s&&!o)&&this.emit("fromEdge"),this.emit("progress",r)},updateSlidesClasses:function(){var t=this.slides,e=this.params,n=this.$wrapperEl,r=this.activeIndex,i=this.realIndex,o=this.virtual&&e.virtual.enabled;t.removeClass(e.slideActiveClass+" "+e.slideNextClass+" "+e.slidePrevClass+" "+e.slideDuplicateActiveClass+" "+e.slideDuplicateNextClass+" "+e.slideDuplicatePrevClass);var a=void 0;(a=o?this.$wrapperEl.find("."+e.slideClass+'[data-swiper-slide-index="'+r+'"]'):t.eq(r)).addClass(e.slideActiveClass),e.loop&&(a.hasClass(e.slideDuplicateClass)?n.children("."+e.slideClass+":not(."+e.slideDuplicateClass+')[data-swiper-slide-index="'+i+'"]').addClass(e.slideDuplicateActiveClass):n.children("."+e.slideClass+"."+e.slideDuplicateClass+'[data-swiper-slide-index="'+i+'"]').addClass(e.slideDuplicateActiveClass));var s=a.nextAll("."+e.slideClass).eq(0).addClass(e.slideNextClass);e.loop&&0===s.length&&(s=t.eq(0)).addClass(e.slideNextClass);var u=a.prevAll("."+e.slideClass).eq(0).addClass(e.slidePrevClass);e.loop&&0===u.length&&(u=t.eq(-1)).addClass(e.slidePrevClass),e.loop&&(s.hasClass(e.slideDuplicateClass)?n.children("."+e.slideClass+":not(."+e.slideDuplicateClass+')[data-swiper-slide-index="'+s.attr("data-swiper-slide-index")+'"]').addClass(e.slideDuplicateNextClass):n.children("."+e.slideClass+"."+e.slideDuplicateClass+'[data-swiper-slide-index="'+s.attr("data-swiper-slide-index")+'"]').addClass(e.slideDuplicateNextClass),u.hasClass(e.slideDuplicateClass)?n.children("."+e.slideClass+":not(."+e.slideDuplicateClass+')[data-swiper-slide-index="'+u.attr("data-swiper-slide-index")+'"]').addClass(e.slideDuplicatePrevClass):n.children("."+e.slideClass+"."+e.slideDuplicateClass+'[data-swiper-slide-index="'+u.attr("data-swiper-slide-index")+'"]').addClass(e.slideDuplicatePrevClass))},updateActiveIndex:function(t){var e=this.rtlTranslate?this.translate:-this.translate,n=this.slidesGrid,r=this.snapGrid,i=this.params,o=this.activeIndex,a=this.realIndex,s=this.snapIndex,u=t,c=void 0;if(void 0===u){for(var l=0;l<n.length;l+=1)void 0!==n[l+1]?e>=n[l]&&e<n[l+1]-(n[l+1]-n[l])/2?u=l:e>=n[l]&&e<n[l+1]&&(u=l+1):e>=n[l]&&(u=l);i.normalizeSlideIndex&&(u<0||void 0===u)&&(u=0)}if((c=r.indexOf(e)>=0?r.indexOf(e):Math.floor(u/i.slidesPerGroup))>=r.length&&(c=r.length-1),u!==o){var h=parseInt(this.slides.eq(u).attr("data-swiper-slide-index")||u,10);gt.extend(this,{snapIndex:c,realIndex:h,previousIndex:o,activeIndex:u}),this.emit("activeIndexChange"),this.emit("snapIndexChange"),a!==h&&this.emit("realIndexChange"),this.emit("slideChange")}else c!==s&&(this.snapIndex=c,this.emit("snapIndexChange"))},updateClickedSlide:function(t){var e=this.params,n=K(t.target).closest("."+e.slideClass)[0],r=!1;if(n)for(var i=0;i<this.slides.length;i+=1)this.slides[i]===n&&(r=!0);if(!n||!r)return this.clickedSlide=void 0,void(this.clickedIndex=void 0);this.clickedSlide=n,this.virtual&&this.params.virtual.enabled?this.clickedIndex=parseInt(K(n).attr("data-swiper-slide-index"),10):this.clickedIndex=K(n).index(),e.slideToClickedSlide&&void 0!==this.clickedIndex&&this.clickedIndex!==this.activeIndex&&this.slideToClickedSlide()}};var Rn={getTranslate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.isHorizontal()?"x":"y",e=this.params,n=this.rtlTranslate,r=this.translate,i=this.$wrapperEl;if(e.virtualTranslate)return n?-r:r;var o=gt.getTranslate(i[0],t);return n&&(o=-o),o||0},setTranslate:function(t,e){var n=this.rtlTranslate,r=this.params,i=this.$wrapperEl,o=this.progress,a=0,s=0;this.isHorizontal()?a=n?-t:t:s=t,r.roundLengths&&(a=Math.floor(a),s=Math.floor(s)),r.virtualTranslate||(Mt.transforms3d?i.transform("translate3d("+a+"px, "+s+"px, 0px)"):i.transform("translate("+a+"px, "+s+"px)")),this.translate=this.isHorizontal()?a:s;var u=this.maxTranslate()-this.minTranslate();(0===u?0:(t-this.minTranslate())/u)!==o&&this.updateProgress(t),this.emit("setTranslate",this.translate,e)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]}};var jn={setTransition:function(t,e){this.$wrapperEl.transition(t),this.emit("setTransition",t,e)},transitionStart:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments[1],n=this.activeIndex,r=this.params,i=this.previousIndex;r.autoHeight&&this.updateAutoHeight();var o=e;if(o||(o=n>i?"next":n<i?"prev":"reset"),this.emit("transitionStart"),t&&n!==i){if("reset"===o)return void this.emit("slideResetTransitionStart");this.emit("slideChangeTransitionStart"),"next"===o?this.emit("slideNextTransitionStart"):this.emit("slidePrevTransitionStart")}},transitionEnd:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments[1],n=this.activeIndex,r=this.previousIndex;this.animating=!1,this.setTransition(0);var i=e;if(i||(i=n>r?"next":n<r?"prev":"reset"),this.emit("transitionEnd"),t&&n!==r){if("reset"===i)return void this.emit("slideResetTransitionEnd");this.emit("slideChangeTransitionEnd"),"next"===i?this.emit("slideNextTransitionEnd"):this.emit("slidePrevTransitionEnd")}}};var Ln={slideTo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments[3],i=this,o=t;o<0&&(o=0);var a=i.params,s=i.snapGrid,u=i.slidesGrid,c=i.previousIndex,l=i.activeIndex,h=i.rtlTranslate;if(i.animating&&a.preventIntercationOnTransition)return!1;var f=Math.floor(o/a.slidesPerGroup);f>=s.length&&(f=s.length-1),(l||a.initialSlide||0)===(c||0)&&n&&i.emit("beforeSlideChangeStart");var d=-s[f];if(i.updateProgress(d),a.normalizeSlideIndex)for(var p=0;p<u.length;p+=1)-Math.floor(100*d)>=Math.floor(100*u[p])&&(o=p);if(i.initialized&&o!==l){if(!i.allowSlideNext&&d<i.translate&&d<i.minTranslate())return!1;if(!i.allowSlidePrev&&d>i.translate&&d>i.maxTranslate()&&(l||0)!==o)return!1}var v=void 0;return v=o>l?"next":o<l?"prev":"reset",h&&-d===i.translate||!h&&d===i.translate?(i.updateActiveIndex(o),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),"slide"!==a.effect&&i.setTranslate(d),"reset"!==v&&(i.transitionStart(n,v),i.transitionEnd(n,v)),!1):(0!==e&&Mt.transition?(i.setTransition(e),i.setTranslate(d),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,v),i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(t){i&&!i.destroyed&&t.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd),i.transitionEnd(n,v))}),i.$wrapperEl[0].addEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd))):(i.setTransition(0),i.setTranslate(d),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,v),i.transitionEnd(n,v)),!0)},slideToLoop:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments[3],i=t;return this.params.loop&&(i+=this.loopedSlides),this.slideTo(i,e,n,r)},slideNext:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments[2],r=this.params,i=this.animating;return r.loop?!i&&(this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft,this.slideTo(this.activeIndex+r.slidesPerGroup,t,e,n)):this.slideTo(this.activeIndex+r.slidesPerGroup,t,e,n)},slidePrev:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments[2],r=this.params,i=this.animating,o=this.snapGrid,a=this.slidesGrid,s=this.rtlTranslate;if(r.loop){if(i)return!1;this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft}var u=s?this.translate:-this.translate,c=u<0?-Math.floor(Math.abs(u)):Math.floor(u),l=o.map(function(t){return Math.floor(t)}),h=(a.map(function(t){return Math.floor(t)}),o[l.indexOf(c)],o[l.indexOf(c)-1]),f=void 0;return void 0!==h&&(f=a.indexOf(h))<0&&(f=this.activeIndex-1),this.slideTo(f,t,e,n)},slideReset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments[2];return this.slideTo(this.activeIndex,t,e,n)},slideToClosest:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments[2],r=this.activeIndex,i=Math.floor(r/this.params.slidesPerGroup);if(i<this.snapGrid.length-1){var o=this.rtlTranslate?this.translate:-this.translate,a=this.snapGrid[i];o-a>(this.snapGrid[i+1]-a)/2&&(r=this.params.slidesPerGroup)}return this.slideTo(r,t,e,n)},slideToClickedSlide:function(){var t=this,e=t.params,n=t.$wrapperEl,r="auto"===e.slidesPerView?t.slidesPerViewDynamic():e.slidesPerView,i=t.clickedIndex,o=void 0;if(e.loop){if(t.animating)return;o=parseInt(K(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=n.children("."+e.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.'+e.slideDuplicateClass+")").eq(0).index(),gt.nextTick(function(){t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=n.children("."+e.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.'+e.slideDuplicateClass+")").eq(0).index(),gt.nextTick(function(){t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}};var Fn={loopCreate:function(){var t=this,e=t.params,n=t.$wrapperEl;n.children("."+e.slideClass+"."+e.slideDuplicateClass).remove();var r=n.children("."+e.slideClass);if(e.loopFillGroupWithBlank){var i=e.slidesPerGroup-r.length%e.slidesPerGroup;if(i!==e.slidesPerGroup){for(var o=0;o<i;o+=1){var a=K(N.createElement("div")).addClass(e.slideClass+" "+e.slideBlankClass);n.append(a)}r=n.children("."+e.slideClass)}}"auto"!==e.slidesPerView||e.loopedSlides||(e.loopedSlides=r.length),t.loopedSlides=parseInt(e.loopedSlides||e.slidesPerView,10),t.loopedSlides+=e.loopAdditionalSlides,t.loopedSlides>r.length&&(t.loopedSlides=r.length);var s=[],u=[];r.each(function(e,n){var i=K(n);e<t.loopedSlides&&u.push(n),e<r.length&&e>=r.length-t.loopedSlides&&s.push(n),i.attr("data-swiper-slide-index",e)});for(var c=0;c<u.length;c+=1)n.append(K(u[c].cloneNode(!0)).addClass(e.slideDuplicateClass));for(var l=s.length-1;l>=0;l-=1)n.prepend(K(s[l].cloneNode(!0)).addClass(e.slideDuplicateClass))},loopFix:function(){var t=this.params,e=this.activeIndex,n=this.slides,r=this.loopedSlides,i=this.allowSlidePrev,o=this.allowSlideNext,a=this.snapGrid,s=this.rtlTranslate,u=void 0;this.allowSlidePrev=!0,this.allowSlideNext=!0;var c=-a[e]-this.getTranslate();e<r?(u=n.length-3*r+e,u+=r,this.slideTo(u,0,!1,!0)&&0!==c&&this.setTranslate((s?-this.translate:this.translate)-c)):("auto"===t.slidesPerView&&e>=2*r||e>=n.length-r)&&(u=-n.length+e+r,u+=r,this.slideTo(u,0,!1,!0)&&0!==c&&this.setTranslate((s?-this.translate:this.translate)-c));this.allowSlidePrev=i,this.allowSlideNext=o},loopDestroy:function(){var t=this.$wrapperEl,e=this.params,n=this.slides;t.children("."+e.slideClass+"."+e.slideDuplicateClass).remove(),n.removeAttr("data-swiper-slide-index")}};var Bn={setGrabCursor:function(t){if(!(Mt.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked)){var e=this.el;e.style.cursor="move",e.style.cursor=t?"-webkit-grabbing":"-webkit-grab",e.style.cursor=t?"-moz-grabbin":"-moz-grab",e.style.cursor=t?"grabbing":"grab"}},unsetGrabCursor:function(){Mt.touch||this.params.watchOverflow&&this.isLocked||(this.el.style.cursor="")}};var $n={appendSlide:function(t){var e=this.$wrapperEl,n=this.params;if(n.loop&&this.loopDestroy(),"object"===(void 0===t?"undefined":T()(t))&&"length"in t)for(var r=0;r<t.length;r+=1)t[r]&&e.append(t[r]);else e.append(t);n.loop&&this.loopCreate(),n.observer&&Mt.observer||this.update()},prependSlide:function(t){var e=this.params,n=this.$wrapperEl,r=this.activeIndex;e.loop&&this.loopDestroy();var i=r+1;if("object"===(void 0===t?"undefined":T()(t))&&"length"in t){for(var o=0;o<t.length;o+=1)t[o]&&n.prepend(t[o]);i=r+t.length}else n.prepend(t);e.loop&&this.loopCreate(),e.observer&&Mt.observer||this.update(),this.slideTo(i,0,!1)},addSlide:function(t,e){var n=this.$wrapperEl,r=this.params,i=this.activeIndex;r.loop&&(i-=this.loopedSlides,this.loopDestroy(),this.slides=n.children("."+r.slideClass));var o=this.slides.length;if(t<=0)this.prependSlide(e);else if(t>=o)this.appendSlide(e);else{for(var a=i>t?i+1:i,s=[],u=o-1;u>=t;u-=1){var c=this.slides.eq(u);c.remove(),s.unshift(c)}if("object"===(void 0===e?"undefined":T()(e))&&"length"in e){for(var l=0;l<e.length;l+=1)e[l]&&n.append(e[l]);a=i>t?i+e.length:i}else n.append(e);for(var h=0;h<s.length;h+=1)n.append(s[h]);r.loop&&this.loopCreate(),r.observer&&Mt.observer||this.update(),r.loop?this.slideTo(a+this.loopedSlides,0,!1):this.slideTo(a,0,!1)}},removeSlide:function(t){var e=this.params,n=this.$wrapperEl,r=this.activeIndex;e.loop&&(r-=this.loopedSlides,this.loopDestroy(),this.slides=n.children("."+e.slideClass));var i=r,o=void 0;if("object"===(void 0===t?"undefined":T()(t))&&"length"in t){for(var a=0;a<t.length;a+=1)o=t[a],this.slides[o]&&this.slides.eq(o).remove(),o<i&&(i-=1);i=Math.max(i,0)}else o=t,this.slides[o]&&this.slides.eq(o).remove(),o<i&&(i-=1),i=Math.max(i,0);e.loop&&this.loopCreate(),e.observer&&Mt.observer||this.update(),e.loop?this.slideTo(i+this.loopedSlides,0,!1):this.slideTo(i,0,!1)},removeAllSlides:function(){for(var t=[],e=0;e<this.slides.length;e+=1)t.push(e);this.removeSlide(t)}};function Un(){var t=this.params,e=this.el;if(!e||0!==e.offsetWidth){t.breakpoints&&this.setBreakpoint();var n=this.allowSlideNext,r=this.allowSlidePrev,i=this.snapGrid;if(this.allowSlideNext=!0,this.allowSlidePrev=!0,this.updateSize(),this.updateSlides(),t.freeMode){var o=Math.min(Math.max(this.translate,this.maxTranslate()),this.minTranslate());this.setTranslate(o),this.updateActiveIndex(),this.updateSlidesClasses(),t.autoHeight&&this.updateAutoHeight()}else this.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&this.isEnd&&!this.params.centeredSlides?this.slideTo(this.slides.length-1,0,!1,!0):this.slideTo(this.activeIndex,0,!1,!0);this.allowSlidePrev=r,this.allowSlideNext=n,this.params.watchOverflow&&i!==this.snapGrid&&this.checkOverflow()}}var zn={attachEvents:function(){var t=this.params,e=this.touchEvents,n=this.el,r=this.wrapperEl;this.onTouchStart=function(t){var e=this.touchEventsData,n=this.params,r=this.touches;if(!this.animating||!n.preventIntercationOnTransition){var i=t;if(i.originalEvent&&(i=i.originalEvent),e.isTouchEvent="touchstart"===i.type,(e.isTouchEvent||!("which"in i)||3!==i.which)&&(!e.isTouched||!e.isMoved))if(n.noSwiping&&K(i.target).closest(n.noSwipingSelector?n.noSwipingSelector:"."+n.noSwipingClass)[0])this.allowClick=!0;else if(!n.swipeHandler||K(i).closest(n.swipeHandler)[0]){r.currentX="touchstart"===i.type?i.targetTouches[0].pageX:i.pageX,r.currentY="touchstart"===i.type?i.targetTouches[0].pageY:i.pageY;var o=r.currentX,a=r.currentY;if(!mt.ios||mt.cordova||!n.iOSEdgeSwipeDetection||!(o<=n.iOSEdgeSwipeThreshold||o>=D.screen.width-n.iOSEdgeSwipeThreshold)){if(gt.extend(e,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),r.startX=o,r.startY=a,e.touchStartTime=gt.now(),this.allowClick=!0,this.updateSize(),this.swipeDirection=void 0,n.threshold>0&&(e.allowThresholdMove=!1),"touchstart"!==i.type){var s=!0;K(i.target).is(e.formElements)&&(s=!1),N.activeElement&&K(N.activeElement).is(e.formElements)&&N.activeElement!==i.target&&N.activeElement.blur(),s&&this.allowTouchMove&&i.preventDefault()}this.emit("touchStart",i)}}}}.bind(this),this.onTouchMove=function(t){var e=this.touchEventsData,n=this.params,r=this.touches,i=this.rtlTranslate,o=t;if(o.originalEvent&&(o=o.originalEvent),e.isTouched){if(!e.isTouchEvent||"mousemove"!==o.type){var a="touchmove"===o.type?o.targetTouches[0].pageX:o.pageX,s="touchmove"===o.type?o.targetTouches[0].pageY:o.pageY;if(o.preventedByNestedSwiper)return r.startX=a,void(r.startY=s);if(!this.allowTouchMove)return this.allowClick=!1,void(e.isTouched&&(gt.extend(r,{startX:a,startY:s,currentX:a,currentY:s}),e.touchStartTime=gt.now()));if(e.isTouchEvent&&n.touchReleaseOnEdges&&!n.loop)if(this.isVertical()){if(s<r.startY&&this.translate<=this.maxTranslate()||s>r.startY&&this.translate>=this.minTranslate())return e.isTouched=!1,void(e.isMoved=!1)}else if(a<r.startX&&this.translate<=this.maxTranslate()||a>r.startX&&this.translate>=this.minTranslate())return;if(e.isTouchEvent&&N.activeElement&&o.target===N.activeElement&&K(o.target).is(e.formElements))return e.isMoved=!0,void(this.allowClick=!1);if(e.allowTouchCallbacks&&this.emit("touchMove",o),!(o.targetTouches&&o.targetTouches.length>1)){r.currentX=a,r.currentY=s;var u=r.currentX-r.startX,c=r.currentY-r.startY;if(void 0===e.isScrolling){var l=void 0;this.isHorizontal()&&r.currentY===r.startY||this.isVertical()&&r.currentX===r.startX?e.isScrolling=!1:u*u+c*c>=25&&(l=180*Math.atan2(Math.abs(c),Math.abs(u))/Math.PI,e.isScrolling=this.isHorizontal()?l>n.touchAngle:90-l>n.touchAngle)}if(e.isScrolling&&this.emit("touchMoveOpposite",o),"undefined"==typeof startMoving&&(r.currentX===r.startX&&r.currentY===r.startY||(e.startMoving=!0)),e.isScrolling)e.isTouched=!1;else if(e.startMoving){this.allowClick=!1,o.preventDefault(),n.touchMoveStopPropagation&&!n.nested&&o.stopPropagation(),e.isMoved||(n.loop&&this.loopFix(),e.startTranslate=this.getTranslate(),this.setTransition(0),this.animating&&this.$wrapperEl.trigger("webkitTransitionEnd transitionend"),e.allowMomentumBounce=!1,!n.grabCursor||!0!==this.allowSlideNext&&!0!==this.allowSlidePrev||this.setGrabCursor(!0),this.emit("sliderFirstMove",o)),this.emit("sliderMove",o),e.isMoved=!0;var h=this.isHorizontal()?u:c;r.diff=h,h*=n.touchRatio,i&&(h=-h),this.swipeDirection=h>0?"prev":"next",e.currentTranslate=h+e.startTranslate;var f=!0,d=n.resistanceRatio;if(n.touchReleaseOnEdges&&(d=0),h>0&&e.currentTranslate>this.minTranslate()?(f=!1,n.resistance&&(e.currentTranslate=this.minTranslate()-1+Math.pow(-this.minTranslate()+e.startTranslate+h,d))):h<0&&e.currentTranslate<this.maxTranslate()&&(f=!1,n.resistance&&(e.currentTranslate=this.maxTranslate()+1-Math.pow(this.maxTranslate()-e.startTranslate-h,d))),f&&(o.preventedByNestedSwiper=!0),!this.allowSlideNext&&"next"===this.swipeDirection&&e.currentTranslate<e.startTranslate&&(e.currentTranslate=e.startTranslate),!this.allowSlidePrev&&"prev"===this.swipeDirection&&e.currentTranslate>e.startTranslate&&(e.currentTranslate=e.startTranslate),n.threshold>0){if(!(Math.abs(h)>n.threshold||e.allowThresholdMove))return void(e.currentTranslate=e.startTranslate);if(!e.allowThresholdMove)return e.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,e.currentTranslate=e.startTranslate,void(r.diff=this.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY)}n.followFinger&&((n.freeMode||n.watchSlidesProgress||n.watchSlidesVisibility)&&(this.updateActiveIndex(),this.updateSlidesClasses()),n.freeMode&&(0===e.velocities.length&&e.velocities.push({position:r[this.isHorizontal()?"startX":"startY"],time:e.touchStartTime}),e.velocities.push({position:r[this.isHorizontal()?"currentX":"currentY"],time:gt.now()})),this.updateProgress(e.currentTranslate),this.setTranslate(e.currentTranslate))}}}}else e.startMoving&&e.isScrolling&&this.emit("touchMoveOpposite",o)}.bind(this),this.onTouchEnd=function(t){var e=this,n=e.touchEventsData,r=e.params,i=e.touches,o=e.rtlTranslate,a=e.$wrapperEl,s=e.slidesGrid,u=e.snapGrid,c=t;if(c.originalEvent&&(c=c.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",c),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);var l=gt.now(),h=l-n.touchStartTime;if(e.allowClick&&(e.updateClickedSlide(c),e.emit("tap",c),h<300&&l-n.lastClickTime>300&&(n.clickTimeout&&clearTimeout(n.clickTimeout),n.clickTimeout=gt.nextTick(function(){e&&!e.destroyed&&e.emit("click",c)},300)),h<300&&l-n.lastClickTime<300&&(n.clickTimeout&&clearTimeout(n.clickTimeout),e.emit("doubleTap",c))),n.lastClickTime=gt.now(),gt.nextTick(function(){e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;var f=void 0;if(f=r.followFinger?o?e.translate:-e.translate:-n.currentTranslate,r.freeMode){if(f<-e.minTranslate())return void e.slideTo(e.activeIndex);if(f>-e.maxTranslate())return void(e.slides.length<u.length?e.slideTo(u.length-1):e.slideTo(e.slides.length-1));if(r.freeModeMomentum){if(n.velocities.length>1){var d=n.velocities.pop(),p=n.velocities.pop(),v=d.position-p.position,g=d.time-p.time;e.velocity=v/g,e.velocity/=2,Math.abs(e.velocity)<r.freeModeMinimumVelocity&&(e.velocity=0),(g>150||gt.now()-d.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=r.freeModeMomentumVelocityRatio,n.velocities.length=0;var m=1e3*r.freeModeMomentumRatio,y=e.velocity*m,b=e.translate+y;o&&(b=-b);var _=!1,w=void 0,x=20*Math.abs(e.velocity)*r.freeModeMomentumBounceRatio,E=void 0;if(b<e.maxTranslate())r.freeModeMomentumBounce?(b+e.maxTranslate()<-x&&(b=e.maxTranslate()-x),w=e.maxTranslate(),_=!0,n.allowMomentumBounce=!0):b=e.maxTranslate(),r.loop&&r.centeredSlides&&(E=!0);else if(b>e.minTranslate())r.freeModeMomentumBounce?(b-e.minTranslate()>x&&(b=e.minTranslate()+x),w=e.minTranslate(),_=!0,n.allowMomentumBounce=!0):b=e.minTranslate(),r.loop&&r.centeredSlides&&(E=!0);else if(r.freeModeSticky){for(var C=void 0,k=0;k<u.length;k+=1)if(u[k]>-b){C=k;break}b=-(b=Math.abs(u[C]-b)<Math.abs(u[C-1]-b)||"next"===e.swipeDirection?u[C]:u[C-1])}if(E&&e.once("transitionEnd",function(){e.loopFix()}),0!==e.velocity)m=o?Math.abs((-b-e.translate)/e.velocity):Math.abs((b-e.translate)/e.velocity);else if(r.freeModeSticky)return void e.slideToClosest();r.freeModeMomentumBounce&&_?(e.updateProgress(w),e.setTransition(m),e.setTranslate(b),e.transitionStart(!0,e.swipeDirection),e.animating=!0,a.transitionEnd(function(){e&&!e.destroyed&&n.allowMomentumBounce&&(e.emit("momentumBounce"),e.setTransition(r.speed),e.setTranslate(w),a.transitionEnd(function(){e&&!e.destroyed&&e.transitionEnd()}))})):e.velocity?(e.updateProgress(b),e.setTransition(m),e.setTranslate(b),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,a.transitionEnd(function(){e&&!e.destroyed&&e.transitionEnd()}))):e.updateProgress(b),e.updateActiveIndex(),e.updateSlidesClasses()}else if(r.freeModeSticky)return void e.slideToClosest();(!r.freeModeMomentum||h>=r.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}else{for(var T=0,S=e.slidesSizesGrid[0],O=0;O<s.length;O+=r.slidesPerGroup)void 0!==s[O+r.slidesPerGroup]?f>=s[O]&&f<s[O+r.slidesPerGroup]&&(T=O,S=s[O+r.slidesPerGroup]-s[O]):f>=s[O]&&(T=O,S=s[s.length-1]-s[s.length-2]);var M=(f-s[T])/S;if(h>r.longSwipesMs){if(!r.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&(M>=r.longSwipesRatio?e.slideTo(T+r.slidesPerGroup):e.slideTo(T)),"prev"===e.swipeDirection&&(M>1-r.longSwipesRatio?e.slideTo(T+r.slidesPerGroup):e.slideTo(T))}else{if(!r.shortSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(T+r.slidesPerGroup),"prev"===e.swipeDirection&&e.slideTo(T)}}}.bind(this),this.onClick=function(t){this.allowClick||(this.params.preventClicks&&t.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))}.bind(this);var i="container"===t.touchEventsTarget?n:r,o=!!t.nested;if(Mt.touch||!Mt.pointerEvents&&!Mt.prefixedPointerEvents){if(Mt.touch){var a=!("touchstart"!==e.start||!Mt.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};i.addEventListener(e.start,this.onTouchStart,a),i.addEventListener(e.move,this.onTouchMove,Mt.passiveListener?{passive:!1,capture:o}:o),i.addEventListener(e.end,this.onTouchEnd,a)}(t.simulateTouch&&!mt.ios&&!mt.android||t.simulateTouch&&!Mt.touch&&mt.ios)&&(i.addEventListener("mousedown",this.onTouchStart,!1),N.addEventListener("mousemove",this.onTouchMove,o),N.addEventListener("mouseup",this.onTouchEnd,!1))}else i.addEventListener(e.start,this.onTouchStart,!1),N.addEventListener(e.move,this.onTouchMove,o),N.addEventListener(e.end,this.onTouchEnd,!1);(t.preventClicks||t.preventClicksPropagation)&&i.addEventListener("click",this.onClick,!0),this.on(mt.ios||mt.android?"resize orientationchange observerUpdate":"resize observerUpdate",Un,!0)},detachEvents:function(){var t=this.params,e=this.touchEvents,n=this.el,r=this.wrapperEl,i="container"===t.touchEventsTarget?n:r,o=!!t.nested;if(Mt.touch||!Mt.pointerEvents&&!Mt.prefixedPointerEvents){if(Mt.touch){var a=!("onTouchStart"!==e.start||!Mt.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};i.removeEventListener(e.start,this.onTouchStart,a),i.removeEventListener(e.move,this.onTouchMove,o),i.removeEventListener(e.end,this.onTouchEnd,a)}(t.simulateTouch&&!mt.ios&&!mt.android||t.simulateTouch&&!Mt.touch&&mt.ios)&&(i.removeEventListener("mousedown",this.onTouchStart,!1),N.removeEventListener("mousemove",this.onTouchMove,o),N.removeEventListener("mouseup",this.onTouchEnd,!1))}else i.removeEventListener(e.start,this.onTouchStart,!1),N.removeEventListener(e.move,this.onTouchMove,o),N.removeEventListener(e.end,this.onTouchEnd,!1);(t.preventClicks||t.preventClicksPropagation)&&i.removeEventListener("click",this.onClick,!0),this.off(mt.ios||mt.android?"resize orientationchange observerUpdate":"resize observerUpdate",Un)}};var qn={setBreakpoint:function(){var t=this.activeIndex,e=this.initialized,n=this.loopedSlides,r=void 0===n?0:n,i=this.params,o=i.breakpoints;if(o&&(!o||0!==A()(o).length)){var a=this.getBreakpoint(o);if(a&&this.currentBreakpoint!==a){var s=a in o?o[a]:this.originalParams,u=i.loop&&s.slidesPerView!==i.slidesPerView;gt.extend(this.params,s),gt.extend(this,{allowTouchMove:this.params.allowTouchMove,allowSlideNext:this.params.allowSlideNext,allowSlidePrev:this.params.allowSlidePrev}),this.currentBreakpoint=a,u&&e&&(this.loopDestroy(),this.loopCreate(),this.updateSlides(),this.slideTo(t-r+this.loopedSlides,0,!1)),this.emit("breakpoint",s)}}},getBreakpoint:function(t){if(t){var e=!1,n=[];A()(t).forEach(function(t){n.push(t)}),n.sort(function(t,e){return parseInt(t,10)-parseInt(e,10)});for(var r=0;r<n.length;r+=1){var i=n[r];i>=D.innerWidth&&!e&&(e=i)}return e||"max"}}},Vn=function(){return{isIE:!!D.navigator.userAgent.match(/Trident/g)||!!D.navigator.userAgent.match(/MSIE/g),isSafari:(t=D.navigator.userAgent.toLowerCase(),t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(D.navigator.userAgent)};var t}();var Hn={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,preventIntercationOnTransition:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0},Wn={update:Dn,translate:Rn,transition:jn,slide:Ln,loop:Fn,grabCursor:Bn,manipulation:$n,events:zn,breakpoints:qn,checkOverflow:{checkOverflow:function(){var t=this.isLocked;this.isLocked=1===this.snapGrid.length,this.allowSlideNext=!this.isLocked,this.allowSlidePrev=!this.isLocked,t!==this.isLocked&&this.emit(this.isLocked?"lock":"unlock"),t&&t!==this.isLocked&&(this.isEnd=!1,this.navigation.update())}},classes:{addClasses:function(){var t=this.classNames,e=this.params,n=this.rtl,r=this.$el,i=[];i.push(e.direction),e.freeMode&&i.push("free-mode"),Mt.flexbox||i.push("no-flexbox"),e.autoHeight&&i.push("autoheight"),n&&i.push("rtl"),e.slidesPerColumn>1&&i.push("multirow"),mt.android&&i.push("android"),mt.ios&&i.push("ios"),Vn.isIE&&(Mt.pointerEvents||Mt.prefixedPointerEvents)&&i.push("wp8-"+e.direction),i.forEach(function(n){t.push(e.containerModifierClass+n)}),r.addClass(t.join(" "))},removeClasses:function(){var t=this.$el,e=this.classNames;t.removeClass(e.join(" "))}},images:{loadImage:function(t,e,n,r,i,o){var a=void 0;function s(){o&&o()}t.complete&&i?s():e?((a=new D.Image).onload=s,a.onerror=s,r&&(a.sizes=r),n&&(a.srcset=n),e&&(a.src=e)):s()},preloadImages:function(){var t=this;function e(){void 0!==t&&null!==t&&t&&!t.destroyed&&(void 0!==t.imagesLoaded&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}t.imagesToLoad=t.$el.find("img");for(var n=0;n<t.imagesToLoad.length;n+=1){var r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}}},Gn={},Kn=function(t){function e(){var t;_()(this,e);for(var n=void 0,r=void 0,i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];1===o.length&&o[0].constructor&&o[0].constructor===Object?r=o[0]:(n=o[0],r=o[1]),r||(r={}),r=gt.extend({},r),n&&!r.el&&(r.el=n);var s=g()(this,(e.__proto__||p()(e)).call(this,r));A()(Wn).forEach(function(t){A()(Wn[t]).forEach(function(n){e.prototype[n]||(e.prototype[n]=Wn[t][n])})});var u=s;void 0===u.modules&&(u.modules={}),A()(u.modules).forEach(function(t){var e=u.modules[t];if(e.params){var n=A()(e.params)[0],i=e.params[n];if("object"!==(void 0===i?"undefined":T()(i)))return;if(!(n in r&&"enabled"in i))return;!0===r[n]&&(r[n]={enabled:!0}),"object"!==T()(r[n])||"enabled"in r[n]||(r[n].enabled=!0),r[n]||(r[n]={enabled:!1})}});var c=gt.extend({},Hn);u.useModulesParams(c),u.params=gt.extend({},c,Gn,r),u.originalParams=gt.extend({},u.params),u.passedParams=gt.extend({},r),u.$=K;var l=K(u.params.el);if(!(n=l[0]))return void 0,g()(s,void 0);if(l.length>1){var h,f=[];return l.each(function(t,n){var i=gt.extend({},r,{el:n});f.push(new e(i))}),h=f,g()(s,h)}n.swiper=u,l.data("swiper",u);var d,v,m=l.children("."+u.params.wrapperClass);return gt.extend(u,{$el:l,el:n,$wrapperEl:m,wrapperEl:m[0],classNames:[],slides:K(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===u.params.direction},isVertical:function(){return"vertical"===u.params.direction},rtl:"rtl"===n.dir.toLowerCase()||"rtl"===l.css("direction"),rtlTranslate:"horizontal"===u.params.direction&&("rtl"===n.dir.toLowerCase()||"rtl"===l.css("direction")),wrongRTL:"-webkit-box"===m.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,progress:0,velocity:0,animating:!1,allowSlideNext:u.params.allowSlideNext,allowSlidePrev:u.params.allowSlidePrev,touchEvents:(d=["touchstart","touchmove","touchend"],v=["mousedown","mousemove","mouseup"],Mt.pointerEvents?v=["pointerdown","pointermove","pointerup"]:Mt.prefixedPointerEvents&&(v=["MSPointerDown","MSPointerMove","MSPointerUp"]),u.touchEventsTouch={start:d[0],move:d[1],end:d[2]},u.touchEventsDesktop={start:v[0],move:v[1],end:v[2]},Mt.touch||!u.params.simulateTouch?u.touchEventsTouch:u.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video",lastClickTime:gt.now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:u.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),u.useModules(),u.params.init&&u.init(),t=u,g()(s,t)}return y()(e,t),x()(e,[{key:"slidesPerViewDynamic",value:function(){var t=this.params,e=this.slides,n=this.slidesGrid,r=this.size,i=this.activeIndex,o=1;if(t.centeredSlides){for(var a=e[i].swiperSlideSize,s=void 0,u=i+1;u<e.length;u+=1)e[u]&&!s&&(o+=1,(a+=e[u].swiperSlideSize)>r&&(s=!0));for(var c=i-1;c>=0;c-=1)e[c]&&!s&&(o+=1,(a+=e[c].swiperSlideSize)>r&&(s=!0))}else for(var l=i+1;l<e.length;l+=1)n[l]-n[i]<r&&(o+=1);return o}},{key:"update",value:function(){var t=this;if(t&&!t.destroyed){var e=t.snapGrid,n=t.params;n.breakpoints&&t.setBreakpoint(),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();t.params.freeMode?(r(),t.params.autoHeight&&t.updateAutoHeight()):(("auto"===t.params.slidesPerView||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0))||r(),n.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}function r(){var e=t.rtlTranslate?-1*t.translate:t.translate,n=Math.min(Math.max(e,t.maxTranslate()),t.minTranslate());t.setTranslate(n),t.updateActiveIndex(),t.updateSlidesClasses()}}},{key:"init",value:function(){this.initialized||(this.emit("beforeInit"),this.params.breakpoints&&this.setBreakpoint(),this.addClasses(),this.params.loop&&this.loopCreate(),this.updateSize(),this.updateSlides(),this.params.watchOverflow&&this.checkOverflow(),this.params.grabCursor&&this.setGrabCursor(),this.params.preloadImages&&this.preloadImages(),this.params.loop?this.slideTo(this.params.initialSlide+this.loopedSlides,0,this.params.runCallbacksOnInit):this.slideTo(this.params.initialSlide,0,this.params.runCallbacksOnInit),this.attachEvents(),this.initialized=!0,this.emit("init"))}},{key:"destroy",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=n.params,i=n.$el,o=n.$wrapperEl,a=n.slides;return void 0===n.params||n.destroyed?null:(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),e&&(n.removeClasses(),i.removeAttr("style"),o.removeAttr("style"),a&&a.length&&a.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index").removeAttr("data-swiper-column").removeAttr("data-swiper-row")),n.emit("destroy"),A()(n.eventsListeners).forEach(function(t){n.off(t)}),!1!==t&&(n.$el[0].swiper=null,n.$el.data("swiper",null),gt.deleteProps(n)),n.destroyed=!0,null)}}],[{key:"extendDefaults",value:function(t){gt.extend(Gn,t)}},{key:"extendedDefaults",get:function(){return Gn}},{key:"defaults",get:function(){return Hn}},{key:"Class",get:function(){return yt}},{key:"$",get:function(){return K}}]),e}(yt),Yn={name:"device",proto:{device:mt},static:{device:mt}},Qn={name:"support",proto:{support:Mt},static:{support:Mt}},Xn={name:"browser",proto:{browser:Vn},static:{browser:Vn}},Jn={name:"resize",create:function(){var t=this;gt.extend(t,{resize:{resizeHandler:function(){t&&!t.destroyed&&t.initialized&&(t.emit("beforeResize"),t.emit("resize"))},orientationChangeHandler:function(){t&&!t.destroyed&&t.initialized&&t.emit("orientationchange")}}})},on:{init:function(){D.addEventListener("resize",this.resize.resizeHandler),D.addEventListener("orientationchange",this.resize.orientationChangeHandler)},destroy:function(){D.removeEventListener("resize",this.resize.resizeHandler),D.removeEventListener("orientationchange",this.resize.orientationChangeHandler)}}},Zn={func:D.MutationObserver||D.WebkitMutationObserver,attach:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this,r=new(0,Zn.func)(function(t){t.forEach(function(t){n.emit("observerUpdate",t)})});r.observe(t,{attributes:void 0===e.attributes||e.attributes,childList:void 0===e.childList||e.childList,characterData:void 0===e.characterData||e.characterData}),n.observer.observers.push(r)},init:function(){if(Mt.observer&&this.params.observer){if(this.params.observeParents)for(var t=this.$el.parents(),e=0;e<t.length;e+=1)this.observer.attach(t[e]);this.observer.attach(this.$el[0],{childList:!1}),this.observer.attach(this.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(t){t.disconnect()}),this.observer.observers=[]}},tr={name:"observer",params:{observer:!1,observeParents:!1},create:function(){gt.extend(this,{observer:{init:Zn.init.bind(this),attach:Zn.attach.bind(this),destroy:Zn.destroy.bind(this),observers:[]}})},on:{init:function(){this.observer.init()},destroy:function(){this.observer.destroy()}}},er={update:function(t){var e=this,n=e.params,r=n.slidesPerView,i=n.slidesPerGroup,o=n.centeredSlides,a=e.virtual,s=a.from,u=a.to,c=a.slides,l=a.slidesGrid,h=a.renderSlide,f=a.offset;e.updateActiveIndex();var d=e.activeIndex||0,p=void 0;p=e.rtlTranslate?"right":e.isHorizontal()?"left":"top";var v=void 0,g=void 0;o?(v=Math.floor(r/2)+i,g=Math.floor(r/2)+i):(v=r+(i-1),g=i);var m=Math.max((d||0)-g,0),y=Math.min((d||0)+v,c.length-1),b=(e.slidesGrid[m]||0)-(e.slidesGrid[0]||0);function _(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load()}if(gt.extend(e.virtual,{from:m,to:y,offset:b,slidesGrid:e.slidesGrid}),s===m&&u===y&&!t)return e.slidesGrid!==l&&b!==f&&e.slides.css(p,b+"px"),void e.updateProgress();if(e.params.virtual.renderExternal)return e.params.virtual.renderExternal.call(e,{offset:b,from:m,to:y,slides:function(){for(var t=[],e=m;e<=y;e+=1)t.push(c[e]);return t}()}),void _();var w=[],x=[];if(t)e.$wrapperEl.find("."+e.params.slideClass).remove();else for(var E=s;E<=u;E+=1)(E<m||E>y)&&e.$wrapperEl.find("."+e.params.slideClass+'[data-swiper-slide-index="'+E+'"]').remove();for(var C=0;C<c.length;C+=1)C>=m&&C<=y&&(void 0===u||t?x.push(C):(C>u&&x.push(C),C<s&&w.push(C)));x.forEach(function(t){e.$wrapperEl.append(h(c[t],t))}),w.sort(function(t,e){return t<e}).forEach(function(t){e.$wrapperEl.prepend(h(c[t],t))}),e.$wrapperEl.children(".swiper-slide").css(p,b+"px"),_()},renderSlide:function(t,e){var n=this.params.virtual;if(n.cache&&this.virtual.cache[e])return this.virtual.cache[e];var r=n.renderSlide?K(n.renderSlide.call(this,t,e)):K('<div class="'+this.params.slideClass+'" data-swiper-slide-index="'+e+'">'+t+"</div>");return r.attr("data-swiper-slide-index")||r.attr("data-swiper-slide-index",e),n.cache&&(this.virtual.cache[e]=r),r},appendSlide:function(t){this.virtual.slides.push(t),this.virtual.update(!0)},prependSlide:function(t){if(this.virtual.slides.unshift(t),this.params.virtual.cache){var e=this.virtual.cache,n={};A()(e).forEach(function(t){n[t+1]=e[t]}),this.virtual.cache=n}this.virtual.update(!0),this.slideNext(0)}},nr={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null}},create:function(){gt.extend(this,{virtual:{update:er.update.bind(this),appendSlide:er.appendSlide.bind(this),prependSlide:er.prependSlide.bind(this),renderSlide:er.renderSlide.bind(this),slides:this.params.virtual.slides,cache:{}}})},on:{beforeInit:function(){if(this.params.virtual.enabled){this.classNames.push(this.params.containerModifierClass+"virtual");var t={watchSlidesProgress:!0};gt.extend(this.params,t),gt.extend(this.originalParams,t),this.virtual.update()}},setTranslate:function(){this.params.virtual.enabled&&this.virtual.update()}}},rr={update:function(){var t=this.params.navigation;if(!this.params.loop){var e=this.navigation,n=e.$nextEl,r=e.$prevEl;r&&r.length>0&&(this.isBeginning?r.addClass(t.disabledClass):r.removeClass(t.disabledClass),r[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](t.lockClass)),n&&n.length>0&&(this.isEnd?n.addClass(t.disabledClass):n.removeClass(t.disabledClass),n[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](t.lockClass))}},init:function(){var t=this,e=t.params.navigation;if(e.nextEl||e.prevEl){var n=void 0,r=void 0;e.nextEl&&(n=K(e.nextEl),t.params.uniqueNavElements&&"string"==typeof e.nextEl&&n.length>1&&1===t.$el.find(e.nextEl).length&&(n=t.$el.find(e.nextEl))),e.prevEl&&(r=K(e.prevEl),t.params.uniqueNavElements&&"string"==typeof e.prevEl&&r.length>1&&1===t.$el.find(e.prevEl).length&&(r=t.$el.find(e.prevEl))),n&&n.length>0&&n.on("click",function(e){e.preventDefault(),t.isEnd&&!t.params.loop||t.slideNext()}),r&&r.length>0&&r.on("click",function(e){e.preventDefault(),t.isBeginning&&!t.params.loop||t.slidePrev()}),gt.extend(t.navigation,{$nextEl:n,nextEl:n&&n[0],$prevEl:r,prevEl:r&&r[0]})}},destroy:function(){var t=this.navigation,e=t.$nextEl,n=t.$prevEl;e&&e.length&&(e.off("click"),e.removeClass(this.params.navigation.disabledClass)),n&&n.length&&(n.off("click"),n.removeClass(this.params.navigation.disabledClass))}},ir={name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){gt.extend(this,{navigation:{init:rr.init.bind(this),update:rr.update.bind(this),destroy:rr.destroy.bind(this)}})},on:{init:function(){this.navigation.init(),this.navigation.update()},toEdge:function(){this.navigation.update()},fromEdge:function(){this.navigation.update()},destroy:function(){this.navigation.destroy()},click:function(t){var e=this.navigation,n=e.$nextEl,r=e.$prevEl;!this.params.navigation.hideOnClick||K(t.target).is(r)||K(t.target).is(n)||(n&&n.toggleClass(this.params.navigation.hiddenClass),r&&r.toggleClass(this.params.navigation.hiddenClass))}}},or={update:function(){var t=this.rtl,e=this.params.pagination;if(e.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var n=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,r=this.pagination.$el,i=void 0,o=this.params.loop?Math.ceil((n-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length;if(this.params.loop?((i=Math.ceil((this.activeIndex-this.loopedSlides)/this.params.slidesPerGroup))>n-1-2*this.loopedSlides&&(i-=n-2*this.loopedSlides),i>o-1&&(i-=o),i<0&&"bullets"!==this.params.paginationType&&(i=o+i)):i=void 0!==this.snapIndex?this.snapIndex:this.activeIndex||0,"bullets"===e.type&&this.pagination.bullets&&this.pagination.bullets.length>0){var a=this.pagination.bullets,s=void 0,u=void 0,c=void 0;if(e.dynamicBullets&&(this.pagination.bulletSize=a.eq(0)[this.isHorizontal()?"outerWidth":"outerHeight"](!0),r.css(this.isHorizontal()?"width":"height",this.pagination.bulletSize*(e.dynamicMainBullets+4)+"px"),e.dynamicMainBullets>1&&void 0!==this.previousIndex&&(this.pagination.dynamicBulletIndex+=i-this.previousIndex,this.pagination.dynamicBulletIndex>e.dynamicMainBullets-1?this.pagination.dynamicBulletIndex=e.dynamicMainBullets-1:this.pagination.dynamicBulletIndex<0&&(this.pagination.dynamicBulletIndex=0)),s=i-this.pagination.dynamicBulletIndex,c=((u=s+(Math.min(a.length,e.dynamicMainBullets)-1))+s)/2),a.removeClass(e.bulletActiveClass+" "+e.bulletActiveClass+"-next "+e.bulletActiveClass+"-next-next "+e.bulletActiveClass+"-prev "+e.bulletActiveClass+"-prev-prev "+e.bulletActiveClass+"-main"),r.length>1)a.each(function(t,n){var r=K(n),o=r.index();o===i&&r.addClass(e.bulletActiveClass),e.dynamicBullets&&(o>=s&&o<=u&&r.addClass(e.bulletActiveClass+"-main"),o===s&&r.prev().addClass(e.bulletActiveClass+"-prev").prev().addClass(e.bulletActiveClass+"-prev-prev"),o===u&&r.next().addClass(e.bulletActiveClass+"-next").next().addClass(e.bulletActiveClass+"-next-next"))});else if(a.eq(i).addClass(e.bulletActiveClass),e.dynamicBullets){for(var l=a.eq(s),h=a.eq(u),f=s;f<=u;f+=1)a.eq(f).addClass(e.bulletActiveClass+"-main");l.prev().addClass(e.bulletActiveClass+"-prev").prev().addClass(e.bulletActiveClass+"-prev-prev"),h.next().addClass(e.bulletActiveClass+"-next").next().addClass(e.bulletActiveClass+"-next-next")}if(e.dynamicBullets){var d=Math.min(a.length,e.dynamicMainBullets+4),p=(this.pagination.bulletSize*d-this.pagination.bulletSize)/2-c*this.pagination.bulletSize,v=t?"right":"left";a.css(this.isHorizontal()?v:"top",p+"px")}}if("fraction"===e.type&&(r.find("."+e.currentClass).text(e.formatFractionCurrent(i+1)),r.find("."+e.totalClass).text(e.formatFractionTotal(o))),"progressbar"===e.type){var g=void 0;g=e.progressbarOpposite?this.isHorizontal()?"vertical":"horizontal":this.isHorizontal()?"horizontal":"vertical";var m=(i+1)/o,y=1,b=1;"horizontal"===g?y=m:b=m,r.find("."+e.progressbarFillClass).transform("translate3d(0,0,0) scaleX("+y+") scaleY("+b+")").transition(this.params.speed)}"custom"===e.type&&e.renderCustom?(r.html(e.renderCustom(this,i+1,o)),this.emit("paginationRender",this,r[0])):this.emit("paginationUpdate",this,r[0]),r[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](e.lockClass)}},render:function(){var t=this.params.pagination;if(t.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var e=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,n=this.pagination.$el,r="";if("bullets"===t.type){for(var i=this.params.loop?Math.ceil((e-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length,o=0;o<i;o+=1)t.renderBullet?r+=t.renderBullet.call(this,o,t.bulletClass):r+="<"+t.bulletElement+' class="'+t.bulletClass+'"></'+t.bulletElement+">";n.html(r),this.pagination.bullets=n.find("."+t.bulletClass)}"fraction"===t.type&&(r=t.renderFraction?t.renderFraction.call(this,t.currentClass,t.totalClass):'<span class="'+t.currentClass+'"></span> / <span class="'+t.totalClass+'"></span>',n.html(r)),"progressbar"===t.type&&(r=t.renderProgressbar?t.renderProgressbar.call(this,t.progressbarFillClass):'<span class="'+t.progressbarFillClass+'"></span>',n.html(r)),"custom"!==t.type&&this.emit("paginationRender",this.pagination.$el[0])}},init:function(){var t=this,e=t.params.pagination;if(e.el){var n=K(e.el);0!==n.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&n.length>1&&1===t.$el.find(e.el).length&&(n=t.$el.find(e.el)),"bullets"===e.type&&e.clickable&&n.addClass(e.clickableClass),n.addClass(e.modifierClass+e.type),"bullets"===e.type&&e.dynamicBullets&&(n.addClass(""+e.modifierClass+e.type+"-dynamic"),t.pagination.dynamicBulletIndex=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&n.addClass(e.progressbarOppositeClass),e.clickable&&n.on("click","."+e.bulletClass,function(e){e.preventDefault();var n=K(this).index()*t.params.slidesPerGroup;t.params.loop&&(n+=t.loopedSlides),t.slideTo(n)}),gt.extend(t.pagination,{$el:n,el:n[0]}))}},destroy:function(){var t=this.params.pagination;if(t.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var e=this.pagination.$el;e.removeClass(t.hiddenClass),e.removeClass(t.modifierClass+t.type),this.pagination.bullets&&this.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&e.off("click","."+t.bulletClass)}}},ar={name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(t){return t},formatFractionTotal:function(t){return t},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){gt.extend(this,{pagination:{init:or.init.bind(this),render:or.render.bind(this),update:or.update.bind(this),destroy:or.destroy.bind(this),dynamicBulletIndex:0}})},on:{init:function(){this.pagination.init(),this.pagination.render(),this.pagination.update()},activeIndexChange:function(){this.params.loop?this.pagination.update():void 0===this.snapIndex&&this.pagination.update()},snapIndexChange:function(){this.params.loop||this.pagination.update()},slidesLengthChange:function(){this.params.loop&&(this.pagination.render(),this.pagination.update())},snapGridLengthChange:function(){this.params.loop||(this.pagination.render(),this.pagination.update())},destroy:function(){this.pagination.destroy()},click:function(t){this.params.pagination.el&&this.params.pagination.hideOnClick&&this.pagination.$el.length>0&&!K(t.target).hasClass(this.params.pagination.bulletClass)&&this.pagination.$el.toggleClass(this.params.pagination.hiddenClass)}}},sr={setTranslate:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var t=this.scrollbar,e=this.rtlTranslate,n=this.progress,r=t.dragSize,i=t.trackSize,o=t.$dragEl,a=t.$el,s=this.params.scrollbar,u=r,c=(i-r)*n;e?(c=-c)>0?(u=r-c,c=0):-c+r>i&&(u=i+c):c<0?(u=r+c,c=0):c+r>i&&(u=i-c),this.isHorizontal()?(Mt.transforms3d?o.transform("translate3d("+c+"px, 0, 0)"):o.transform("translateX("+c+"px)"),o[0].style.width=u+"px"):(Mt.transforms3d?o.transform("translate3d(0px, "+c+"px, 0)"):o.transform("translateY("+c+"px)"),o[0].style.height=u+"px"),s.hide&&(clearTimeout(this.scrollbar.timeout),a[0].style.opacity=1,this.scrollbar.timeout=setTimeout(function(){a[0].style.opacity=0,a.transition(400)},1e3))}},setTransition:function(t){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(t)},updateSize:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var t=this.scrollbar,e=t.$dragEl,n=t.$el;e[0].style.width="",e[0].style.height="";var r=this.isHorizontal()?n[0].offsetWidth:n[0].offsetHeight,i=this.size/this.virtualSize,o=i*(r/this.size),a=void 0;a="auto"===this.params.scrollbar.dragSize?r*i:parseInt(this.params.scrollbar.dragSize,10),this.isHorizontal()?e[0].style.width=a+"px":e[0].style.height=a+"px",n[0].style.display=i>=1?"none":"",this.params.scrollbarHide&&(n[0].style.opacity=0),gt.extend(t,{trackSize:r,divider:i,moveDivider:o,dragSize:a}),t.$el[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](this.params.scrollbar.lockClass)}},setDragPosition:function(t){var e=this.scrollbar,n=this.rtlTranslate,r=e.$el,i=e.dragSize,o=e.trackSize,a=void 0;a=((this.isHorizontal()?"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageX:t.pageX||t.clientX:"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageY:t.pageY||t.clientY)-r.offset()[this.isHorizontal()?"left":"top"]-i/2)/(o-i),a=Math.max(Math.min(a,1),0),n&&(a=1-a);var s=this.minTranslate()+(this.maxTranslate()-this.minTranslate())*a;this.updateProgress(s),this.setTranslate(s),this.updateActiveIndex(),this.updateSlidesClasses()},onDragStart:function(t){var e=this.params.scrollbar,n=this.scrollbar,r=this.$wrapperEl,i=n.$el,o=n.$dragEl;this.scrollbar.isTouched=!0,t.preventDefault(),t.stopPropagation(),r.transition(100),o.transition(100),n.setDragPosition(t),clearTimeout(this.scrollbar.dragTimeout),i.transition(0),e.hide&&i.css("opacity",1),this.emit("scrollbarDragStart",t)},onDragMove:function(t){var e=this.scrollbar,n=this.$wrapperEl,r=e.$el,i=e.$dragEl;this.scrollbar.isTouched&&(t.preventDefault?t.preventDefault():t.returnValue=!1,e.setDragPosition(t),n.transition(0),r.transition(0),i.transition(0),this.emit("scrollbarDragMove",t))},onDragEnd:function(t){var e=this.params.scrollbar,n=this.scrollbar.$el;this.scrollbar.isTouched&&(this.scrollbar.isTouched=!1,e.hide&&(clearTimeout(this.scrollbar.dragTimeout),this.scrollbar.dragTimeout=gt.nextTick(function(){n.css("opacity",0),n.transition(400)},1e3)),this.emit("scrollbarDragEnd",t),e.snapOnRelease&&this.slideToClosest())},enableDraggable:function(){if(this.params.scrollbar.el){var t=this.scrollbar,e=this.touchEvents,n=this.touchEventsDesktop,r=this.params,i=t.$el[0],o=!(!Mt.passiveListener||!r.passiveListener)&&{passive:!1,capture:!1},a=!(!Mt.passiveListener||!r.passiveListener)&&{passive:!0,capture:!1};Mt.touch||!Mt.pointerEvents&&!Mt.prefixedPointerEvents?(Mt.touch&&(i.addEventListener(e.start,this.scrollbar.onDragStart,o),i.addEventListener(e.move,this.scrollbar.onDragMove,o),i.addEventListener(e.end,this.scrollbar.onDragEnd,a)),(r.simulateTouch&&!mt.ios&&!mt.android||r.simulateTouch&&!Mt.touch&&mt.ios)&&(i.addEventListener("mousedown",this.scrollbar.onDragStart,o),N.addEventListener("mousemove",this.scrollbar.onDragMove,o),N.addEventListener("mouseup",this.scrollbar.onDragEnd,a))):(i.addEventListener(n.start,this.scrollbar.onDragStart,o),N.addEventListener(n.move,this.scrollbar.onDragMove,o),N.addEventListener(n.end,this.scrollbar.onDragEnd,a))}},disableDraggable:function(){if(this.params.scrollbar.el){var t=this.scrollbar,e=this.touchEvents,n=this.touchEventsDesktop,r=this.params,i=t.$el[0],o=!(!Mt.passiveListener||!r.passiveListener)&&{passive:!1,capture:!1},a=!(!Mt.passiveListener||!r.passiveListener)&&{passive:!0,capture:!1};Mt.touch||!Mt.pointerEvents&&!Mt.prefixedPointerEvents?(Mt.touch&&(i.removeEventListener(e.start,this.scrollbar.onDragStart,o),i.removeEventListener(e.move,this.scrollbar.onDragMove,o),i.removeEventListener(e.end,this.scrollbar.onDragEnd,a)),(r.simulateTouch&&!mt.ios&&!mt.android||r.simulateTouch&&!Mt.touch&&mt.ios)&&(i.removeEventListener("mousedown",this.scrollbar.onDragStart,o),N.removeEventListener("mousemove",this.scrollbar.onDragMove,o),N.removeEventListener("mouseup",this.scrollbar.onDragEnd,a))):(i.removeEventListener(n.start,this.scrollbar.onDragStart,o),N.removeEventListener(n.move,this.scrollbar.onDragMove,o),N.removeEventListener(n.end,this.scrollbar.onDragEnd,a))}},init:function(){if(this.params.scrollbar.el){var t=this.scrollbar,e=this.$el,n=this.params.scrollbar,r=K(n.el);this.params.uniqueNavElements&&"string"==typeof n.el&&r.length>1&&1===e.find(n.el).length&&(r=e.find(n.el));var i=r.find("."+this.params.scrollbar.dragClass);0===i.length&&(i=K('<div class="'+this.params.scrollbar.dragClass+'"></div>'),r.append(i)),gt.extend(t,{$el:r,el:r[0],$dragEl:i,dragEl:i[0]}),n.draggable&&t.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},ur={name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){gt.extend(this,{scrollbar:{init:sr.init.bind(this),destroy:sr.destroy.bind(this),updateSize:sr.updateSize.bind(this),setTranslate:sr.setTranslate.bind(this),setTransition:sr.setTransition.bind(this),enableDraggable:sr.enableDraggable.bind(this),disableDraggable:sr.disableDraggable.bind(this),setDragPosition:sr.setDragPosition.bind(this),onDragStart:sr.onDragStart.bind(this),onDragMove:sr.onDragMove.bind(this),onDragEnd:sr.onDragEnd.bind(this),isTouched:!1,timeout:null,dragTimeout:null}})},on:{init:function(){this.scrollbar.init(),this.scrollbar.updateSize(),this.scrollbar.setTranslate()},update:function(){this.scrollbar.updateSize()},resize:function(){this.scrollbar.updateSize()},observerUpdate:function(){this.scrollbar.updateSize()},setTranslate:function(){this.scrollbar.setTranslate()},setTransition:function(t){this.scrollbar.setTransition(t)},destroy:function(){this.scrollbar.destroy()}}},cr={setTransform:function(t,e){var n=this.rtl,r=K(t),i=n?-1:1,o=r.attr("data-swiper-parallax")||"0",a=r.attr("data-swiper-parallax-x"),s=r.attr("data-swiper-parallax-y"),u=r.attr("data-swiper-parallax-scale"),c=r.attr("data-swiper-parallax-opacity");if(a||s?(a=a||"0",s=s||"0"):this.isHorizontal()?(a=o,s="0"):(s=o,a="0"),a=a.indexOf("%")>=0?parseInt(a,10)*e*i+"%":a*e*i+"px",s=s.indexOf("%")>=0?parseInt(s,10)*e+"%":s*e+"px",void 0!==c&&null!==c){var l=c-(c-1)*(1-Math.abs(e));r[0].style.opacity=l}if(void 0===u||null===u)r.transform("translate3d("+a+", "+s+", 0px)");else{var h=u-(u-1)*(1-Math.abs(e));r.transform("translate3d("+a+", "+s+", 0px) scale("+h+")")}},setTranslate:function(){var t=this,e=t.$el,n=t.slides,r=t.progress,i=t.snapGrid;e.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(e,n){t.parallax.setTransform(n,r)}),n.each(function(e,n){var o=n.progress;t.params.slidesPerGroup>1&&"auto"!==t.params.slidesPerView&&(o+=Math.ceil(e/2)-r*(i.length-1)),o=Math.min(Math.max(o,-1),1),K(n).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(e,n){t.parallax.setTransform(n,o)})})},setTransition:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed;this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(e,n){var r=K(n),i=parseInt(r.attr("data-swiper-parallax-duration"),10)||t;0===t&&(i=0),r.transition(i)})}},lr={name:"parallax",params:{parallax:{enabled:!1}},create:function(){gt.extend(this,{parallax:{setTransform:cr.setTransform.bind(this),setTranslate:cr.setTranslate.bind(this),setTransition:cr.setTransition.bind(this)}})},on:{beforeInit:function(){this.params.parallax.enabled&&(this.params.watchSlidesProgress=!0)},init:function(){this.params.parallax&&this.parallax.setTranslate()},setTranslate:function(){this.params.parallax&&this.parallax.setTranslate()},setTransition:function(t){this.params.parallax&&this.parallax.setTransition(t)}}},hr={getDistanceBetweenTouches:function(t){if(t.targetTouches.length<2)return 1;var e=t.targetTouches[0].pageX,n=t.targetTouches[0].pageY,r=t.targetTouches[1].pageX,i=t.targetTouches[1].pageY;return Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2))},onGestureStart:function(t){var e=this.params.zoom,n=this.zoom,r=n.gesture;if(n.fakeGestureTouched=!1,n.fakeGestureMoved=!1,!Mt.gestures){if("touchstart"!==t.type||"touchstart"===t.type&&t.targetTouches.length<2)return;n.fakeGestureTouched=!0,r.scaleStart=hr.getDistanceBetweenTouches(t)}r.$slideEl&&r.$slideEl.length||(r.$slideEl=K(t.target).closest(".swiper-slide"),0===r.$slideEl.length&&(r.$slideEl=this.slides.eq(this.activeIndex)),r.$imageEl=r.$slideEl.find("img, svg, canvas"),r.$imageWrapEl=r.$imageEl.parent("."+e.containerClass),r.maxRatio=r.$imageWrapEl.attr("data-swiper-zoom")||e.maxRatio,0!==r.$imageWrapEl.length)?(r.$imageEl.transition(0),this.zoom.isScaling=!0):r.$imageEl=void 0},onGestureChange:function(t){var e=this.params.zoom,n=this.zoom,r=n.gesture;if(!Mt.gestures){if("touchmove"!==t.type||"touchmove"===t.type&&t.targetTouches.length<2)return;n.fakeGestureMoved=!0,r.scaleMove=hr.getDistanceBetweenTouches(t)}r.$imageEl&&0!==r.$imageEl.length&&(Mt.gestures?this.zoom.scale=t.scale*n.currentScale:n.scale=r.scaleMove/r.scaleStart*n.currentScale,n.scale>r.maxRatio&&(n.scale=r.maxRatio-1+Math.pow(n.scale-r.maxRatio+1,.5)),n.scale<e.minRatio&&(n.scale=e.minRatio+1-Math.pow(e.minRatio-n.scale+1,.5)),r.$imageEl.transform("translate3d(0,0,0) scale("+n.scale+")"))},onGestureEnd:function(t){var e=this.params.zoom,n=this.zoom,r=n.gesture;if(!Mt.gestures){if(!n.fakeGestureTouched||!n.fakeGestureMoved)return;if("touchend"!==t.type||"touchend"===t.type&&t.changedTouches.length<2&&!mt.android)return;n.fakeGestureTouched=!1,n.fakeGestureMoved=!1}r.$imageEl&&0!==r.$imageEl.length&&(n.scale=Math.max(Math.min(n.scale,r.maxRatio),e.minRatio),r.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale("+n.scale+")"),n.currentScale=n.scale,n.isScaling=!1,1===n.scale&&(r.$slideEl=void 0))},onTouchStart:function(t){var e=this.zoom,n=e.gesture,r=e.image;n.$imageEl&&0!==n.$imageEl.length&&(r.isTouched||(mt.android&&t.preventDefault(),r.isTouched=!0,r.touchesStart.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,r.touchesStart.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY))},onTouchMove:function(t){var e=this.zoom,n=e.gesture,r=e.image,i=e.velocity;if(n.$imageEl&&0!==n.$imageEl.length&&(this.allowClick=!1,r.isTouched&&n.$slideEl)){r.isMoved||(r.width=n.$imageEl[0].offsetWidth,r.height=n.$imageEl[0].offsetHeight,r.startX=gt.getTranslate(n.$imageWrapEl[0],"x")||0,r.startY=gt.getTranslate(n.$imageWrapEl[0],"y")||0,n.slideWidth=n.$slideEl[0].offsetWidth,n.slideHeight=n.$slideEl[0].offsetHeight,n.$imageWrapEl.transition(0),this.rtl&&(r.startX=-r.startX,r.startY=-r.startY));var o=r.width*e.scale,a=r.height*e.scale;if(!(o<n.slideWidth&&a<n.slideHeight)){if(r.minX=Math.min(n.slideWidth/2-o/2,0),r.maxX=-r.minX,r.minY=Math.min(n.slideHeight/2-a/2,0),r.maxY=-r.minY,r.touchesCurrent.x="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,r.touchesCurrent.y="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,!r.isMoved&&!e.isScaling){if(this.isHorizontal()&&(Math.floor(r.minX)===Math.floor(r.startX)&&r.touchesCurrent.x<r.touchesStart.x||Math.floor(r.maxX)===Math.floor(r.startX)&&r.touchesCurrent.x>r.touchesStart.x))return void(r.isTouched=!1);if(!this.isHorizontal()&&(Math.floor(r.minY)===Math.floor(r.startY)&&r.touchesCurrent.y<r.touchesStart.y||Math.floor(r.maxY)===Math.floor(r.startY)&&r.touchesCurrent.y>r.touchesStart.y))return void(r.isTouched=!1)}t.preventDefault(),t.stopPropagation(),r.isMoved=!0,r.currentX=r.touchesCurrent.x-r.touchesStart.x+r.startX,r.currentY=r.touchesCurrent.y-r.touchesStart.y+r.startY,r.currentX<r.minX&&(r.currentX=r.minX+1-Math.pow(r.minX-r.currentX+1,.8)),r.currentX>r.maxX&&(r.currentX=r.maxX-1+Math.pow(r.currentX-r.maxX+1,.8)),r.currentY<r.minY&&(r.currentY=r.minY+1-Math.pow(r.minY-r.currentY+1,.8)),r.currentY>r.maxY&&(r.currentY=r.maxY-1+Math.pow(r.currentY-r.maxY+1,.8)),i.prevPositionX||(i.prevPositionX=r.touchesCurrent.x),i.prevPositionY||(i.prevPositionY=r.touchesCurrent.y),i.prevTime||(i.prevTime=Date.now()),i.x=(r.touchesCurrent.x-i.prevPositionX)/(Date.now()-i.prevTime)/2,i.y=(r.touchesCurrent.y-i.prevPositionY)/(Date.now()-i.prevTime)/2,Math.abs(r.touchesCurrent.x-i.prevPositionX)<2&&(i.x=0),Math.abs(r.touchesCurrent.y-i.prevPositionY)<2&&(i.y=0),i.prevPositionX=r.touchesCurrent.x,i.prevPositionY=r.touchesCurrent.y,i.prevTime=Date.now(),n.$imageWrapEl.transform("translate3d("+r.currentX+"px, "+r.currentY+"px,0)")}}},onTouchEnd:function(){var t=this.zoom,e=t.gesture,n=t.image,r=t.velocity;if(e.$imageEl&&0!==e.$imageEl.length){if(!n.isTouched||!n.isMoved)return n.isTouched=!1,void(n.isMoved=!1);n.isTouched=!1,n.isMoved=!1;var i=300,o=300,a=r.x*i,s=n.currentX+a,u=r.y*o,c=n.currentY+u;0!==r.x&&(i=Math.abs((s-n.currentX)/r.x)),0!==r.y&&(o=Math.abs((c-n.currentY)/r.y));var l=Math.max(i,o);n.currentX=s,n.currentY=c;var h=n.width*t.scale,f=n.height*t.scale;n.minX=Math.min(e.slideWidth/2-h/2,0),n.maxX=-n.minX,n.minY=Math.min(e.slideHeight/2-f/2,0),n.maxY=-n.minY,n.currentX=Math.max(Math.min(n.currentX,n.maxX),n.minX),n.currentY=Math.max(Math.min(n.currentY,n.maxY),n.minY),e.$imageWrapEl.transition(l).transform("translate3d("+n.currentX+"px, "+n.currentY+"px,0)")}},onTransitionEnd:function(){var t=this.zoom,e=t.gesture;e.$slideEl&&this.previousIndex!==this.activeIndex&&(e.$imageEl.transform("translate3d(0,0,0) scale(1)"),e.$imageWrapEl.transform("translate3d(0,0,0)"),e.$slideEl=void 0,e.$imageEl=void 0,e.$imageWrapEl=void 0,t.scale=1,t.currentScale=1)},toggle:function(t){var e=this.zoom;e.scale&&1!==e.scale?e.out():e.in(t)},in:function(t){var e=this.zoom,n=this.params.zoom,r=e.gesture,i=e.image;if(r.$slideEl||(r.$slideEl=this.clickedSlide?K(this.clickedSlide):this.slides.eq(this.activeIndex),r.$imageEl=r.$slideEl.find("img, svg, canvas"),r.$imageWrapEl=r.$imageEl.parent("."+n.containerClass)),r.$imageEl&&0!==r.$imageEl.length){r.$slideEl.addClass(""+n.zoomedSlideClass);var o=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,h=void 0,f=void 0,d=void 0,p=void 0,v=void 0,g=void 0,m=void 0,y=void 0,b=void 0,_=void 0;void 0===i.touchesStart.x&&t?(o="touchend"===t.type?t.changedTouches[0].pageX:t.pageX,a="touchend"===t.type?t.changedTouches[0].pageY:t.pageY):(o=i.touchesStart.x,a=i.touchesStart.y),e.scale=r.$imageWrapEl.attr("data-swiper-zoom")||n.maxRatio,e.currentScale=r.$imageWrapEl.attr("data-swiper-zoom")||n.maxRatio,t?(b=r.$slideEl[0].offsetWidth,_=r.$slideEl[0].offsetHeight,s=r.$slideEl.offset().left+b/2-o,u=r.$slideEl.offset().top+_/2-a,h=r.$imageEl[0].offsetWidth,f=r.$imageEl[0].offsetHeight,d=h*e.scale,p=f*e.scale,m=-(v=Math.min(b/2-d/2,0)),y=-(g=Math.min(_/2-p/2,0)),c=s*e.scale,l=u*e.scale,c<v&&(c=v),c>m&&(c=m),l<g&&(l=g),l>y&&(l=y)):(c=0,l=0),r.$imageWrapEl.transition(300).transform("translate3d("+c+"px, "+l+"px,0)"),r.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+e.scale+")")}},out:function(){var t=this.zoom,e=this.params.zoom,n=t.gesture;n.$slideEl||(n.$slideEl=this.clickedSlide?K(this.clickedSlide):this.slides.eq(this.activeIndex),n.$imageEl=n.$slideEl.find("img, svg, canvas"),n.$imageWrapEl=n.$imageEl.parent("."+e.containerClass)),n.$imageEl&&0!==n.$imageEl.length&&(t.scale=1,t.currentScale=1,n.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),n.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),n.$slideEl.removeClass(""+e.zoomedSlideClass),n.$slideEl=void 0)},enable:function(){var t=this.zoom;if(!t.enabled){t.enabled=!0;var e=!("touchstart"!==this.touchEvents.start||!Mt.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1};Mt.gestures?(this.$wrapperEl.on("gesturestart",".swiper-slide",t.onGestureStart,e),this.$wrapperEl.on("gesturechange",".swiper-slide",t.onGestureChange,e),this.$wrapperEl.on("gestureend",".swiper-slide",t.onGestureEnd,e)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.on(this.touchEvents.start,".swiper-slide",t.onGestureStart,e),this.$wrapperEl.on(this.touchEvents.move,".swiper-slide",t.onGestureChange,e),this.$wrapperEl.on(this.touchEvents.end,".swiper-slide",t.onGestureEnd,e)),this.$wrapperEl.on(this.touchEvents.move,"."+this.params.zoom.containerClass,t.onTouchMove)}},disable:function(){var t=this.zoom;if(t.enabled){this.zoom.enabled=!1;var e=!("touchstart"!==this.touchEvents.start||!Mt.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1};Mt.gestures?(this.$wrapperEl.off("gesturestart",".swiper-slide",t.onGestureStart,e),this.$wrapperEl.off("gesturechange",".swiper-slide",t.onGestureChange,e),this.$wrapperEl.off("gestureend",".swiper-slide",t.onGestureEnd,e)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.off(this.touchEvents.start,".swiper-slide",t.onGestureStart,e),this.$wrapperEl.off(this.touchEvents.move,".swiper-slide",t.onGestureChange,e),this.$wrapperEl.off(this.touchEvents.end,".swiper-slide",t.onGestureEnd,e)),this.$wrapperEl.off(this.touchEvents.move,"."+this.params.zoom.containerClass,t.onTouchMove)}}},fr={name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var t=this,e={enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}};"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach(function(n){e[n]=hr[n].bind(t)}),gt.extend(t,{zoom:e})},on:{init:function(){this.params.zoom.enabled&&this.zoom.enable()},destroy:function(){this.zoom.disable()},touchStart:function(t){this.zoom.enabled&&this.zoom.onTouchStart(t)},touchEnd:function(t){this.zoom.enabled&&this.zoom.onTouchEnd(t)},doubleTap:function(t){this.params.zoom.enabled&&this.zoom.enabled&&this.params.zoom.toggle&&this.zoom.toggle(t)},transitionEnd:function(){this.zoom.enabled&&this.params.zoom.enabled&&this.zoom.onTransitionEnd()}}},dr={loadInSlide:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=n.params.lazy;if(void 0!==t&&0!==n.slides.length){var i=n.virtual&&n.params.virtual.enabled?n.$wrapperEl.children("."+n.params.slideClass+'[data-swiper-slide-index="'+t+'"]'):n.slides.eq(t),o=i.find("."+r.elementClass+":not(."+r.loadedClass+"):not(."+r.loadingClass+")");!i.hasClass(r.elementClass)||i.hasClass(r.loadedClass)||i.hasClass(r.loadingClass)||(o=o.add(i[0])),0!==o.length&&o.each(function(t,o){var a=K(o);a.addClass(r.loadingClass);var s=a.attr("data-background"),u=a.attr("data-src"),c=a.attr("data-srcset"),l=a.attr("data-sizes");n.loadImage(a[0],u||s,c,l,!1,function(){if(void 0!==n&&null!==n&&n&&(!n||n.params)&&!n.destroyed){if(s?(a.css("background-image",'url("'+s+'")'),a.removeAttr("data-background")):(c&&(a.attr("srcset",c),a.removeAttr("data-srcset")),l&&(a.attr("sizes",l),a.removeAttr("data-sizes")),u&&(a.attr("src",u),a.removeAttr("data-src"))),a.addClass(r.loadedClass).removeClass(r.loadingClass),i.find("."+r.preloaderClass).remove(),n.params.loop&&e){var t=i.attr("data-swiper-slide-index");if(i.hasClass(n.params.slideDuplicateClass)){var o=n.$wrapperEl.children('[data-swiper-slide-index="'+t+'"]:not(.'+n.params.slideDuplicateClass+")");n.lazy.loadInSlide(o.index(),!1)}else{var h=n.$wrapperEl.children("."+n.params.slideDuplicateClass+'[data-swiper-slide-index="'+t+'"]');n.lazy.loadInSlide(h.index(),!1)}}n.emit("lazyImageReady",i[0],a[0])}}),n.emit("lazyImageLoad",i[0],a[0])})}},load:function(){var t=this,e=t.$wrapperEl,n=t.params,r=t.slides,i=t.activeIndex,o=t.virtual&&n.virtual.enabled,a=n.lazy,s=n.slidesPerView;function u(t){if(o){if(e.children("."+n.slideClass+'[data-swiper-slide-index="'+t+'"]').length)return!0}else if(r[t])return!0;return!1}function c(t){return o?K(t).attr("data-swiper-slide-index"):K(t).index()}if("auto"===s&&(s=0),t.lazy.initialImageLoaded||(t.lazy.initialImageLoaded=!0),t.params.watchSlidesVisibility)e.children("."+n.slideVisibleClass).each(function(e,n){var r=o?K(n).attr("data-swiper-slide-index"):K(n).index();t.lazy.loadInSlide(r)});else if(s>1)for(var l=i;l<i+s;l+=1)u(l)&&t.lazy.loadInSlide(l);else t.lazy.loadInSlide(i);if(a.loadPrevNext)if(s>1||a.loadPrevNextAmount&&a.loadPrevNextAmount>1){for(var h=a.loadPrevNextAmount,f=s,d=Math.min(i+f+Math.max(h,f),r.length),p=Math.max(i-Math.max(f,h),0),v=i+s;v<d;v+=1)u(v)&&t.lazy.loadInSlide(v);for(var g=p;g<i;g+=1)u(g)&&t.lazy.loadInSlide(g)}else{var m=e.children("."+n.slideNextClass);m.length>0&&t.lazy.loadInSlide(c(m));var y=e.children("."+n.slidePrevClass);y.length>0&&t.lazy.loadInSlide(c(y))}}},pr={name:"lazy",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){gt.extend(this,{lazy:{initialImageLoaded:!1,load:dr.load.bind(this),loadInSlide:dr.loadInSlide.bind(this)}})},on:{beforeInit:function(){this.params.lazy.enabled&&this.params.preloadImages&&(this.params.preloadImages=!1)},init:function(){this.params.lazy.enabled&&!this.params.loop&&0===this.params.initialSlide&&this.lazy.load()},scroll:function(){this.params.freeMode&&!this.params.freeModeSticky&&this.lazy.load()},resize:function(){this.params.lazy.enabled&&this.lazy.load()},scrollbarDragMove:function(){this.params.lazy.enabled&&this.lazy.load()},transitionStart:function(){this.params.lazy.enabled&&(this.params.lazy.loadOnTransitionStart||!this.params.lazy.loadOnTransitionStart&&!this.lazy.initialImageLoaded)&&this.lazy.load()},transitionEnd:function(){this.params.lazy.enabled&&!this.params.lazy.loadOnTransitionStart&&this.lazy.load()}}},vr={LinearSpline:function(t,e){var n,r,i,o=(n=void 0,r=void 0,i=void 0,function(t,e){for(r=-1,n=t.length;n-r>1;)t[i=n+r>>1]<=e?r=i:n=i;return n});this.x=t,this.y=e,this.lastIndex=t.length-1;var a=void 0,s=void 0;return this.interpolate=function(t){return t?(s=o(this.x,t),a=s-1,(t-this.x[a])*(this.y[s]-this.y[a])/(this.x[s]-this.x[a])+this.y[a]):0},this},getInterpolateFunction:function(t){this.controller.spline||(this.controller.spline=this.params.loop?new vr.LinearSpline(this.slidesGrid,t.slidesGrid):new vr.LinearSpline(this.snapGrid,t.snapGrid))},setTranslate:function(t,e){var n=this,r=n.controller.control,i=void 0,o=void 0;function a(t){var e=n.rtlTranslate?-n.translate:n.translate;"slide"===n.params.controller.by&&(n.controller.getInterpolateFunction(t),o=-n.controller.spline.interpolate(-e)),o&&"container"!==n.params.controller.by||(i=(t.maxTranslate()-t.minTranslate())/(n.maxTranslate()-n.minTranslate()),o=(e-n.minTranslate())*i+t.minTranslate()),n.params.controller.inverse&&(o=t.maxTranslate()-o),t.updateProgress(o),t.setTranslate(o,n),t.updateActiveIndex(),t.updateSlidesClasses()}if(Array.isArray(r))for(var s=0;s<r.length;s+=1)r[s]!==e&&r[s]instanceof Kn&&a(r[s]);else r instanceof Kn&&e!==r&&a(r)},setTransition:function(t,e){var n=this,r=n.controller.control,i=void 0;function o(e){e.setTransition(t,n),0!==t&&(e.transitionStart(),e.$wrapperEl.transitionEnd(function(){r&&(e.params.loop&&"slide"===n.params.controller.by&&e.loopFix(),e.transitionEnd())}))}if(Array.isArray(r))for(i=0;i<r.length;i+=1)r[i]!==e&&r[i]instanceof Kn&&o(r[i]);else r instanceof Kn&&e!==r&&o(r)}},gr={name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){gt.extend(this,{controller:{control:this.params.controller.control,getInterpolateFunction:vr.getInterpolateFunction.bind(this),setTranslate:vr.setTranslate.bind(this),setTransition:vr.setTransition.bind(this)}})},on:{update:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},resize:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},observerUpdate:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},setTranslate:function(t,e){this.controller.control&&this.controller.setTranslate(t,e)},setTransition:function(t,e){this.controller.control&&this.controller.setTransition(t,e)}}},mr={makeElFocusable:function(t){return t.attr("tabIndex","0"),t},addElRole:function(t,e){return t.attr("role",e),t},addElLabel:function(t,e){return t.attr("aria-label",e),t},disableEl:function(t){return t.attr("aria-disabled",!0),t},enableEl:function(t){return t.attr("aria-disabled",!1),t},onEnterKey:function(t){var e=this.params.a11y;if(13===t.keyCode){var n=K(t.target);this.navigation&&this.navigation.$nextEl&&n.is(this.navigation.$nextEl)&&(this.isEnd&&!this.params.loop||this.slideNext(),this.isEnd?this.a11y.notify(e.lastSlideMessage):this.a11y.notify(e.nextSlideMessage)),this.navigation&&this.navigation.$prevEl&&n.is(this.navigation.$prevEl)&&(this.isBeginning&&!this.params.loop||this.slidePrev(),this.isBeginning?this.a11y.notify(e.firstSlideMessage):this.a11y.notify(e.prevSlideMessage)),this.pagination&&n.is("."+this.params.pagination.bulletClass)&&n[0].click()}},notify:function(t){var e=this.a11y.liveRegion;0!==e.length&&(e.html(""),e.html(t))},updateNavigation:function(){if(!this.params.loop){var t=this.navigation,e=t.$nextEl,n=t.$prevEl;n&&n.length>0&&(this.isBeginning?this.a11y.disableEl(n):this.a11y.enableEl(n)),e&&e.length>0&&(this.isEnd?this.a11y.disableEl(e):this.a11y.enableEl(e))}},updatePagination:function(){var t=this,e=t.params.a11y;t.pagination&&t.params.pagination.clickable&&t.pagination.bullets&&t.pagination.bullets.length&&t.pagination.bullets.each(function(n,r){var i=K(r);t.a11y.makeElFocusable(i),t.a11y.addElRole(i,"button"),t.a11y.addElLabel(i,e.paginationBulletMessage.replace(/{{index}}/,i.index()+1))})},init:function(){this.$el.append(this.a11y.liveRegion);var t=this.params.a11y,e=void 0,n=void 0;this.navigation&&this.navigation.$nextEl&&(e=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(n=this.navigation.$prevEl),e&&(this.a11y.makeElFocusable(e),this.a11y.addElRole(e,"button"),this.a11y.addElLabel(e,t.nextSlideMessage),e.on("keydown",this.a11y.onEnterKey)),n&&(this.a11y.makeElFocusable(n),this.a11y.addElRole(n,"button"),this.a11y.addElLabel(n,t.prevSlideMessage),n.on("keydown",this.a11y.onEnterKey)),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.on("keydown","."+this.params.pagination.bulletClass,this.a11y.onEnterKey)},destroy:function(){this.a11y.liveRegion&&this.a11y.liveRegion.length>0&&this.a11y.liveRegion.remove();var t=void 0,e=void 0;this.navigation&&this.navigation.$nextEl&&(t=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(e=this.navigation.$prevEl),t&&t.off("keydown",this.a11y.onEnterKey),e&&e.off("keydown",this.a11y.onEnterKey),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.off("keydown","."+this.params.pagination.bulletClass,this.a11y.onEnterKey)}},yr={name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}"}},create:function(){var t=this;gt.extend(t,{a11y:{liveRegion:K('<span class="'+t.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')}}),A()(mr).forEach(function(e){t.a11y[e]=mr[e].bind(t)})},on:{init:function(){this.params.a11y.enabled&&(this.a11y.init(),this.a11y.updateNavigation())},toEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},fromEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},paginationUpdate:function(){this.params.a11y.enabled&&this.a11y.updatePagination()},destroy:function(){this.params.a11y.enabled&&this.a11y.destroy()}}},br={run:function(){var t=this,e=t.slides.eq(t.activeIndex),n=t.params.autoplay.delay;e.attr("data-swiper-autoplay")&&(n=e.attr("data-swiper-autoplay")||t.params.autoplay.delay),t.autoplay.timeout=gt.nextTick(function(){t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(t.slideTo(t.slides.length-1,t.params.speed,!0,!0),t.emit("autoplay")):(t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.params.loop?(t.loopFix(),t.slideNext(t.params.speed,!0,!0),t.emit("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(t.slideTo(0,t.params.speed,!0,!0),t.emit("autoplay")):(t.slideNext(t.params.speed,!0,!0),t.emit("autoplay"))},n)},start:function(){return void 0===this.autoplay.timeout&&(!this.autoplay.running&&(this.autoplay.running=!0,this.emit("autoplayStart"),this.autoplay.run(),!0))},stop:function(){return!!this.autoplay.running&&(void 0!==this.autoplay.timeout&&(this.autoplay.timeout&&(clearTimeout(this.autoplay.timeout),this.autoplay.timeout=void 0),this.autoplay.running=!1,this.emit("autoplayStop"),!0))},pause:function(t){this.autoplay.running&&(this.autoplay.paused||(this.autoplay.timeout&&clearTimeout(this.autoplay.timeout),this.autoplay.paused=!0,0!==t&&this.params.autoplay.waitForTransition?(this.$wrapperEl[0].addEventListener("transitionend",this.autoplay.onTransitionEnd),this.$wrapperEl[0].addEventListener("webkitTransitionEnd",this.autoplay.onTransitionEnd)):(this.autoplay.paused=!1,this.autoplay.run())))}},_r={name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){var t=this;gt.extend(t,{autoplay:{running:!1,paused:!1,run:br.run.bind(t),start:br.start.bind(t),stop:br.stop.bind(t),pause:br.pause.bind(t),onTransitionEnd:function(e){t&&!t.destroyed&&t.$wrapperEl&&e.target===this&&(t.$wrapperEl[0].removeEventListener("transitionend",t.autoplay.onTransitionEnd),t.$wrapperEl[0].removeEventListener("webkitTransitionEnd",t.autoplay.onTransitionEnd),t.autoplay.paused=!1,t.autoplay.running?t.autoplay.run():t.autoplay.stop())}}})},on:{init:function(){this.params.autoplay.enabled&&this.autoplay.start()},beforeTransitionStart:function(t,e){this.autoplay.running&&(e||!this.params.autoplay.disableOnInteraction?this.autoplay.pause(t):this.autoplay.stop())},sliderFirstMove:function(){this.autoplay.running&&(this.params.autoplay.disableOnInteraction?this.autoplay.stop():this.autoplay.pause())},destroy:function(){this.autoplay.running&&this.autoplay.stop()}}},wr={setTranslate:function(){for(var t=this.slides,e=0;e<t.length;e+=1){var n=this.slides.eq(e),r=-n[0].swiperSlideOffset;this.params.virtualTranslate||(r-=this.translate);var i=0;this.isHorizontal()||(i=r,r=0);var o=this.params.fadeEffect.crossFade?Math.max(1-Math.abs(n[0].progress),0):1+Math.min(Math.max(n[0].progress,-1),0);n.css({opacity:o}).transform("translate3d("+r+"px, "+i+"px, 0px)")}},setTransition:function(t){var e=this,n=e.slides,r=e.$wrapperEl;if(n.transition(t),e.params.virtualTranslate&&0!==t){var i=!1;n.transitionEnd(function(){if(!i&&e&&!e.destroyed){i=!0,e.animating=!1;for(var t=["webkitTransitionEnd","transitionend"],n=0;n<t.length;n+=1)r.trigger(t[n])}})}}},xr={name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){gt.extend(this,{fadeEffect:{setTranslate:wr.setTranslate.bind(this),setTransition:wr.setTransition.bind(this)}})},on:{beforeInit:function(){if("fade"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"fade");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};gt.extend(this.params,t),gt.extend(this.originalParams,t)}},setTranslate:function(){"fade"===this.params.effect&&this.fadeEffect.setTranslate()},setTransition:function(t){"fade"===this.params.effect&&this.fadeEffect.setTransition(t)}}},Er={setTranslate:function(){var t=this.$el,e=this.$wrapperEl,n=this.slides,r=this.width,i=this.height,o=this.rtlTranslate,a=this.size,s=this.params.cubeEffect,u=this.isHorizontal(),c=this.virtual&&this.params.virtual.enabled,l=0,h=void 0;s.shadow&&(u?(0===(h=e.find(".swiper-cube-shadow")).length&&(h=K('<div class="swiper-cube-shadow"></div>'),e.append(h)),h.css({height:r+"px"})):0===(h=t.find(".swiper-cube-shadow")).length&&(h=K('<div class="swiper-cube-shadow"></div>'),t.append(h)));for(var f=0;f<n.length;f+=1){var d=n.eq(f),p=f;c&&(p=parseInt(d.attr("data-swiper-slide-index"),10));var v=90*p,g=Math.floor(v/360);o&&(v=-v,g=Math.floor(-v/360));var m=Math.max(Math.min(d[0].progress,1),-1),y=0,b=0,_=0;p%4==0?(y=4*-g*a,_=0):(p-1)%4==0?(y=0,_=4*-g*a):(p-2)%4==0?(y=a+4*g*a,_=a):(p-3)%4==0&&(y=-a,_=3*a+4*a*g),o&&(y=-y),u||(b=y,y=0);var w="rotateX("+(u?0:-v)+"deg) rotateY("+(u?v:0)+"deg) translate3d("+y+"px, "+b+"px, "+_+"px)";if(m<=1&&m>-1&&(l=90*p+90*m,o&&(l=90*-p-90*m)),d.transform(w),s.slideShadows){var x=u?d.find(".swiper-slide-shadow-left"):d.find(".swiper-slide-shadow-top"),E=u?d.find(".swiper-slide-shadow-right"):d.find(".swiper-slide-shadow-bottom");0===x.length&&(x=K('<div class="swiper-slide-shadow-'+(u?"left":"top")+'"></div>'),d.append(x)),0===E.length&&(E=K('<div class="swiper-slide-shadow-'+(u?"right":"bottom")+'"></div>'),d.append(E)),x.length&&(x[0].style.opacity=Math.max(-m,0)),E.length&&(E[0].style.opacity=Math.max(m,0))}}if(e.css({"-webkit-transform-origin":"50% 50% -"+a/2+"px","-moz-transform-origin":"50% 50% -"+a/2+"px","-ms-transform-origin":"50% 50% -"+a/2+"px","transform-origin":"50% 50% -"+a/2+"px"}),s.shadow)if(u)h.transform("translate3d(0px, "+(r/2+s.shadowOffset)+"px, "+-r/2+"px) rotateX(90deg) rotateZ(0deg) scale("+s.shadowScale+")");else{var C=Math.abs(l)-90*Math.floor(Math.abs(l)/90),k=1.5-(Math.sin(2*C*Math.PI/360)/2+Math.cos(2*C*Math.PI/360)/2),T=s.shadowScale,S=s.shadowScale/k,O=s.shadowOffset;h.transform("scale3d("+T+", 1, "+S+") translate3d(0px, "+(i/2+O)+"px, "+-i/2/S+"px) rotateX(-90deg)")}var M=Vn.isSafari||Vn.isUiWebView?-a/2:0;e.transform("translate3d(0px,0,"+M+"px) rotateX("+(this.isHorizontal()?0:l)+"deg) rotateY("+(this.isHorizontal()?-l:0)+"deg)")},setTransition:function(t){var e=this.$el;this.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),this.params.cubeEffect.shadow&&!this.isHorizontal()&&e.find(".swiper-cube-shadow").transition(t)}},Cr={name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){gt.extend(this,{cubeEffect:{setTranslate:Er.setTranslate.bind(this),setTransition:Er.setTransition.bind(this)}})},on:{beforeInit:function(){if("cube"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"cube"),this.classNames.push(this.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};gt.extend(this.params,t),gt.extend(this.originalParams,t)}},setTranslate:function(){"cube"===this.params.effect&&this.cubeEffect.setTranslate()},setTransition:function(t){"cube"===this.params.effect&&this.cubeEffect.setTransition(t)}}},kr={setTranslate:function(){for(var t=this.slides,e=this.rtlTranslate,n=0;n<t.length;n+=1){var r=t.eq(n),i=r[0].progress;this.params.flipEffect.limitRotation&&(i=Math.max(Math.min(r[0].progress,1),-1));var o=-180*i,a=0,s=-r[0].swiperSlideOffset,u=0;if(this.isHorizontal()?e&&(o=-o):(u=s,s=0,a=-o,o=0),r[0].style.zIndex=-Math.abs(Math.round(i))+t.length,this.params.flipEffect.slideShadows){var c=this.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),l=this.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===c.length&&(c=K('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"left":"top")+'"></div>'),r.append(c)),0===l.length&&(l=K('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"right":"bottom")+'"></div>'),r.append(l)),c.length&&(c[0].style.opacity=Math.max(-i,0)),l.length&&(l[0].style.opacity=Math.max(i,0))}r.transform("translate3d("+s+"px, "+u+"px, 0px) rotateX("+a+"deg) rotateY("+o+"deg)")}},setTransition:function(t){var e=this,n=e.slides,r=e.activeIndex,i=e.$wrapperEl;if(n.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),e.params.virtualTranslate&&0!==t){var o=!1;n.eq(r).transitionEnd(function(){if(!o&&e&&!e.destroyed){o=!0,e.animating=!1;for(var t=["webkitTransitionEnd","transitionend"],n=0;n<t.length;n+=1)i.trigger(t[n])}})}}},Tr={name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){gt.extend(this,{flipEffect:{setTranslate:kr.setTranslate.bind(this),setTransition:kr.setTransition.bind(this)}})},on:{beforeInit:function(){if("flip"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"flip"),this.classNames.push(this.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};gt.extend(this.params,t),gt.extend(this.originalParams,t)}},setTranslate:function(){"flip"===this.params.effect&&this.flipEffect.setTranslate()},setTransition:function(t){"flip"===this.params.effect&&this.flipEffect.setTransition(t)}}},Sr={setTranslate:function(){for(var t=this.width,e=this.height,n=this.slides,r=this.$wrapperEl,i=this.slidesSizesGrid,o=this.params.coverflowEffect,a=this.isHorizontal(),s=this.translate,u=a?t/2-s:e/2-s,c=a?o.rotate:-o.rotate,l=o.depth,h=0,f=n.length;h<f;h+=1){var d=n.eq(h),p=i[h],v=(u-d[0].swiperSlideOffset-p/2)/p*o.modifier,g=a?c*v:0,m=a?0:c*v,y=-l*Math.abs(v),b=a?0:o.stretch*v,_=a?o.stretch*v:0;Math.abs(_)<.001&&(_=0),Math.abs(b)<.001&&(b=0),Math.abs(y)<.001&&(y=0),Math.abs(g)<.001&&(g=0),Math.abs(m)<.001&&(m=0);var w="translate3d("+_+"px,"+b+"px,"+y+"px)  rotateX("+m+"deg) rotateY("+g+"deg)";if(d.transform(w),d[0].style.zIndex=1-Math.abs(Math.round(v)),o.slideShadows){var x=a?d.find(".swiper-slide-shadow-left"):d.find(".swiper-slide-shadow-top"),E=a?d.find(".swiper-slide-shadow-right"):d.find(".swiper-slide-shadow-bottom");0===x.length&&(x=K('<div class="swiper-slide-shadow-'+(a?"left":"top")+'"></div>'),d.append(x)),0===E.length&&(E=K('<div class="swiper-slide-shadow-'+(a?"right":"bottom")+'"></div>'),d.append(E)),x.length&&(x[0].style.opacity=v>0?v:0),E.length&&(E[0].style.opacity=-v>0?-v:0)}}(Mt.pointerEvents||Mt.prefixedPointerEvents)&&(r[0].style.perspectiveOrigin=u+"px 50%")},setTransition:function(t){this.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)}},Or={name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}},create:function(){gt.extend(this,{coverflowEffect:{setTranslate:Sr.setTranslate.bind(this),setTransition:Sr.setTransition.bind(this)}})},on:{beforeInit:function(){"coverflow"===this.params.effect&&(this.classNames.push(this.params.containerModifierClass+"coverflow"),this.classNames.push(this.params.containerModifierClass+"3d"),this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},setTranslate:function(){"coverflow"===this.params.effect&&this.coverflowEffect.setTranslate()},setTransition:function(t){"coverflow"===this.params.effect&&this.coverflowEffect.setTransition(t)}}};function Mr(t){var e=this,n=K(t);if(0!==n.length&&!n[0].swiper){var r=void 0,i={},o=void 0,a=void 0;n.hasClass("tabs-swipeable-wrap")&&(n.addClass("swiper-container").children(".tabs").addClass("swiper-wrapper").children(".tab").addClass("swiper-slide"),r=n.children(".tabs").children(".tab-active").index(),o=!0,a=n.find(".tabs-routable").length>0),n.attr("data-swiper")?i=JSON.parse(n.attr("data-swiper")):(i=n.dataset(),A()(i).forEach(function(t){var e=i[t];if("string"==typeof e&&0===e.indexOf("{")&&e.indexOf("}")>0)try{i[t]=JSON.parse(e)}catch(t){}})),void 0===i.initialSlide&&void 0!==r&&(i.initialSlide=r);var s=e.swiper.create(n[0],i);o&&s.on("slideChange",function(){if(a){var t=e.views.get(n.parents(".view"));t||(t=e.views.main);var r=t.router,i=r.findTabRoute(s.slides.eq(s.activeIndex)[0]);i&&r.navigate(i.path)}else e.tab.show({tabEl:s.slides.eq(s.activeIndex)})})}}Kn.use([Yn,Xn,Qn,Jn,tr,nr,ir,ar,ur,lr,fr,pr,gr,yr,_r,xr,Cr,Tr,Or]);var Ar={name:"swiper",static:{Swiper:Kn},create:function(){this.swiper=we({defaultSelector:".swiper-container",constructor:Kn,domProp:"swiper"})},on:{pageBeforeRemove:function(t){var e=this;t.$el.find(".swiper-init, .tabs-swipeable-wrap").each(function(t,n){e.swiper.destroy(n)})},pageMounted:function(t){var e=this;t.$el.find(".tabs-swipeable-wrap").each(function(t,n){Mr.call(e,n)})},pageInit:function(t){var e=this;t.$el.find(".swiper-init, .tabs-swipeable-wrap").each(function(t,n){Mr.call(e,n)})},pageReinit:function(t){var e=this;t.$el.find(".swiper-init, .tabs-swipeable-wrap").each(function(t,n){var r=e.swiper.get(n);r&&r.update&&r.update()})},tabMounted:function(t){var e=this;K(t).find(".swiper-init, .tabs-swipeable-wrap").each(function(t,n){Mr.call(e,n)})},tabShow:function(t){var e=this;K(t).find(".swiper-init, .tabs-swipeable-wrap").each(function(t,n){var r=e.swiper.get(n);r&&r.update&&r.update()})},tabBeforeRemove:function(t){var e=this;K(t).find(".swiper-init, .tabs-swipeable-wrap").each(function(t,n){e.swiper.destroy(n)})}}},Pr=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_()(this,e);var r=g()(this,(e.__proto__||p()(e)).call(this,n,[t])),i=r;i.app=t;var o=gt.extend({on:{}},t.params.photoBrowser);return i.useModulesParams(o),i.params=gt.extend(o,n),gt.extend(i,{exposed:!1,opened:!1,activeIndex:i.params.swiper.initialSlide,url:i.params.url,view:i.params.view||t.views.main,swipeToClose:{allow:!0,isTouched:!1,diff:void 0,start:void 0,current:void 0,started:!1,activeSlide:void 0,timeStart:void 0}}),i.useModules(),i.init(),r}return y()(e,t),x()(e,[{key:"onSlideChange",value:function(t){var e=this;e.activeIndex=t.activeIndex;var n=t.activeIndex+1,r=e.params.virtualSlides?e.params.photos.length:t.slides.length;t.params.loop&&(r-=2,(n-=t.loopedSlides)<1&&(n=r+n),n>r&&(n-=r));var i=e.params.virtualSlides?t.$wrapperEl.find('.swiper-slide[data-swiper-slide-index="'+t.activeIndex+'"]'):t.slides.eq(t.activeIndex),o=e.params.virtualSlides?t.$wrapperEl.find('.swiper-slide[data-swiper-slide-index="'+t.previousIndex+'"]'):t.slides.eq(t.previousIndex),a=e.$el.find(".photo-browser-current"),s=e.$el.find(".photo-browser-total");if("page"===e.params.type&&e.params.navbar&&0===a.length&&"ios"===e.app.theme){var u=e.app.navbar.getElByPage(e.$el);u&&(a=K(u).find(".photo-browser-current"),s=K(u).find(".photo-browser-total"))}if(a.text(n),s.text(r),e.captions.length>0){var c=t.params.loop?i.attr("data-swiper-slide-index"):e.activeIndex;e.$captionsContainerEl.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active"),e.$captionsContainerEl.find('[data-caption-index="'+c+'"]').addClass("photo-browser-caption-active")}var l=o.find("video");l.length>0&&"pause"in l[0]&&l[0].pause()}},{key:"onTouchStart",value:function(){var t=this.swipeToClose;t.allow&&(t.isTouched=!0)}},{key:"onTouchMove",value:function(t){var e=this,n=e.swipeToClose;if(n.isTouched){n.started||(n.started=!0,n.start="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,e.params.virtualSlides?n.activeSlide=e.swiper.$wrapperEl.children(".swiper-slide-active"):n.activeSlide=e.swiper.slides.eq(e.swiper.activeIndex),n.timeStart=gt.now()),t.preventDefault(),n.current="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,n.diff=n.start-n.current;var r=1-Math.abs(n.diff)/300,i=e.exposed||"dark"===e.params.theme?0:255;n.activeSlide.transform("translate3d(0,"+-n.diff+"px,0)"),e.swiper.$el.css("background-color","rgba("+i+", "+i+", "+i+", "+r+")").transition(0)}}},{key:"onTouchEnd",value:function(){var t=this,e=t.swipeToClose;if(e.isTouched=!1,e.started){e.started=!1,e.allow=!1;var n=Math.abs(e.diff),r=(new Date).getTime()-e.timeStart;r<300&&n>20||r>=300&&n>100?gt.nextTick(function(){t.$el&&(e.diff<0?t.$el.addClass("swipe-close-to-bottom"):t.$el.addClass("swipe-close-to-top")),t.emit("local::swipeToClose",t),t.close(),e.allow=!0}):(0!==n?e.activeSlide.addClass("photo-browser-transitioning").transitionEnd(function(){e.allow=!0,e.activeSlide.removeClass("photo-browser-transitioning")}):e.allow=!0,t.swiper.$el.transition("").css("background-color",""),e.activeSlide.transform(""))}else e.started=!1}},{key:"renderNavbar",value:function(){var t=this;if(t.params.renderNavbar)return t.params.renderNavbar.call(t);var e=t.params.iconsColor;t.params.iconsColor||"dark"!==t.params.theme||(e="white");var n="ios"===t.app.theme&&t.params.backLinkText?t.params.backLinkText:"",r="page"!==t.params.type;return('\n      <div class="navbar">\n        <div class="navbar-inner sliding">\n          <div class="left">\n            <a href="#" class="link '+(r?"popup-close":"")+" "+(n?"":"icon-only")+" "+(r?"":"back")+'" '+(r?'data-popup=".photo-browser-popup"':"")+'>\n              <i class="icon icon-back '+(e?"color-"+e:"")+'"></i>\n              '+(n?"<span>"+n+"</span>":"")+'\n            </a>\n          </div>\n          <div class="title">\n            <span class="photo-browser-current"></span>\n            <span class="photo-browser-of">'+t.params.navbarOfText+'</span>\n            <span class="photo-browser-total"></span>\n          </div>\n          <div class="right"></div>\n        </div>\n      </div>\n    ').trim()}},{key:"renderToolbar",value:function(){var t=this;if(t.params.renderToolbar)return t.params.renderToolbar.call(t);var e=t.params.iconsColor;return t.params.iconsColor||"dark"!==t.params.theme||(e="white"),('\n      <div class="toolbar tabbar toolbar-bottom-md">\n        <div class="toolbar-inner">\n          <a href="#" class="link photo-browser-prev">\n            <i class="icon icon-back '+(e?"color-"+e:"")+'"></i>\n          </a>\n          <a href="#" class="link photo-browser-next">\n            <i class="icon icon-forward '+(e?"color-"+e:"")+'"></i>\n          </a>\n        </div>\n      </div>\n    ').trim()}},{key:"renderCaption",value:function(t,e){return this.params.renderCaption?this.params.renderCaption.call(this,t,e):('\n      <div class="photo-browser-caption" data-caption-index="'+e+'">\n        '+t+"\n      </div>\n    ").trim()}},{key:"renderObject",value:function(t,e){return this.params.renderObject?this.params.renderObject.call(this,t,e):'\n      <div class="photo-browser-slide photo-browser-object-slide swiper-slide" data-swiper-slide-index="'+e+'">'+(t.html?t.html:t)+"</div>\n    "}},{key:"renderLazyPhoto",value:function(t,e){var n=this;return n.params.renderLazyPhoto?n.params.renderLazyPhoto.call(n,t,e):('\n      <div class="photo-browser-slide photo-browser-slide-lazy swiper-slide" data-swiper-slide-index="'+e+'">\n          <div class="preloader swiper-lazy-preloader '+("dark"===n.params.theme?"color-white":"")+'">'+("md"===n.app.theme?gt.mdPreloaderContent:"")+'</div>\n          <span class="swiper-zoom-container">\n              <img data-src="'+(t.url?t.url:t)+'" class="swiper-lazy">\n          </span>\n      </div>\n    ').trim()}},{key:"renderPhoto",value:function(t,e){return this.params.renderPhoto?this.params.renderPhoto.call(this,t,e):('\n      <div class="photo-browser-slide swiper-slide" data-swiper-slide-index="'+e+'">\n        <span class="swiper-zoom-container">\n          <img src="'+(t.url?t.url:t)+'">\n        </span>\n      </div>\n    ').trim()}},{key:"render",value:function(){var t=this;return t.params.render?t.params.render.call(t,t.params):('\n      <div class="photo-browser photo-browser-'+t.params.theme+'">\n        <div class="view">\n          <div class="page photo-browser-page photo-browser-page-'+t.params.theme+" no-toolbar "+(t.params.navbar?"":"no-navbar")+'" data-name="photo-browser-page">\n            '+(t.params.navbar?t.renderNavbar():"")+"\n            "+(t.params.toolbar?t.renderToolbar():"")+'\n            <div class="photo-browser-captions photo-browser-captions-'+(t.params.captionsTheme||t.params.theme)+'">\n              '+t.params.photos.map(function(e,n){return e.caption?t.renderCaption(e.caption,n):""}).join(" ")+'\n            </div>\n            <div class="photo-browser-swiper-container swiper-container">\n              <div class="photo-browser-swiper-wrapper swiper-wrapper">\n                '+(t.params.virtualSlides?"":t.params.photos.map(function(e,n){return e.html||("string"==typeof e||e instanceof String)&&e.indexOf("<")>=0&&e.indexOf(">")>=0?t.renderObject(e,n):!0===t.params.swiper.lazy||t.params.swiper.lazy&&t.params.swiper.lazy.enabled?t.renderLazyPhoto(e,n):t.renderPhoto(e,n)}).join(" "))+"\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ").trim()}},{key:"renderStandalone",value:function(){return this.params.renderStandalone?this.params.renderStandalone.call(this):'<div class="popup photo-browser-popup photo-browser-standalone popup-tablet-fullscreen">'+this.render()+"</div>"}},{key:"renderPage",value:function(){return this.params.renderPage?this.params.renderPage.call(this):this.render()}},{key:"renderPopup",value:function(){return this.params.renderPopup?this.params.renderPopup.call(this):'<div class="popup photo-browser-popup">'+this.render()+"</div>"}},{key:"onOpen",value:function(t,e){var n=this,r=n.app,i=K(e);i[0].f7PhotoBrowser=n,n.$el=i,n.el=i[0],n.openedIn=t,n.opened=!0,n.$swiperContainerEl=n.$el.find(".photo-browser-swiper-container"),n.$swiperWrapperEl=n.$el.find(".photo-browser-swiper-wrapper"),n.slides=n.$el.find(".photo-browser-slide"),n.$captionsContainerEl=n.$el.find(".photo-browser-captions"),n.captions=n.$el.find(".photo-browser-caption");var o=gt.extend({},n.params.swiper,{initialSlide:n.activeIndex,on:{tap:function(t){n.emit("local::tap",t)},click:function(t){n.params.exposition&&n.expositionToggle(),n.emit("local::click",t)},doubleTap:function(t){n.emit("local::doubleTap",t)},slideChange:function(){n.onSlideChange(this);for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];n.emit.apply(n,["local::slideChange"].concat(I()(e)))},transitionStart:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];n.emit.apply(n,["local::transitionStart"].concat(I()(e)))},transitionEnd:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];n.emit.apply(n,["local::transitionEnd"].concat(I()(e)))},slideChangeTransitionStart:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];n.emit.apply(n,["local::slideChangeTransitionStart"].concat(I()(e)))},slideChangeTransitionEnd:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];n.emit.apply(n,["local::slideChangeTransitionEnd"].concat(I()(e)))},lazyImageLoad:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];n.emit.apply(n,["local::lazyImageLoad"].concat(I()(e)))},lazyImageReady:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=e[0];K(i).removeClass("photo-browser-slide-lazy"),n.emit.apply(n,["local::lazyImageReady"].concat(I()(e)))}}});n.params.swipeToClose&&"page"!==n.params.type&&gt.extend(o.on,{touchStart:function(t){n.onTouchStart(t),n.emit("local::touchStart",t)},touchMoveOpposite:function(t){n.onTouchMove(t),n.emit("local::touchMoveOpposite",t)},touchEnd:function(t){n.onTouchEnd(t),n.emit("local::touchEnd",t)}}),n.params.virtualSlides&&gt.extend(o,{virtual:{slides:n.params.photos,renderSlide:function(t,e){return t.html||("string"==typeof t||t instanceof String)&&t.indexOf("<")>=0&&t.indexOf(">")>=0?n.renderObject(t,e):!0===n.params.swiper.lazy||n.params.swiper.lazy&&n.params.swiper.lazy.enabled?n.renderLazyPhoto(t,e):n.renderPhoto(t,e)}}}),n.swiper=r.swiper.create(n.$swiperContainerEl,o),0===n.activeIndex&&n.onSlideChange(n.swiper),n.$el&&n.$el.trigger("photobrowser:open"),n.emit("local::open photoBrowserOpen",n)}},{key:"onOpened",value:function(){this.$el&&this.$el.trigger("photobrowser:opened"),this.emit("local::opened photoBrowserOpened",this)}},{key:"onClose",value:function(){var t=this;t.destroyed||(t.swiper&&t.swiper.destroy&&(t.swiper.destroy(!0,!1),t.swiper=null,delete t.swiper),t.$el&&t.$el.trigger("photobrowser:close"),t.emit("local::close photoBrowserClose",t))}},{key:"onClosed",value:function(){var t=this;t.destroyed||(t.opened=!1,t.$el=null,t.el=null,delete t.$el,delete t.el,t.$el&&t.$el.trigger("photobrowser:closed"),t.emit("local::closed photoBrowserClosed",t))}},{key:"openPage",value:function(){var t=this;if(t.opened)return t;var e=t.renderPage();return t.view.router.navigate({url:t.url,route:{content:e,path:t.url,on:{pageBeforeIn:function(e,n){t.view.$el.addClass("with-photo-browser-page with-photo-browser-page-"+t.params.theme),t.onOpen("page",n.el)},pageAfterIn:function(e,n){t.onOpened("page",n.el)},pageBeforeOut:function(e,n){t.view.$el.removeClass("with-photo-browser-page with-photo-browser-page-exposed with-photo-browser-page-"+t.params.theme),t.onClose("page",n.el)},pageAfterOut:function(e,n){t.onClosed("page",n.el)}}}}),t}},{key:"openStandalone",value:function(){var t=this;if(t.opened)return t;var e={backdrop:!1,content:t.renderStandalone(),on:{popupOpen:function(e){t.onOpen("popup",e.el)},popupOpened:function(e){t.onOpened("popup",e.el)},popupClose:function(e){t.onClose("popup",e.el)},popupClosed:function(e){t.onClosed("popup",e.el)}}};return t.params.routableModals?t.view.router.navigate({url:t.url,route:{path:t.url,popup:e}}):t.modal=t.app.popup.create(e).open(),t}},{key:"openPopup",value:function(){var t=this;if(t.opened)return t;var e={content:t.renderPopup(),on:{popupOpen:function(e){t.onOpen("popup",e.el)},popupOpened:function(e){t.onOpened("popup",e.el)},popupClose:function(e){t.onClose("popup",e.el)},popupClosed:function(e){t.onClosed("popup",e.el)}}};return t.params.routableModals?t.view.router.navigate({url:t.url,route:{path:t.url,popup:e}}):t.modal=t.app.popup.create(e).open(),t}},{key:"expositionEnable",value:function(){var t=this;return"page"===t.params.type&&t.view.$el.addClass("with-photo-browser-page-exposed"),t.$el&&t.$el.addClass("photo-browser-exposed"),t.params.expositionHideCaptions&&t.$captionsContainerEl.addClass("photo-browser-captions-exposed"),t.exposed=!0,t}},{key:"expositionDisable",value:function(){var t=this;return"page"===t.params.type&&t.view.$el.removeClass("with-photo-browser-page-exposed"),t.$el&&t.$el.removeClass("photo-browser-exposed"),t.params.expositionHideCaptions&&t.$captionsContainerEl.removeClass("photo-browser-captions-exposed"),t.exposed=!1,t}},{key:"expositionToggle",value:function(){var t=this;return"page"===t.params.type&&t.view.$el.toggleClass("with-photo-browser-page-exposed"),t.$el&&t.$el.toggleClass("photo-browser-exposed"),t.params.expositionHideCaptions&&t.$captionsContainerEl.toggleClass("photo-browser-captions-exposed"),t.exposed=!t.exposed,t}},{key:"open",value:function(t){var e=this,n=e.params.type;return e.opened?(e.swiper&&void 0!==t&&e.swiper.slideTo(parseInt(t,10)),e):(void 0!==t&&(e.activeIndex=t),"standalone"===n&&e.openStandalone(),"page"===n&&e.openPage(),"popup"===n&&e.openPopup(),e)}},{key:"close",value:function(){var t=this;return t.opened?(t.params.routableModals||"page"===t.openedIn?t.view&&t.view.router.back():(t.modal.once("modalClosed",function(){gt.nextTick(function(){t.modal.destroy(),delete t.modal})}),t.modal.close()),t):t}},{key:"init",value:function(){}},{key:"destroy",value:function(){var t=this;t.emit("local::beforeDestroy photoBrowserBeforeDestroy",t),t.$el&&(t.$el.trigger("photobrowser:beforedestroy"),delete t.$el[0].f7PhotoBrowser),gt.deleteProps(t),t=null}}]),e}(yt),Ir={name:"photoBrowser",params:{photoBrowser:{photos:[],exposition:!0,expositionHideCaptions:!1,type:"standalone",navbar:!0,toolbar:!0,theme:"light",captionsTheme:void 0,iconsColor:void 0,swipeToClose:!0,backLinkText:"Close",navbarOfText:"of",view:void 0,url:"photos/",routableModals:!0,virtualSlides:!0,renderNavbar:void 0,renderToolbar:void 0,renderCaption:void 0,renderObject:void 0,renderLazyPhoto:void 0,renderPhoto:void 0,renderPage:void 0,renderPopup:void 0,renderStandalone:void 0,swiper:{initialSlide:0,spaceBetween:20,speed:300,loop:!1,preloadImages:!0,navigation:{nextEl:".photo-browser-next",prevEl:".photo-browser-prev"},zoom:{enabled:!0,maxRatio:3,minRatio:1},lazy:{enabled:!0}}}},create:function(){this.photoBrowser=we({defaultSelector:".photo-browser",constructor:Pr,app:this,domProp:"f7PhotoBrowser"})},static:{PhotoBrowser:Pr}},Nr=function(t){function e(t,n){var r;_()(this,e);var i=gt.extend({on:{}},t.params.notification,n),o=g()(this,(e.__proto__||p()(e)).call(this,t,i)),a=o;a.app=t,a.params=i;var s,u,c=a.params,l=c.icon,h=c.title,f=c.titleRightText,d=c.subtitle,v=c.text,m=c.closeButton,y=c.closeTimeout,b=c.cssClass,w=c.closeOnClick,x=void 0;if(a.params.el)x=K(a.params.el);else{var E=a.render({icon:l,title:h,titleRightText:f,subtitle:d,text:v,closeButton:m,cssClass:b});x=K(E)}if(x&&x.length>0&&x[0].f7Modal)return s=x[0].f7Modal,g()(o,s);if(0===x.length)return u=a.destroy(),g()(o,u);gt.extend(a,{$el:x,el:x[0],type:"notification"}),x[0].f7Modal=a,m&&x.find(".notification-close-button").on("click",function(){a.close()}),x.on("click",function(t){m&&K(t.target).closest(".notification-close-button").length||(a.emit("local::click notificationClick",a),w&&a.close())}),a.on("beforeDestroy",function(){x.off("click")});var C=void 0,k=void 0,T=void 0,S=void 0,O=void 0,M=void 0,A={};function P(t){C||(C=!0,k=!1,T=void 0,O=gt.now(),A.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,A.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY)}function I(t){if(C){var e="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,n="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY;if(void 0===T&&(T=!!(T||Math.abs(n-A.y)<Math.abs(e-A.x))),T)C=!1;else{t.preventDefault(),k||(a.$el.removeClass("notification-transitioning"),a.$el.transition(0),M=a.$el[0].offsetHeight/2),k=!0;var r=S=n-A.y;S>0&&(r=Math.pow(S,.8)),a.$el.transform("translate3d(0, "+r+"px, 0)")}}}function N(){if(!C||!k)return C=!1,void(k=!1);if(C=!1,k=!1,0!==S){var t=gt.now()-O;a.$el.transition(""),a.$el.addClass("notification-transitioning"),a.$el.transform(""),(S<-10&&t<300||-S>=M/1)&&a.close()}}var R=void 0;return a.on("open",function(){a.params.swipeToClose&&(a.$el.on(t.touchEvents.start,P,{passive:!0}),t.on("touchmove:active",I),t.on("touchend:passive",N)),K(".notification.modal-in").each(function(e,n){var r=t.notification.get(n);n!==a.el&&r&&r.close()}),y&&function t(){R=gt.nextTick(function(){C&&k?t():a.close()},y)}()}),a.on("close beforeDestroy",function(){a.params.swipeToClose&&(a.$el.off(t.touchEvents.start,P,{passive:!0}),t.off("touchmove:active",I),t.off("touchend:passive",N)),D.clearTimeout(R)}),r=a,g()(o,r)}return y()(e,t),x()(e,[{key:"render",value:function(){if(this.params.render)return this.params.render.call(this,this);var t=this.params,e=t.icon,n=t.title,r=t.titleRightText,i=t.subtitle,o=t.text,a=t.closeButton;return('\n      <div class="notification '+(t.cssClass||"")+'">\n        <div class="notification-header">\n          '+(e?'<div class="notification-icon">'+e+"</div>":"")+"\n          "+(n?'<div class="notification-title">'+n+"</div>":"")+"\n          "+(r?'<div class="notification-title-right-text">'+r+"</div>":"")+"\n          "+(a?'<span class="notification-close-button"></span>':"")+'\n        </div>\n        <div class="notification-content">\n          '+(i?'<div class="notification-subtitle">'+i+"</div>":"")+"\n          "+(o?'<div class="notification-text">'+o+"</div>":"")+"\n        </div>\n      </div>\n    ").trim()}}]),e}(me),Dr={name:"notification",static:{Notification:Nr},create:function(){this.notification=gt.extend({},xe({app:this,constructor:Nr,defaultSelector:".notification.modal-in"}))},params:{notification:{icon:null,title:null,titleRightText:null,subtitle:null,text:null,closeButton:!1,closeTimeout:null,closeOnClick:!1,swipeToClose:!0,cssClass:null,render:null}}},Rr=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_()(this,e);var i=g()(this,(e.__proto__||p()(e)).call(this,r,[t])),o=i;o.app=t;var a=gt.extend({on:{}},t.params.autocomplete);o.useModulesParams(a),o.params=gt.extend(a,r);var s=void 0;o.params.openerEl&&(s=K(o.params.openerEl)).length&&(s[0].f7Autocomplete=o);var u=void 0;o.params.inputEl&&(u=K(o.params.inputEl)).length&&(u[0].f7Autocomplete=o);var c=void 0;o.params.view?c=o.params.view:(s||u)&&(c=t.views.get(s||u)),c||(c=t.views.main);var l=gt.now(),h=r.url;!h&&s&&s.length&&(s.attr("href")?h=s.attr("href"):s.find("a").length>0&&(h=s.find("a").attr("href"))),h&&"#"!==h&&""!==h||(h=o.params.url);var f=o.params.multiple?"checkbox":"radio";gt.extend(o,{$openerEl:s,openerEl:s&&s[0],$inputEl:u,inputEl:u&&u[0],id:l,view:c,url:h,value:o.params.value||[],inputType:f,inputName:f+"-"+l,$modalEl:void 0,$dropdownEl:void 0});var d="";function v(){var t=o.$inputEl.val().trim();o.params.source&&o.params.source.call(o,t,function(e){var n="",r=o.params.limit?Math.min(o.params.limit,e.length):e.length;o.items=e;var i=void 0;o.params.highlightMatches&&(t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),i=new RegExp("("+t+")","i"));for(var a=void 0,s=void 0,c=0;c<r;c+=1){var l="object"===T()(e[c])?e[c][o.params.valueProperty]:e[c],h="object"===T()(e[c])?e[c][o.params.textProperty]:e[c];0===c&&(a=l,s=o.items[c]),n+=o.renderItem({value:l,text:o.params.highlightMatches?h.replace(i,"<b>$1</b>"):h},c)}if(""===n&&""===t&&o.params.dropdownPlaceholderText&&(n+=o.renderItem({placeholder:!0,text:o.params.dropdownPlaceholderText})),o.$dropdownEl.find("ul").html(n),o.params.typeahead){if(!a||!s)return;if(0!==a.toLowerCase().indexOf(t.toLowerCase()))return;if(d.toLowerCase()===t.toLowerCase())return void(o.value=[]);if(0===d.toLowerCase().indexOf(t.toLowerCase()))return d=t,void(o.value=[]);u.val(a),u[0].setSelectionRange(t.length,a.length);var f="object"===T()(o.value[0])?o.value[0][o.params.valueProperty]:o.value[0];f&&a.toLowerCase()===f.toLowerCase()||(o.value=[s],o.emit("local::change autocompleteChange",[s]))}d=t})}function m(){var t=this.value,e=void 0,n=void 0,r=void 0;if(K(this).parents(".autocomplete-values").length>0){if("checkbox"===o.inputType&&!this.checked){for(var i=0;i<o.value.length;i+=1)(r="string"==typeof o.value[i]?o.value[i]:o.value[i][o.params.valueProperty])!==t&&1*r!=1*t||o.value.splice(i,1);o.updateValues(),o.emit("local::change autocompleteChange",o.value)}}else{for(var a=0;a<o.items.length;a+=1)(n="object"===T()(o.items[a])?o.items[a][o.params.valueProperty]:o.items[a])!==t&&1*n!=1*t||(e=o.items[a]);if("radio"===o.inputType)o.value=[e];else if(this.checked)o.value.push(e);else for(var s=0;s<o.value.length;s+=1)(r="object"===T()(o.value[s])?o.value[s][o.params.valueProperty]:o.value[s])!==t&&1*r!=1*t||o.value.splice(s,1);o.updateValues(),("radio"===o.inputType&&this.checked||"checkbox"===o.inputType)&&o.emit("local::change autocompleteChange",o.value)}}function y(t){var e=K(t.target);e.is(o.$inputEl[0])||o.$dropdownEl&&e.closest(o.$dropdownEl[0]).length||o.close()}function b(){o.open()}function w(){o.open()}function x(){o.$dropdownEl.find("label.active-state").length>0||o.close()}function E(){o.positionDropdown()}function C(t){o.opened&&13===t.keyCode&&(t.preventDefault(),o.$inputEl.blur())}function k(){for(var t=K(this),e=void 0,n=0;n<o.items.length;n+=1){var r="object"===T()(o.items[n])?o.items[n][o.params.valueProperty]:o.items[n],i=t.attr("data-value");r!==i&&1*r!=1*i||(e=o.items[n])}o.params.updateInputValueOnSelect&&(o.$inputEl.val("object"===(void 0===e?"undefined":T()(e))?e[o.params.valueProperty]:e),o.$inputEl.trigger("input change")),o.value=[e],o.emit("local::change autocompleteChange",[e]),o.close()}return o.attachEvents=function(){"dropdown"!==o.params.openIn&&o.$openerEl&&o.$openerEl.on("click",b),"dropdown"===o.params.openIn&&o.$inputEl&&(o.$inputEl.on("focus",w),o.$inputEl.on(o.params.inputEvents,v),t.device.android?K("html").on("click",y):o.$inputEl.on("blur",x),o.params.typeahead&&o.$inputEl.on("keydown",C))},o.detachEvents=function(){"dropdown"!==o.params.openIn&&o.$openerEl&&o.$openerEl.off("click",b),"dropdown"===o.params.openIn&&o.$inputEl&&(o.$inputEl.off("focus",w),o.$inputEl.off(o.params.inputEvents,v),t.device.android?K("html").off("click",y):o.$inputEl.off("blur",x),o.params.typeahead&&o.$inputEl.off("keydown",C))},o.attachDropdownEvents=function(){o.$dropdownEl.on("click","label",k),t.on("resize",E)},o.detachDropdownEvents=function(){o.$dropdownEl.off("click","label",k),t.off("resize",E)},o.attachPageEvents=function(){o.$el.on("change",'input[type="radio"], input[type="checkbox"]',m),o.params.closeOnSelect&&!o.params.multiple&&o.$el.once("click",".list label",function(){gt.nextTick(function(){o.close()})})},o.detachPageEvents=function(){o.$el.off("change",'input[type="radio"], input[type="checkbox"]',m)},o.useModules(),o.init(),n=o,g()(i,n)}return y()(e,t),x()(e,[{key:"positionDropdown",value:function(){var t=this,e=t.$inputEl,n=t.app,r=t.$dropdownEl,i=e.parents(".page-content");if(0!==i.length){var o=e.offset(),a=e[0].offsetWidth,s=e[0].offsetHeight,c=e.parents(".list"),l=void 0;c.parents().each(function(t,e){if(!l){var n=K(e);n.parent(i).length&&(l=n)}});var h=c.offset(),f=parseInt(i.css("padding-bottom"),10),d=c.length>0?h.left-i.offset().left:0,p=o.left-(c.length>0?h.left:0)-(n.rtl,0),v=o.top-(i.offset().top-i[0].scrollTop),g=i[0].scrollHeight-f-(v+i[0].scrollTop)-e[0].offsetHeight,m=n.rtl?"padding-right":"padding-left",y=void 0;c.length&&!t.params.expandInput&&(y=(n.rtl?c[0].offsetWidth-p-a:p)-("md"===n.theme?16:15)),r.css({left:(c.length>0?d:p)+"px",top:v+i[0].scrollTop+s+"px",width:(c.length>0?c[0].offsetWidth:a)+"px"}),r.children(".autocomplete-dropdown-inner").css(u()({maxHeight:g+"px"},m,c.length>0&&!t.params.expandInput?y+"px":""))}}},{key:"focus",value:function(){this.$el.find("input[type=search]").focus()}},{key:"source",value:function(t){var e=this;if(e.params.source){var n=e.$el;e.params.source.call(e,t,function(r){var i="",o=e.params.limit?Math.min(e.params.limit,r.length):r.length;e.items=r;for(var a=0;a<o;a+=1){for(var s=!1,u="object"===T()(r[a])?r[a][e.params.valueProperty]:r[a],c=0;c<e.value.length;c+=1){var l="object"===T()(e.value[c])?e.value[c][e.params.valueProperty]:e.value[c];l!==u&&1*l!=1*u||(s=!0)}i+=e.renderItem({value:u,text:"object"===T()(r[a])?r[a][e.params.textProperty]:r[a],inputType:e.inputType,id:e.id,inputName:e.inputName,selected:s},a)}n.find(".autocomplete-found ul").html(i),0===r.length?0!==t.length?(n.find(".autocomplete-not-found").show(),n.find(".autocomplete-found, .autocomplete-values").hide()):(n.find(".autocomplete-values").show(),n.find(".autocomplete-found, .autocomplete-not-found").hide()):(n.find(".autocomplete-found").show(),n.find(".autocomplete-not-found, .autocomplete-values").hide())})}}},{key:"updateValues",value:function(){for(var t=this,e="",n=0;n<t.value.length;n+=1)e+=t.renderItem({value:"object"===T()(t.value[n])?t.value[n][t.params.valueProperty]:t.value[n],text:"object"===T()(t.value[n])?t.value[n][t.params.textProperty]:t.value[n],inputType:t.inputType,id:t.id,inputName:t.inputName+"-checked}",selected:!0},n);t.$el.find(".autocomplete-values ul").html(e)}},{key:"preloaderHide",value:function(){"dropdown"===this.params.openIn&&this.$dropdownEl?this.$dropdownEl.find(".autocomplete-preloader").removeClass("autocomplete-preloader-visible"):K(".autocomplete-preloader").removeClass("autocomplete-preloader-visible")}},{key:"preloaderShow",value:function(){"dropdown"===this.params.openIn&&this.$dropdownEl?this.$dropdownEl.find(".autocomplete-preloader").addClass("autocomplete-preloader-visible"):K(".autocomplete-preloader").addClass("autocomplete-preloader-visible")}},{key:"renderPreloader",value:function(){return('\n      <div class="autocomplete-preloader preloader '+(this.params.preloaderColor?"color-"+this.params.preloaderColor:"")+'">'+("md"===this.app.theme?gt.mdPreloaderContent:"")+"</div>\n    ").trim()}},{key:"renderSearchbar",value:function(){var t=this;return t.params.renderSearchbar?t.params.renderSearchbar.call(t):('\n      <form class="searchbar">\n        <div class="searchbar-inner">\n          <div class="searchbar-input-wrap">\n            <input type="search" placeholder="'+t.params.searchbarPlaceholder+'"/>\n            <i class="searchbar-icon"></i>\n            <span class="input-clear-button"></span>\n          </div>\n          <span class="searchbar-disable-button">'+t.params.searchbarDisableText+"</span>\n        </div>\n      </form>\n    ").trim()}},{key:"renderItem",value:function(t,e){if(this.params.renderItem)return this.params.renderItem.call(this,t,e);return("dropdown"!==this.params.openIn?'\n        <li>\n          <label class="item-'+t.inputType+' item-content">\n            <input type="'+t.inputType+'" name="'+t.inputName+'" value="'+t.value+'" '+(t.selected?"checked":"")+'>\n            <i class="icon icon-'+t.inputType+'"></i>\n            <div class="item-inner">\n              <div class="item-title">'+t.text+"</div>\n            </div>\n          </label>\n        </li>\n      ":t.placeholder?'\n        <li class="autocomplete-dropdown-placeholder">\n          <div class="item-content">\n            <div class="item-inner">\n              <div class="item-title">'+t.text+"</div>\n            </div>\n          </label>\n        </li>\n      ":'\n        <li>\n          <label class="item-radio item-content" data-value="'+t.value+'">\n            <div class="item-inner">\n              <div class="item-title">'+t.text+"</div>\n            </div>\n          </label>\n        </li>\n      ").trim()}},{key:"renderNavbar",value:function(){var t=this;if(t.params.renderNavbar)return t.params.renderNavbar.call(t);var e=t.params.pageTitle;return void 0===e&&t.$openerEl&&t.$openerEl.length&&(e=t.$openerEl.find(".item-title").text().trim()),('\n      <div class="navbar '+(t.params.navbarColorTheme?"color-theme-"+t.params.navbarColorTheme:"")+'">\n        <div class="navbar-inner '+(t.params.navbarColorTheme?"color-theme-"+t.params.navbarColorTheme:"")+'">\n          <div class="left sliding">\n            <a href="#" class="link '+("page"===t.params.openIn?"back":"popup-close")+'" '+("popup"===t.params.openIn?'data-popup=".autocomplete-popup"':"")+'>\n              <i class="icon icon-back"></i>\n              <span class="ios-only">'+("page"===t.params.openIn?t.params.pageBackLinkText:t.params.popupCloseLinkText)+"</span>\n            </a>\n          </div>\n          "+(e?'<div class="title sliding">'+e+"</div>":"")+"\n          "+(t.params.preloader?'\n          <div class="right">\n            '+t.renderPreloader()+"\n          </div>\n          ":"")+'\n          <div class="subnavbar sliding">'+t.renderSearchbar()+"</div>\n        </div>\n      </div>\n    ").trim()}},{key:"renderDropdown",value:function(){var t=this;return t.params.renderDropdown?t.params.renderDropdown.call(t,t.items):('\n      <div class="autocomplete-dropdown">\n        <div class="autocomplete-dropdown-inner">\n          <div class="list '+(t.params.expandInput?"":"no-ios-edge")+'">\n            <ul></ul>\n          </div>\n        </div>\n        '+(t.params.preloader?t.renderPreloader():"")+"\n      </div>\n    ").trim()}},{key:"renderPage",value:function(){var t=this;return t.params.renderPage?t.params.renderPage.call(t,t.items):('\n      <div class="page page-with-subnavbar autocomplete-page" data-name="autocomplete-page">\n        '+t.renderNavbar()+'\n        <div class="searchbar-backdrop"></div>\n        <div class="page-content">\n          <div class="list autocomplete-list autocomplete-found autocomplete-list-'+t.id+" "+(t.params.formColorTheme?"color-theme-"+t.params.formColorTheme:"")+'">\n            <ul></ul>\n          </div>\n          <div class="list autocomplete-not-found">\n            <ul>\n              <li class="item-content"><div class="item-inner"><div class="item-title">'+t.params.notFoundText+'</div></div></li>\n            </ul>\n          </div>\n          <div class="list autocomplete-values">\n            <ul></ul>\n          </div>\n        </div>\n      </div>\n    ').trim()}},{key:"renderPopup",value:function(){var t=this;return t.params.renderPopup?t.params.renderPopup.call(t,t.items):('\n      <div class="popup autocomplete-popup">\n        <div class="view">\n          '+t.renderPage()+";\n        </div>\n      </div>\n    ").trim()}},{key:"onOpen",value:function(t,e){var n=this,r=n.app,i=K(e);if(n.$el=i,n.el=i[0],n.openedIn=t,n.opened=!0,"dropdown"===n.params.openIn)n.attachDropdownEvents(),n.$dropdownEl.addClass("autocomplete-dropdown-in"),n.$inputEl.trigger("input");else{var o=i.find(".searchbar");"page"===n.params.openIn&&"ios"===r.theme&&0===o.length&&(o=K(r.navbar.getElByPage(i)).find(".searchbar")),n.searchbar=r.searchbar.create({el:o,backdropEl:i.find(".searchbar-backdrop"),customSearch:!0,on:{searchbarSearch:function(t,e){0===e.length&&n.searchbar.enabled?n.searchbar.backdropShow():n.searchbar.backdropHide(),n.source(e)}}}),n.attachPageEvents(),n.updateValues(),n.params.requestSourceOnOpen&&n.source("")}n.emit("local::open autocompleteOpen",n)}},{key:"onOpened",value:function(){var t=this;"dropdown"!==t.params.openIn&&t.params.autoFocus&&t.autoFocus(),t.emit("local::opened autocompleteOpened",t)}},{key:"onClose",value:function(){var t=this;t.destroyed||(t.searchbar&&t.searchbar.destroy&&(t.searchbar.destroy(),t.searchbar=null,delete t.searchbar),"dropdown"===t.params.openIn?(t.detachDropdownEvents(),t.$dropdownEl.removeClass("autocomplete-dropdown-in").remove(),t.$inputEl.parents(".item-content-dropdown-expanded").removeClass("item-content-dropdown-expanded")):t.detachPageEvents(),t.emit("local::close autocompleteClose",t))}},{key:"onClosed",value:function(){var t=this;t.destroyed||(t.opened=!1,t.$el=null,t.el=null,delete t.$el,delete t.el,t.emit("local::closed autocompleteClosed",t))}},{key:"openPage",value:function(){var t=this;if(t.opened)return t;var e=t.renderPage();return t.view.router.navigate({url:t.url,route:{content:e,path:t.url,on:{pageBeforeIn:function(e,n){t.onOpen("page",n.el)},pageAfterIn:function(e,n){t.onOpened("page",n.el)},pageBeforeOut:function(e,n){t.onClose("page",n.el)},pageAfterOut:function(e,n){t.onClosed("page",n.el)}},options:{animate:t.params.animate}}}),t}},{key:"openPopup",value:function(){var t=this;if(t.opened)return t;var e={content:t.renderPopup(),animate:t.params.animate,on:{popupOpen:function(e){t.onOpen("popup",e.el)},popupOpened:function(e){t.onOpened("popup",e.el)},popupClose:function(e){t.onClose("popup",e.el)},popupClosed:function(e){t.onClosed("popup",e.el)}}};return t.params.routableModals?t.view.router.navigate({url:t.url,route:{path:t.url,popup:e}}):t.modal=t.app.popup.create(e).open(t.params.animate),t}},{key:"openDropdown",value:function(){var t=this;t.$dropdownEl||(t.$dropdownEl=K(t.renderDropdown())),t.$inputEl.parents(".list").length&&t.$inputEl.parents(".item-content").length>0&&t.params.expandInput&&t.$inputEl.parents(".item-content").addClass("item-content-dropdown-expanded");var e=t.$inputEl.parents(".page-content");t.params.dropdownContainerEl?K(t.params.dropdownContainerEl).append(t.$dropdownEl):0===e.length?t.$dropdownEl.insertAfter(t.$inputEl):(t.positionDropdown(),e.append(t.$dropdownEl)),t.onOpen("dropdown",t.$dropdownEl),t.onOpened("dropdown",t.$dropdownEl)}},{key:"open",value:function(){var t=this;return t.opened?t:(t["open"+t.params.openIn.split("").map(function(t,e){return 0===e?t.toUpperCase():t}).join("")](),t)}},{key:"close",value:function(){var t=this;return t.opened?("dropdown"===t.params.openIn?(t.onClose(),t.onClosed()):t.params.routableModals||"page"===t.openedIn?t.view.router.back({animate:t.params.animate}):(t.modal.once("modalClosed",function(){gt.nextTick(function(){t.modal.destroy(),delete t.modal})}),t.modal.close()),t):t}},{key:"init",value:function(){this.attachEvents()}},{key:"destroy",value:function(){var t=this;t.emit("local::beforeDestroy autocompleteBeforeDestroy",t),t.detachEvents(),t.$inputEl&&t.$inputEl[0]&&delete t.$inputEl[0].f7Autocomplete,t.$openerEl&&t.$openerEl[0]&&delete t.$openerEl[0].f7Autocomplete,gt.deleteProps(t),t.destroyed=!0}}]),e}(yt),jr={name:"autocomplete",params:{autocomplete:{openerEl:void 0,inputEl:void 0,view:void 0,dropdownContainerEl:void 0,dropdownPlaceholderText:void 0,typeahead:!1,highlightMatches:!0,expandInput:!1,updateInputValueOnSelect:!0,inputEvents:"input",value:void 0,multiple:!1,source:void 0,limit:void 0,valueProperty:"id",textProperty:"text",openIn:"page",pageBackLinkText:"Back",popupCloseLinkText:"Close",pageTitle:void 0,searchbarPlaceholder:"Search...",searchbarDisableText:"Cancel",animate:!0,autoFocus:!1,closeOnSelect:!1,notFoundText:"Nothing found",requestSourceOnOpen:!1,preloaderColor:void 0,preloader:!1,formColorTheme:void 0,navbarColorTheme:void 0,routableModals:!0,url:"select/",renderDropdown:void 0,renderPage:void 0,renderPopup:void 0,renderItem:void 0,renderSearchbar:void 0,renderNavbar:void 0}},static:{Autocomplete:Rr},create:function(){var t=this;t.autocomplete=gt.extend(we({defaultSelector:void 0,constructor:Rr,app:t,domProp:"f7Autocomplete"}),{open:function(e){var n=t.autocomplete.get(e);if(n&&n.open)return n.open()},close:function(e){var n=t.autocomplete.get(e);if(n&&n.close)return n.close()}})}},Lr=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_()(this,e);var r=g()(this,(e.__proto__||p()(e)).call(this,n,[t])),i=r;if(!D.vi)throw new Error("f7:vi SDK not found.");var o=void 0;void 0!==D.orientation&&(o=-90===D.orientation||90===D.orientation?"horizontal":"vertical");var a=gt.extend({},t.params.vi,{appId:t.id,appVer:t.version,language:t.language,width:t.width,height:t.height,os:mt.os,osVersion:mt.osVersion,orientation:o});i.useModulesParams(a),i.params=gt.extend(a,n);var s={},u="on autoplay fallbackOverlay fallbackOverlayText enabled".split(" ");if(A()(i.params).forEach(function(t){if(!(u.indexOf(t)>=0)){var e=i.params[t];[null,void 0].indexOf(e)>=0||(s[t]=e)}}),!i.params.appId)throw new Error('Framework7:"app.id" is required to display an ad. Make sure you have specified it on app initialization.');if(!i.params.placementId)throw new Error('Framework7:"placementId" is required to display an ad.');function c(){var e=K("iframe#viAd");0!==e.length&&e.css({width:t.width+"px",height:t.height+"px"})}function l(){i.$overlayEl&&(i.$overlayEl.off("click touchstart"),i.$overlayEl.remove())}return i.ad=new D.vi.Ad(s),gt.extend(i.ad,{onAdReady:function(){t.on("resize",c),i.emit("local::ready"),i.params.autoplay&&i.start()},onAdStarted:function(){i.emit("local::started")},onAdClick:function(t){i.emit("local::click",t)},onAdImpression:function(){i.emit("local::impression")},onAdStopped:function(e){t.off("resize",c),l(),i.emit("local::stopped",e),"complete"===e&&(i.emit("local::complete"),i.emit("local::completed")),"userexit"===e&&i.emit("local::userexit"),i.destroyed=!0},onAutoPlayFailed:function(e,n){i.emit("local::autoplayFailed",e,n),e&&e.name&&-1!==e.name.indexOf("NotAllowedError")&&i.params.fallbackOverlay&&function(e){if(e){i.$overlayEl=K(('\n        <div class="vi-overlay no-fastclick">\n          '+(i.params.fallbackOverlayText?'<div class="vi-overlay-text">'+i.params.fallbackOverlayText+"</div>":"")+'\n          <div class="vi-overlay-play-button"></div>\n        </div>\n      ').trim());var n=void 0;i.$overlayEl.on("touchstart",function(){n=gt.now()}),i.$overlayEl.on("click",function(){if(!(gt.now()-n>300)){if(e)return e.play(),void l();i.start(),l()}}),t.root.append(i.$overlayEl)}}(n)},onAdError:function(e){l(),t.off("resize",c),i.emit("local::error",e),i.destroyed=!0}}),i.init(),gt.extend(i,{app:t}),r}return y()(e,t),x()(e,[{key:"start",value:function(){this.destroyed||this.ad&&this.ad.startAd()}},{key:"pause",value:function(){this.destroyed||this.ad&&this.ad.pauseAd()}},{key:"resume",value:function(){this.destroyed||this.ad&&this.ad.resumeAd()}},{key:"stop",value:function(){this.destroyed||this.ad&&this.ad.stopAd()}},{key:"init",value:function(){this.destroyed||this.ad&&this.ad.initAd()}},{key:"destroy",value:function(){this.destroyed=!0,this.emit("local::beforeDestroy"),gt.deleteProps(this)}}]),e}(yt),Fr={name:"vi",params:{vi:{enabled:!1,autoplay:!0,fallbackOverlay:!0,fallbackOverlayText:"Please watch this ad",showMute:!0,startMuted:(mt.ios||mt.android)&&!mt.cordova,appId:null,appVer:null,language:null,width:null,height:null,placementId:"pltd4o7ibb9rc653x14",placementType:"interstitial",videoSlot:null,showProgress:!0,showBranding:!0,os:null,osVersion:null,orientation:null,age:null,gender:null,advertiserId:null,latitude:null,longitude:null,accuracy:null,storeId:null,ip:null,manufacturer:null,model:null,connectionType:null,connectionProvider:null}},create:function(){var t=this;t.vi={sdkReady:!1,createAd:function(e){return new Lr(t,e)},loadSdk:function(){if(!t.vi.skdReady){var e=N.createElement("script");e.onload=function(){t.emit("viSdkReady"),t.vi.skdReady=!0},e.src="https://c.vi-serve.com/viadshtml/vi.min.js",K("head").append(e)}}}},on:{init:function(){(this.params.vi.enabled||this.passedParams.vi&&!1!==this.passedParams.vi.enabled)&&this.vi.loadSdk()}}};bt.use([At,Pt,It,Nt,Dt,Rt,ne,te,re,oe,se,ue,le,fe,{name:"subnavbar",on:{pageInit:function(t){t.$navbarEl&&t.$navbarEl.length&&t.$navbarEl.find(".subnavbar").length&&t.$el.addClass("page-with-subnavbar"),t.$el.find(".subnavbar").length&&t.$el.addClass("page-with-subnavbar")}}},pe,be,Ee,ke,Se,Me,Pe,Ne,Re,Le,Be,Ue,qe,He,Ge,Ye,{name:"timeline"},Xe,Ze,{name:"card"},{name:"chip"},nn,on,{name:"checkbox"},{name:"radio"},sn,cn,hn,dn,{name:"grid"},vn,mn,bn,wn,En,kn,Sn,Mn,Pn,Nn,Ar,Ir,Dr,jr,Fr,{name:"typography"}]);e.a=bt},jE0U:function(t,e,n){"use strict";(function(r){Object.defineProperty(e,"__esModule",{value:!0});var i,o,a=n("Pxmi"),s=n("fjI4"),u=n("TToO"),c=(i=n("O4tu"))&&"object"==typeof i&&"default"in i?i.default:i,l=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),a.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:a.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),h=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return a.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),f=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new l(e)}}catch(t){}return new h},d=f("localStorage"),p=f("sessionStorage"),v=new s.Logger("@firebase/database"),g=(o=1,function(){return o++}),m=function(t){var e=a.stringToByteArray(t),n=new a.Sha1;n.update(e);var r=n.digest();return a.base64.encodeByteArray(r)},y=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++)Array.isArray(t[r])||t[r]&&"object"==typeof t[r]&&"number"==typeof t[r].length?n+=y.apply(null,t[r]):"object"==typeof t[r]?n+=a.stringify(t[r]):n+=t[r],n+=" ";return n},b=null,_=!0,w=function(t,e){a.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(v.logLevel=s.LogLevel.VERBOSE,b=v.log.bind(v),e&&p.set("logging_enabled",!0)):"function"==typeof t?b=t:(b=null,p.remove("logging_enabled"))},x=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===_&&(_=!1,null===b&&!0===p.get("logging_enabled")&&w(!0)),b){var n=y.apply(null,t);b(n)}},E=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];x.apply(void 0,[t].concat(e))}},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,t);v.error(n)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,t);throw v.error(n),new Error(n)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+y.apply(void 0,t);v.warn(n)},S=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},O="[MIN_NAME]",M="[MAX_NAME]",A=function(t,e){if(t===e)return 0;if(t===O||e===M)return-1;if(e===O||t===M)return 1;var n=F(t),r=F(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},P=function(t,e){return t===e?0:t<e?-1:1},I=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+a.stringify(e))},N=function(t){if("object"!=typeof t||null===t)return a.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=a.stringify(e[i]),r+=":",r+=N(t[e[i]]);return r+="}"},D=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r},R=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;++n)e(n,t[n]);else a.forEach(t,function(t,n){return e(n,t)})},j=function(t){a.assert(!S(t),"Invalid JSON number");var e,n,r,i,o,s,u;for(0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074)))),s=[],o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse(),u=s.join("");var c="";for(o=0;o<64;o+=8){var l=parseInt(u.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},L=new RegExp("^-?\\d{1,10}$"),F=function(t){if(L.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},B=function(t){try{t()}catch(t){setTimeout(function(){var e=t.stack||"";throw T("Exception was thrown by user callback.",e),t},Math.floor(0))}},$=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},U=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},z=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=A(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),q=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=a.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=a.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=a.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),V="long_polling",H=function(){function t(t,e,n,r,i){void 0===i&&(i=""),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=d.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&d.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(a.assert("string"==typeof t,"typeof type must == string"),a.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==V)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return a.forEach(e,function(t,e){r.push(t+"="+e)}),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}();var W,G,K,Y,Q,X=function(t){var e=J(t),n=e.subdomain;"firebase"===e.domain&&k(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||k("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&T("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var r="ws"===e.scheme||"wss"===e.scheme;return{repoInfo:new H(e.host,e.secure,n,r),path:new z(e.pathString)}},J=function(t){var e="",n="",r="",i="",o=!0,a="https",s=443;if("string"==typeof t){var u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));var c=t.indexOf("/");-1===c&&(c=t.length);var l=t.indexOf("?");-1===l&&(l=t.length),e=t.substring(0,Math.min(c,l)),c<l&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(c,l)));var h=function(t){var e={};"?"===t.charAt(0)&&(t=t.substring(1));for(var n=0,r=t.split("&");n<r.length;n++){var i=r[n];if(0!==i.length){var o=i.split("=");2===o.length?e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):T("Invalid query segment '"+i+"' in query '"+t+"'")}}return e}(t.substring(Math.min(t.length,l)));(u=e.indexOf(":"))>=0?(o="https"===a||"wss"===a,s=parseInt(e.substring(u+1),10)):u=t.length;var f=e.split(".");3===f.length?(n=f[1],r=f[0].toLowerCase()):2===f.length?n=f[0]:"localhost"===f[0].slice(0,u).toLowerCase()&&(n="localhost"),""===r&&"ns"in h&&(r=h.ns)}return{host:e,port:s,domain:n,subdomain:r,secure:o,scheme:a,pathString:i}},Z=/[\[\].#$\/\u0000-\u001F\u007F]/,tt=/[\[\].#$\u0000-\u001F\u007F]/,et=function(t){return"string"==typeof t&&0!==t.length&&!Z.test(t)},nt=function(t){return"string"==typeof t&&0!==t.length&&!tt.test(t)},rt=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!S(t)||t&&"object"==typeof t&&a.contains(t,".sv")},it=function(t,e,n,r,i){i&&void 0===n||ot(a.errorPrefix(t,e,i),n,r)},ot=function(t,e,n){var r=n instanceof z?new q(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(S(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&a.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(a.forEach(e,function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!et(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),ot(t,n,r),r.pop()}),i&&o)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},at=function(t,e,n,r,i){if(!i||void 0!==n){var o=a.errorPrefix(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var s=[];a.forEach(n,function(t,e){var n=new z(t);if(ot(o,e,r.child(n)),".priority"===n.getBack()&&!rt(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!et(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(z.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,s)}},st=function(t,e,n,r){if(!r||void 0!==n){if(S(n))throw new Error(a.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!rt(n))throw new Error(a.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ut=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(a.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ct=function(t,e,n,r){if(!(r&&void 0===n||et(n)))throw new Error(a.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},lt=function(t,e,n,r){if(!(r&&void 0===n||nt(n)))throw new Error(a.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ht=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},ft=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!et(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),nt(t)}(r))throw new Error(a.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},dt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){a.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),a.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){a.validateArgCount("OnDisconnect.remove",0,1,arguments.length),ht("OnDisconnect.remove",this.path_),a.validateCallback("OnDisconnect.remove",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){a.validateArgCount("OnDisconnect.set",1,2,arguments.length),ht("OnDisconnect.set",this.path_),it("OnDisconnect.set",1,t,this.path_,!1),a.validateCallback("OnDisconnect.set",2,e,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){a.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),ht("OnDisconnect.setWithPriority",this.path_),it("OnDisconnect.setWithPriority",1,t,this.path_,!1),st("OnDisconnect.setWithPriority",2,e,!1),a.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(a.validateArgCount("OnDisconnect.update",1,2,arguments.length),ht("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,T("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}at("OnDisconnect.update",1,t,this.path_,!1),a.validateCallback("OnDisconnect.update",2,e,!0);var i=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),pt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return a.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),vt=(W="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",G=0,K=[],function(t){var e,n=t===G;G=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=W.charAt(t%64),t=Math.floor(t/64);a.assert(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===K[e];e--)K[e]=0;K[e]++}else for(e=0;e<12;e++)K[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=W.charAt(K[e]);return a.assert(20===i.length,"nextPushId: Length should be 20."),i}),gt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),mt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new gt(O,t),r=new gt(O,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return gt.MIN},t}(),yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Y},set:function(t){Y=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return A(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw a.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return gt.MIN},e.prototype.maxPost=function(){return new gt(M,Y)},e.prototype.makePost=function(t,e){return a.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new gt(t,Y)},e.prototype.toString=function(){return".key"},e}(mt),bt=new yt;var _t,wt,xt,Et=function(t){return"number"==typeof t?"number:"+j(t):"string:"+t},Ct=function(t){if(t.isLeafNode()){var e=t.val();a.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&a.contains(e,".sv"),"Priority must be a string or number.")}else a.assert(t===Q||t.isEmpty(),"priority of unexpected type.");a.assert(t===Q||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},kt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,a.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ct(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return _t},set:function(t){_t=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(a.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Et(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?j(this.value_):this.value_,this.lazyHash_=m(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(a.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return a.assert(i>=0,"Unknown leaf type: "+n),a.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var Tt,St,Ot=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?A(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return gt.MIN},e.prototype.maxPost=function(){return new gt(M,new kt("[PRIORITY-POST]",xt))},e.prototype.makePost=function(t,e){var n=wt(t);return new gt(e,new kt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(mt)),Mt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),At=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:It.EMPTY_NODE,this.right=null!=o?o:It.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r,i;return(i=(r=n(t,(i=this).key))<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return It.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return It.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Pt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new At(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),It=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,At.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,At.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Mt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Mt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Mt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Mt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Pt,t}(),Nt=Math.log(2),Dt=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Nt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Rt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,s=r-e;if(0==s)return null;if(1==s)return o=t[e],a=n?n(o):o,new At(a,o.node,At.BLACK,null,null);var u=parseInt(s/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],a=n?n(o):o,new At(a,o.node,At.BLACK,c,l)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],h=n?n(l):l;u(new At(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,At.BLACK):(s(h,At.BLACK),s(h,At.RED))}return o}(new Dt(t.length));return new It(r||e,o)},jt={},Lt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return a.assert(jt&&Ot,"ChildrenNode.ts has not been loaded"),Tt=Tt||new t({".priority":jt},{".priority":Ot})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=a.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===jt?null:e},t.prototype.hasIndex=function(t){return a.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){a.assert(e!==bt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,s=n.getIterator(gt.Wrap),u=s.getNext();u;)o=o||e.isDefinedOn(u.node),i.push(u),u=s.getNext();r=o?Rt(i,e.getCompare()):jt;var c=e.toString(),l=a.clone(this.indexSet_);l[c]=e;var h=a.clone(this.indexes_);return h[c]=r,new t(h,l)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(a.map(this.indexes_,function(t,i){var o=a.safeGet(r.indexSet_,i);if(a.assert(o,"Missing index implementation for "+i),t===jt){if(o.isDefinedOn(e.node)){for(var s=[],u=n.getIterator(gt.Wrap),c=u.getNext();c;)c.name!=e.name&&s.push(c),c=u.getNext();return s.push(e),Rt(s,o.getCompare())}return jt}var l=n.get(e.name),h=t;return l&&(h=h.remove(new gt(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(a.map(this.indexes_,function(t){if(t===jt)return t;var r=n.get(e.name);return r?t.remove(new gt(e.name,r)):t}),this.indexSet_)},t}();function Ft(t,e){return A(t.name,e.name)}function Bt(t,e){return A(t,e)}var $t=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ct(this.priorityNode_),this.children_.isEmpty()&&a.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return St||(St=new t(new It(Bt),null,Lt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||St},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?St:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(a.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new gt(e,n),i=void 0,o=void 0;return n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_)),new t(i,i.isEmpty()?St:this.priorityNode_,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;a.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ot,function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Et(this.getPriority().val())+":"),this.forEachChild(Ot,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":m(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new gt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new gt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new gt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,gt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,gt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ut?-1:0},t.prototype.withIndex=function(e){if(e===bt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===bt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Ot),r=e.getIterator(Ot),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===bt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Ut=new(function(t){function e(){return t.call(this,new It(Bt),$t.EMPTY_NODE,Lt.Default)||this}return u.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return $t.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}($t));Object.defineProperties(gt,{MIN:{value:new gt(O,$t.EMPTY_NODE)},MAX:{value:new gt(M,Ut)}}),yt.__EMPTY_NODE=$t.EMPTY_NODE,kt.__childrenNodeConstructor=$t,Q=Ut,function(t){xt=t}(Ut);var zt=!0;function qt(t,e){if(void 0===e&&(e=null),null===t)return $t.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),a.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new kt(t,qt(e));if(t instanceof Array||!zt){var n=$t.EMPTY_NODE,r=t;return a.forEach(r,function(t,e){if(a.contains(r,t)&&"."!==t.substring(0,1)){var i=qt(e);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}}),n.updatePriority(qt(e))}var i=[],o=!1,s=t;if(a.forEach(s,function(t,e){if("string"!=typeof t||"."!==t.substring(0,1)){var n=qt(s[t]);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),i.push(new gt(t,n)))}}),0==i.length)return $t.EMPTY_NODE;var u=Rt(i,Ft,function(t){return t.name},Bt);if(o){var c=Rt(i,Ot.getCompare());return new $t(u,qt(e),new Lt({".priority":c},{".priority":Ot}))}return new $t(u,qt(e),Lt.Default)}!function(t){wt=t}(qt);var Vt,Ht,Wt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?A(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return gt.MIN},e.prototype.maxPost=function(){return gt.MAX},e.prototype.makePost=function(t,e){var n=qt(t);return new gt(e,n)},e.prototype.toString=function(){return".value"},e}(mt)),Gt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,a.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return u.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?A(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=qt(t),r=$t.EMPTY_NODE.updateChild(this.indexPath_,n);return new gt(e,r)},e.prototype.maxPost=function(){var t=$t.EMPTY_NODE.updateChild(this.indexPath_,Ut);return new gt(M,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(mt),Kt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return a.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return a.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return a.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return a.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){a.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),lt("DataSnapshot.child",1,e,!1);var n=new z(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Ot)},t.prototype.hasChild=function(t){a.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),lt("DataSnapshot.hasChild",1,t,!1);var e=new z(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return a.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;return a.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),a.validateCallback("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,i){return e(new t(i,n.ref_.child(r),Ot))})},t.prototype.hasChildren=function(){return a.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return a.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return a.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Yt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+a.stringify(this.snapshot.exportVal())},t}(),Qt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Xt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Yt("value",this,new Kt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Qt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Jt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,a.contains(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Qt(this,t,e):null},t.prototype.createEvent=function(t,e){a.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Yt(t.type,this,new Kt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var n=a.getCount(e.callbacks_);if(n===a.getCount(this.callbacks_)){if(1===n){var r=a.getAnyKey(e.callbacks_),i=a.getAnyKey(this.callbacks_);return!(i!==r||e.callbacks_[r]&&this.callbacks_[i]&&e.callbacks_[r]!==this.callbacks_[i])}return a.every(this.callbacks_,function(t,n){return e.callbacks_[t]===n})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Zt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return a.assert(Vt,"Reference.ts has not been loaded"),Vt},set:function(t){Vt=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===bt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=O)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!=M)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Ot){if(null!=e&&!rt(e)||null!=n&&!rt(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(a.assert(t.getIndex()instanceof Gt||t.getIndex()===Wt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return a.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){a.validateArgCount("Query.on",2,4,arguments.length),ut("Query.on",1,e,!1),a.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var s={};s[e]=n,this.onChildEvent(s,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Xt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Jt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){a.validateArgCount("Query.off",0,3,arguments.length),ut("Query.off",1,t,!0),a.validateCallback("Query.off",2,e,!0),a.validateContextObject("Query.off",3,n,!0);var r=null,i=null;"value"===t?r=new Xt(e||null,null,n||null):t&&(e&&((i={})[t]=e),r=new Jt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;a.validateArgCount("Query.once",1,4,arguments.length),ut("Query.once",1,e,!1),a.validateCallback("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new a.Deferred;c.promise.catch(function(){});var l=function(t){u&&(u=!1,o.off(e,l),n&&n.bind(s.context)(t),c.resolve(t))};return this.on(e,l,function(t){o.off(e,l),s.cancel&&s.cancel.bind(s.context)(t),c.reject(t)}),c.promise},t.prototype.limitToFirst=function(e){if(a.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(a.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(a.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');lt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new z(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Gt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){a.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(bt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){a.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Ot);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){a.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Wt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),a.validateArgCount("Query.startAt",0,2,arguments.length),it("Query.startAt",1,e,this.path,!0),ct("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),a.validateArgCount("Query.endAt",0,2,arguments.length),it("Query.endAt",1,e,this.path,!0),ct("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(a.validateArgCount("Query.equalTo",1,2,arguments.length),it("Query.equalTo",1,t,this.path,!1),ct("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return a.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return a.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=N(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(a.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}var n=this.repo===e.repo,r=this.path.equals(e.path),i=this.queryIdentifier()===e.queryIdentifier();return n&&r&&i},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,a.validateCallback(t,3,r.cancel,!0),r.context=n,a.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(a.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),te=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return a.contains(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return a.isEmpty(this.set)},t.prototype.count=function(){return a.getCount(this.set)},t.prototype.each=function(t){a.forEach(this.set,function(e,n){return t(e,n)})},t.prototype.keys=function(){var t=[];return a.forEach(this.set,function(e){t.push(e)}),t},t}(),ee=function(){function t(){this.value_=null,this.children_=null}return t.prototype.find=function(t){if(null!=this.value_)return this.value_.getChild(t);if(t.isEmpty()||null==this.children_)return null;var e=t.getFront();return t=t.popFront(),this.children_.contains(e)?this.children_.get(e).find(t):null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,n);else{null==this.children_&&(this.children_=new te);var r=e.getFront();this.children_.contains(r)||this.children_.add(r,new t);var i=this.children_.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var e=this.value_;this.value_=null;var n=this;return e.forEachChild(Ot,function(t,e){n.remember(new z(t),e)}),this.forget(t)}if(null!==this.children_){var r=t.getFront();if(t=t.popFront(),this.children_.contains(r))this.children_.get(r).forget(t)&&this.children_.remove(r);return!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},t.prototype.forEachTree=function(t,e){null!==this.value_?e(t,this.value_):this.forEachChild(function(n,r){var i=new z(t.toString()+"/"+n);r.forEachTree(i,e)})},t.prototype.forEachChild=function(t){null!==this.children_&&this.children_.each(function(e,n){t(e,n)})},t}(),ne=function(t,e){return t&&"object"==typeof t?(a.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},re=function(t,e){var n,r=t.getPriority().val(),i=ne(r,e);if(t.isLeafNode()){var o=t,a=ne(o.getValue(),e);return a!==o.getValue()||i!==o.getPriority().val()?new kt(a,qt(i)):t}var s=t;return n=s,i!==s.getPriority().val()&&(n=n.updatePriority(new kt(i))),s.forEachChild(Ot,function(t,r){var i=re(r,e);i!==r&&(n=n.updateImmediateChild(t,i))}),n};!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ht||(Ht={}));var ie,oe,ae=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,a.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),se=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Ht.ACK_USER_WRITE,this.source=ae.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return a.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new z(e));return new t(z.Empty,n,this.revert)}return a.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),ue=function(){return ie||(ie=new It(P)),ie},ce=function(){function t(t,e){void 0===e&&(e=ue()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return a.forEach(e,function(t,e){n=n.set(new z(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:z.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new z(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=(this.children.get(r)||t.Empty).setTree(e.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(z.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,z.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,z.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(z.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),le=function(){function t(t,e){this.source=t,this.path=e,this.type=Ht.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,z.Empty):new t(this.source,this.path.popFront())},t}(),he=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Ht.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,z.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),fe=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Ht.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new z(e));return n.isEmpty()?null:n.value?new he(this.source,z.Empty,n.value):new t(this.source,z.Empty,n)}return a.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),de=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),pe=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new de(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new de(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new de($t.EMPTY_NODE,!1,!1),new de($t.EMPTY_NODE,!1,!1)),t}(),ve=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),ge=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){a.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()==n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(ve.childRemovedChange(e,s)):a.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(ve.childAddedChange(e,n)):o.trackChildChange(ve.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Ot,function(t,r){e.hasChild(t)||n.trackChildChange(ve.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(Ot,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ve.childChangedChange(e,r,i))}else n.trackChildChange(ve.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?$t.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),me=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;a.assert(e==ve.CHILD_ADDED||e==ve.CHILD_CHANGED||e==ve.CHILD_REMOVED,"Only child changes supported for tracking"),a.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=a.safeGet(this.changeMap_,n);if(r){var i=r.type;if(e==ve.CHILD_ADDED&&i==ve.CHILD_REMOVED)this.changeMap_[n]=ve.childChangedChange(n,t.snapshotNode,r.snapshotNode);else if(e==ve.CHILD_REMOVED&&i==ve.CHILD_ADDED)delete this.changeMap_[n];else if(e==ve.CHILD_REMOVED&&i==ve.CHILD_CHANGED)this.changeMap_[n]=ve.childRemovedChange(n,r.oldSnap);else if(e==ve.CHILD_CHANGED&&i==ve.CHILD_ADDED)this.changeMap_[n]=ve.childAddedChange(n,t.snapshotNode);else{if(e!=ve.CHILD_CHANGED||i!=ve.CHILD_CHANGED)throw a.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap_[n]=ve.childChangedChange(n,t.snapshotNode,r.oldSnap)}}else this.changeMap_[n]=t},t.prototype.getChanges=function(){return a.getValues(this.changeMap_)},t}(),ye=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),be=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new de(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),_e=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),we=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){a.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),a.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,s,u=new me;if(n.type===Ht.OVERWRITE){var c=n;c.source.fromUser?o=this.applyUserOverwrite_(e,c.path,c.snap,r,i,u):(a.assert(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.getServerCache().isFiltered()&&!c.path.isEmpty(),o=this.applyServerOverwrite_(e,c.path,c.snap,r,i,s,u))}else if(n.type===Ht.MERGE){var l=n;l.source.fromUser?o=this.applyUserMerge_(e,l.path,l.children,r,i,u):(a.assert(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,l.path,l.children,r,i,s,u))}else if(n.type===Ht.ACK_USER_WRITE){var h=n;o=h.revert?this.revertUserWrite_(e,h.path,r,i,u):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Ht.LISTEN_COMPLETE)throw a.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,u)}var f=u.getChanges();return t.maybeAddValueEvent_(e,o,f),new _e(o,f)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ve.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,u=void 0;if(e.isEmpty())if(a.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var c=t.getCompleteServerSnap(),l=c instanceof $t?c:$t.EMPTY_NODE,h=n.calcCompleteEventChildren(l);s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),f,i)}else{var d=e.getFront();if(".priority"==d){a.assert(1==e.getLength(),"Can't have a priority with additional path components");var p=o.getNode();u=t.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(e,p,u);s=null!=v?this.filter_.updatePriority(p,v):o.getNode()}else{var g=e.popFront(),m=void 0;if(o.isCompleteForChild(d)){u=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),u);m=null!=y?o.getNode().getImmediateChild(d).updateChild(g,y):o.getNode().getImmediateChild(d)}else m=n.calcCompleteChild(d,t.getServerCache());s=null!=m?this.filter_.updateChild(o.getNode(),d,m,g,r,i):o.getNode()}}return t.updateEventSnap(s,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),d=u.getNode().getImmediateChild(h).updateChild(f,n);s=".priority"==h?c.updatePriority(u.getNode(),d):c.updateChild(u.getNode(),h,d,f,ye,null)}var p=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),v=new be(r,p,i);return this.generateEventCacheAfterServerEvent_(p,e,r,v,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),c=new be(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(l),d=void 0;if(h.isEmpty())d=n;else{var p=c.getCompleteChild(l);d=null!=p?".priority"===h.getBack()&&p.getChild(h.parent()).isEmpty()?p:p.updateChild(h,n):$t.EMPTY_NODE}if(f.equals(d))a=t;else{var v=this.filter_.updateChild(u.getNode(),l,d,h,c,o);a=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach(function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))}),r.foreach(function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,i,o,a))}),u},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:ce.Empty.setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal(function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new z(e),h,r,i,o,a)}}),u.children.inorderTraversal(function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new z(e),f,r,i,o,a)}}),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=ce.Empty;return s.getNode().forEachChild(bt,function(t,e){u=u.set(new z(t),e)}),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var c=ce.Empty;return n.foreach(function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(c=c.set(t,s.getNode().getChild(r)))}),this.applyServerMerge_(t,e,c,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,ye,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var s=new be(n,t,r),u=t.getEventCache().getNode(),c=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();a.assert(h instanceof $t,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}l=l,c=this.filter_.updateFullNode(u,l,i)}else{var f=e.getFront(),d=n.calcCompleteChild(f,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(f)&&(d=u.getImmediateChild(f)),(c=null!=d?this.filter_.updateChild(u,f,d,e.popFront(),s,i):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,$t.EMPTY_NODE,e.popFront(),s,i):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(z.Empty),t.updateEventSnap(c,o,this.filter_.filtersNodes())},t}(),xe=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach(function(t){t.type===ve.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(ve.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(i,ve.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,ve.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,ve.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,ve.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,ve.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter(function(t){return t.type===e});a.sort(this.compareChanges_.bind(this)),a.forEach(function(e){var n=o.materializeSingleChange_(e,i);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw a.assertionError("Should only compare child_ events.");var n=new gt(t.childName,t.snapshotNode),r=new gt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Ee=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new ge(n.getIndex()),i=n.getNodeFilter();this.processor_=new we(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode($t.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode($t.EMPTY_NODE,a.getNode(),null),c=new de(s,o.isFullyInitialized(),r.filtersNodes()),l=new de(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new pe(l,c),this.eventGenerator_=new xe(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){a.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){e=e;var i=t.createCancelEvent(e,r);i&&n.push(i)})}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===Ht.MERGE&&null!==t.source.queryId&&(a.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),a.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),a.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];e.getNode().isLeafNode()||e.getNode().forEachChild(Ot,function(t,e){n.push(ve.childAddedChange(t,e))});return e.isFullyInitialized()&&n.push(ve.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),Ce=function(){function t(){this.views_={}}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return a.assert(oe,"Reference.ts has not been loaded"),oe},set:function(t){a.assert(!oe,"__referenceConstructor has already been defined"),oe=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return a.isEmpty(this.views_)},t.prototype.applyOperation=function(t,e,n){var r=t.source.queryId;if(null!==r){var i=a.safeGet(this.views_,r);return a.assert(null!=i,"SyncTree gave us an op for an invalid query."),i.applyOperation(t,e,n)}var o=[];return a.forEach(this.views_,function(r,i){o=o.concat(i.applyOperation(t,e,n))}),o},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),s=a.safeGet(this.views_,o);if(!s){var u=n.calcCompleteEventCache(i?r:null),c=!1;u?c=!0:r instanceof $t?(u=n.calcCompleteEventChildren(r),c=!1):(u=$t.EMPTY_NODE,c=!1);var l=new pe(new de(u,c,!1),new de(r,i,!1));s=new Ee(t,l),this.views_[o]=s}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i=e.queryIdentifier(),o=[],s=[],u=this.hasCompleteView();if("default"===i){var c=this;a.forEach(this.views_,function(t,e){s=s.concat(e.removeEventRegistration(n,r)),e.isEmpty()&&(delete c.views_[t],e.getQuery().getQueryParams().loadsAllData()||o.push(e.getQuery()))})}else{var l=a.safeGet(this.views_,i);l&&(s=s.concat(l.removeEventRegistration(n,r)),l.isEmpty()&&(delete this.views_[i],l.getQuery().getQueryParams().loadsAllData()||o.push(l.getQuery())))}return u&&!this.hasCompleteView()&&o.push(new t.__referenceConstructor(e.repo,e.path)),{removed:o,events:s}},t.prototype.getQueryViews=function(){var t=this;return Object.keys(this.views_).map(function(e){return t.views_[e]}).filter(function(t){return!t.getQuery().getQueryParams().loadsAllData()})},t.prototype.getCompleteServerCache=function(t){var e=null;return a.forEach(this.views_,function(n,r){e=e||r.getCompleteServerCache(t)}),e},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return a.safeGet(this.views_,e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){return a.findValue(this.views_,function(t){return t.getQuery().getQueryParams().loadsAllData()})||null},t}(),ke=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new ce(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=z.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new ce(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return a.forEach(e,function(e,r){n=n.addWrite(t.child(e),r)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,ce.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(z.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ot,function(e,n){t.push(new gt(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new gt(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new ce(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return t.applySubtreeWrite_(z.Empty,this.writeTree_,e)},t.Empty=new t(new ce(null)),t.applySubtreeWrite_=function(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal(function(n,o){".priority"===n?(a.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t.applySubtreeWrite_(e.child(n),o,r)}),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r},t}(),Te=function(){function t(){this.visibleWrites_=ke.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Se(t,this)},t.prototype.addOverwrite=function(t,e,n,r){a.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){a.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});a.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,s=this.allWrites_.length-1;i&&s>=0;){var u=this.allWrites_[s];u.visible&&(s>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(o=!0)),s--}if(i){if(o)return this.resetTree_(),!0;if(r.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(r.path);else{var c=r.children;a.forEach(c,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})}return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(z.Empty)){var a=t.layerTree_(this.allWrites_,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},e);c=n||$t.EMPTY_NODE;return a.apply(c)}return null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var u=this.visibleWrites_.childCompoundWrite(e);if(u.isEmpty())return n;if(null!=n||u.hasCompleteWrite(z.Empty)){var c=n||$t.EMPTY_NODE;return u.apply(c)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=$t.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Ot,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Ot,function(t,e){var r=i.childCompoundWrite(new z(t)).apply(e);n=n.updateImmediateChild(t,r)}),i.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){a.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(z.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){return t.snap?t.path.contains(e):!!a.findKey(t.children,function(n,r){return t.path.child(r).contains(e)})},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,z.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=ke.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var s=o.path,u=void 0;if(o.snap)n.contains(s)?(u=z.relativePath(n,s),r=r.addWrite(u,o.snap)):s.contains(n)&&(u=z.relativePath(s,n),r=r.addWrite(z.Empty,o.snap.getChild(u)));else{if(!o.children)throw a.assertionError("WriteRecord should have .snap or .children");if(n.contains(s))u=z.relativePath(n,s),r=r.addWrites(u,o.children);else if(s.contains(n))if((u=z.relativePath(s,n)).isEmpty())r=r.addWrites(z.Empty,o.children);else{var c=a.safeGet(o.children,u.getFront());if(c){var l=c.getChild(u.popFront());r=r.addWrite(z.Empty,l)}}}}}return r},t}(),Se=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Oe=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=ce.Empty,this.pendingWriteTree_=new Te,this.tagToQueryMap_={},this.queryToTagMap_={}}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new he(ae.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=ce.fromObject(e);return this.applyOperationToSyncPoints_(new fe(ae.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=ce.Empty;return null!=n.snap?r=r.set(z.Empty,!0):a.forEach(n.children,function(t,e){r=r.set(new z(t),e)}),this.applyOperationToSyncPoints_(new se(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new he(ae.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=ce.fromObject(e);return this.applyOperationToSyncPoints_(new fe(ae.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new le(ae.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=z.relativePath(a,e),c=new he(ae.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=z.relativePath(a,e),c=ce.fromObject(n),l=new fe(ae.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=z.relativePath(o,e),u=new le(ae.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,function(t,e){var n=z.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()});var s,u=this.syncPointTree_.get(r);(u?(o=o||u.hasCompleteView(),i=i||u.getCompleteServerCache(z.Empty)):(u=new Ce,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=$t.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=e.getCompleteServerCache(z.Empty);n&&(i=i.updateImmediateChild(t,n))}));var c=u.viewExistsForQuery(e);if(!c&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);a.assert(!(l in this.queryToTagMap_),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap_[l]=h,this.tagToQueryMap_["_"+h]=l}var f=this.pendingWriteTree_.childWrites(r),d=u.addEventRegistration(e,n,f,i,s);if(!c&&!o){var p=u.viewForQuery(e);d=d.concat(this.setupListener_(e,p))}return d},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex(function(t){return t.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(t,e){return e.hasCompleteView()});if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(f),p=0;p<d.length;++p){var v=d[p],g=v.getQuery(),m=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),m.hashFn,m.onComplete)}}if(!h&&c.length>0&&!r)if(l){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else c.forEach(function(e){var n=i.queryToTagMap_[t.makeQueryKey_(e)];i.listenProvider_.stopListening(t.queryForListening_(e),n)});this.removeTags_(c)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,function(e,n){var r=z.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),a.forEach(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap_[i];delete this.queryToTagMap_[i],delete this.tagToQueryMap_["_"+o]}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),u=this.syncPointTree_.subtree(r);if(i)a.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),a.forEach(n,function(t,e){r=r.concat(e)}),r}),l=0;l<c.length;++l){var h=c[l];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||$t.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return a.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new z(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return a.safeGet(this.queryToTagMap_,n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);a.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(z.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(z.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(z.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(z.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(z.Empty));var a=[];return e.children.inorderTraversal(function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))}),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),Me=function(){function t(){this.rootNode_=$t.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Ae=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(x("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',T(t)},t}(),Pe=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),a.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return a.deepCopy(this.counters_)},t}(),Ie=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Pe),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Ne=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=a.clone(t);return this.last_&&a.forEach(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),De=1e4,Re=3e4,je=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ne(t);var n=De+(Re-De)*Math.random();U(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;a.forEach(e,function(e,i){i>0&&a.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),U(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Le=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Fe(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Fe=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();b&&x("event: "+e.toString()),B(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Be=function(){function t(t){this.allowedEvents_=t,this.listeners_={},a.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=this.listeners_[t].slice(),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){a.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),$e=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return u.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return a.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Be),Ue=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||a.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return u.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return a.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Be),ze=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&B(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},t}(),qe="pLPCommand",Ve="pRTLPCB",He=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(t),this.stats_=Ie.getCollection(e),this.urlFn=function(t){return e.connectionURL(V,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new ze(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(a.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new We(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],i=t[1],o=t[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==r)n.id=i,n.password=o;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],i=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,i)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),!a.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI)&&!a.isNodeSdk()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=a.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=a.base64Encode(e),r=D(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!a.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=a.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),We=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new te,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,a.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window[qe+this.uniqueCallbackIdentifier]=e,window[Ve+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))o='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(t){x("frame writing exception"),t.stack&&x(t.stack),x(t)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||x("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0))),a.isNodeSdk()&&this.myID){var n={disconn:"t"};n.id=this.myID,n.pw=this.myPW;var r=this.urlFn(n);t.nodeRestRequest(r)}var i=this.onDisconnect;i&&(this.onDisconnect=null,i())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e,1);var r=function(){n.outstandingRequests.remove(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;a.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){x("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}},Math.floor(1))},t}(),Ge=null;"undefined"!=typeof MozWebSocket?Ge=MozWebSocket:"undefined"!=typeof WebSocket&&(Ge=WebSocket);var Ke=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=Ie.getCollection(n),this.connURL=t.connectionURL_(n,r,i)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!a.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if(a.isNodeSdk()){var i=a.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/5/"+c.SDK_VERSION+"/"+r.platform+"/"+i}},s=Object({NODE_ENV:"production"}),u=0==this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;u&&(o.proxy={origin:u}),this.mySock=new Ge(this.connURL,[],o)}else this.mySock=new Ge(this.connURL)}catch(t){this.log_("Error instantiating WebSocket.");var l=t.message||t.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ge&&!t.forceDisallow_},t.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=a.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(a.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=a.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=D(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ye=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[He,Ke]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n=Ke&&Ke.isAvailable(),r=n&&!Ke.previouslyFailed();if(e.webSocketOnly&&(n||T("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ke];else{var i=this.transports_=[];R(t.ALL_TRANSPORTS,function(t,e){e&&e.isAvailable()&&i.push(e)})}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Qe=function(){function t(t,e,n,r,i,o,a){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new Ye(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=U(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=I("t",t),n=I("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=I("t",t),n=I("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=I("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?C("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&T("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),U(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):U(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Xe=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Je=1e3,Ze=3e5,tn=function(t){function e(n,r,i,o,s,u){var c=t.call(this)||this;if(c.repoInfo_=n,c.onDataUpdate_=r,c.onConnectStatus_=i,c.onServerInfoUpdate_=o,c.authTokenProvider_=s,c.authOverride_=u,c.id=e.nextPersistentConnectionId_++,c.log_=E("p:"+c.id+":"),c.interruptReasons_={},c.listens_={},c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=Je,c.maxReconnectDelay_=Ze,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!a.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),$e.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&Ue.getInstance().on("online",c.onOnline_,c),c}return u.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(a.stringify(i)),a.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens_[o]=this.listens_[o]||{},a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),a.assert(!this.listens_[o][i],"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens_[o][i]=s,this.connected_&&this.sendListen_(s)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens_[i]&&n.listens_[i][o])===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&a.contains(t,"w")){var n=a.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();T("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||a.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=a.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+a.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):C("Unrecognized action received from server: "+a.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;a.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Je,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Je,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Je),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())};this.realtime_={close:l,sendRequest:function(t){a.assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then(function(e){u?x("getToken() completed but was canceled"):(x("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,c=new Qe(i,o.repoInfo_,t,n,r,function(t){T(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},s))}).then(null,function(t){o.log_("Failed to get token: "+t),u||(a.CONSTANTS.NODE_ADMIN&&T(t),l())})}},e.prototype.interrupt=function(t){x("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){x("Resuming connection for reason: "+t),delete this.interruptReasons_[t],a.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=Je,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return N(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new z(t).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][e],delete this.listens_[r][e],0===a.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},e.prototype.onAuthRevoked_=function(t,e){x("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t=this;this.tryAuth(),a.forEach(this.listens_,function(e,n){a.forEach(n,function(e,n){t.sendListen_(n)})});for(var e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";a.CONSTANTS.NODE_ADMIN?e="admin_node":a.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+c.SDK_VERSION.replace(/\./g,"-")]=1,a.isMobileCordova()?t["framework.cordova"]=1:a.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Ue.getInstance().currentlyOnline();return a.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Xe),en=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=E("p:rest:"),i.listens_={},i}return u.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(a.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",l,function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(s,n,!1,r),a.safeGet(o.listens_,u)===c)&&i(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var o=i&&i.accessToken;o&&(e.auth=o);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?"+a.querystring(e);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=a.jsonEval(u.responseText)}catch(t){T("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&T("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()})},e}(Xe),nn=function(){function t(t,e,n){var r=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Le,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ee,this.persistentConnection_=null;var i=new Ae(n);if(this.stats_=Ie.getCollection(t),e||$())this.server_=new en(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(void 0!==o&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{a.stringify(o)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new tn(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,o),this.server_=this.persistentConnection_}i.addTokenChangeListener(function(t){r.server_.refreshAuthToken(t)}),this.statsReporter_=Ie.getOrCreateReporter(t,function(){return new je(r.stats_,r.server_)}),this.transactions_init_(),this.infoData_=new Me,this.infoSyncTree_=new Oe({startListening:function(t,e,n,i){var o=[],a=r.infoData_.getNode(t.path);return a.isEmpty()||(o=r.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Oe({startListening:function(t,e,n,i){return r.server_.listen(t,n,e,function(e,n){var o=i(e,n);r.eventQueue_.raiseEventsForChangedPath(t.path,o)}),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new z(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new z(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var s=a.map(e,function(t){return qt(t)});o=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var u=qt(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var c=a.map(e,function(t){return qt(t)});o=this.serverSyncTree_.applyServerMerge(i,c)}else{var l=qt(e);o=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;o.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;R(t,function(t,n){e.updateInfo_(n,t)})},t.prototype.updateInfo_=function(t,e){var n=new z("/.info/"+t),r=qt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=qt(e,n),s=re(a,o),u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(t,s,u,!0);this.eventQueue_.queueEvents(c),this.server_.put(t.toString(),a.val(!0),function(e,n){var o="ok"===e;o||T("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)});var l=this.abortTransactions_(t);this.rerunTransactions_(l),this.eventQueue_.raiseEventsForChangedPath(l,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),s={};if(a.forEach(e,function(t,e){i=!1;var n=qt(e);s[t]=re(n,o)}),i)x("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserMerge(t,s,u);this.eventQueue_.queueEvents(c),this.server_.merge(t.toString(),e,function(e,i){var o="ok"===e;o||T("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(u,!o),s=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(s,a),r.callOnCompleteCallback(n,e,i)}),a.forEach(e,function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=[];(function(t,e){var n=new ee;return t.forEachTree(new z(""),function(t,r){n.remember(t,re(r,e))}),n})(this.onDisconnect_,e).forEachTree(z.Empty,function(e,r){n=n.concat(t.serverSyncTree_.applyServerOverwrite(e,r));var i=t.abortTransactions_(e);t.rerunTransactions_(i)}),this.onDisconnect_=new ee,this.eventQueue_.raiseEventsForChangedPath(z.Empty,n)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)})},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=qt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=qt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(a.isEmpty(e))return x("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(i,o){"ok"===i&&a.forEach(e,function(e,n){var i=qt(n);r.onDisconnect_.remember(t.child(e),i)}),r.callOnCompleteCallback(n,i,o)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Ne(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);a.forEach(e,function(t,e){for(var r=t.length;r<n+2;r++)t+=" ";console.log(t+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),x.apply(void 0,[n].concat(t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&B(function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new dn(this))},enumerable:!0,configurable:!0}),t}(),rn=function(){function t(e){this.indexedFilter_=new ge(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new gt(e,n))||(n=$t.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=$t.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority($t.EMPTY_NODE);var i=this;return e.forEachChild(Ot,function(t,e){i.matches(new gt(t,e))||(r=r.updateImmediateChild(t,$t.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),on=function(){function t(t){this.rangedFilter_=new rn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new gt(e,n))||(n=$t.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=$t.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=$t.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority($t.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,$t.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(t,e){return s(e,t)}}else o=this.index_.getCompare();var u=t;a.assert(u.numChildren()==this.limit_,"");var c=new gt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name==e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:o(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(ve.childChangedChange(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(ve.childRemovedChange(e,f));var v=u.updateImmediateChild(e,$t.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(ve.childAddedChange(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?t:h&&o(l,c)>=0?(null!=i&&(i.trackChildChange(ve.childRemovedChange(l.name,l.node)),i.trackChildChange(ve.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,$t.EMPTY_NODE)):t},t}(),an=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ot}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:O},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:M},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return a.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Ot&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Ot},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new ge(this.getIndex()):this.hasLimit()?new on(this):new rn(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===Ot?e=n.PRIORITY_INDEX:this.index_===Wt?e=n.VALUE_INDEX:this.index_===bt?e=n.KEY_INDEX:(a.assert(this.index_ instanceof Gt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=a.stringify(e),this.startSet_&&(r[n.START_AT]=a.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+a.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=a.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+a.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),sn=function(t){function e(e,n){if(!(e instanceof nn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,an.DEFAULT,!1)||this}return u.__extends(e,t),e.prototype.getKey=function(){return a.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return a.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof z||(null===this.path.getFront()?function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),lt(t,e,n,r)}("Reference.child",1,t,!1):lt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){a.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){a.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){a.validateArgCount("Reference.set",1,2,arguments.length),ht("Reference.set",this.path),it("Reference.set",1,t,this.path,!1),a.validateCallback("Reference.set",2,e,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(a.validateArgCount("Reference.update",1,2,arguments.length),ht("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,T("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}at("Reference.update",1,t,this.path,!1),a.validateCallback("Reference.update",2,e,!0);var i=new a.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(a.validateArgCount("Reference.setWithPriority",2,3,arguments.length),ht("Reference.setWithPriority",this.path),it("Reference.setWithPriority",1,t,this.path,!1),st("Reference.setWithPriority",2,e,!1),a.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new a.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return a.validateArgCount("Reference.remove",0,1,arguments.length),ht("Reference.remove",this.path),a.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(a.validateArgCount("Reference.transaction",1,3,arguments.length),ht("Reference.transaction",this.path),a.validateCallback("Reference.transaction",1,t,!1),a.validateCallback("Reference.transaction",2,e,!0),function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(a.errorPrefix(t,e,r)+"must be a boolean.")}("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new a.Deferred;"function"==typeof e&&r.promise.catch(function(){});return this.repo.startTransaction(this.path,t,function(t,n,i){t?r.reject(t):r.resolve(new pt(n,i)),"function"==typeof e&&e(t,n,i)},n),r.promise},e.prototype.setPriority=function(t,e){a.validateArgCount("Reference.setPriority",1,2,arguments.length),ht("Reference.setPriority",this.path),st("Reference.setPriority",1,t,!1),a.validateCallback("Reference.setPriority",2,e,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){a.validateArgCount("Reference.push",0,2,arguments.length),ht("Reference.push",this.path),it("Reference.push",1,t,this.path,!0),a.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=vt(r),o=this.child(i),s=this.child(i);return n=null!=t?o.set(t,e).then(function(){return s}):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),o},e.prototype.onDisconnect=function(){return ht("Reference.onDisconnect",this.path),new dt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(Zt);Zt.__referenceConstructor=sn,Ce.__referenceConstructor=sn;var un,cn=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),ln=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new cn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,r=e instanceof z?e:new z(e),i=this;null!==(n=r.getFront());){i=new t(n,i,a.safeGet(i.node_.children,n)||new cn),r=r.popFront()}return i},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){a.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;a.forEach(this.node_.children,function(r,i){e(new t(r,n,i))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new z(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=a.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(un||(un={})),nn.MAX_TRANSACTION_RETRIES_=25,nn.prototype.transactions_init_=function(){this.transactionQueueTree_=new ln},nn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new sn(this,t);o.on("value",i);var s={path:t,update:e,onComplete:n,status:null,order:g(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var l=new Kt(s.currentInputSnapshot,new sn(this,s.path),Ot);s.onComplete(null,!1,l)}}else{ot("transaction failed: Data returned ",c,s.path),s.status=un.RUN;var h=this.transactionQueueTree_.subTree(t),f=h.getValue()||[];f.push(s),h.setValue(f);var d=void 0;if("object"==typeof c&&null!==c&&a.contains(c,".priority"))d=a.safeGet(c,".priority"),a.assert(rt(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else d=(this.serverSyncTree_.calcCompleteEventCache(t)||$t.EMPTY_NODE).getPriority().val();d=d;var p=this.generateServerValues(),v=qt(c,d),m=re(v,p);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=m,s.currentWriteId=this.getNextWriteId_();var y=this.serverSyncTree_.applyUserOverwrite(t,m,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,y),this.sendReadyTransactions_()}},nn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||$t.EMPTY_NODE},nn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);a.assert(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return t.status===un.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},nn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map(function(t){return t.currentWriteId}),i=this.getLatestState_(t,r),o=i,s=i.hash(),u=0;u<e.length;u++){var c=e[u];a.assert(c.status===un.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=un.SENT,c.retryCount++;var l=z.relativePath(t,c.path);o=o.updateChild(l,c.currentOutputSnapshotRaw)}var h=o.val(!0),f=t;this.server_.put(f.toString(),h,function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=un.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new sn(n,e[a].path),c=new Kt(s,u,Ot);o.push(e[a].onComplete.bind(null,null,!0,c))}e[a].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i);for(a=0;a<o.length;a++)B(o[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status===un.SENT_NEEDS_ABORT?e[a].status=un.NEEDS_ABORT:e[a].status=un.RUN;else{T("transaction at "+f.toString()+" failed: "+r);for(a=0;a<e.length;a++)e[a].status=un.NEEDS_ABORT,e[a].abortReason=r}n.rerunTransactions_(t)}},s)},nn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},nn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,r=[],i=[],o=t.filter(function(t){return t.status===un.RUN}).map(function(t){return t.currentWriteId}),s=0;s<t.length;s++){var u=t[s],c=z.relativePath(e,u.path),l=!1,h=void 0;if(a.assert(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===un.NEEDS_ABORT)l=!0,h=u.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else if(u.status===un.RUN)if(u.retryCount>=nn.MAX_TRANSACTION_RETRIES_)l=!0,h="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else{var f=this.getLatestState_(u.path,o);u.currentInputSnapshot=f;var d=t[s].update(f.val());if(void 0!==d){ot("transaction failed: Data returned ",d,u.path);var p=qt(d);"object"==typeof d&&null!=d&&a.contains(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=u.currentWriteId,g=this.generateServerValues(),m=re(p,g);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=m,u.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(v),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(u.path,m,u.currentWriteId,u.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(v,!0))}else l=!0,h="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],l&&(t[s].status=un.COMPLETED,n=t[s].unwatcher,setTimeout(n,Math.floor(0)),t[s].onComplete))if("nodata"===h){var y=new sn(this,t[s].path),b=t[s].currentInputSnapshot,_=new Kt(b,y,Ot);r.push(t[s].onComplete.bind(null,null,!1,_))}else r.push(t[s].onComplete.bind(null,new Error(h),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(s=0;s<r.length;s++)B(r[s]);this.sendReadyTransactions_()}},nn.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},nn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},nn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},nn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==un.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},nn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},nn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)if(e[o].status===un.SENT_NEEDS_ABORT);else if(e[o].status===un.SENT)a.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=un.SENT_NEEDS_ABORT,e[o].abortReason="set";else if(a.assert(e[o].status===un.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete){n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(o=0;o<n.length;o++)B(n[o])}};var hn,fn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return hn||(hn=new t),hn},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options.databaseURL;void 0===n&&k("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=X(n),i=r.repoInfo;return ft("Invalid Firebase Database URL",1,r),r.path.isEmpty()||k("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(i,t).database},t.prototype.deleteRepo=function(t){var e=a.safeGet(this.repos_,t.app.name);e&&a.safeGet(e,t.repoInfo_.toURLString())===t||k("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=a.safeGet(this.repos_,e.name);n||(n={},this.repos_[e.name]=n);var r=a.safeGet(n,t.toURLString());return r&&k("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new nn(t,this.useRestClient_,e),n[t.toURLString()]=r,r},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),dn=function(){function t(t){this.repo_=t,t instanceof nn||k("Don't call new Database() directly - please use firebase.database()."),this.root_=new sn(t,z.Empty),this.INTERNAL=new pn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),a.validateArgCount("database.ref",0,1,arguments.length),t instanceof sn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),a.validateArgCount(e,1,1,arguments.length);var n=X(t);ft(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&k(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&k("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){a.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){a.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),pn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(t){return this.database.checkDeleted_("delete"),fn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),vn=Object.freeze({forceLongPolling:function(){Ke.forceDisallow(),He.forceAllow()},forceWebSockets:function(){He.forceDisallow()},isWebSocketsAvailable:function(){return Ke.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),gn=tn;tn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},tn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var mn=Qe,yn=H,bn=Object.freeze({DataConnection:gn,RealTimeConnection:mn,hijackHash:function(t){var e=tn.prototype.put;return tn.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){tn.prototype.put=e}},ConnectionTarget:yn,queryIdentifier:function(t){return t.queryIdentifier()},listens:function(t){return t.repo.persistentConnection_.listens_},forceRestClient:function(t){fn.getInstance().forceRestClient(t)}}),_n=dn.ServerValue;function wn(e){var n=e.INTERNAL.registerService("database",function(t,e,n){return fn.getInstance().databaseFromApp(t,n)},{Reference:sn,Query:Zt,Database:dn,enableLogging:w,INTERNAL:vn,ServerValue:_n,TEST_ACCESS:bn},null,!0);a.isNodeSdk()&&(t.exports=n)}wn(c),e.registerDatabase=wn,e.Database=dn,e.Query=Zt,e.Reference=sn,e.enableLogging=w,e.ServerValue=_n,e.DataSnapshot=Kt,e.OnDisconnect=dt}).call(e,n("W2nU"))},jFbC:function(t,e,n){n("Cdx3"),t.exports=n("FeBl").Object.keys},"jKW+":function(t,e,n){"use strict";var r=n("kM2E"),i=n("qARP"),o=n("dNDb");r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},k2Ib:function(t,e,n){n("30KW"),t.exports=n("FeBl").Number.isFinite},kM2E:function(t,e,n){var r=n("7KvD"),i=n("FeBl"),o=n("+ZMJ"),a=n("hJx8"),s=n("D2L2"),u=function(t,e,n){var c,l,h,f=t&u.F,d=t&u.G,p=t&u.S,v=t&u.P,g=t&u.B,m=t&u.W,y=d?i:i[e]||(i[e]={}),b=y.prototype,_=d?r:p?r[e]:(r[e]||{}).prototype;for(c in d&&(n=e),n)(l=!f&&_&&void 0!==_[c])&&s(y,c)||(h=l?_[c]:n[c],y[c]=d&&"function"!=typeof _[c]?n[c]:g&&l?o(h,r):m&&_[c]==h?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):v&&"function"==typeof h?o(Function.call,h):h,v&&((y.virtual||(y.virtual={}))[c]=h,t&u.R&&b&&!b[c]&&a(b,c,h)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},kW7t:function(t,e,n){"use strict";var r=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},i=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return r(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}};var o=i(r),a=o.right,s=o.left,u=a,c=function(t,e){null==e&&(e=l);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return o};function l(t,e){return[t,e]}var h=function(t,e,n){var r,i,o,a,s=t.length,u=e.length,c=new Array(s*u);for(null==n&&(n=l),r=o=0;r<s;++r)for(a=t[r],i=0;i<u;++i,++o)c[o]=n(a,e[i]);return c},f=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},d=function(t){return null===t?NaN:+t},p=function(t,e){var n,r,i=t.length,o=0,a=-1,s=0,u=0;if(null==e)for(;++a<i;)isNaN(n=d(t[a]))||(u+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=d(e(t[a],a,t)))||(u+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return u/(o-1)},v=function(t,e){var n=p(t,e);return n?Math.sqrt(n):n},g=function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},m=Array.prototype,y=m.slice,b=m.map,_=function(t){return function(){return t}},w=function(t){return t},x=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},E=Math.sqrt(50),C=Math.sqrt(10),k=Math.sqrt(2),T=function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=S(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o};function S(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=E?10:o>=C?5:o>=k?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=E?10:o>=C?5:o>=k?2:1)}function O(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=E?i*=10:o>=C?i*=5:o>=k&&(i*=2),e<t?-i:i}var M=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},A=function(){var t=w,e=g,n=M;function r(r){var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=t(r[i],i,r);var c=e(s),l=c[0],h=c[1],f=n(s,l,h);Array.isArray(f)||(f=O(l,h,f),f=x(Math.ceil(l/f)*f,Math.floor(h/f)*f,f));for(var d=f.length;f[0]<=l;)f.shift(),--d;for(;f[d-1]>h;)f.pop(),--d;var p,v=new Array(d+1);for(i=0;i<=d;++i)(p=v[i]=[]).x0=i>0?f[i-1]:l,p.x1=i<d?f[i]:h;for(i=0;i<a;++i)l<=(o=s[i])&&o<=h&&v[u(f,o,0,d)].push(r[i]);return v}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:_(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:_([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?_(y.call(t)):_(t),r):n},r},P=function(t,e,n){if(null==n&&(n=d),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}},I=function(t,e,n){return t=b.call(t,d).sort(r),Math.ceil((n-e)/(2*(P(t,.75)-P(t,.25))*Math.pow(t.length,-1/3)))},N=function(t,e,n){return Math.ceil((n-e)/(3.5*v(t)*Math.pow(t.length,-1/3)))},D=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r},R=function(t,e){var n,r=t.length,i=r,o=-1,a=0;if(null==e)for(;++o<r;)isNaN(n=d(t[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=d(e(t[o],o,t)))?--i:a+=n;if(i)return a/i},j=function(t,e){var n,i=t.length,o=-1,a=[];if(null==e)for(;++o<i;)isNaN(n=d(t[o]))||a.push(n);else for(;++o<i;)isNaN(n=d(e(t[o],o,t)))||a.push(n);return P(a.sort(r),.5)},L=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n},F=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r},B=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},$=function(t,e){if(n=t.length){var n,i,o=0,a=0,s=t[a];for(null==e&&(e=r);++o<n;)(e(i=t[o],s)<0||0!==e(s,s))&&(s=i,a=o);return 0===e(s,s)?a:void 0}},U=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},z=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o},q=function(t){if(!(i=t.length))return[];for(var e=-1,n=F(t,V),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r};function V(t){return t.length}var H=function(){return q(arguments)};n.d(e,"b",function(){return u}),n.d(e,"d",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return r}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return h}),n.d(e,"g",function(){return f}),n.d(e,"h",function(){return v}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return A}),n.d(e,"w",function(){return I}),n.d(e,"x",function(){return N}),n.d(e,"y",function(){return M}),n.d(e,"k",function(){return D}),n.d(e,"l",function(){return R}),n.d(e,"m",function(){return j}),n.d(e,"n",function(){return L}),n.d(e,"o",function(){return F}),n.d(e,"p",function(){return c}),n.d(e,"q",function(){return B}),n.d(e,"r",function(){return P}),n.d(e,"s",function(){return x}),n.d(e,"t",function(){return $}),n.d(e,"u",function(){return U}),n.d(e,"v",function(){return z}),n.d(e,"B",function(){return T}),n.d(e,"z",function(){return S}),n.d(e,"A",function(){return O}),n.d(e,"C",function(){return q}),n.d(e,"D",function(){return p}),n.d(e,"E",function(){return H})},kiBT:function(t,e,n){t.exports={default:n("i/C/"),__esModule:!0}},knuC:function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},kxiW:function(t,e,n){"use strict";n("DFDv");var r,i=(r=n("O4tu"))&&"object"==typeof r&&"default"in r?r.default:r;n("fqSz"),n("jE0U"),n("Wk+B"),n("aEs4"),n("dqyG"),n("D8I6"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),t.exports=i},lOnJ:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},lktj:function(t,e,n){var r=n("Ibhu"),i=n("xnc9");t.exports=Object.keys||function(t){return r(t,i)}},ls6R:function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};l.prototype.append=function(t,e){t=s(t),e=u(e);var n=this.map[t];this.map[t]=n?n+","+e:e},l.prototype.delete=function(t){delete this.map[s(t)]},l.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},l.prototype.set=function(t,e){this.map[s(t)]=u(e)},l.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},l.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),c(t)},l.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),c(t)},l.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),c(t)},e.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},v.call(g.prototype),v.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];y.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=l,t.Request=g,t.Response=y,t.fetch=function(t,n){return new Promise(function(r,i){var o=new g(t,n),a=new XMLHttpRequest;a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new l,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new y(i,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&e.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function c(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(t){this.map={},t instanceof l?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function d(t){var e=new FileReader,n=f(e);return e.readAsArrayBuffer(t),n}function p(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t))this._bodyArrayBuffer=p(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!i(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=p(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var t,e,n,r=h(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=f(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(t,e){var n,r,i=(e=e||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),o.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function m(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function y(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},mClu:function(t,e,n){var r=n("kM2E");r(r.S+r.F*!n("+E39"),"Object",{defineProperty:n("evD5").f})},mhxW:function(t,e,n){"use strict";var r=Math.PI,i=2*r,o=i-1e-6;function a(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function s(){return new a}a.prototype=s.prototype={constructor:a,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,i,o){t=+t,e=+e,n=+n,i=+i,o=+o;var a=this._x1,s=this._y1,u=n-t,c=i-e,l=a-t,h=s-e,f=l*l+h*h;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(h*u-c*l)>1e-6&&o){var d=n-a,p=i-s,v=u*u+c*c,g=d*d+p*p,m=Math.sqrt(v),y=Math.sqrt(f),b=o*Math.tan((r-Math.acos((v+f-g)/(2*m*y)))/2),_=b/y,w=b/m;Math.abs(_-1)>1e-6&&(this._+="L"+(t+_*l)+","+(e+_*h)),this._+="A"+o+","+o+",0,0,"+ +(h*d>l*p)+","+(this._x1=t+w*u)+","+(this._y1=e+w*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,a,s,u){t=+t,e=+e;var c=(n=+n)*Math.cos(a),l=n*Math.sin(a),h=t+c,f=e+l,d=1^u,p=u?a-s:s-a;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+h+","+f:(Math.abs(this._x1-h)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+h+","+f),n&&(p<0&&(p=p%i+i),p>o?this._+="A"+n+","+n+",0,1,"+d+","+(t-c)+","+(e-l)+"A"+n+","+n+",0,1,"+d+","+(this._x1=h)+","+(this._y1=f):p>1e-6&&(this._+="A"+n+","+n+",0,"+ +(p>=r)+","+d+","+(this._x1=t+n*Math.cos(s))+","+(this._y1=e+n*Math.sin(s))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var u=s;n.d(e,"a",function(){return u})},msXi:function(t,e,n){var r=n("77Pl");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},mtWM:function(t,e,n){t.exports=n("tIFN")},mvHQ:function(t,e,n){t.exports={default:n("qkKv"),__esModule:!0}},n0T6:function(t,e,n){var r=n("Ibhu"),i=n("xnc9").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},oJlt:function(t,e,n){"use strict";var r=n("cGG2"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}}),a):a}},oM7Q:function(t,e,n){n("sF+V");var r=n("FeBl").Object;t.exports=function(t,e){return r.create(t,e)}},p1b6:function(t,e,n){"use strict";var r=n("cGG2");t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},pBtG:function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},pFYg:function(t,e,n){"use strict";e.__esModule=!0;var r=a(n("Zzip")),i=a(n("5QVw")),o="function"==typeof i.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":typeof t};function a(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof i.default&&"symbol"===o(r.default)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":void 0===t?"undefined":o(t)}},pxG4:function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},qARP:function(t,e,n){"use strict";var r=n("lOnJ");t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}(t)}},qRfI:function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},qio6:function(t,e,n){var r=n("evD5"),i=n("77Pl"),o=n("lktj");t.exports=n("+E39")?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},qkKv:function(t,e,n){var r=n("FeBl"),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},qwbZ:function(t,e,n){"use strict";function r(){}function i(t,e){var n=new r;if(t instanceof r)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,o=-1,a=t.length;if(null==e)for(;++o<a;)n.set(o,t[o]);else for(;++o<a;)n.set(e(i=t[o],o,t),i)}else if(t)for(var s in t)n.set(s,t[s]);return n}r.prototype=i.prototype={constructor:r,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var o=i,a=function(){var t,e,n,r=[],i=[];function a(n,i,s,u){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var c,l,h,f=-1,d=n.length,p=r[i++],v=o(),g=s();++f<d;)(h=v.get(c=p(l=n[f])+""))?h.push(l):v.set(c,[l]);return v.each(function(t,e){u(g,e,a(t,i,s,u))}),g}return n={object:function(t){return a(t,0,s,u)},map:function(t){return a(t,0,c,l)},entries:function(t){return function t(n,o){if(++o>r.length)return n;var a,s=i[o-1];return null!=e&&o>=r.length?a=n.entries():(a=[],n.each(function(e,n){a.push({key:n,values:t(e,o)})})),null!=s?a.sort(function(t,e){return s(t.key,e.key)}):a}(a(t,0,c,l),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function s(){return{}}function u(t,e,n){t[e]=n}function c(){return o()}function l(t,e,n){t.set(e,n)}function h(){}var f=o.prototype;function d(t,e){var n=new h;if(t instanceof h)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}h.prototype=d.prototype={constructor:h,has:f.has,add:function(t){return this["$"+(t+="")]=t,this},remove:f.remove,clear:f.clear,values:f.keys,size:f.size,empty:f.empty,each:f.each};var p=d,v=function(t){var e=[];for(var n in t)e.push(n);return e},g=function(t){var e=[];for(var n in t)e.push(t[n]);return e},m=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e};n.d(e,"d",function(){return a}),n.d(e,"e",function(){return p}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return v}),n.d(e,"f",function(){return g}),n.d(e,"a",function(){return m})},qyJz:function(t,e,n){"use strict";var r=n("+ZMJ"),i=n("kM2E"),o=n("sB3e"),a=n("msXi"),s=n("Mhyx"),u=n("QRG4"),c=n("fBQ2"),l=n("3fs2");i(i.S+i.F*!n("dY0y")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,h,f=o(t),d="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v,m=0,y=l(f);if(g&&(v=r(v,p>2?arguments[2]:void 0,2)),void 0==y||d==Array&&s(y))for(n=new d(e=u(f.length));e>m;m++)c(n,m,g?v(f[m],m):f[m]);else for(h=y.call(f),n=new d;!(i=h.next()).done;m++)c(n,m,g?a(h,v,[i.value,m],!0):i.value);return n.length=m,n}})},sB3e:function(t,e,n){var r=n("52gC");t.exports=function(t){return Object(r(t))}},"sF+V":function(t,e,n){var r=n("kM2E");r(r.S,"Object",{create:n("Yobk")})},t8qj:function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t}},t8x9:function(t,e,n){var r=n("77Pl"),i=n("lOnJ"),o=n("dSzd")("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},tIFN:function(t,e,n){"use strict";var r=n("cGG2"),i=n("JP+z"),o=n("XmWM"),a=n("KCLY");function s(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var u=s(a);u.Axios=o,u.create=function(t){return s(r.merge(a,t))},u.Cancel=n("dVOP"),u.CancelToken=n("cWxy"),u.isCancel=n("pBtG"),u.all=function(t){return Promise.all(t)},u.spread=n("pxG4"),t.exports=u,t.exports.default=u},tW1G:function(t,e,n){(function(t,e){"use strict";function n(t,e){var n=[],r=[];return t.length&&function t(e,i){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var o=Array(e.length-1),a=0;a<o.length;a++)0===a&&n.push(e[0]),a===o.length-1&&r.push(e[a+1]),o[a]=[(1-i)*e[a][0]+i*e[a+1][0],(1-i)*e[a][1]+i*e[a+1][1]];t(o,i)}}(t,e),{left:n,right:r.reverse()}}function r(t){var e={};return 4===t.length&&(e.x2=t[2][0],e.y2=t[2][1]),t.length>=3&&(e.x1=t[1][0],e.y1=t[1][1]),e.x=t[t.length-1][0],e.y=t[t.length-1][1],4===t.length?e.type="C":3===t.length?e.type="Q":e.type="L",e}function i(t,e,i){var o=[[t.x,t.y]];return null!=e.x1&&o.push([e.x1,e.y1]),null!=e.x2&&o.push([e.x2,e.y2]),o.push([e.x,e.y]),function(t,e){for(var r=[],i=t,o=1/(e=e||2),a=0;a<e-1;a++){var s=n(i,o/(1-o*a));r.push(s.left),i=s.right}return r.push(i),r}(o,i).map(r)}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"]};function s(t,e){for(var n=Array(t),r=0;r<t;r++)n[r]=e;return n}function u(t){var e=(t=t.trim().replace(/ /g,","))[0],n=t.substring(1).split(",");return a[e.toUpperCase()].reduce(function(t,e,r){return t[e]=+n[r],t},{type:e})}function c(t){var e=t.type;return""+e+a[e.toUpperCase()].map(function(e){return t[e]}).join(",")}function l(t,e,n){var r=t.length-1,a=e.length-1,u=r/a,c=s(a).reduce(function(e,r,i){var o=Math.floor(u*i);if(n&&o<t.length-1&&n(t[o],t[o+1])){var a=u*i%1<.5;e[o]&&(a?o>0?o-=1:o<t.length-1&&(o+=1):o<t.length-1?o+=1:o>0&&(o-=1))}return e[o]=(e[o]||0)+1,e},[]).reduce(function(e,n,r){if(r===t.length-1){var a=s(n,o({},t[t.length-1]));return"M"===a[0].type&&a.forEach(function(t){t.type="L"}),e.concat(a)}return e.concat(function(t,e,n){var r,a=[];return"L"===e.type||"Q"===e.type||"C"===e.type?a=a.concat(i(t,e,n)):("M"===(r=o({},t)).type&&(r.type="L"),(a=a.concat(s(n-1).map(function(){return r}))).push(e)),a}(t[r],t[r+1],n))},[]);return c.unshift(t[0]),c}function h(t){return null==t?"":t.trim().replace(/[Z]/gi,"").replace(/\s+/," ").replace(/([MLCSTQAHV])\s*/gi,"$1")}t.interpolatePath=function(t,n,r){var i=h(t),o=h(n),a=""===i?[]:i.split(/(?=[MLCSTQAHV])/gi),s=""===o?[]:o.split(/(?=[MLCSTQAHV])/gi);if(!a.length&&!s.length)return function(){return""};a.length?s.length||s.push(a[0]):a.push(s[0]);var f=a.map(u),d=s.map(u);0!==Math.abs(s.length-a.length)&&(d.length>f.length?f=l(f,d,r):d.length<f.length&&(d=l(d,f,r)));var p=(f=f.map(function(t,e){return function(t,e){var n,r={x1:"x",y1:"y",x2:"x",y2:"y"},i=["xAxisRotation","largeArcFlag","sweepFlag"];return t.type!==e.type&&"M"!==e.type.toUpperCase()&&(n={},Object.keys(e).forEach(function(o){var a=e[o],s=t[o];void 0===s&&(i.includes(o)?s=a:(void 0===s&&r[o]&&(s=t[r[o]]),void 0===s&&(s=0))),n[o]=s}),n.type=e.type,t=n),t}(t,d[e])})).map(c).join(""),v=d.map(c).join("");null!=t&&"Z"!==t[t.length-1]||null!=n&&"Z"!==n[n.length-1]||(p+="Z",v+="Z");var g=e.interpolateString(p,v);return function(t){return 1===t?null==n?"":n:g(t)}},Object.defineProperty(t,"__esModule",{value:!0})})(e,n("twHu"))},thJu:function(t,e,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,o=String(t),a="",s=0,u=r;o.charAt(0|s)||(u="=",s%1);a+=u.charAt(63&e>>8-s%1*8)){if((n=o.charCodeAt(s+=.75))>255)throw new i;e=e<<8|n}return a}},twHu:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("afsG");function i(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}var o=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],a=t[r+1],s=r>0?t[r-1]:2*o-a,u=r<e-1?t[r+2]:2*a-o;return i((n-r/e)*e,s,o,a,u)}},a=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],a=t[r%e],s=t[(r+1)%e],u=t[(r+2)%e];return i((n-r/e)*e,o,a,s,u)}},s=function(t){return function(){return t}};function u(t,e){return function(n){return t+n*e}}function c(t,e){var n=e-t;return n?u(t,n>180||n<-180?n-360*Math.round(n/360):n):s(isNaN(t)?e:t)}function l(t){return 1==(t=+t)?h:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):s(isNaN(e)?n:e)}}function h(t,e){var n=e-t;return n?u(t,n):s(isNaN(t)?e:t)}var f=function t(e){var n=l(e);function i(t,e){var i=n((t=Object(r.f)(t)).r,(e=Object(r.f)(e)).r),o=n(t.g,e.g),a=n(t.b,e.b),s=h(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=o(e),t.b=a(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);function d(t){return function(e){var n,i,o=e.length,a=new Array(o),s=new Array(o),u=new Array(o);for(n=0;n<o;++n)i=Object(r.f)(e[n]),a[n]=i.r||0,s[n]=i.g||0,u[n]=i.b||0;return a=t(a),s=t(s),u=t(u),i.opacity=1,function(t){return i.r=a(t),i.g=s(t),i.b=u(t),i+""}}}var p=d(o),v=d(a),g=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=S(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}},m=function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}},y=function(t,e){return e-=t=+t,function(n){return t+e*n}},b=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=S(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,w=new RegExp(_.source,"g");var x,E,C,k,T=function(t,e){var n,r,i,o=_.lastIndex=w.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=_.exec(t))&&(r=w.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:y(n,r)})),o=w.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},S=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?s(e):("number"===i?y:"string"===i?(n=Object(r.a)(e))?(e=n,f):T:e instanceof r.a?f:e instanceof Date?m:Array.isArray(e)?g:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?b:y)(t,e)},O=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},M=180/Math.PI,A={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},P=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*M,skewX:Math.atan(u)*M,scaleX:a,scaleY:s}};function I(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:y(t,i)},{i:u-2,x:y(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:y(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:y(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:y(t,n)},{i:s-2,x:y(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var N=I(function(t){return"none"===t?A:(x||(x=document.createElement("DIV"),E=document.documentElement,C=document.defaultView),x.style.transform=t,t=C.getComputedStyle(E.appendChild(x),null).getPropertyValue("transform"),E.removeChild(x),t=t.slice(7,-1).split(","),P(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),D=I(function(t){return null==t?A:(k||(k=document.createElementNS("http://www.w3.org/2000/svg","g")),k.setAttribute("transform",t),(t=k.transform.baseVal.consolidate())?(t=t.matrix,P(t.a,t.b,t.c,t.d,t.e,t.f)):A)},", ",")",")"),R=Math.SQRT2;function j(t){return((t=Math.exp(t))+1/t)/2}var L=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],u=e[1],c=e[2],l=s-i,h=u-o,f=l*l+h*h;if(f<1e-12)r=Math.log(c/a)/R,n=function(t){return[i+t*l,o+t*h,a*Math.exp(R*t*r)]};else{var d=Math.sqrt(f),p=(c*c-a*a+4*f)/(2*a*2*d),v=(c*c-a*a-4*f)/(2*c*2*d),g=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(v*v+1)-v);r=(m-g)/R,n=function(t){var e,n=t*r,s=j(g),u=a/(2*d)*(s*(e=R*n+g,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+u*l,o+u*h,a*s/j(R*n+g)]}}return n.duration=1e3*r,n};function F(t){return function(e,n){var i=t((e=Object(r.d)(e)).h,(n=Object(r.d)(n)).h),o=h(e.s,n.s),a=h(e.l,n.l),s=h(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(t),e.opacity=s(t),e+""}}}var B=F(c),$=F(h);function U(t,e){var n=h((t=Object(r.e)(t)).l,(e=Object(r.e)(e)).l),i=h(t.a,e.a),o=h(t.b,e.b),a=h(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=o(e),t.opacity=a(e),t+""}}function z(t){return function(e,n){var i=t((e=Object(r.c)(e)).h,(n=Object(r.c)(n)).h),o=h(e.c,n.c),a=h(e.l,n.l),s=h(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=o(t),e.l=a(t),e.opacity=s(t),e+""}}}var q=z(c),V=z(h);function H(t){return function e(n){function i(e,i){var o=t((e=Object(r.b)(e)).h,(i=Object(r.b)(i)).h),a=h(e.s,i.s),s=h(e.l,i.l),u=h(e.opacity,i.opacity);return function(t){return e.h=o(t),e.s=a(t),e.l=s(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,i.gamma=e,i}(1)}var W=H(c),G=H(h),K=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n};n.d(e,"interpolate",function(){return S}),n.d(e,"interpolateArray",function(){return g}),n.d(e,"interpolateBasis",function(){return o}),n.d(e,"interpolateBasisClosed",function(){return a}),n.d(e,"interpolateDate",function(){return m}),n.d(e,"interpolateNumber",function(){return y}),n.d(e,"interpolateObject",function(){return b}),n.d(e,"interpolateRound",function(){return O}),n.d(e,"interpolateString",function(){return T}),n.d(e,"interpolateTransformCss",function(){return N}),n.d(e,"interpolateTransformSvg",function(){return D}),n.d(e,"interpolateZoom",function(){return L}),n.d(e,"interpolateRgb",function(){return f}),n.d(e,"interpolateRgbBasis",function(){return p}),n.d(e,"interpolateRgbBasisClosed",function(){return v}),n.d(e,"interpolateHsl",function(){return B}),n.d(e,"interpolateHslLong",function(){return $}),n.d(e,"interpolateLab",function(){return U}),n.d(e,"interpolateHcl",function(){return q}),n.d(e,"interpolateHclLong",function(){return V}),n.d(e,"interpolateCubehelix",function(){return W}),n.d(e,"interpolateCubehelixLong",function(){return G}),n.d(e,"quantize",function(){return K})},u2KI:function(t,e,n){t.exports={default:n("O4R0"),__esModule:!0}},uqUo:function(t,e,n){var r=n("kM2E"),i=n("FeBl"),o=n("S82l");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},"us/S":function(t,e,n){t.exports={default:n("Xd32"),__esModule:!0}},"vFc/":function(t,e,n){var r=n("TcQ7"),i=n("QRG4"),o=n("fkB2");t.exports=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),l=o(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},"vIB/":function(t,e,n){"use strict";var r=n("O4g8"),i=n("kM2E"),o=n("880/"),a=n("hJx8"),s=n("/bQp"),u=n("94VQ"),c=n("e6n0"),l=n("PzxK"),h=n("dSzd")("iterator"),f=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,p,v,g,m){u(n,e,p);var y,b,_,w=function(t){if(!f&&t in k)return k[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",E="values"==v,C=!1,k=t.prototype,T=k[h]||k["@@iterator"]||v&&k[v],S=T||w(v),O=v?E?w("entries"):S:void 0,M="Array"==e&&k.entries||T;if(M&&(_=l(M.call(new t)))!==Object.prototype&&_.next&&(c(_,x,!0),r||"function"==typeof _[h]||a(_,h,d)),E&&T&&"values"!==T.name&&(C=!0,S=function(){return T.call(this)}),r&&!m||!f&&!C&&k[h]||a(k,h,S),s[e]=S,s[x]=d,v)if(y={values:E?S:w("values"),keys:g?S:w("keys"),entries:O},m)for(b in y)b in k||o(k,b,y[b]);else i(i.P+i.F*(f||C),e,y);return y}},vwbq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("kW7t"),i=Array.prototype.slice,o=function(t){return t},a=1,s=2,u=3,c=4,l=1e-6;function h(t){return"translate("+(t+.5)+",0)"}function f(t){return"translate(0,"+(t+.5)+")"}function d(){return!this.__axis}function p(t,e){var n=[],r=null,p=null,v=6,g=6,m=3,y=t===a||t===c?-1:1,b=t===c||t===s?"x":"y",_=t===a||t===u?h:f;function w(i){var h=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,f=null==p?e.tickFormat?e.tickFormat.apply(e,n):o:p,w=Math.max(v,0)+m,x=e.range(),E=+x[0]+.5,C=+x[x.length-1]+.5,k=(e.bandwidth?function(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}:function(t){return function(e){return+t(e)}})(e.copy()),T=i.selection?i.selection():i,S=T.selectAll(".domain").data([null]),O=T.selectAll(".tick").data(h,e).order(),M=O.exit(),A=O.enter().append("g").attr("class","tick"),P=O.select("line"),I=O.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),O=O.merge(A),P=P.merge(A.append("line").attr("stroke","#000").attr(b+"2",y*v)),I=I.merge(A.append("text").attr("fill","#000").attr(b,y*w).attr("dy",t===a?"0em":t===u?"0.71em":"0.32em")),i!==T&&(S=S.transition(i),O=O.transition(i),P=P.transition(i),I=I.transition(i),M=M.transition(i).attr("opacity",l).attr("transform",function(t){return isFinite(t=k(t))?_(t):this.getAttribute("transform")}),A.attr("opacity",l).attr("transform",function(t){var e=this.parentNode.__axis;return _(e&&isFinite(e=e(t))?e:k(t))})),M.remove(),S.attr("d",t===c||t==s?"M"+y*g+","+E+"H0.5V"+C+"H"+y*g:"M"+E+","+y*g+"V0.5H"+C+"V"+y*g),O.attr("opacity",1).attr("transform",function(t){return _(k(t))}),P.attr(b+"2",y*v),I.attr(b,y*w).text(f),T.filter(d).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===s?"start":t===c?"end":"middle"),T.each(function(){this.__axis=k})}return w.scale=function(t){return arguments.length?(e=t,w):e},w.ticks=function(){return n=i.call(arguments),w},w.tickArguments=function(t){return arguments.length?(n=null==t?[]:i.call(t),w):n.slice()},w.tickValues=function(t){return arguments.length?(r=null==t?null:i.call(t),w):r&&r.slice()},w.tickFormat=function(t){return arguments.length?(p=t,w):p},w.tickSize=function(t){return arguments.length?(v=g=+t,w):v},w.tickSizeInner=function(t){return arguments.length?(v=+t,w):v},w.tickSizeOuter=function(t){return arguments.length?(g=+t,w):g},w.tickPadding=function(t){return arguments.length?(m=+t,w):m},w}function v(t){return p(a,t)}function g(t){return p(s,t)}function m(t){return p(u,t)}function y(t){return p(c,t)}var b={value:function(){}};function _(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new w(r)}function w(t){this._=t}function x(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function E(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=b,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}w.prototype=_.prototype={constructor:w,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=E(i[n],t.name,e);else if(null==e)for(n in i)i[n]=E(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=x(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new w(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var C=_,k="http://www.w3.org/1999/xhtml",T={svg:"http://www.w3.org/2000/svg",xhtml:k,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},S=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),T.hasOwnProperty(e)?{space:T[e],local:t}:t};var O=function(t){var e=S(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===k&&e.documentElement.namespaceURI===k?e.createElement(t):e.createElementNS(n,t)}})(e)};function M(){}var A=function(t){return null==t?M:function(){return this.querySelector(t)}};function P(){return[]}var I=function(t){return null==t?P:function(){return this.querySelectorAll(t)}},N=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var D=document.documentElement;if(!D.matches){var R=D.webkitMatchesSelector||D.msMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector;N=function(t){return function(){return R.call(this,t)}}}}var j=N,L=function(t){return new Array(t.length)};function F(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}F.prototype={constructor:F,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var B="$";function $(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new F(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function U(t,e,n,r,i,o,a){var s,u,c,l={},h=e.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(d[s]=c=B+a.call(u,u.__data__,s,e),c in l?i[s]=u:l[c]=u);for(s=0;s<f;++s)(u=l[c=B+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],l[c]=null):n[s]=new F(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&l[d[s]]===u&&(i[s]=u)}function z(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var q=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function V(t,e){return t.style.getPropertyValue(e)||q(t).getComputedStyle(t,null).getPropertyValue(e)}function H(t){return t.trim().split(/^|\s+/)}function W(t){return t.classList||new G(t)}function G(t){this._node=t,this._names=H(t.getAttribute("class")||"")}function K(t,e){for(var n=W(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Y(t,e){for(var n=W(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}G.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Q(){this.textContent=""}function X(){this.innerHTML=""}function J(){this.nextSibling&&this.parentNode.appendChild(this)}function Z(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tt(){return null}function et(){var t=this.parentNode;t&&t.removeChild(this)}function nt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function rt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var it={},ot=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(it={mouseenter:"mouseover",mouseleave:"mouseout"}));function at(t,e,n){return t=st(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function st(t,e,n){return function(r){var i=ot;ot=r;try{t.call(this,this.__data__,e,n)}finally{ot=i}}}function ut(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function ct(t,e,n){var r=it.hasOwnProperty(t.type)?at:st;return function(i,o,a){var s,u=this.__on,c=r(e,o,a);if(u)for(var l=0,h=u.length;l<h;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function lt(t,e,n,r){var i=ot;t.sourceEvent=ot,ot=t;try{return e.apply(n,r)}finally{ot=i}}function ht(t,e,n){var r=q(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var ft=[null];function dt(t,e){this._groups=t,this._parents=e}function pt(){return new dt([[document.documentElement]],ft)}dt.prototype=pt.prototype={constructor:dt,select:function(t){"function"!=typeof t&&(t=A(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new dt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=I(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new dt(r,i)},filter:function(t){"function"!=typeof t&&(t=j(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new dt(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),l=-1,this.each(function(t){p[++l]=t}),p;var n,r=e?U:$,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),c=new Array(a),l=0;l<a;++l){var h=i[l],f=o[l],d=f.length,p=t.call(h,h&&h.__data__,l,i),v=p.length,g=u[l]=new Array(v),m=s[l]=new Array(v);r(h,f,g,m,c[l]=new Array(d),p,e);for(var y,b,_=0,w=0;_<v;++_)if(y=g[_]){for(_>=w&&(w=_+1);!(b=m[w])&&++w<v;);y._next=b||null}}return(s=new dt(s,i))._enter=u,s._exit=c,s},enter:function(){return new dt(this._enter||this._groups.map(L),this._parents)},exit:function(){return new dt(this._exit||this._groups.map(L),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],h=c.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=c[d]||l[d])&&(f[d]=u);for(;s<r;++s)a[s]=e[s];return new dt(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=z);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new dt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=S(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):V(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=H(t+"");if(arguments.length<2){for(var r=W(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?K:Y)(this,t)}}:e?function(t){return function(){K(this,t)}}:function(t){return function(){Y(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?Q:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?X:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(J)},lower:function(){return this.each(Z)},append:function(t){var e="function"==typeof t?t:O(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:O(t),r=null==e?tt:"function"==typeof e?e:A(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(et)},clone:function(t){return this.select(t?rt:nt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?ct:ut,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return ht(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return ht(this,t,e)}})(t,e))}};var vt=pt,gt=function(t){return"string"==typeof t?new dt([[document.querySelector(t)]],[document.documentElement]):new dt([[t]],ft)},mt=function(t){return gt(O(t).call(document.documentElement))},yt=0;function bt(){return new _t}function _t(){this._="@"+(++yt).toString(36)}_t.prototype=bt.prototype={constructor:_t,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var wt=function(){for(var t,e=ot;t=e.sourceEvent;)e=t;return e},xt=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},Et=function(t){var e=wt();return e.changedTouches&&(e=e.changedTouches[0]),xt(t,e)},Ct=function(t){return"string"==typeof t?new dt([document.querySelectorAll(t)],[document.documentElement]):new dt([null==t?[]:t],ft)},kt=function(t,e,n){arguments.length<3&&(n=e,e=wt().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return xt(t,r);return null},Tt=function(t,e){null==e&&(e=wt().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=xt(t,e[n]);return i};function St(){ot.stopImmediatePropagation()}var Ot=function(){ot.preventDefault(),ot.stopImmediatePropagation()},Mt=function(t){var e=t.document.documentElement,n=gt(t).on("dragstart.drag",Ot,!0);"onselectstart"in e?n.on("selectstart.drag",Ot,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function At(t,e){var n=t.document.documentElement,r=gt(t).on("dragstart.drag",null);e&&(r.on("click.drag",Ot,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Pt=function(t){return function(){return t}};function It(t,e,n,r,i,o,a,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=c}function Nt(){return!ot.button}function Dt(){return this.parentNode}function Rt(t){return null==t?{x:ot.x,y:ot.y}:t}function jt(){return"ontouchstart"in this}It.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Lt,Ft,Bt=function(){var t,e,n,r,i=Nt,o=Dt,a=Rt,s=jt,u={},c=C("start","drag","end"),l=0,h=0;function f(t){t.on("mousedown.drag",d).filter(s).on("touchstart.drag",g).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var a=b("mouse",o.apply(this,arguments),Et,this,arguments);a&&(gt(ot.view).on("mousemove.drag",p,!0).on("mouseup.drag",v,!0),Mt(ot.view),St(),n=!1,t=ot.clientX,e=ot.clientY,a("start"))}}function p(){if(Ot(),!n){var r=ot.clientX-t,i=ot.clientY-e;n=r*r+i*i>h}u.mouse("drag")}function v(){gt(ot.view).on("mousemove.drag mouseup.drag",null),At(ot.view,n),Ot(),u.mouse("end")}function g(){if(i.apply(this,arguments)){var t,e,n=ot.changedTouches,r=o.apply(this,arguments),a=n.length;for(t=0;t<a;++t)(e=b(n[t].identifier,r,kt,this,arguments))&&(St(),e("start"))}}function m(){var t,e,n=ot.changedTouches,r=n.length;for(t=0;t<r;++t)(e=u[n[t].identifier])&&(Ot(),e("drag"))}function y(){var t,e,n=ot.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<i;++t)(e=u[n[t].identifier])&&(St(),e("end"))}function b(t,e,n,r,i){var o,s,h,d=n(e,t),p=c.copy();if(lt(new It(f,"beforestart",o,t,l,d[0],d[1],0,0,p),function(){return null!=(ot.subject=o=a.apply(r,i))&&(s=o.x-d[0]||0,h=o.y-d[1]||0,!0)}))return function a(c){var v,g=d;switch(c){case"start":u[t]=a,v=l++;break;case"end":delete u[t],--l;case"drag":d=n(e,t),v=l}lt(new It(f,c,o,t,v,d[0]+s,d[1]+h,d[0]-g[0],d[1]-g[1],p),p.apply,p,[c,r,i])}}return f.filter=function(t){return arguments.length?(i="function"==typeof t?t:Pt(!!t),f):i},f.container=function(t){return arguments.length?(o="function"==typeof t?t:Pt(t),f):o},f.subject=function(t){return arguments.length?(a="function"==typeof t?t:Pt(t),f):a},f.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Pt(!!t),f):s},f.on=function(){var t=c.on.apply(c,arguments);return t===c?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f},$t=n("twHu"),Ut=0,zt=0,qt=0,Vt=1e3,Ht=0,Wt=0,Gt=0,Kt="object"==typeof performance&&performance.now?performance:Date,Yt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Qt(){return Wt||(Yt(Xt),Wt=Kt.now()+Gt)}function Xt(){Wt=0}function Jt(){this._call=this._time=this._next=null}function Zt(t,e,n){var r=new Jt;return r.restart(t,e,n),r}function te(){Qt(),++Ut;for(var t,e=Lt;e;)(t=Wt-e._time)>=0&&e._call.call(null,t),e=e._next;--Ut}function ee(){Wt=(Ht=Kt.now())+Gt,Ut=zt=0;try{te()}finally{Ut=0,function(){var t,e,n=Lt,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Lt=e);Ft=t,re(r)}(),Wt=0}}function ne(){var t=Kt.now(),e=t-Ht;e>Vt&&(Gt-=e,Ht=t)}function re(t){Ut||(zt&&(zt=clearTimeout(zt)),t-Wt>24?(t<1/0&&(zt=setTimeout(ee,t-Kt.now()-Gt)),qt&&(qt=clearInterval(qt))):(qt||(Ht=Kt.now(),qt=setInterval(ne,Vt)),Ut=1,Yt(ee)))}Jt.prototype=Zt.prototype={constructor:Jt,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Qt():+n)+(null==e?0:+e),this._next||Ft===this||(Ft?Ft._next=this:Lt=this,Ft=this),this._call=t,this._time=n,re()},stop:function(){this._call&&(this._call=null,this._time=1/0,re())}};var ie=function(t,e,n){var r=new Jt;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r},oe=function(t,e,n){var r=new Jt,i=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?Qt():+n,r.restart(function o(a){a+=i,r.restart(o,i+=e,n),t(a)},e,n),r)},ae=C("start","end","interrupt"),se=[],ue=0,ce=1,le=2,he=3,fe=4,de=5,pe=6,ve=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(u){var c,l,h,f;if(n.state!==ce)return s();for(c in i)if((f=i[c]).name===n.name){if(f.state===he)return ie(o);f.state===fe?(f.state=pe,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[c]):+c<e&&(f.state=pe,f.timer.stop(),delete i[c])}if(ie(function(){n.state===he&&(n.state=fe,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=le,n.on.call("start",t,t.__data__,n.index,n.group),n.state===le){for(n.state=he,r=new Array(h=n.tween.length),c=0,l=-1;c<h;++c)(f=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=f);r.length=l+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=de,1),o=-1,a=r.length;++o<a;)r[o].call(null,i);n.state===de&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=pe,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Zt(function(t){n.state=ce,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:ae,tween:se,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ue})};function ge(t,e){var n=ye(t,e);if(n.state>ue)throw new Error("too late; already scheduled");return n}function me(t,e){var n=ye(t,e);if(n.state>le)throw new Error("too late; already started");return n}function ye(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var be=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>le&&n.state<de,n.state=pe,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}};function _e(t,e,n){var r=t._id;return t.each(function(){var t=me(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return ye(t,r).value[e]}}var we=n("afsG"),xe=function(t,e){var n;return("number"==typeof e?$t.interpolateNumber:e instanceof we.a?$t.interpolateRgb:(n=Object(we.a)(e))?(e=n,$t.interpolateRgb):$t.interpolateString)(t,e)};var Ee=vt.prototype.constructor;var Ce=0;function ke(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Te(t){return vt().transition(t)}function Se(){return++Ce}var Oe=vt.prototype;function Me(t){return+t}function Ae(t){return t*t}function Pe(t){return t*(2-t)}function Ie(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Ne(t){return t*t*t}function De(t){return--t*t*t+1}function Re(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}ke.prototype=Te.prototype={constructor:ke,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=A(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,c=r[a],l=c.length,h=o[a]=new Array(l),f=0;f<l;++f)(s=c[f])&&(u=t.call(s,s.__data__,f,c))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,ve(h[f],e,n,f,h,ye(s,n)));return new ke(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=I(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,c=r[s],l=c.length,h=0;h<l;++h)if(u=c[h]){for(var f,d=t.call(u,u.__data__,h,c),p=ye(u,n),v=0,g=d.length;v<g;++v)(f=d[v])&&ve(f,e,n,v,d,p);o.push(d),a.push(u)}return new ke(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=j(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new ke(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],h=c.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=c[d]||l[d])&&(f[d]=u);for(;s<r;++s)a[s]=e[s];return new ke(a,this._parents,this._name,this._id)},selection:function(){return new Ee(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Se(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=ye(a,e);ve(a,t,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new ke(r,this._parents,t,n)},call:Oe.call,nodes:Oe.nodes,node:Oe.node,size:Oe.size,empty:Oe.empty,each:Oe.each,on:function(t,e){var n=this._id;return arguments.length<2?ye(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?ge:me;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=S(t),r="transform"===n?$t.interpolateTransformSvg:xe;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttribute(t))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttribute(t)}})(n,r,_e(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?i:i=e(r=o,n)}}:function(t,e,n){var r,i;return function(){var o=this.getAttribute(t);return o===n?null:o===r?i:i=e(r=o,n)}})(n,r,e+""))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=S(t);return this.tween(n,(r.local?function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}:function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n})(r,e))},style:function(t,e,n){var r="transform"==(t+="")?$t.interpolateTransformCss:xe;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=V(this,t),a=(this.style.removeProperty(t),V(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof e?function(t,e,n){var r,i,o;return function(){var a=V(this,t),s=n(this);return null==s&&(this.style.removeProperty(t),s=V(this,t)),a===s?null:a===r&&s===i?o:o=e(r=a,i=s)}}(t,r,_e(this,"style."+t,e)):function(t,e,n){var r,i;return function(){var o=V(this,t);return o===n?null:o===r?i:i=e(r=o,n)}}(t,r,e+""),n)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(_e(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=ye(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var i=me(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=me(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}o.tween=i}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){ge(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){ge(this,t).delay=e}})(e,t)):ye(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){me(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){me(this,t).duration=e}})(e,t)):ye(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){me(this,t).ease=e}}(e,t)):ye(this.node(),e).ease}};var je=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Le=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Fe=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Be=Math.PI,$e=Be/2;function Ue(t){return 1-Math.cos(t*$e)}function ze(t){return Math.sin(t*$e)}function qe(t){return(1-Math.cos(Be*t))/2}function Ve(t){return Math.pow(2,10*t-10)}function He(t){return 1-Math.pow(2,-10*t)}function We(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Ge(t){return 1-Math.sqrt(1-t*t)}function Ke(t){return Math.sqrt(1- --t*t)}function Ye(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Qe=4/11,Xe=6/11,Je=8/11,Ze=.75,tn=9/11,en=10/11,nn=.9375,rn=21/22,on=63/64,an=1/Qe/Qe;function sn(t){return 1-un(1-t)}function un(t){return(t=+t)<Qe?an*t*t:t<Je?an*(t-=Xe)*t+Ze:t<en?an*(t-=tn)*t+nn:an*(t-=rn)*t+on}function cn(t){return((t*=2)<=1?1-un(1-t):un(t-1)+1)/2}var ln=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),hn=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),fn=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),dn=2*Math.PI,pn=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=dn);function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*dn)},i.period=function(n){return t(e,n)},i}(1,.3),vn=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=dn);function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*dn)},i.period=function(n){return t(e,n)},i}(1,.3),gn=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=dn);function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*dn)},i.period=function(n){return t(e,n)},i}(1,.3),mn={time:null,delay:0,duration:250,ease:Re};function yn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return mn.time=Qt(),mn;return n}vt.prototype.interrupt=function(t){return this.each(function(){be(this,t)})},vt.prototype.transition=function(t){var e,n;t instanceof ke?(e=t._id,t=t._name):(e=Se(),(n=mn).time=Qt(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)(a=s[c])&&ve(a,t,e,c,s,n||yn(a,e));return new ke(r,this._parents,t,e)};var bn=[null],_n=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>ce&&n.name===e)return new ke([[t]],bn,e,+r);return null},wn=function(t){return function(){return t}},xn=function(t,e,n){this.target=t,this.type=e,this.selection=n};function En(){ot.stopImmediatePropagation()}var Cn=function(){ot.preventDefault(),ot.stopImmediatePropagation()},kn={name:"drag"},Tn={name:"space"},Sn={name:"handle"},On={name:"center"},Mn={name:"x",handles:["e","w"].map(Ln),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},An={name:"y",handles:["n","s"].map(Ln),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Pn={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Ln),input:function(t){return t},output:function(t){return t}},In={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Nn={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Dn={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Rn={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},jn={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ln(t){return{type:t}}function Fn(){return!ot.button}function Bn(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function $n(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Un(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function zn(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function qn(){return Wn(Mn)}function Vn(){return Wn(An)}var Hn=function(){return Wn(Pn)};function Wn(t){var e,n=Bn,r=Fn,i=C(a,"start","brush","end"),o=6;function a(e){var n=e.property("__brush",h).selectAll(".overlay").data([Ln("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",In.overlay).merge(n).each(function(){var t=$n(this).extent;gt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([Ln("selection")]).enter().append("rect").attr("class","selection").attr("cursor",In.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return In[t.type]}),e.each(s).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",l)}function s(){var t=gt(this),e=$n(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-o/2:e[0][0]-o/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-o/2:e[0][1]-o/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+o:o}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+o:o})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(t,e){return t.__brush.emitter||new c(t,e)}function c(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function l(){if(ot.touches){if(ot.changedTouches.length<ot.touches.length)return Cn()}else if(e)return;if(r.apply(this,arguments)){var n,i,o,a,c,l,h,f,d,p,v,g,m,y=this,b=ot.target.__data__.type,_="selection"===(ot.metaKey?b="overlay":b)?kn:ot.altKey?On:Sn,w=t===An?null:Rn[b],x=t===Mn?null:jn[b],E=$n(y),C=E.extent,k=E.selection,T=C[0][0],S=C[0][1],O=C[1][0],M=C[1][1],A=w&&x&&ot.shiftKey,P=Et(y),I=P,N=u(y,arguments).beforestart();"overlay"===b?E.selection=k=[[n=t===An?T:P[0],o=t===Mn?S:P[1]],[c=t===An?O:n,h=t===Mn?M:o]]:(n=k[0][0],o=k[0][1],c=k[1][0],h=k[1][1]),i=n,a=o,l=c,f=h;var D=gt(y).attr("pointer-events","none"),R=D.selectAll(".overlay").attr("cursor",In[b]);if(ot.touches)D.on("touchmove.brush",L,!0).on("touchend.brush touchcancel.brush",B,!0);else{var j=gt(ot.view).on("keydown.brush",function(){switch(ot.keyCode){case 16:A=w&&x;break;case 18:_===Sn&&(w&&(c=l-d*w,n=i+d*w),x&&(h=f-p*x,o=a+p*x),_=On,F());break;case 32:_!==Sn&&_!==On||(w<0?c=l-d:w>0&&(n=i-d),x<0?h=f-p:x>0&&(o=a-p),_=Tn,R.attr("cursor",In.selection),F());break;default:return}Cn()},!0).on("keyup.brush",function(){switch(ot.keyCode){case 16:A&&(g=m=A=!1,F());break;case 18:_===On&&(w<0?c=l:w>0&&(n=i),x<0?h=f:x>0&&(o=a),_=Sn,F());break;case 32:_===Tn&&(ot.altKey?(w&&(c=l-d*w,n=i+d*w),x&&(h=f-p*x,o=a+p*x),_=On):(w<0?c=l:w>0&&(n=i),x<0?h=f:x>0&&(o=a),_=Sn),R.attr("cursor",In[b]),F());break;default:return}Cn()},!0).on("mousemove.brush",L,!0).on("mouseup.brush",B,!0);Mt(ot.view)}En(),be(y),s.call(y),N.start()}function L(){var t=Et(y);!A||g||m||(Math.abs(t[0]-I[0])>Math.abs(t[1]-I[1])?m=!0:g=!0),I=t,v=!0,Cn(),F()}function F(){var t;switch(d=I[0]-P[0],p=I[1]-P[1],_){case Tn:case kn:w&&(d=Math.max(T-n,Math.min(O-c,d)),i=n+d,l=c+d),x&&(p=Math.max(S-o,Math.min(M-h,p)),a=o+p,f=h+p);break;case Sn:w<0?(d=Math.max(T-n,Math.min(O-n,d)),i=n+d,l=c):w>0&&(d=Math.max(T-c,Math.min(O-c,d)),i=n,l=c+d),x<0?(p=Math.max(S-o,Math.min(M-o,p)),a=o+p,f=h):x>0&&(p=Math.max(S-h,Math.min(M-h,p)),a=o,f=h+p);break;case On:w&&(i=Math.max(T,Math.min(O,n-d*w)),l=Math.max(T,Math.min(O,c+d*w))),x&&(a=Math.max(S,Math.min(M,o-p*x)),f=Math.max(S,Math.min(M,h+p*x)))}l<i&&(w*=-1,t=n,n=c,c=t,t=i,i=l,l=t,b in Nn&&R.attr("cursor",In[b=Nn[b]])),f<a&&(x*=-1,t=o,o=h,h=t,t=a,a=f,f=t,b in Dn&&R.attr("cursor",In[b=Dn[b]])),E.selection&&(k=E.selection),g&&(i=k[0][0],l=k[1][0]),m&&(a=k[0][1],f=k[1][1]),k[0][0]===i&&k[0][1]===a&&k[1][0]===l&&k[1][1]===f||(E.selection=[[i,a],[l,f]],s.call(y),N.brush())}function B(){if(En(),ot.touches){if(ot.touches.length)return;e&&clearTimeout(e),e=setTimeout(function(){e=null},500),D.on("touchmove.brush touchend.brush touchcancel.brush",null)}else At(ot.view,v),j.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);D.attr("pointer-events","all"),R.attr("cursor",In.overlay),E.selection&&(k=E.selection),Un(k)&&(E.selection=null,s.call(y)),N.end()}}function h(){var e=this.__brush||{selection:null};return e.extent=n.apply(this,arguments),e.dim=t,e}return a.move=function(e,n){e.selection?e.on("start.brush",function(){u(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){u(this,arguments).end()}).tween("brush",function(){var e=this,r=e.__brush,i=u(e,arguments),o=r.selection,a=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),c=Object($t.interpolate)(o,a);function l(t){r.selection=1===t&&Un(a)?null:c(t),s.call(e),i.brush()}return o&&a?l:l(1)}):e.each(function(){var e=arguments,r=this.__brush,i=t.input("function"==typeof n?n.apply(this,e):n,r.extent),o=u(this,e).beforestart();be(this),r.selection=null==i||Un(i)?null:i,s.call(this),o.start().brush().end()})},c.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){lt(new xn(a,e,t.output(this.state.selection)),i.apply,i,[e,this.that,this.args])}},a.extent=function(t){return arguments.length?(n="function"==typeof t?t:wn([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),a):n},a.filter=function(t){return arguments.length?(r="function"==typeof t?t:wn(!!t),a):r},a.handleSize=function(t){return arguments.length?(o=+t,a):o},a.on=function(){var t=i.on.apply(i,arguments);return t===i?a:t},a}var Gn=Math.cos,Kn=Math.sin,Yn=Math.PI,Qn=Yn/2,Xn=2*Yn,Jn=Math.max;var Zn=function(){var t=0,e=null,n=null,i=null;function o(o){var a,s,u,c,l,h,f=o.length,d=[],p=Object(r.s)(f),v=[],g=[],m=g.groups=new Array(f),y=new Array(f*f);for(a=0,l=-1;++l<f;){for(s=0,h=-1;++h<f;)s+=o[l][h];d.push(s),v.push(Object(r.s)(f)),a+=s}for(e&&p.sort(function(t,n){return e(d[t],d[n])}),n&&v.forEach(function(t,e){t.sort(function(t,r){return n(o[e][t],o[e][r])})}),c=(a=Jn(0,Xn-t*f)/a)?t:Xn/f,s=0,l=-1;++l<f;){for(u=s,h=-1;++h<f;){var b=p[l],_=v[b][h],w=o[b][_],x=s,E=s+=w*a;y[_*f+b]={index:b,subindex:_,startAngle:x,endAngle:E,value:w}}m[b]={index:b,startAngle:u,endAngle:s,value:d[b]},s+=c}for(l=-1;++l<f;)for(h=l-1;++h<f;){var C=y[h*f+l],k=y[l*f+h];(C.value||k.value)&&g.push(C.value<k.value?{source:k,target:C}:{source:C,target:k})}return i?g.sort(i):g}return o.padAngle=function(e){return arguments.length?(t=Jn(0,e),o):t},o.sortGroups=function(t){return arguments.length?(e=t,o):e},o.sortSubgroups=function(t){return arguments.length?(n=t,o):n},o.sortChords=function(t){return arguments.length?(null==t?i=null:(e=t,i=function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)})._=t,o):i&&i._;var e},o},tr=Array.prototype.slice,er=function(t){return function(){return t}},nr=n("mhxW");function rr(t){return t.source}function ir(t){return t.target}function or(t){return t.radius}function ar(t){return t.startAngle}function sr(t){return t.endAngle}var ur=function(){var t=rr,e=ir,n=or,r=ar,i=sr,o=null;function a(){var a,s=tr.call(arguments),u=t.apply(this,s),c=e.apply(this,s),l=+n.apply(this,(s[0]=u,s)),h=r.apply(this,s)-Qn,f=i.apply(this,s)-Qn,d=l*Gn(h),p=l*Kn(h),v=+n.apply(this,(s[0]=c,s)),g=r.apply(this,s)-Qn,m=i.apply(this,s)-Qn;if(o||(o=a=Object(nr.a)()),o.moveTo(d,p),o.arc(0,0,l,h,f),h===g&&f===m||(o.quadraticCurveTo(0,0,v*Gn(g),v*Kn(g)),o.arc(0,0,v,g,m)),o.quadraticCurveTo(0,0,d,p),o.closePath(),a)return o=null,a+""||null}return a.radius=function(t){return arguments.length?(n="function"==typeof t?t:er(+t),a):n},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:er(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:er(+t),a):i},a.source=function(e){return arguments.length?(t=e,a):t},a.target=function(t){return arguments.length?(e=t,a):e},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a},cr=n("qwbZ"),lr={},hr={},fr=34,dr=10,pr=13;function vr(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}var gr=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,u=o<=0,c=!1;function l(){if(u)return hr;if(c)return c=!1,lr;var e,r,i=a;if(t.charCodeAt(i)===fr){for(;a++<o&&t.charCodeAt(a)!==fr||t.charCodeAt(++a)===fr;);return(e=a)>=o?u=!0:(r=t.charCodeAt(a++))===dr?c=!0:r===pr&&(c=!0,t.charCodeAt(a)===dr&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if((r=t.charCodeAt(e=a++))===dr)c=!0;else if(r===pr)c=!0,t.charCodeAt(a)===dr&&++a;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===dr&&--o,t.charCodeAt(o-1)===pr&&--o;(r=l())!==hr;){for(var h=[];r!==lr&&r!==hr;)h.push(r),r=l();e&&null==(h=e(h,s++))||i.push(h)}return i}function i(e){return e.map(o).join(t)}function o(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=vr(t);return function(r,i){return e(n(r),i,t)}}(t,e):vr(t)});return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}(e)),[n.map(o).join(t)].concat(e.map(function(e){return n.map(function(t){return o(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(i).join("\n")}}},mr=gr(","),yr=mr.parse,br=mr.parseRows,_r=mr.format,wr=mr.formatRows,xr=gr("\t"),Er=xr.parse,Cr=xr.parseRows,kr=xr.format,Tr=xr.formatRows,Sr=function(t,e){var n;function r(){var r,i,o=n.length,a=0,s=0;for(r=0;r<o;++r)a+=(i=n[r]).x,s+=i.y;for(a=a/o-t,s=s/o-e,r=0;r<o;++r)(i=n[r]).x-=a,i.y-=s}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r},Or=function(t){return function(){return t}},Mr=function(){return 1e-6*(Math.random()-.5)};function Ar(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,c,l,h,f,d=t._root,p={data:r},v=t._x0,g=t._y0,m=t._x1,y=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(o=(v+m)/2))?v=o:m=o,(l=n>=(a=(g+y)/2))?g=a:y=a,i=d,!(d=d[h=l<<1|c]))return i[h]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=e>=(o=(v+m)/2))?v=o:m=o,(l=n>=(a=(g+y)/2))?g=a:y=a}while((h=l<<1|c)==(f=(u>=a)<<1|s>=o));return i[f]=d,i[h]=p,t}var Pr=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function Ir(t){return t[0]}function Nr(t){return t[1]}function Dr(t,e,n){var r=new Rr(null==e?Ir:e,null==n?Nr:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Rr(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function jr(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Lr=Dr.prototype=Rr.prototype;function Fr(t){return t.x+t.vx}function Br(t){return t.y+t.vy}Lr.copy=function(){var t,e,n=new Rr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=jr(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=jr(e));return n},Lr.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Ar(this.cover(e,n),e,n,t)},Lr.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,c=1/0,l=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>l&&(l=r),i<c&&(c=i),i>h&&(h=i));for(l<u&&(u=this._x0,l=this._x1),h<c&&(c=this._y0,h=this._y1),this.cover(u,c).cover(l,h),n=0;n<o;++n)Ar(this,a[n],s[n],t[n]);return this},Lr.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{if(!(n>t||t>i||r>e||e>o))return this;var a,s,u=i-n,c=this._root;switch(s=(e<(r+o)/2)<<1|t<(n+i)/2){case 0:do{(a=new Array(4))[s]=c,c=a}while(o=r+(u*=2),t>(i=n+u)||e>o);break;case 1:do{(a=new Array(4))[s]=c,c=a}while(o=r+(u*=2),(n=i-u)>t||e>o);break;case 2:do{(a=new Array(4))[s]=c,c=a}while(r=o-(u*=2),t>(i=n+u)||r>e);break;case 3:do{(a=new Array(4))[s]=c,c=a}while(r=o-(u*=2),(n=i-u)>t||r>e)}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Lr.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},Lr.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Lr.find=function(t,e,n){var r,i,o,a,s,u,c,l=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new Pr(v,l,h,f,d)),null==n?n=1/0:(l=t-n,h=e-n,f=t+n,d=e+n,n*=n);u=p.pop();)if(!(!(v=u.node)||(i=u.x0)>f||(o=u.y0)>d||(a=u.x1)<l||(s=u.y1)<h))if(v.length){var g=(i+a)/2,m=(o+s)/2;p.push(new Pr(v[3],g,m,a,s),new Pr(v[2],i,m,g,s),new Pr(v[1],g,o,a,m),new Pr(v[0],i,o,g,m)),(c=(e>=m)<<1|t>=g)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=u)}else{var y=t-+this._x.call(null,v.data),b=e-+this._y.call(null,v.data),_=y*y+b*b;if(_<n){var w=Math.sqrt(n=_);l=t-w,h=e-w,f=t+w,d=e+w,r=v.data}}return r},Lr.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,c,l,h,f,d=this._root,p=this._x0,v=this._y0,g=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(s=(p+g)/2))?p=s:g=s,(l=a>=(u=(v+m)/2))?v=u:m=u,e=d,!(d=d[h=l<<1|c]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)},Lr.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Lr.root=function(){return this._root},Lr.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},Lr.visit=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new Pr(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var c=(r+o)/2,l=(i+a)/2;(n=u[3])&&s.push(new Pr(n,c,l,o,a)),(n=u[2])&&s.push(new Pr(n,r,l,c,a)),(n=u[1])&&s.push(new Pr(n,c,i,o,l)),(n=u[0])&&s.push(new Pr(n,r,i,c,l))}return this},Lr.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Pr(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,c=e.y1,l=(a+u)/2,h=(s+c)/2;(o=i[0])&&n.push(new Pr(o,a,s,l,h)),(o=i[1])&&n.push(new Pr(o,l,s,u,h)),(o=i[2])&&n.push(new Pr(o,a,h,l,c)),(o=i[3])&&n.push(new Pr(o,l,h,u,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Lr.x=function(t){return arguments.length?(this._x=t,this):this._x},Lr.y=function(t){return arguments.length?(this._y=t,this):this._y};var $r=function(t){var e,n,r=1,i=1;function o(){for(var t,o,s,u,c,l,h,f=e.length,d=0;d<i;++d)for(o=Dr(e,Fr,Br).visitAfter(a),t=0;t<f;++t)s=e[t],l=n[s.index],h=l*l,u=s.x+s.vx,c=s.y+s.vy,o.visit(p);function p(t,e,n,i,o){var a=t.data,f=t.r,d=l+f;if(!a)return e>u+d||i<u-d||n>c+d||o<c-d;if(a.index>s.index){var p=u-a.x-a.vx,v=c-a.y-a.vy,g=p*p+v*v;g<d*d&&(0===p&&(g+=(p=Mr())*p),0===v&&(g+=(v=Mr())*v),g=(d-(g=Math.sqrt(g)))/g*r,s.vx+=(p*=g)*(d=(f*=f)/(h+f)),s.vy+=(v*=g)*d,a.vx-=p*(d=1-d),a.vy-=v*d)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=Or(null==t?1:+t)),o.initialize=function(t){e=t,s()},o.iterations=function(t){return arguments.length?(i=+t,o):i},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(e){return arguments.length?(t="function"==typeof e?e:Or(+e),s(),o):t},o};function Ur(t){return t.index}function zr(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var qr=function(t){var e,n,r,i,o,a=Ur,s=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},u=Or(30),c=1;function l(r){for(var i=0,a=t.length;i<c;++i)for(var s,u,l,h,f,d,p,v=0;v<a;++v)u=(s=t[v]).source,h=(l=s.target).x+l.vx-u.x-u.vx||Mr(),f=l.y+l.vy-u.y-u.vy||Mr(),h*=d=((d=Math.sqrt(h*h+f*f))-n[v])/d*r*e[v],f*=d,l.vx-=h*(p=o[v]),l.vy-=f*p,u.vx+=h*(p=1-p),u.vy+=f*p}function h(){if(r){var s,u,c=r.length,l=t.length,h=Object(cr.c)(r,a);for(s=0,i=new Array(c);s<l;++s)(u=t[s]).index=s,"object"!=typeof u.source&&(u.source=zr(h,u.source)),"object"!=typeof u.target&&(u.target=zr(h,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(s=0,o=new Array(l);s<l;++s)u=t[s],o[s]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);e=new Array(l),f(),n=new Array(l),d()}}function f(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}return null==t&&(t=[]),l.initialize=function(t){r=t,h()},l.links=function(e){return arguments.length?(t=e,h(),l):t},l.id=function(t){return arguments.length?(a=t,l):a},l.iterations=function(t){return arguments.length?(c=+t,l):c},l.strength=function(t){return arguments.length?(s="function"==typeof t?t:Or(+t),f(),l):s},l.distance=function(t){return arguments.length?(u="function"==typeof t?t:Or(+t),d(),l):u},l};function Vr(t){return t.x}function Hr(t){return t.y}var Wr,Gr=10,Kr=Math.PI*(3-Math.sqrt(5)),Yr=function(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=Object(cr.c)(),u=Zt(l),c=C("tick","end");function l(){h(),c.call("tick",e),n<r&&(u.stop(),c.call("end",e))}function h(){var e,r,u=t.length;for(n+=(o-n)*i,s.each(function(t){t(n)}),e=0;e<u;++e)null==(r=t[e]).fx?r.x+=r.vx*=a:(r.x=r.fx,r.vx=0),null==r.fy?r.y+=r.vy*=a:(r.y=r.fy,r.vy=0)}function f(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,isNaN(e.x)||isNaN(e.y)){var i=Gr*Math.sqrt(n),o=n*Kr;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function d(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),f(),e={tick:h,restart:function(){return u.restart(l),e},stop:function(){return u.stop(),e},nodes:function(n){return arguments.length?(t=n,f(),s.each(d),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},force:function(t,n){return arguments.length>1?(null==n?s.remove(t):s.set(t,d(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,u,c=0,l=t.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(a=(i=e-(s=t[c]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}},Qr=function(){var t,e,n,r,i=Or(-30),o=1,a=1/0,s=.81;function u(r){var i,o=t.length,a=Dr(t,Vr,Hr).visitAfter(l);for(n=r,i=0;i<o;++i)e=t[i],a.visit(h)}function c(){if(t){var e,n,o=t.length;for(r=new Array(o),e=0;e<o;++e)n=t[e],r[n.index]=+i(n,e,t)}}function l(t){var e,n,i,o,a,s=0,u=0;if(t.length){for(i=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,u+=n,i+=n*e.x,o+=n*e.y);t.x=i/u,t.y=o/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=r[e.data.index]}while(e=e.next)}t.value=s}function h(t,i,u,c){if(!t.value)return!0;var l=t.x-e.x,h=t.y-e.y,f=c-i,d=l*l+h*h;if(f*f/s<d)return d<a&&(0===l&&(d+=(l=Mr())*l),0===h&&(d+=(h=Mr())*h),d<o&&(d=Math.sqrt(o*d)),e.vx+=l*t.value*n/d,e.vy+=h*t.value*n/d),!0;if(!(t.length||d>=a)){(t.data!==e||t.next)&&(0===l&&(d+=(l=Mr())*l),0===h&&(d+=(h=Mr())*h),d<o&&(d=Math.sqrt(o*d)));do{t.data!==e&&(f=r[t.data.index]*n/d,e.vx+=l*f,e.vy+=h*f)}while(t=t.next)}}return u.initialize=function(e){t=e,c()},u.strength=function(t){return arguments.length?(i="function"==typeof t?t:Or(+t),c(),u):i},u.distanceMin=function(t){return arguments.length?(o=t*t,u):Math.sqrt(o)},u.distanceMax=function(t){return arguments.length?(a=t*t,u):Math.sqrt(a)},u.theta=function(t){return arguments.length?(s=t*t,u):Math.sqrt(s)},u},Xr=function(t,e,n){var r,i,o,a=Or(.1);function s(t){for(var a=0,s=r.length;a<s;++a){var u=r[a],c=u.x-e||1e-6,l=u.y-n||1e-6,h=Math.sqrt(c*c+l*l),f=(o[a]-h)*i[a]*t/h;u.vx+=c*f,u.vy+=l*f}}function u(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(r[e],e,r),i[e]=isNaN(o[e])?0:+a(r[e],e,r)}}return"function"!=typeof t&&(t=Or(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){r=t,u()},s.strength=function(t){return arguments.length?(a="function"==typeof t?t:Or(+t),u(),s):a},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:Or(+e),u(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s},Jr=function(t){var e,n,r,i=Or(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=Or(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Or(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"==typeof e?e:Or(+e),a(),o):t},o},Zr=function(t){var e,n,r,i=Or(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=Or(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Or(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Or(+e),a(),o):t},o},ti=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},ei=function(t){return(t=ti(Math.abs(t)))?t[1]:NaN},ni=function(t,e){var n=ti(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},ri={"":function(t,e){t=t.toPrecision(e);t:for(var n,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return ni(100*t,e)},r:ni,s:function(t,e){var n=ti(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Wr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ti(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},ii=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function oi(t){return new ai(t)}function ai(t){if(!(e=ii.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],c=e[8]&&+e[8].slice(1),l=e[9]||"";"n"===l?(u=!0,l="g"):ri[l]||(l=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=c,this.type=l}oi.prototype=ai.prototype,ai.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var si,ui,ci,li=function(t){return t},hi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],fi=function(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}):li,i=t.currency,o=t.decimal,a=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):li,s=t.percent||"%";function u(t){var e=(t=oi(t)).fill,n=t.align,u=t.sign,c=t.symbol,l=t.zero,h=t.width,f=t.comma,d=t.precision,p=t.type,v="$"===c?i[0]:"#"===c&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",g="$"===c?i[1]:/[%p]/.test(p)?s:"",m=ri[p],y=!p||/[defgprs%]/.test(p);function b(t){var i,s,c,b=v,_=g;if("c"===p)_=m(t)+_,t="";else{var w=(t=+t)<0;if(t=m(Math.abs(t),d),w&&0==+t&&(w=!1),b=(w?"("===u?u:"-":"-"===u||"("===u?"":u)+b,_=("s"===p?hi[8+Wr/3]:"")+_+(w&&"("===u?")":""),y)for(i=-1,s=t.length;++i<s;)if(48>(c=t.charCodeAt(i))||c>57){_=(46===c?o+t.slice(i+1):t.slice(i))+_,t=t.slice(0,i);break}}f&&!l&&(t=r(t,1/0));var x=b.length+t.length+_.length,E=x<h?new Array(h-x+1).join(e):"";switch(f&&l&&(t=r(E+t,E.length?h-_.length:1/0),E=""),n){case"<":t=b+t+_+E;break;case"=":t=b+E+t+_;break;case"^":t=E.slice(0,x=E.length>>1)+b+t+_+E.slice(x);break;default:t=E+b+t+_}return a(t)}return d=null==d?p?6:12:/[gprs]/.test(p)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),b.toString=function(){return t+""},b}return{format:u,formatPrefix:function(t,e){var n=u(((t=oi(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ei(e)/3))),i=Math.pow(10,-r),o=hi[8+r/3];return function(t){return n(i*t)+o}}}};function di(t){return si=fi(t),ui=si.format,ci=si.formatPrefix,si}di({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var pi=function(t){return Math.max(0,-ei(Math.abs(t)))},vi=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ei(e)/3)))-ei(Math.abs(t)))},gi=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ei(e)-ei(t))+1},mi=function(){return new yi};function yi(){this.reset()}yi.prototype={constructor:yi,reset:function(){this.s=this.t=0},add:function(t){_i(bi,t,this.t),_i(this,bi.s,this.s),this.s?this.t+=bi.t:this.s=bi.t},valueOf:function(){return this.s}};var bi=new yi;function _i(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var wi=1e-6,xi=Math.PI,Ei=xi/2,Ci=xi/4,ki=2*xi,Ti=180/xi,Si=xi/180,Oi=Math.abs,Mi=Math.atan,Ai=Math.atan2,Pi=Math.cos,Ii=Math.ceil,Ni=Math.exp,Di=(Math.floor,Math.log),Ri=Math.pow,ji=Math.sin,Li=Math.sign||function(t){return t>0?1:t<0?-1:0},Fi=Math.sqrt,Bi=Math.tan;function $i(t){return t>1?0:t<-1?xi:Math.acos(t)}function Ui(t){return t>1?Ei:t<-1?-Ei:Math.asin(t)}function zi(t){return(t=ji(t/2))*t}function qi(){}function Vi(t,e){t&&Wi.hasOwnProperty(t.type)&&Wi[t.type](t,e)}var Hi={Feature:function(t,e){Vi(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Vi(n[r].geometry,e)}},Wi={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Gi(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Gi(n[r],e,0)},Polygon:function(t,e){Ki(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Ki(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Vi(n[r],e)}};function Gi(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Ki(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Gi(t[n],e,1);e.polygonEnd()}var Yi,Qi,Xi,Ji,Zi,to=function(t,e){t&&Hi.hasOwnProperty(t.type)?Hi[t.type](t,e):Vi(t,e)},eo=mi(),no=mi(),ro={point:qi,lineStart:qi,lineEnd:qi,polygonStart:function(){eo.reset(),ro.lineStart=io,ro.lineEnd=oo},polygonEnd:function(){var t=+eo;no.add(t<0?ki+t:t),this.lineStart=this.lineEnd=this.point=qi},sphere:function(){no.add(ki)}};function io(){ro.point=ao}function oo(){so(Yi,Qi)}function ao(t,e){ro.point=so,Yi=t,Qi=e,Xi=t*=Si,Ji=Pi(e=(e*=Si)/2+Ci),Zi=ji(e)}function so(t,e){e=(e*=Si)/2+Ci;var n=(t*=Si)-Xi,r=n>=0?1:-1,i=r*n,o=Pi(e),a=ji(e),s=Zi*a,u=Ji*o+s*Pi(i),c=s*r*ji(i);eo.add(Ai(c,u)),Xi=t,Ji=o,Zi=a}var uo=function(t){return no.reset(),to(t,ro),2*no};function co(t){return[Ai(t[1],t[0]),Ui(t[2])]}function lo(t){var e=t[0],n=t[1],r=Pi(n);return[r*Pi(e),r*ji(e),ji(n)]}function ho(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function fo(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function po(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function vo(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function go(t){var e=Fi(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var mo,yo,bo,_o,wo,xo,Eo,Co,ko,To,So=mi(),Oo={point:Mo,lineStart:Po,lineEnd:Io,polygonStart:function(){Oo.point=No,Oo.lineStart=Do,Oo.lineEnd=Ro,So.reset(),ro.polygonStart()},polygonEnd:function(){ro.polygonEnd(),Oo.point=Mo,Oo.lineStart=Po,Oo.lineEnd=Io,eo<0?(mo=-(bo=180),yo=-(_o=90)):So>wi?_o=90:So<-wi&&(yo=-90),To[0]=mo,To[1]=bo}};function Mo(t,e){ko.push(To=[mo=t,bo=t]),e<yo&&(yo=e),e>_o&&(_o=e)}function Ao(t,e){var n=lo([t*Si,e*Si]);if(Co){var r=fo(Co,n),i=fo([r[1],-r[0],0],r);go(i),i=co(i);var o,a=t-wo,s=a>0?1:-1,u=i[0]*Ti*s,c=Oi(a)>180;c^(s*wo<u&&u<s*t)?(o=i[1]*Ti)>_o&&(_o=o):c^(s*wo<(u=(u+360)%360-180)&&u<s*t)?(o=-i[1]*Ti)<yo&&(yo=o):(e<yo&&(yo=e),e>_o&&(_o=e)),c?t<wo?jo(mo,t)>jo(mo,bo)&&(bo=t):jo(t,bo)>jo(mo,bo)&&(mo=t):bo>=mo?(t<mo&&(mo=t),t>bo&&(bo=t)):t>wo?jo(mo,t)>jo(mo,bo)&&(bo=t):jo(t,bo)>jo(mo,bo)&&(mo=t)}else ko.push(To=[mo=t,bo=t]);e<yo&&(yo=e),e>_o&&(_o=e),Co=n,wo=t}function Po(){Oo.point=Ao}function Io(){To[0]=mo,To[1]=bo,Oo.point=Mo,Co=null}function No(t,e){if(Co){var n=t-wo;So.add(Oi(n)>180?n+(n>0?360:-360):n)}else xo=t,Eo=e;ro.point(t,e),Ao(t,e)}function Do(){ro.lineStart()}function Ro(){No(xo,Eo),ro.lineEnd(),Oi(So)>wi&&(mo=-(bo=180)),To[0]=mo,To[1]=bo,Co=null}function jo(t,e){return(e-=t)<0?e+360:e}function Lo(t,e){return t[0]-e[0]}function Fo(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Bo,$o,Uo,zo,qo,Vo,Ho,Wo,Go,Ko,Yo,Qo,Xo,Jo,Zo,ta,ea=function(t){var e,n,r,i,o,a,s;if(_o=bo=-(mo=yo=1/0),ko=[],to(t,Oo),n=ko.length){for(ko.sort(Lo),e=1,o=[r=ko[0]];e<n;++e)Fo(r,(i=ko[e])[0])||Fo(r,i[1])?(jo(r[0],i[1])>jo(r[0],r[1])&&(r[1]=i[1]),jo(i[0],r[1])>jo(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=jo(r[1],i[0]))>a&&(a=s,mo=i[0],bo=r[1])}return ko=To=null,mo===1/0||yo===1/0?[[NaN,NaN],[NaN,NaN]]:[[mo,yo],[bo,_o]]},na={sphere:qi,point:ra,lineStart:oa,lineEnd:ua,polygonStart:function(){na.lineStart=ca,na.lineEnd=la},polygonEnd:function(){na.lineStart=oa,na.lineEnd=ua}};function ra(t,e){t*=Si;var n=Pi(e*=Si);ia(n*Pi(t),n*ji(t),ji(e))}function ia(t,e,n){Uo+=(t-Uo)/++Bo,zo+=(e-zo)/Bo,qo+=(n-qo)/Bo}function oa(){na.point=aa}function aa(t,e){t*=Si;var n=Pi(e*=Si);Jo=n*Pi(t),Zo=n*ji(t),ta=ji(e),na.point=sa,ia(Jo,Zo,ta)}function sa(t,e){t*=Si;var n=Pi(e*=Si),r=n*Pi(t),i=n*ji(t),o=ji(e),a=Ai(Fi((a=Zo*o-ta*i)*a+(a=ta*r-Jo*o)*a+(a=Jo*i-Zo*r)*a),Jo*r+Zo*i+ta*o);$o+=a,Vo+=a*(Jo+(Jo=r)),Ho+=a*(Zo+(Zo=i)),Wo+=a*(ta+(ta=o)),ia(Jo,Zo,ta)}function ua(){na.point=ra}function ca(){na.point=ha}function la(){fa(Qo,Xo),na.point=ra}function ha(t,e){Qo=t,Xo=e,t*=Si,e*=Si,na.point=fa;var n=Pi(e);Jo=n*Pi(t),Zo=n*ji(t),ta=ji(e),ia(Jo,Zo,ta)}function fa(t,e){t*=Si;var n=Pi(e*=Si),r=n*Pi(t),i=n*ji(t),o=ji(e),a=Zo*o-ta*i,s=ta*r-Jo*o,u=Jo*i-Zo*r,c=Fi(a*a+s*s+u*u),l=Ui(c),h=c&&-l/c;Go+=h*a,Ko+=h*s,Yo+=h*u,$o+=l,Vo+=l*(Jo+(Jo=r)),Ho+=l*(Zo+(Zo=i)),Wo+=l*(ta+(ta=o)),ia(Jo,Zo,ta)}var da=function(t){Bo=$o=Uo=zo=qo=Vo=Ho=Wo=Go=Ko=Yo=0,to(t,na);var e=Go,n=Ko,r=Yo,i=e*e+n*n+r*r;return i<1e-12&&(e=Vo,n=Ho,r=Wo,$o<wi&&(e=Uo,n=zo,r=qo),(i=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[Ai(n,e)*Ti,Ui(r/Fi(i))*Ti]},pa=function(t){return function(){return t}},va=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n};function ga(t,e){return[t>xi?t-ki:t<-xi?t+ki:t,e]}function ma(t,e,n){return(t%=ki)?e||n?va(ba(t),_a(e,n)):ba(t):e||n?_a(e,n):ga}function ya(t){return function(e,n){return[(e+=t)>xi?e-ki:e<-xi?e+ki:e,n]}}function ba(t){var e=ya(t);return e.invert=ya(-t),e}function _a(t,e){var n=Pi(t),r=ji(t),i=Pi(e),o=ji(e);function a(t,e){var a=Pi(e),s=Pi(t)*a,u=ji(t)*a,c=ji(e),l=c*n+s*r;return[Ai(u*i-l*o,s*n-c*r),Ui(l*i+u*o)]}return a.invert=function(t,e){var a=Pi(e),s=Pi(t)*a,u=ji(t)*a,c=ji(e),l=c*i-u*o;return[Ai(u*i+c*o,s*n+l*r),Ui(l*n-s*r)]},a}ga.invert=ga;var wa=function(t){function e(e){return(e=t(e[0]*Si,e[1]*Si))[0]*=Ti,e[1]*=Ti,e}return t=ma(t[0]*Si,t[1]*Si,t.length>2?t[2]*Si:0),e.invert=function(e){return(e=t.invert(e[0]*Si,e[1]*Si))[0]*=Ti,e[1]*=Ti,e},e};function xa(t,e,n,r,i,o){if(n){var a=Pi(e),s=ji(e),u=r*n;null==i?(i=e+r*ki,o=e-u/2):(i=Ea(a,i),o=Ea(a,o),(r>0?i<o:i>o)&&(i+=r*ki));for(var c,l=i;r>0?l>o:l<o;l-=u)c=co([a,-s*Pi(l),-s*ji(l)]),t.point(c[0],c[1])}}function Ea(t,e){(e=lo(e))[0]-=t,go(e);var n=$i(-e[1]);return((-e[2]<0?-n:n)+ki-wi)%ki}var Ca=function(){var t,e,n=pa([0,0]),r=pa(90),i=pa(6),o={point:function(n,r){t.push(n=e(n,r)),n[0]*=Ti,n[1]*=Ti}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*Si,u=i.apply(this,arguments)*Si;return t=[],e=ma(-a[0]*Si,-a[1]*Si,0).invert,xa(o,s,u,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return a.center=function(t){return arguments.length?(n="function"==typeof t?t:pa([+t[0],+t[1]]),a):n},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:pa(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:pa(+t),a):i},a},ka=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:qi,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},Ta=function(t,e){return Oi(t[0]-e[0])<wi&&Oi(t[1]-e[1])<wi};function Sa(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var Oa=function(t,e,n,r,i){var o,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Ta(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else s.push(n=new Sa(r,t,null,!0)),u.push(n.o=new Sa(r,null,n,!1)),s.push(n=new Sa(a,t,null,!1)),u.push(n.o=new Sa(a,null,n,!0))}}),s.length){for(u.sort(e),Ma(s),Ma(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var c,l,h=s[0];;){for(var f=h,d=!0;f.v;)if((f=f.n)===h)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(o=0,a=c.length;o<a;++o)i.point((l=c[o])[0],l[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(c=f.p.z,o=c.length-1;o>=0;--o)i.point((l=c[o])[0],l[1]);else r(f.x,f.p.x,-1,i);f=f.p}c=(f=f.o).z,d=!d}while(!f.v);i.lineEnd()}}};function Ma(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var Aa=mi(),Pa=function(t,e){var n=e[0],r=e[1],i=[ji(n),-Pi(n),0],o=0,a=0;Aa.reset();for(var s=0,u=t.length;s<u;++s)if(l=(c=t[s]).length)for(var c,l,h=c[l-1],f=h[0],d=h[1]/2+Ci,p=ji(d),v=Pi(d),g=0;g<l;++g,f=y,p=_,v=w,h=m){var m=c[g],y=m[0],b=m[1]/2+Ci,_=ji(b),w=Pi(b),x=y-f,E=x>=0?1:-1,C=E*x,k=C>xi,T=p*_;if(Aa.add(Ai(T*E*ji(C),v*w+T*Pi(C))),o+=k?x+E*ki:x,k^f>=n^y>=n){var S=fo(lo(h),lo(m));go(S);var O=fo(i,S);go(O);var M=(k^x>=0?-1:1)*Ui(O[2]);(r>M||r===M&&(S[0]||S[1]))&&(a+=k^x>=0?1:-1)}}return(o<-wi||o<wi&&Aa<-wi)^1&a},Ia=function(t,e,n,i){return function(o){var a,s,u,c=e(o),l=ka(),h=e(l),f=!1,d={point:p,lineStart:g,lineEnd:m,polygonStart:function(){d.point=y,d.lineStart=b,d.lineEnd=_,s=[],a=[]},polygonEnd:function(){d.point=p,d.lineStart=g,d.lineEnd=m,s=Object(r.n)(s);var t=Pa(a,i);s.length?(f||(o.polygonStart(),f=!0),Oa(s,Da,t,n,o)):t&&(f||(o.polygonStart(),f=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),f&&(o.polygonEnd(),f=!1),s=a=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function p(e,n){t(e,n)&&o.point(e,n)}function v(t,e){c.point(t,e)}function g(){d.point=v,c.lineStart()}function m(){d.point=p,c.lineEnd()}function y(t,e){u.push([t,e]),h.point(t,e)}function b(){h.lineStart(),u=[]}function _(){y(u[0][0],u[0][1]),h.lineEnd();var t,e,n,r,i=h.clean(),c=l.result(),d=c.length;if(u.pop(),a.push(u),u=null,d)if(1&i){if((e=(n=c[0]).length-1)>0){for(f||(o.polygonStart(),f=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else d>1&&2&i&&c.push(c.pop().concat(c.shift())),s.push(c.filter(Na))}return d}};function Na(t){return t.length>1}function Da(t,e){return((t=t.x)[0]<0?t[1]-Ei-wi:Ei-t[1])-((e=e.x)[0]<0?e[1]-Ei-wi:Ei-e[1])}var Ra=Ia(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?xi:-xi,u=Oi(o-n);Oi(u-xi)<wi?(t.point(n,r=(r+a)/2>0?Ei:-Ei),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=xi&&(Oi(n-i)<wi&&(n-=i*wi),Oi(o-s)<wi&&(o-=s*wi),r=function(t,e,n,r){var i,o,a=ji(t-n);return Oi(a)>wi?Mi((ji(e)*(o=Pi(r))*ji(n)-ji(r)*(i=Pi(e))*ji(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*Ei,r.point(-xi,i),r.point(0,i),r.point(xi,i),r.point(xi,0),r.point(xi,-i),r.point(0,-i),r.point(-xi,-i),r.point(-xi,0),r.point(-xi,i);else if(Oi(t[0]-e[0])>wi){var o=t[0]<e[0]?xi:-xi;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-xi,-Ei]);var ja=function(t){var e=Pi(t),n=6*Si,r=e>0,i=Oi(e)>wi;function o(t,n){return Pi(t)*Pi(n)>e}function a(t,n,r){var i=[1,0,0],o=fo(lo(t),lo(n)),a=ho(o,o),s=o[0],u=a-s*s;if(!u)return!r&&t;var c=e*a/u,l=-e*s/u,h=fo(i,o),f=vo(i,c);po(f,vo(o,l));var d=h,p=ho(f,d),v=ho(d,d),g=p*p-v*(ho(f,f)-1);if(!(g<0)){var m=Fi(g),y=vo(d,(-p-m)/v);if(po(y,f),y=co(y),!r)return y;var b,_=t[0],w=n[0],x=t[1],E=n[1];w<_&&(b=_,_=w,w=b);var C=w-_,k=Oi(C-xi)<wi;if(!k&&E<x&&(b=x,x=E,E=b),k||C<wi?k?x+E>0^y[1]<(Oi(y[0]-_)<wi?x:E):x<=y[1]&&y[1]<=E:C>xi^(_<=y[0]&&y[0]<=w)){var T=vo(d,(-p+m)/v);return po(T,f),[y,co(T)]}}}function s(e,n){var i=r?t:xi-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return Ia(o,function(t){var e,n,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(h,f){var d,p=[h,f],v=o(h,f),g=r?v?0:s(h,f):v?s(h+(h<0?xi:-xi),f):0;if(!e&&(c=u=v)&&t.lineStart(),v!==u&&(!(d=a(e,p))||Ta(e,d)||Ta(p,d))&&(p[0]+=wi,p[1]+=wi,v=o(p[0],p[1])),v!==u)l=0,v?(t.lineStart(),d=a(p,e),t.point(d[0],d[1])):(d=a(e,p),t.point(d[0],d[1]),t.lineEnd()),e=d;else if(i&&e&&r^v){var m;g&n||!(m=a(p,e,!0))||(l=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!v||e&&Ta(e,p)||t.point(p[0],p[1]),e=p,u=v,n=g},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return l|(c&&u)<<1}}},function(e,r,i,o){xa(o,t,n,i,e,r)},r?[0,-t]:[-xi,t-xi])},La=function(t,e,n,r,i,o){var a,s=t[0],u=t[1],c=0,l=1,h=e[0]-s,f=e[1]-u;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<l&&(l=a)}else if(h>0){if(a>l)return;a>c&&(c=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>l)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<l&&(l=a)}if(a=r-u,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>c&&(c=a)}if(a=o-u,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<l&&(l=a)}return c>0&&(t[0]=s+c*h,t[1]=u+c*f),l<1&&(e[0]=s+l*h,e[1]=u+l*f),!0}}}}},Fa=1e9,Ba=-Fa;function $a(t,e,n,i){function o(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function a(r,o,a,u){var l=0,h=0;if(null==r||(l=s(r,a))!==(h=s(o,a))||c(r,o)<0^a>0)do{u.point(0===l||3===l?t:n,l>1?i:e)}while((l=(l+a+4)%4)!==h);else u.point(o[0],o[1])}function s(r,i){return Oi(r[0]-t)<wi?i>0?0:3:Oi(r[0]-n)<wi?i>0?2:1:Oi(r[1]-e)<wi?i>0?1:0:i>0?3:2}function u(t,e){return c(t.x,e.x)}function c(t,e){var n=s(t,1),r=s(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){var c,l,h,f,d,p,v,g,m,y,b,_=s,w=ka(),x={point:E,lineStart:function(){x.point=C,l&&l.push(h=[]);y=!0,m=!1,v=g=NaN},lineEnd:function(){c&&(C(f,d),p&&m&&w.rejoin(),c.push(w.result()));x.point=E,m&&_.lineEnd()},polygonStart:function(){_=w,c=[],l=[],b=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=l.length;n<r;++n)for(var o,a,s=l[n],u=1,c=s.length,h=s[0],f=h[0],d=h[1];u<c;++u)o=f,a=d,h=s[u],f=h[0],d=h[1],a<=i?d>i&&(f-o)*(i-a)>(d-a)*(t-o)&&++e:d<=i&&(f-o)*(i-a)<(d-a)*(t-o)&&--e;return e}(),n=b&&e,o=(c=Object(r.n)(c)).length;(n||o)&&(s.polygonStart(),n&&(s.lineStart(),a(null,null,1,s),s.lineEnd()),o&&Oa(c,u,e,a,s),s.polygonEnd());_=s,c=l=h=null}};function E(t,e){o(t,e)&&_.point(t,e)}function C(r,a){var s=o(r,a);if(l&&h.push([r,a]),y)f=r,d=a,p=s,y=!1,s&&(_.lineStart(),_.point(r,a));else if(s&&m)_.point(r,a);else{var u=[v=Math.max(Ba,Math.min(Fa,v)),g=Math.max(Ba,Math.min(Fa,g))],c=[r=Math.max(Ba,Math.min(Fa,r)),a=Math.max(Ba,Math.min(Fa,a))];La(u,c,t,e,n,i)?(m||(_.lineStart(),_.point(u[0],u[1])),_.point(c[0],c[1]),s||_.lineEnd(),b=!1):s&&(_.lineStart(),_.point(r,a),b=!1)}v=r,g=a,m=s}return x}}var Ua,za,qa,Va=function(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=$a(r,i,o,a)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[r,i],[o,a]]}}},Ha=mi(),Wa={sphere:qi,point:qi,lineStart:function(){Wa.point=Ka,Wa.lineEnd=Ga},lineEnd:qi,polygonStart:qi,polygonEnd:qi};function Ga(){Wa.point=Wa.lineEnd=qi}function Ka(t,e){Ua=t*=Si,za=ji(e*=Si),qa=Pi(e),Wa.point=Ya}function Ya(t,e){t*=Si;var n=ji(e*=Si),r=Pi(e),i=Oi(t-Ua),o=Pi(i),a=r*ji(i),s=qa*n-za*r*o,u=za*n+qa*r*o;Ha.add(Ai(Fi(a*a+s*s),u)),Ua=t,za=n,qa=r}var Qa=function(t){return Ha.reset(),to(t,Wa),+Ha},Xa=[null,null],Ja={type:"LineString",coordinates:Xa},Za=function(t,e){return Xa[0]=t,Xa[1]=e,Qa(Ja)},ts={Feature:function(t,e){return ns(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(ns(n[r].geometry,e))return!0;return!1}},es={Sphere:function(){return!0},Point:function(t,e){return rs(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(rs(n[r],e))return!0;return!1},LineString:function(t,e){return is(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(is(n[r],e))return!0;return!1},Polygon:function(t,e){return os(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(os(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(ns(n[r],e))return!0;return!1}};function ns(t,e){return!(!t||!es.hasOwnProperty(t.type))&&es[t.type](t,e)}function rs(t,e){return 0===Za(t,e)}function is(t,e){var n=Za(t[0],t[1]);return Za(t[0],e)+Za(e,t[1])<=n+wi}function os(t,e){return!!Pa(t.map(as),ss(e))}function as(t){return(t=t.map(ss)).pop(),t}function ss(t){return[t[0]*Si,t[1]*Si]}var us=function(t,e){return(t&&ts.hasOwnProperty(t.type)?ts[t.type]:ns)(t,e)};function cs(t,e,n){var i=Object(r.s)(t,e-wi,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function ls(t,e,n){var i=Object(r.s)(t,e-wi,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function hs(){var t,e,n,i,o,a,s,u,c,l,h,f,d=10,p=d,v=90,g=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return Object(r.s)(Ii(i/v)*v,n,v).map(h).concat(Object(r.s)(Ii(u/g)*g,s,g).map(f)).concat(Object(r.s)(Ii(e/d)*d,t,d).filter(function(t){return Oi(t%v)>wi}).map(c)).concat(Object(r.s)(Ii(a/p)*p,o,p).filter(function(t){return Oi(t%g)>wi}).map(l))}return y.lines=function(){return b().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(f(s).slice(1),h(n).reverse().slice(1),f(u).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],u=+t[0][1],s=+t[1][1],i>n&&(t=i,i=n,n=t),u>s&&(t=u,u=s,s=t),y.precision(m)):[[i,u],[n,s]]},y.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],a=+n[0][1],o=+n[1][1],e>t&&(n=e,e=t,t=n),a>o&&(n=a,a=o,o=n),y.precision(m)):[[e,a],[t,o]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(v=+t[0],g=+t[1],y):[v,g]},y.stepMinor=function(t){return arguments.length?(d=+t[0],p=+t[1],y):[d,p]},y.precision=function(r){return arguments.length?(m=+r,c=cs(a,o,90),l=ls(e,t,m),h=cs(u,s,90),f=ls(i,n,m),y):m},y.extentMajor([[-180,-90+wi],[180,90-wi]]).extentMinor([[-180,-80-wi],[180,80+wi]])}function fs(){return hs()()}var ds,ps,vs,gs,ms=function(t,e){var n=t[0]*Si,r=t[1]*Si,i=e[0]*Si,o=e[1]*Si,a=Pi(r),s=ji(r),u=Pi(o),c=ji(o),l=a*Pi(n),h=a*ji(n),f=u*Pi(i),d=u*ji(i),p=2*Ui(Fi(zi(o-r)+a*u*zi(i-n))),v=ji(p),g=p?function(t){var e=ji(t*=p)/v,n=ji(p-t)/v,r=n*l+e*f,i=n*h+e*d,o=n*s+e*c;return[Ai(i,r)*Ti,Ai(o,Fi(r*r+i*i))*Ti]}:function(){return[n*Ti,r*Ti]};return g.distance=p,g},ys=function(t){return t},bs=mi(),_s=mi(),ws={point:qi,lineStart:qi,lineEnd:qi,polygonStart:function(){ws.lineStart=xs,ws.lineEnd=ks},polygonEnd:function(){ws.lineStart=ws.lineEnd=ws.point=qi,bs.add(Oi(_s)),_s.reset()},result:function(){var t=bs/2;return bs.reset(),t}};function xs(){ws.point=Es}function Es(t,e){ws.point=Cs,ds=vs=t,ps=gs=e}function Cs(t,e){_s.add(gs*t-vs*e),vs=t,gs=e}function ks(){Cs(ds,ps)}var Ts=ws,Ss=1/0,Os=Ss,Ms=-Ss,As=Ms;var Ps,Is,Ns,Ds,Rs={point:function(t,e){t<Ss&&(Ss=t);t>Ms&&(Ms=t);e<Os&&(Os=e);e>As&&(As=e)},lineStart:qi,lineEnd:qi,polygonStart:qi,polygonEnd:qi,result:function(){var t=[[Ss,Os],[Ms,As]];return Ms=As=-(Os=Ss=1/0),t}},js=0,Ls=0,Fs=0,Bs=0,$s=0,Us=0,zs=0,qs=0,Vs=0,Hs={point:Ws,lineStart:Gs,lineEnd:Qs,polygonStart:function(){Hs.lineStart=Xs,Hs.lineEnd=Js},polygonEnd:function(){Hs.point=Ws,Hs.lineStart=Gs,Hs.lineEnd=Qs},result:function(){var t=Vs?[zs/Vs,qs/Vs]:Us?[Bs/Us,$s/Us]:Fs?[js/Fs,Ls/Fs]:[NaN,NaN];return js=Ls=Fs=Bs=$s=Us=zs=qs=Vs=0,t}};function Ws(t,e){js+=t,Ls+=e,++Fs}function Gs(){Hs.point=Ks}function Ks(t,e){Hs.point=Ys,Ws(Ns=t,Ds=e)}function Ys(t,e){var n=t-Ns,r=e-Ds,i=Fi(n*n+r*r);Bs+=i*(Ns+t)/2,$s+=i*(Ds+e)/2,Us+=i,Ws(Ns=t,Ds=e)}function Qs(){Hs.point=Ws}function Xs(){Hs.point=Zs}function Js(){tu(Ps,Is)}function Zs(t,e){Hs.point=tu,Ws(Ps=Ns=t,Is=Ds=e)}function tu(t,e){var n=t-Ns,r=e-Ds,i=Fi(n*n+r*r);Bs+=i*(Ns+t)/2,$s+=i*(Ds+e)/2,Us+=i,zs+=(i=Ds*t-Ns*e)*(Ns+t),qs+=i*(Ds+e),Vs+=3*i,Ws(Ns=t,Ds=e)}var eu=Hs;function nu(t){this._context=t}nu.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,ki)}},result:qi};var ru,iu,ou,au,su,uu=mi(),cu={point:qi,lineStart:function(){cu.point=lu},lineEnd:function(){ru&&hu(iu,ou),cu.point=qi},polygonStart:function(){ru=!0},polygonEnd:function(){ru=null},result:function(){var t=+uu;return uu.reset(),t}};function lu(t,e){cu.point=hu,iu=au=t,ou=su=e}function hu(t,e){au-=t,su-=e,uu.add(Fi(au*au+su*su)),au=t,su=e}var fu=cu;function du(){this._string=[]}function pu(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}du.prototype={_radius:4.5,_circle:pu(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=pu(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var vu=function(t,e){var n,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),to(t,n(r))),r.result()}return o.area=function(t){return to(t,n(Ts)),Ts.result()},o.measure=function(t){return to(t,n(fu)),fu.result()},o.bounds=function(t){return to(t,n(Rs)),Rs.result()},o.centroid=function(t){return to(t,n(eu)),eu.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,ys):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new du):new nu(e=t),"function"!=typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)},gu=function(t){return{stream:mu(t)}};function mu(t){return function(e){var n=new yu;for(var r in t)n[r]=t[r];return n.stream=e,n}}function yu(){}function bu(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),to(n,t.stream(Rs)),e(Rs.result()),null!=r&&t.clipExtent(r),t}function _u(t,e,n){return bu(t,function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])},n)}function wu(t,e,n){return _u(t,[[0,0],e],n)}function xu(t,e,n){return bu(t,function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])},n)}function Eu(t,e,n){return bu(t,function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])},n)}yu.prototype={constructor:yu,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Cu=16,ku=Pi(30*Si),Tu=function(t,e){return+e?function(t,e){function n(r,i,o,a,s,u,c,l,h,f,d,p,v,g){var m=c-r,y=l-i,b=m*m+y*y;if(b>4*e&&v--){var _=a+f,w=s+d,x=u+p,E=Fi(_*_+w*w+x*x),C=Ui(x/=E),k=Oi(Oi(x)-1)<wi||Oi(o-h)<wi?(o+h)/2:Ai(w,_),T=t(k,C),S=T[0],O=T[1],M=S-r,A=O-i,P=y*M-m*A;(P*P/b>e||Oi((m*M+y*A)/b-.5)>.3||a*f+s*d+u*p<ku)&&(n(r,i,o,a,s,u,S,O,k,_/=E,w/=E,x,v,g),g.point(S,O),n(S,O,k,_,w,x,c,l,h,f,d,p,v,g))}}return function(e){var r,i,o,a,s,u,c,l,h,f,d,p,v={point:g,lineStart:m,lineEnd:b,polygonStart:function(){e.polygonStart(),v.lineStart=_},polygonEnd:function(){e.polygonEnd(),v.lineStart=m}};function g(n,r){n=t(n,r),e.point(n[0],n[1])}function m(){l=NaN,v.point=y,e.lineStart()}function y(r,i){var o=lo([r,i]),a=t(r,i);n(l,h,c,f,d,p,l=a[0],h=a[1],c=r,f=o[0],d=o[1],p=o[2],Cu,e),e.point(l,h)}function b(){v.point=g,e.lineEnd()}function _(){m(),v.point=w,v.lineEnd=x}function w(t,e){y(r=t,e),i=l,o=h,a=f,s=d,u=p,v.point=y}function x(){n(l,h,c,f,d,p,i,o,r,a,s,u,Cu,e),v.lineEnd=b,b()}return v}}(t,e):function(t){return mu({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)};var Su=mu({point:function(t,e){this.stream.point(t*Si,e*Si)}});function Ou(t){return Mu(function(){return t})()}function Mu(t){var e,n,r,i,o,a,s,u,c,l,h=150,f=480,d=250,p=0,v=0,g=0,m=0,y=0,b=null,_=Ra,w=null,x=ys,E=.5,C=Tu(S,E);function k(t){return[(t=o(t[0]*Si,t[1]*Si))[0]*h+n,r-t[1]*h]}function T(t){return(t=o.invert((t[0]-n)/h,(r-t[1])/h))&&[t[0]*Ti,t[1]*Ti]}function S(t,i){return[(t=e(t,i))[0]*h+n,r-t[1]*h]}function O(){o=va(i=ma(g,m,y),e);var t=e(p,v);return n=f-t[0]*h,r=d+t[1]*h,M()}function M(){return c=l=null,k}return k.stream=function(t){return c&&l===t?c:c=Su(function(t){return mu({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(i)(_(C(x(l=t)))))},k.preclip=function(t){return arguments.length?(_=t,b=void 0,M()):_},k.postclip=function(t){return arguments.length?(x=t,w=a=s=u=null,M()):x},k.clipAngle=function(t){return arguments.length?(_=+t?ja(b=t*Si):(b=null,Ra),M()):b*Ti},k.clipExtent=function(t){return arguments.length?(x=null==t?(w=a=s=u=null,ys):$a(w=+t[0][0],a=+t[0][1],s=+t[1][0],u=+t[1][1]),M()):null==w?null:[[w,a],[s,u]]},k.scale=function(t){return arguments.length?(h=+t,O()):h},k.translate=function(t){return arguments.length?(f=+t[0],d=+t[1],O()):[f,d]},k.center=function(t){return arguments.length?(p=t[0]%360*Si,v=t[1]%360*Si,O()):[p*Ti,v*Ti]},k.rotate=function(t){return arguments.length?(g=t[0]%360*Si,m=t[1]%360*Si,y=t.length>2?t[2]%360*Si:0,O()):[g*Ti,m*Ti,y*Ti]},k.precision=function(t){return arguments.length?(C=Tu(S,E=t*t),M()):Fi(E)},k.fitExtent=function(t,e){return _u(k,t,e)},k.fitSize=function(t,e){return wu(k,t,e)},k.fitWidth=function(t,e){return xu(k,t,e)},k.fitHeight=function(t,e){return Eu(k,t,e)},function(){return e=t.apply(this,arguments),k.invert=e.invert&&T,O()}}function Au(t){var e=0,n=xi/3,r=Mu(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Si,n=t[1]*Si):[e*Ti,n*Ti]},i}function Pu(t,e){var n=ji(t),r=(n+ji(e))/2;if(Oi(r)<wi)return function(t){var e=Pi(t);function n(t,n){return[t*e,ji(n)/e]}return n.invert=function(t,n){return[t/e,Ui(n*e)]},n}(t);var i=1+n*(2*r-n),o=Fi(i)/r;function a(t,e){var n=Fi(i-2*r*ji(e))/r;return[n*ji(t*=r),o-n*Pi(t)]}return a.invert=function(t,e){var n=o-e;return[Ai(t,Oi(n))/r*Li(n),Ui((i-(t*t+n*n)*r*r)/(2*r))]},a}var Iu=function(){return Au(Pu).scale(155.424).center([0,33.6442])},Nu=function(){return Iu().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var Du=function(){var t,e,n,r,i,o,a=Nu(),s=Iu().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=Iu().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function l(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function h(){return t=e=null,l}return l.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:a).invert(t)},l.stream=function(n){return t&&e===n?t:(r=[a.stream(e=n),s.stream(n),u.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},l.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),u.precision(t),h()):a.precision()},l.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),u.scale(t),l.translate(a.translate())):a.scale()},l.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],l=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,l-.238*e],[o+.455*e,l+.238*e]]).stream(c),r=s.translate([o-.307*e,l+.201*e]).clipExtent([[o-.425*e+wi,l+.12*e+wi],[o-.214*e-wi,l+.234*e-wi]]).stream(c),i=u.translate([o-.205*e,l+.212*e]).clipExtent([[o-.214*e+wi,l+.166*e+wi],[o-.115*e-wi,l+.234*e-wi]]).stream(c),h()},l.fitExtent=function(t,e){return _u(l,t,e)},l.fitSize=function(t,e){return wu(l,t,e)},l.fitWidth=function(t,e){return xu(l,t,e)},l.fitHeight=function(t,e){return Eu(l,t,e)},l.scale(1070)};function Ru(t){return function(e,n){var r=Pi(e),i=Pi(n),o=t(r*i);return[o*i*ji(e),o*ji(n)]}}function ju(t){return function(e,n){var r=Fi(e*e+n*n),i=t(r),o=ji(i),a=Pi(i);return[Ai(e*o,r*a),Ui(r&&n*o/r)]}}var Lu=Ru(function(t){return Fi(2/(1+t))});Lu.invert=ju(function(t){return 2*Ui(t/2)});var Fu=function(){return Ou(Lu).scale(124.75).clipAngle(179.999)},Bu=Ru(function(t){return(t=$i(t))&&t/ji(t)});Bu.invert=ju(function(t){return t});var $u=function(){return Ou(Bu).scale(79.4188).clipAngle(179.999)};function Uu(t,e){return[t,Di(Bi((Ei+e)/2))]}Uu.invert=function(t,e){return[t,2*Mi(Ni(e))-Ei]};var zu=function(){return qu(Uu).scale(961/ki)};function qu(t){var e,n,r,i=Ou(t),o=i.center,a=i.scale,s=i.translate,u=i.clipExtent,c=null;function l(){var o=xi*a(),s=i(wa(i.rotate()).invert([0,0]));return u(null==c?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===Uu?[[Math.max(s[0]-o,c),e],[Math.min(s[0]+o,n),r]]:[[c,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),l()):a()},i.translate=function(t){return arguments.length?(s(t),l()):s()},i.center=function(t){return arguments.length?(o(t),l()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=e=n=r=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),l()):null==c?null:[[c,e],[n,r]]},l()}function Vu(t){return Bi((Ei+t)/2)}function Hu(t,e){var n=Pi(t),r=t===e?ji(t):Di(n/Pi(e))/Di(Vu(e)/Vu(t)),i=n*Ri(Vu(t),r)/r;if(!r)return Uu;function o(t,e){i>0?e<-Ei+wi&&(e=-Ei+wi):e>Ei-wi&&(e=Ei-wi);var n=i/Ri(Vu(e),r);return[n*ji(r*t),i-n*Pi(r*t)]}return o.invert=function(t,e){var n=i-e,o=Li(r)*Fi(t*t+n*n);return[Ai(t,Oi(n))/r*Li(n),2*Mi(Ri(i/o,1/r))-Ei]},o}var Wu=function(){return Au(Hu).scale(109.5).parallels([30,30])};function Gu(t,e){return[t,e]}Gu.invert=Gu;var Ku=function(){return Ou(Gu).scale(152.63)};function Yu(t,e){var n=Pi(t),r=t===e?ji(t):(n-Pi(e))/(e-t),i=n/r+t;if(Oi(r)<wi)return Gu;function o(t,e){var n=i-e,o=r*t;return[n*ji(o),i-n*Pi(o)]}return o.invert=function(t,e){var n=i-e;return[Ai(t,Oi(n))/r*Li(n),i-Li(r)*Fi(t*t+n*n)]},o}var Qu=function(){return Au(Yu).scale(131.154).center([0,13.9389])};function Xu(t,e){var n=Pi(e),r=Pi(t)*n;return[n*ji(t)/r,ji(e)/r]}Xu.invert=ju(Mi);var Ju=function(){return Ou(Xu).scale(144.049).clipAngle(60)};function Zu(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?ys:mu({point:function(i,o){this.stream.point(i*t+n,o*e+r)}})}var tc=function(){var t,e,n,r,i,o,a=1,s=0,u=0,c=1,l=1,h=ys,f=null,d=ys;function p(){return r=i=null,o}return o={stream:function(t){return r&&i===t?r:r=h(d(i=t))},postclip:function(r){return arguments.length?(d=r,f=t=e=n=null,p()):d},clipExtent:function(r){return arguments.length?(d=null==r?(f=t=e=n=null,ys):$a(f=+r[0][0],t=+r[0][1],e=+r[1][0],n=+r[1][1]),p()):null==f?null:[[f,t],[e,n]]},scale:function(t){return arguments.length?(h=Zu((a=+t)*c,a*l,s,u),p()):a},translate:function(t){return arguments.length?(h=Zu(a*c,a*l,s=+t[0],u=+t[1]),p()):[s,u]},reflectX:function(t){return arguments.length?(h=Zu(a*(c=t?-1:1),a*l,s,u),p()):c<0},reflectY:function(t){return arguments.length?(h=Zu(a*c,a*(l=t?-1:1),s,u),p()):l<0},fitExtent:function(t,e){return _u(o,t,e)},fitSize:function(t,e){return wu(o,t,e)},fitWidth:function(t,e){return xu(o,t,e)},fitHeight:function(t,e){return Eu(o,t,e)}}};function ec(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}ec.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Oi(n)>wi&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var nc=function(){return Ou(ec).scale(175.295)};function rc(t,e){return[Pi(e)*ji(t),ji(e)]}rc.invert=ju(Ui);var ic=function(){return Ou(rc).scale(249.5).clipAngle(90+wi)};function oc(t,e){var n=Pi(e),r=1+Pi(t)*n;return[n*ji(t)/r,ji(e)/r]}oc.invert=ju(function(t){return 2*Mi(t)});var ac=function(){return Ou(oc).scale(250).clipAngle(142)};function sc(t,e){return[Di(Bi((Ei+e)/2)),-t]}sc.invert=function(t,e){return[-e,2*Mi(Ni(t))-Ei]};var uc=function(){var t=qu(sc),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};function cc(t,e){return t.parent===e.parent?1:2}function lc(t,e){return t+e.x}function hc(t,e){return Math.max(t,e.y)}var fc=function(){var t=cc,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter(function(e){var n=e.children;n?(e.x=function(t){return t.reduce(lc,0)/t.length}(n),e.y=function(t){return 1+t.reduce(hc,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)});var s=function(t){for(var e;e=t.children;)t=e[0];return t}(i),u=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),c=s.x-t(s,u)/2,l=u.x+t(u,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-c)/(l-c)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i};function dc(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function pc(t,e){var n,r,i,o,a,s=new yc(t),u=+t.value&&(s.value=t.value),c=[s];for(null==e&&(e=vc);n=c.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)c.push(r=n.children[o]=new yc(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(mc)}function vc(t){return t.children}function gc(t){t.data=t.data.data}function mc(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function yc(t){this.data=t,this.depth=this.height=0,this.parent=null}yc.prototype=pc.prototype={constructor:yc,count:function(){return this.eachAfter(dc)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return pc(this).eachBefore(gc)}};var bc=Array.prototype.slice;var _c=function(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(bc.call(t))).length,o=[];r<i;)e=t[r],n&&Ec(n,e)?++r:(n=kc(o=wc(o,e)),r=0);return n};function wc(t,e){var n,r;if(Cc(e,t))return[e];for(n=0;n<t.length;++n)if(xc(e,t[n])&&Cc(Tc(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(xc(Tc(t[n],t[r]),e)&&xc(Tc(t[n],e),t[r])&&xc(Tc(t[r],e),t[n])&&Cc(Sc(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function xc(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Ec(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Cc(t,e){for(var n=0;n<e.length;++n)if(!Ec(t,e[n]))return!1;return!0}function kc(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return Tc(t[0],t[1]);case 3:return Sc(t[0],t[1],t[2])}var e}function Tc(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,c=a-r,l=s-i,h=Math.sqrt(u*u+c*c);return{x:(n+o+u/h*l)/2,y:(r+a+c/h*l)/2,r:(h+i+s)/2}}function Sc(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,c=n.x,l=n.y,h=n.r,f=r-a,d=r-c,p=i-s,v=i-l,g=u-o,m=h-o,y=r*r+i*i-o*o,b=y-a*a-s*s+u*u,_=y-c*c-l*l+h*h,w=d*p-f*v,x=(p*_-v*b)/(2*w)-r,E=(v*g-p*m)/w,C=(d*b-f*_)/(2*w)-i,k=(f*m-d*g)/w,T=E*E+k*k-1,S=2*(o+x*E+C*k),O=x*x+C*C-o*o,M=-(T?(S+Math.sqrt(S*S-4*T*O))/(2*T):O/S);return{x:r+x+E*M,y:i+C+k*M,r:M}}function Oc(t,e,n){var r=t.x,i=t.y,o=e.r+n.r,a=t.r+n.r,s=e.x-r,u=e.y-i,c=s*s+u*u;if(c){var l=.5+((a*=a)-(o*=o))/(2*c),h=Math.sqrt(Math.max(0,2*o*(a+c)-(a-=c)*a-o*o))/(2*c);n.x=r+l*s+h*u,n.y=i+l*u-h*s}else n.x=r+a,n.y=i}function Mc(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return i*i-1e-6>n*n+r*r}function Ac(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function Pc(t){this._=t,this.next=null,this.previous=null}function Ic(t){if(!(i=t.length))return 0;var e,n,r,i,o,a,s,u,c,l,h;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;Oc(n,e,r=t[2]),e=new Pc(e),n=new Pc(n),r=new Pc(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){Oc(e._,n._,r=t[s]),r=new Pc(r),u=n.next,c=e.previous,l=n._.r,h=e._.r;do{if(l<=h){if(Mc(u._,r._)){n=u,e.next=n,n.previous=e,--s;continue t}l+=u._.r,u=u.next}else{if(Mc(c._,r._)){(e=c).next=n,n.previous=e,--s;continue t}h+=c._.r,c=c.previous}}while(u!==c.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=Ac(e);(r=r.next)!==n;)(a=Ac(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=_c(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}var Nc=function(t){return Ic(t),t};function Dc(t){if("function"!=typeof t)throw new Error;return t}function Rc(){return 0}var jc=function(t){return function(){return t}};function Lc(t){return Math.sqrt(t.value)}var Fc=function(){var t=null,e=1,n=1,r=Rc;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(Bc(t)).eachAfter($c(r,.5)).eachBefore(Uc(1)):i.eachBefore(Bc(Lc)).eachAfter($c(Rc,1)).eachAfter($c(r,i.r/Math.min(e,n))).eachBefore(Uc(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=null==(n=e)?null:Dc(n),i):t;var n},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:jc(+t),i):r},i};function Bc(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function $c(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=Ic(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function Uc(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var zc=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},qc=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c},Vc=function(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&qc(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(e,o)),r&&i.eachBefore(zc),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i},Hc="$",Wc={depth:-1},Gc={};function Kc(t){return t.id}function Yc(t){return t.parentId}var Qc=function(){var t=Kc,e=Yc;function n(n){var r,i,o,a,s,u,c,l=n.length,h=new Array(l),f={};for(i=0;i<l;++i)r=n[i],s=h[i]=new yc(r),null!=(u=t(r,i,n))&&(u+="")&&(f[c=Hc+(s.id=u)]=c in f?Gc:s);for(i=0;i<l;++i)if(s=h[i],null!=(u=e(n[i],i,n))&&(u+="")){if(!(a=f[Hc+u]))throw new Error("missing: "+u);if(a===Gc)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=Wc,o.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore(mc),o.parent=null,l>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=Dc(e),n):t},n.parentId=function(t){return arguments.length?(e=Dc(t),n):e},n};function Xc(t,e){return t.parent===e.parent?1:2}function Jc(t){var e=t.children;return e?e[0]:t.t}function Zc(t){var e=t.children;return e?e[e.length-1]:t.t}function tl(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function el(t,e,n){return t.a.parent===e.parent?t.a:n}function nl(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}nl.prototype=Object.create(yc.prototype);var rl=function(){var t=Xc,e=1,n=1,r=null;function i(i){var u=function(t){for(var e,n,r,i,o,a=new nl(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new nl(r[i],i)),n.parent=e;return(a.parent=new nl(null,0)).children=[a],a}(i);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(a),r)i.eachBefore(s);else{var c=i,l=i,h=i;i.eachBefore(function(t){t.x<c.x&&(c=t),t.x>l.x&&(l=t),t.depth>h.depth&&(h=t)});var f=c===l?1:t(c,l)/2,d=f-c.x,p=e/(l.x+f+d),v=n/(h.depth||1);i.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*v})}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,s=n,u=o.parent.children[0],c=o.m,l=a.m,h=s.m,f=u.m;s=Zc(s),o=Jc(o),s&&o;)u=Jc(u),(a=Zc(a)).a=e,(i=s.z+h-o.z-c+t(s._,o._))>0&&(tl(el(s,e,r),e,i),c+=i,l+=i),h+=s.m,c+=o.m,f+=u.m,l+=a.m;s&&!Zc(a)&&(a.t=s,a.m+=h-l),o&&!Jc(u)&&(u.t=o,u.m+=c-f,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i},il=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c},ol=(1+Math.sqrt(5))/2;function al(t,e,n,r,i,o){for(var a,s,u,c,l,h,f,d,p,v,g,m=[],y=e.children,b=0,_=0,w=y.length,x=e.value;b<w;){u=i-n,c=o-r;do{l=y[_++].value}while(!l&&_<w);for(h=f=l,g=l*l*(v=Math.max(c/u,u/c)/(x*t)),p=Math.max(f/g,g/h);_<w;++_){if(l+=s=y[_].value,s<h&&(h=s),s>f&&(f=s),g=l*l*v,(d=Math.max(f/g,g/h))>p){l-=s;break}p=d}m.push(a={value:l,dice:u<c,children:y.slice(b,_)}),a.dice?qc(a,n,r,i,x?r+=c*l/x:o):il(a,n,r,x?n+=u*l/x:i,o),x-=l,b=_}return m}var sl=function t(e){function n(t,n,r,i,o){al(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(ol),ul=function(){var t=sl,e=!1,n=1,r=1,i=[0],o=Rc,a=Rc,s=Rc,u=Rc,c=Rc;function l(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(h),i=[0],e&&t.eachBefore(zc),t}function h(e){var n=i[e.depth],r=e.x0+n,l=e.y0+n,h=e.x1-n,f=e.y1-n;h<r&&(r=h=(r+h)/2),f<l&&(l=f=(l+f)/2),e.x0=r,e.y0=l,e.x1=h,e.y1=f,e.children&&(n=i[e.depth+1]=o(e)/2,r+=c(e)-n,l+=a(e)-n,h-=s(e)-n,f-=u(e)-n,h<r&&(r=h=(r+h)/2),f<l&&(l=f=(l+f)/2),t(e,r,l,h,f))}return l.round=function(t){return arguments.length?(e=!!t,l):e},l.size=function(t){return arguments.length?(n=+t[0],r=+t[1],l):[n,r]},l.tile=function(e){return arguments.length?(t=Dc(e),l):t},l.padding=function(t){return arguments.length?l.paddingInner(t).paddingOuter(t):l.paddingInner()},l.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:jc(+t),l):o},l.paddingOuter=function(t){return arguments.length?l.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):l.paddingTop()},l.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:jc(+t),l):a},l.paddingRight=function(t){return arguments.length?(s="function"==typeof t?t:jc(+t),l):s},l.paddingBottom=function(t){return arguments.length?(u="function"==typeof t?t:jc(+t),l):u},l.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:jc(+t),l):c},l},cl=function(t,e,n,r,i){var o,a,s=t.children,u=s.length,c=new Array(u+1);for(c[0]=a=o=0;o<u;++o)c[o+1]=a+=s[o].value;!function t(e,n,r,i,o,a,u){if(e>=n-1){var l=s[e];return l.x0=i,l.y0=o,l.x1=a,void(l.y1=u)}var h=c[e],f=r/2+h,d=e+1,p=n-1;for(;d<p;){var v=d+p>>>1;c[v]<f?d=v+1:p=v}f-c[d-1]<c[d]-f&&e+1<d&&--d;var g=c[d]-h,m=r-g;if(a-i>u-o){var y=(i*m+a*g)/r;t(e,d,g,i,o,y,u),t(d,n,m,y,o,a,u)}else{var b=(o*m+u*g)/r;t(e,d,g,i,o,a,b),t(d,n,m,i,b,a,u)}}(0,u,t.value,e,n,r,i)},ll=function(t,e,n,r,i){(1&t.depth?il:qc)(t,e,n,r,i)},hl=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,u,c,l,h=-1,f=a.length,d=t.value;++h<f;){for(u=(s=a[h]).children,c=s.value=0,l=u.length;c<l;++c)s.value+=u[c].value;s.dice?qc(s,n,r,i,r+=(o-r)*s.value/d):il(s,n,r,n+=(i-n)*s.value/d,o),d-=s.value}else t._squarify=a=al(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(ol),fl=function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2},dl=function(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],u=0;++r<i;)e=s,s=t[r],u+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(u*=3),a/u]},pl=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])};function vl(t,e){return t[0]-e[0]||t[1]-e[1]}function gl(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;++i){for(;r>1&&pl(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}var ml=function(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(vl),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=gl(r),a=gl(i),s=a[0]===o[0],u=a[a.length-1]===o[o.length-1],c=[];for(e=o.length-1;e>=0;--e)c.push(t[r[o[e]][2]]);for(e=+s;e<a.length-u;++e)c.push(t[r[a[e]][2]]);return c},yl=function(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],s=e[1],u=o[0],c=o[1],l=!1,h=0;h<i;++h)n=(o=t[h])[0],(r=o[1])>s!=c>s&&a<(u-n)*(s-r)/(c-r)+n&&(l=!l),u=n,c=r;return l},bl=function(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],u=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],u+=Math.sqrt(e*e+n*n);return u},_l=[].slice,wl={};function xl(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function El(t){if(!t._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],r=n.length-1,i=n[r];n[r]=Cl(t,e),--t._waiting,++t._active,n=i.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||wl)}}(t)}catch(e){if(t._tasks[t._ended+t._active-1])kl(t,e);else if(!t._data)throw e}}function Cl(t,e){return function(n,r){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=n?kl(t,n):(t._data[e]=r,t._waiting?El(t):Tl(t))))}}function kl(t,e){var n,r=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--r>=0;)if((n=t._tasks[r])&&(t._tasks[r]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,Tl(t)}function Tl(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function Sl(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new xl(t)}xl.prototype=Sl.prototype={constructor:xl,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var e=_l.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),El(this),this},abort:function(){return null==this._error&&kl(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(e,n){t.apply(null,[e].concat(n))},Tl(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,Tl(this),this}};var Ol=function(){return Math.random()},Ml=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(Ol),Al=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(Ol),Pl=function t(e){function n(){var t=Al.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Ol),Il=function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(Ol),Nl=function t(e){function n(t){var n=Il.source(e)(t);return function(){return n()/t}}return n.source=t,n}(Ol),Dl=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(Ol),Rl=function(t,e){var n,r,i,o,a=C("beforesend","progress","load","error"),s=Object(cr.c)(),u=new XMLHttpRequest,c=null,l=null,h=0;function f(t){var e,r=u.status;if(!r&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(u)||r>=200&&r<300||304===r){if(i)try{e=i.call(n,u)}catch(t){return void a.call("error",n,t)}else e=u;a.call("load",n,e)}else a.call("error",n,t)}if("undefined"==typeof XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=u.ontimeout=f:u.onreadystatechange=function(t){u.readyState>3&&f(t)},u.onprogress=function(t){a.call("progress",n,t)},n={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s.get(t):(null==e?s.remove(t):s.set(t,e+""),n)},mimeType:function(t){return arguments.length?(r=null==t?null:t+"",n):r},responseType:function(t){return arguments.length?(o=t,n):o},timeout:function(t){return arguments.length?(h=+t,n):h},user:function(t){return arguments.length<1?c:(c=null==t?null:t+"",n)},password:function(t){return arguments.length<1?l:(l=null==t?null:t+"",n)},response:function(t){return i=t,n},get:function(t,e){return n.send("GET",t,e)},post:function(t,e){return n.send("POST",t,e)},send:function(e,i,f){return u.open(e,t,!0,c,l),null==r||s.has("accept")||s.set("accept",r+",*/*"),u.setRequestHeader&&s.each(function(t,e){u.setRequestHeader(e,t)}),null!=r&&u.overrideMimeType&&u.overrideMimeType(r),null!=o&&(u.responseType=o),h>0&&(u.timeout=h),null==f&&"function"==typeof i&&(f=i,i=null),null!=f&&1===f.length&&(f=function(t){return function(e,n){t(null==e?n:null)}}(f)),null!=f&&n.on("error",f).on("load",function(t){f(null,t)}),a.call("beforesend",n,u),u.send(null==i?null:i),n},abort:function(){return u.abort(),n},on:function(){var t=a.on.apply(a,arguments);return t===a?n:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return n.get(e)}return n};var jl=function(t,e){return function(n,r){var i=Rl(n).mimeType(t).response(e);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},Ll=jl("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),Fl=jl("application/json",function(t){return JSON.parse(t.responseText)}),Bl=jl("text/plain",function(t){return t.responseText}),$l=jl("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),Ul=function(t,e){return function(n,r,i){arguments.length<3&&(i=r,r=null);var o=Rl(n).mimeType(t);return o.row=function(t){return arguments.length?o.response(function(t,e){return function(n){return t(n.responseText,e)}}(e,r=t)):r},o.row(r),i?o.get(i):o}};var zl=Ul("text/csv",yr),ql=Ul("text/tab-separated-values",Er),Vl=Array.prototype,Hl=Vl.map,Wl=Vl.slice,Gl={name:"implicit"};function Kl(t){var e=Object(cr.c)(),n=[],r=Gl;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==Gl)return r;e.set(o,a=n.push(i))}return t[(a-1)%t.length]}return t=null==t?[]:Wl.call(t),i.domain=function(t){if(!arguments.length)return n.slice();n=[],e=Object(cr.c)();for(var r,o,a=-1,s=t.length;++a<s;)e.has(o=(r=t[a])+"")||e.set(o,n.push(r));return i},i.range=function(e){return arguments.length?(t=Wl.call(e),i):t.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Kl().domain(n).range(t).unknown(r)},i}function Yl(){var t,e,n=Kl().unknown(void 0),i=n.domain,o=n.range,a=[0,1],s=!1,u=0,c=0,l=.5;function h(){var n=i().length,h=a[1]<a[0],f=a[h-0],d=a[1-h];t=(d-f)/Math.max(1,n-u+2*c),s&&(t=Math.floor(t)),f+=(d-f-t*(n-u))*l,e=t*(1-u),s&&(f=Math.round(f),e=Math.round(e));var p=Object(r.s)(n).map(function(e){return f+t*e});return o(h?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),h()):i()},n.range=function(t){return arguments.length?(a=[+t[0],+t[1]],h()):a.slice()},n.rangeRound=function(t){return a=[+t[0],+t[1]],s=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,h()):s},n.padding=function(t){return arguments.length?(u=c=Math.max(0,Math.min(1,t)),h()):u},n.paddingInner=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),h()):u},n.paddingOuter=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),h()):c},n.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),h()):l},n.copy=function(){return Yl().domain(i()).range(a).round(s).paddingInner(u).paddingOuter(c).align(l)},h()}function Ql(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(Yl().paddingInner(1))}var Xl=function(t){return function(){return t}},Jl=function(t){return+t},Zl=[0,1];function th(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Xl(e)}function eh(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(t){return a(i(t))}}function nh(t,e,n,i){var o=Math.min(t.length,e.length)-1,a=new Array(o),s=new Array(o),u=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<o;)a[u]=n(t[u],t[u+1]),s[u]=i(e[u],e[u+1]);return function(e){var n=Object(r.b)(t,e,1,o)-1;return s[n](a[n](e))}}function rh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function ih(t,e){var n,r,i,o=Zl,a=Zl,s=$t.interpolate,u=!1;function c(){return n=Math.min(o.length,a.length)>2?nh:eh,r=i=null,l}function l(e){return(r||(r=n(o,a,u?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}(t):t,s)))(+e)}return l.invert=function(t){return(i||(i=n(a,o,th,u?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}(e):e)))(+t)},l.domain=function(t){return arguments.length?(o=Hl.call(t,Jl),c()):o.slice()},l.range=function(t){return arguments.length?(a=Wl.call(t),c()):a.slice()},l.rangeRound=function(t){return a=Wl.call(t),s=$t.interpolateRound,c()},l.clamp=function(t){return arguments.length?(u=!!t,c()):u},l.interpolate=function(t){return arguments.length?(s=t,c()):s},c()}var oh=function(t,e,n){var i,o=t[0],a=t[t.length-1],s=Object(r.A)(o,a,null==e?10:e);switch((n=oi(null==n?",f":n)).type){case"s":var u=Math.max(Math.abs(o),Math.abs(a));return null!=n.precision||isNaN(i=vi(s,u))||(n.precision=i),ci(n,u);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=gi(s,Math.max(Math.abs(o),Math.abs(a))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=pi(s))||(n.precision=i-2*("%"===n.type))}return ui(n)};function ah(t){var e=t.domain;return t.ticks=function(t){var n=e();return Object(r.B)(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return oh(e(),t,n)},t.nice=function(n){null==n&&(n=10);var i,o=e(),a=0,s=o.length-1,u=o[a],c=o[s];return c<u&&(i=u,u=c,c=i,i=a,a=s,s=i),(i=Object(r.z)(u,c,n))>0?(u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i,i=Object(r.z)(u,c,n)):i<0&&(u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i,i=Object(r.z)(u,c,n)),i>0?(o[a]=Math.floor(u/i)*i,o[s]=Math.ceil(c/i)*i,e(o)):i<0&&(o[a]=Math.ceil(u*i)/i,o[s]=Math.floor(c*i)/i,e(o)),t},t}function sh(){var t=ih(th,$t.interpolateNumber);return t.copy=function(){return rh(t,sh())},ah(t)}function uh(){var t=[0,1];function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=Hl.call(n,Jl),e):t.slice()},e.copy=function(){return uh().domain(t)},ah(e)}var ch=function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t};function lh(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:Xl(e)}function hh(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function fh(t){return isFinite(t)?+("1e"+t):t<0?0:t}function dh(t){return 10===t?fh:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function ph(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function vh(t){return function(e){return-t(-e)}}function gh(){var t=ih(lh,hh).domain([1,10]),e=t.domain,n=10,i=ph(10),o=dh(10);function a(){return i=ph(n),o=dh(n),e()[0]<0&&(i=vh(i),o=vh(o)),t}return t.base=function(t){return arguments.length?(n=+t,a()):n},t.domain=function(t){return arguments.length?(e(t),a()):e()},t.ticks=function(t){var a,s=e(),u=s[0],c=s[s.length-1];(a=c<u)&&(d=u,u=c,c=d);var l,h,f,d=i(u),p=i(c),v=null==t?10:+t,g=[];if(!(n%1)&&p-d<v){if(d=Math.round(d)-1,p=Math.round(p)+1,u>0){for(;d<p;++d)for(h=1,l=o(d);h<n;++h)if(!((f=l*h)<u)){if(f>c)break;g.push(f)}}else for(;d<p;++d)for(h=n-1,l=o(d);h>=1;--h)if(!((f=l*h)<u)){if(f>c)break;g.push(f)}}else g=Object(r.B)(d,p,Math.min(p-d,v)).map(o);return a?g.reverse():g},t.tickFormat=function(e,r){if(null==r&&(r=10===n?".0e":","),"function"!=typeof r&&(r=ui(r)),e===1/0)return r;null==e&&(e=10);var a=Math.max(1,n*e/t.ticks().length);return function(t){var e=t/o(Math.round(i(t)));return e*n<n-.5&&(e*=n),e<=a?r(t):""}},t.nice=function(){return e(ch(e(),{floor:function(t){return o(Math.floor(i(t)))},ceil:function(t){return o(Math.ceil(i(t)))}}))},t.copy=function(){return rh(t,gh().base(n))},t}function mh(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function yh(){var t=1,e=ih(function(e,n){return(n=mh(n,t)-(e=mh(e,t)))?function(r){return(mh(r,t)-e)/n}:Xl(n)},function(e,n){return n=mh(n,t)-(e=mh(e,t)),function(r){return mh(e+n*r,1/t)}}),n=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return rh(e,yh().exponent(t))},ah(e)}function bh(){return yh().exponent(.5)}function _h(){var t=[],e=[],n=[];function i(){var i=0,a=Math.max(1,e.length);for(n=new Array(a-1);++i<a;)n[i-1]=Object(r.r)(t,i/a);return o}function o(t){if(!isNaN(t=+t))return e[Object(r.b)(n,t)]}return o.invertExtent=function(r){var i=e.indexOf(r);return i<0?[NaN,NaN]:[i>0?n[i-1]:t[0],i<n.length?n[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var n,o=0,a=e.length;o<a;++o)null==(n=e[o])||isNaN(n=+n)||t.push(n);return t.sort(r.a),i()},o.range=function(t){return arguments.length?(e=Wl.call(t),i()):e.slice()},o.quantiles=function(){return n.slice()},o.copy=function(){return _h().domain(t).range(e)},o}function wh(){var t=0,e=1,n=1,i=[.5],o=[0,1];function a(t){if(t<=t)return o[Object(r.b)(i,t,0,n)]}function s(){var r=-1;for(i=new Array(n);++r<n;)i[r]=((r+1)*e-(r-n)*t)/(n+1);return a}return a.domain=function(n){return arguments.length?(t=+n[0],e=+n[1],s()):[t,e]},a.range=function(t){return arguments.length?(n=(o=Wl.call(t)).length-1,s()):o.slice()},a.invertExtent=function(r){var a=o.indexOf(r);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=n?[i[n-1],e]:[i[a-1],i[a]]},a.copy=function(){return wh().domain([t,e]).range(o)},ah(a)}function xh(){var t=[.5],e=[0,1],n=1;function i(i){if(i<=i)return e[Object(r.b)(t,i,0,n)]}return i.domain=function(r){return arguments.length?(t=Wl.call(r),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(r){return arguments.length?(e=Wl.call(r),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(n){var r=e.indexOf(n);return[t[r-1],t[r]]},i.copy=function(){return xh().domain(t).range(e)},i}var Eh=new Date,Ch=new Date;function kh(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return kh(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return Eh.setTime(+e),Ch.setTime(+r),t(Eh),t(Ch),Math.floor(n(Eh,Ch))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Th=kh(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Th.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?kh(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Th:null};var Sh=Th,Oh=Th.range,Mh=6e4,Ah=6048e5,Ph=kh(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),Ih=Ph,Nh=Ph.range,Dh=kh(function(t){t.setTime(Math.floor(t/Mh)*Mh)},function(t,e){t.setTime(+t+e*Mh)},function(t,e){return(e-t)/Mh},function(t){return t.getMinutes()}),Rh=Dh,jh=Dh.range,Lh=kh(function(t){var e=t.getTimezoneOffset()*Mh%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),Fh=Lh,Bh=Lh.range,$h=kh(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mh)/864e5},function(t){return t.getDate()-1}),Uh=$h,zh=$h.range;function qh(t){return kh(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mh)/Ah})}var Vh=qh(0),Hh=qh(1),Wh=qh(2),Gh=qh(3),Kh=qh(4),Yh=qh(5),Qh=qh(6),Xh=Vh.range,Jh=Hh.range,Zh=Wh.range,tf=Gh.range,ef=Kh.range,nf=Yh.range,rf=Qh.range,of=kh(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),af=of,sf=of.range,uf=kh(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});uf.every=function(t){return isFinite(t=Math.floor(t))&&t>0?kh(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var cf=uf,lf=uf.range,hf=kh(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Mh)},function(t,e){return(e-t)/Mh},function(t){return t.getUTCMinutes()}),ff=hf,df=hf.range,pf=kh(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),vf=pf,gf=pf.range,mf=kh(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),yf=mf,bf=mf.range;function _f(t){return kh(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Ah})}var wf=_f(0),xf=_f(1),Ef=_f(2),Cf=_f(3),kf=_f(4),Tf=_f(5),Sf=_f(6),Of=wf.range,Mf=xf.range,Af=Ef.range,Pf=Cf.range,If=kf.range,Nf=Tf.range,Df=Sf.range,Rf=kh(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),jf=Rf,Lf=Rf.range,Ff=kh(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Ff.every=function(t){return isFinite(t=Math.floor(t))&&t>0?kh(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Bf=Ff,$f=Ff.range;function Uf(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function zf(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function qf(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Vf(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=nd(i),l=rd(i),h=nd(o),f=rd(o),d=nd(a),p=rd(a),v=nd(s),g=rd(s),m=nd(u),y=rd(u),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Ed,e:Ed,f:Od,H:Cd,I:kd,j:Td,L:Sd,m:Md,M:Ad,p:function(t){return i[+(t.getHours()>=12)]},Q:ip,s:op,S:Pd,u:Id,U:Nd,V:Dd,w:Rd,W:jd,x:null,X:null,y:Ld,Y:Fd,Z:Bd,"%":rp},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:$d,e:$d,f:Hd,H:Ud,I:zd,j:qd,L:Vd,m:Wd,M:Gd,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:ip,s:op,S:Kd,u:Yd,U:Qd,V:Xd,w:Jd,W:Zd,x:null,X:null,y:tp,Y:ep,Z:np,"%":rp},w={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return C(t,e,n,r)},d:dd,e:dd,f:bd,H:vd,I:vd,j:pd,L:yd,m:fd,M:gd,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l[r[0].toLowerCase()],n+r[0].length):-1},Q:wd,s:xd,S:md,u:od,U:ad,V:sd,w:id,W:ud,x:function(t,e,r){return C(t,n,e,r)},X:function(t,e,n){return C(t,r,e,n)},y:ld,Y:cd,Z:hd,"%":_d};function x(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=Qf[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function E(t,e){return function(n){var r,i,o=qf(1900);if(C(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=(r=zf(qf(o.y))).getUTCDay())>4||0===i?xf.ceil(r):xf(r),r=yf.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(r=(i=(r=e(qf(o.y))).getDay())>4||0===i?Hh.ceil(r):Hh(r),r=Uh.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?zf(qf(o.y)).getUTCDay():e(qf(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,zf(o)):e(o)}}function C(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in Qf?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),_.x=x(n,_),_.X=x(r,_),_.c=x(e,_),{format:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=E(t+="",Uf);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=E(t,zf);return e.toString=function(){return t},e}}}var Hf,Wf,Gf,Kf,Yf,Qf={"-":"",_:" ",0:"0"},Xf=/^\s*\d+/,Jf=/^%/,Zf=/[\\^$*+?|[\]().{}]/g;function td(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ed(t){return t.replace(Zf,"\\$&")}function nd(t){return new RegExp("^(?:"+t.map(ed).join("|")+")","i")}function rd(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function id(t,e,n){var r=Xf.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function od(t,e,n){var r=Xf.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ad(t,e,n){var r=Xf.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function sd(t,e,n){var r=Xf.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ud(t,e,n){var r=Xf.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function cd(t,e,n){var r=Xf.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ld(t,e,n){var r=Xf.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function hd(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fd(t,e,n){var r=Xf.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function dd(t,e,n){var r=Xf.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function pd(t,e,n){var r=Xf.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function vd(t,e,n){var r=Xf.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function gd(t,e,n){var r=Xf.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function md(t,e,n){var r=Xf.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function yd(t,e,n){var r=Xf.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function bd(t,e,n){var r=Xf.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _d(t,e,n){var r=Jf.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function wd(t,e,n){var r=Xf.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xd(t,e,n){var r=Xf.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function Ed(t,e){return td(t.getDate(),e,2)}function Cd(t,e){return td(t.getHours(),e,2)}function kd(t,e){return td(t.getHours()%12||12,e,2)}function Td(t,e){return td(1+Uh.count(cf(t),t),e,3)}function Sd(t,e){return td(t.getMilliseconds(),e,3)}function Od(t,e){return Sd(t,e)+"000"}function Md(t,e){return td(t.getMonth()+1,e,2)}function Ad(t,e){return td(t.getMinutes(),e,2)}function Pd(t,e){return td(t.getSeconds(),e,2)}function Id(t){var e=t.getDay();return 0===e?7:e}function Nd(t,e){return td(Vh.count(cf(t),t),e,2)}function Dd(t,e){var n=t.getDay();return t=n>=4||0===n?Kh(t):Kh.ceil(t),td(Kh.count(cf(t),t)+(4===cf(t).getDay()),e,2)}function Rd(t){return t.getDay()}function jd(t,e){return td(Hh.count(cf(t),t),e,2)}function Ld(t,e){return td(t.getFullYear()%100,e,2)}function Fd(t,e){return td(t.getFullYear()%1e4,e,4)}function Bd(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+td(e/60|0,"0",2)+td(e%60,"0",2)}function $d(t,e){return td(t.getUTCDate(),e,2)}function Ud(t,e){return td(t.getUTCHours(),e,2)}function zd(t,e){return td(t.getUTCHours()%12||12,e,2)}function qd(t,e){return td(1+yf.count(Bf(t),t),e,3)}function Vd(t,e){return td(t.getUTCMilliseconds(),e,3)}function Hd(t,e){return Vd(t,e)+"000"}function Wd(t,e){return td(t.getUTCMonth()+1,e,2)}function Gd(t,e){return td(t.getUTCMinutes(),e,2)}function Kd(t,e){return td(t.getUTCSeconds(),e,2)}function Yd(t){var e=t.getUTCDay();return 0===e?7:e}function Qd(t,e){return td(wf.count(Bf(t),t),e,2)}function Xd(t,e){var n=t.getUTCDay();return t=n>=4||0===n?kf(t):kf.ceil(t),td(kf.count(Bf(t),t)+(4===Bf(t).getUTCDay()),e,2)}function Jd(t){return t.getUTCDay()}function Zd(t,e){return td(xf.count(Bf(t),t),e,2)}function tp(t,e){return td(t.getUTCFullYear()%100,e,2)}function ep(t,e){return td(t.getUTCFullYear()%1e4,e,4)}function np(){return"+0000"}function rp(){return"%"}function ip(t){return+t}function op(t){return Math.floor(+t/1e3)}function ap(t){return Hf=Vf(t),Wf=Hf.format,Gf=Hf.parse,Kf=Hf.utcFormat,Yf=Hf.utcParse,Hf}ap({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var sp=Date.prototype.toISOString?function(t){return t.toISOString()}:Kf("%Y-%m-%dT%H:%M:%S.%LZ");var up=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:Yf("%Y-%m-%dT%H:%M:%S.%LZ"),cp=1e3,lp=60*cp,hp=60*lp,fp=24*hp,dp=7*fp,pp=30*fp,vp=365*fp;function gp(t){return new Date(t)}function mp(t){return t instanceof Date?+t:+new Date(+t)}function yp(t,e,n,i,o,a,s,u,c){var l=ih(th,$t.interpolateNumber),h=l.invert,f=l.domain,d=c(".%L"),p=c(":%S"),v=c("%I:%M"),g=c("%I %p"),m=c("%a %d"),y=c("%b %d"),b=c("%B"),_=c("%Y"),w=[[s,1,cp],[s,5,5*cp],[s,15,15*cp],[s,30,30*cp],[a,1,lp],[a,5,5*lp],[a,15,15*lp],[a,30,30*lp],[o,1,hp],[o,3,3*hp],[o,6,6*hp],[o,12,12*hp],[i,1,fp],[i,2,2*fp],[n,1,dp],[e,1,pp],[e,3,3*pp],[t,1,vp]];function x(r){return(s(r)<r?d:a(r)<r?p:o(r)<r?v:i(r)<r?g:e(r)<r?n(r)<r?m:y:t(r)<r?b:_)(r)}function E(e,n,i,o){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(i-n)/e,s=Object(r.e)(function(t){return t[2]}).right(w,a);s===w.length?(o=Object(r.A)(n/vp,i/vp,e),e=t):s?(o=(s=w[a/w[s-1][2]<w[s][2]/a?s-1:s])[1],e=s[0]):(o=Math.max(Object(r.A)(n,i,e),1),e=u)}return null==o?e:e.every(o)}return l.invert=function(t){return new Date(h(t))},l.domain=function(t){return arguments.length?f(Hl.call(t,mp)):f().map(gp)},l.ticks=function(t,e){var n,r=f(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=E(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},l.tickFormat=function(t,e){return null==e?x:c(e)},l.nice=function(t,e){var n=f();return(t=E(t,n[0],n[n.length-1],e))?f(ch(n,t)):l},l.copy=function(){return rh(l,yp(t,e,n,i,o,a,s,u,c))},l}var bp=function(){return yp(cf,af,Vh,Uh,Fh,Rh,Ih,Sh,Wf).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},_p=function(){return yp(Bf,jf,wf,yf,vf,ff,Ih,Sh,Kf).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},wp=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},xp=wp("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Ep=wp("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Cp=wp("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),kp=wp("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Tp=Object($t.interpolateCubehelixLong)(Object(we.b)(300,.5,0),Object(we.b)(-240,.5,1)),Sp=Object($t.interpolateCubehelixLong)(Object(we.b)(-100,.75,.35),Object(we.b)(80,1.5,.8)),Op=Object($t.interpolateCubehelixLong)(Object(we.b)(260,.75,.35),Object(we.b)(80,1.5,.8)),Mp=Object(we.b)(),Ap=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Mp.h=360*t-100,Mp.s=1.5-1.5*e,Mp.l=.8-.9*e,Mp+""};function Pp(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var Ip=Pp(wp("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Np=Pp(wp("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Dp=Pp(wp("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Rp=Pp(wp("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function jp(t){var e=0,n=1,r=!1;function i(i){var o=(i-e)/(n-e);return t(r?Math.max(0,Math.min(1,o)):o)}return i.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.clamp=function(t){return arguments.length?(r=!!t,i):r},i.interpolator=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return jp(t).domain([e,n]).clamp(r)},ah(i)}var Lp=n("8soT"),Fp=function(t){return function(){return t}};function Bp(t){return t[0]}function $p(t){return t[1]}function Up(){this._=null}function zp(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function qp(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Vp(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Hp(t){for(;t.L;)t=t.L;return t}Up.prototype={constructor:Up,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Hp(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(qp(this,n),n=(t=n).U),n.C=!1,r.C=!0,Vp(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Vp(this,n),n=(t=n).U),n.C=!1,r.C=!0,qp(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Hp(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,qp(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Vp(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,qp(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Vp(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,qp(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Vp(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Wp=Up;function Gp(t,e,n,r){var i=[null,null],o=vv.push(i)-1;return i.left=t,i.right=e,n&&Yp(i,t,e,n),r&&Yp(i,e,t,r),dv[t.index].halfedges.push(o),dv[e.index].halfedges.push(o),i}function Kp(t,e,n){var r=[e,n];return r.left=t,r}function Yp(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Qp(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],c=a[1],l=0,h=1,f=s[0]-u,d=s[1]-c;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<l)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>l&&(l=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>l&&(l=o)}else if(f>0){if(o<l)return;o<h&&(h=o)}if(o=n-c,d||!(o>0)){if(o/=d,d<0){if(o<l)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>l&&(l=o)}if(o=i-c,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>l&&(l=o)}else if(d>0){if(o<l)return;o<h&&(h=o)}return!(l>0||h<1)||(l>0&&(t[0]=[u+l*f,c+l*d]),h<1&&(t[1]=[u+h*f,c+h*d]),!0)}}}}}function Xp(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],c=t.left,l=t.right,h=c[0],f=c[1],d=l[0],p=l[1],v=(h+d)/2,g=(f+p)/2;if(p===f){if(v<e||v>=r)return;if(h>d){if(u){if(u[1]>=i)return}else u=[v,n];o=[v,i]}else{if(u){if(u[1]<n)return}else u=[v,i];o=[v,n]}}else if(s=g-(a=(h-d)/(p-f))*v,a<-1||a>1)if(h>d){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(f<p){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function Jp(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Zp(t,e){return e[+(e.left!==t.site)]}function tv(t,e){return e[+(e.left===t.site)]}var ev,nv=[];function rv(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,c=r[1]-s,l=o[0]-a,h=o[1]-s,f=2*(u*h-c*l);if(!(f>=-mv)){var d=u*u+c*c,p=l*l+h*h,v=(h*d-c*p)/f,g=(u*p-l*d)/f,m=nv.pop()||new function(){zp(this),this.x=this.y=this.arc=this.site=this.cy=null};m.arc=t,m.site=i,m.x=v+a,m.y=(m.cy=g+s)+Math.sqrt(v*v+g*g),t.circle=m;for(var y=null,b=pv._;b;)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}pv.insert(y,m),y||(ev=m)}}}}function iv(t){var e=t.circle;e&&(e.P||(ev=e.N),pv.remove(e),nv.push(e),zp(e),t.circle=null)}var ov=[];function av(t){var e=ov.pop()||new function(){zp(this),this.edge=this.site=this.circle=null};return e.site=t,e}function sv(t){iv(t),fv.remove(t),ov.push(t),zp(t)}function uv(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];sv(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<gv&&Math.abs(r-u.circle.cy)<gv;)o=u.P,s.unshift(u),sv(u),u=o;s.unshift(u),iv(u);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<gv&&Math.abs(r-c.circle.cy)<gv;)a=c.N,s.push(c),sv(c),c=a;s.push(c),iv(c);var l,h=s.length;for(l=1;l<h;++l)c=s[l],u=s[l-1],Yp(c.edge,u.site,c.site,i);u=s[0],(c=s[h-1]).edge=Gp(u.site,c.site,null,i),rv(u),rv(c)}function cv(t){for(var e,n,r,i,o=t[0],a=t[1],s=fv._;s;)if((r=lv(s,a)-o)>gv)s=s.L;else{if(!((i=o-hv(s,a))>gv)){r>-gv?(e=s.P,n=s):i>-gv?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){dv[t.index]={site:t,halfedges:[]}}(t);var u=av(t);if(fv.insert(e,u),e||n){if(e===n)return iv(e),n=av(e.site),fv.insert(u,n),u.edge=n.edge=Gp(e.site,u.site),rv(e),void rv(n);if(n){iv(e),iv(n);var c=e.site,l=c[0],h=c[1],f=t[0]-l,d=t[1]-h,p=n.site,v=p[0]-l,g=p[1]-h,m=2*(f*g-d*v),y=f*f+d*d,b=v*v+g*g,_=[(g*y-d*b)/m+l,(f*b-v*y)/m+h];Yp(n.edge,c,p,_),u.edge=Gp(c,t,null,_),n.edge=Gp(t,p,null,_),rv(e),rv(n)}else u.edge=Gp(e.site,u.site)}}function lv(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],c=u-e;if(!c)return s;var l=s-r,h=1/o-1/c,f=l/c;return h?(-f+Math.sqrt(f*f-2*h*(l*l/(-2*c)-u+c/2+i-o/2)))/h+r:(r+s)/2}function hv(t,e){var n=t.N;if(n)return lv(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var fv,dv,pv,vv,gv=1e-6,mv=1e-12;function yv(t,e){return e[1]-t[1]||e[0]-t[0]}function bv(t,e){var n,r,i,o=t.sort(yv).pop();for(vv=[],dv=new Array(t.length),fv=new Wp,pv=new Wp;;)if(i=ev,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(cv(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;uv(i.arc)}if(function(){for(var t,e,n,r,i=0,o=dv.length;i<o;++i)if((t=dv[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=Jp(t,vv[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var i,o=vv.length;o--;)Xp(i=vv[o],t,e,n,r)&&Qp(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>gv||Math.abs(i[0][1]-i[1][1])>gv)||delete vv[o]}(a,s,u,c),function(t,e,n,r){var i,o,a,s,u,c,l,h,f,d,p,v,g=dv.length,m=!0;for(i=0;i<g;++i)if(o=dv[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)vv[u[s]]||u.splice(s,1);for(s=0,c=u.length;s<c;)p=(d=tv(o,vv[u[s]]))[0],v=d[1],h=(l=Zp(o,vv[u[++s%c]]))[0],f=l[1],(Math.abs(p-h)>gv||Math.abs(v-f)>gv)&&(u.splice(s,0,vv.push(Kp(a,d,Math.abs(p-t)<gv&&r-v>gv?[t,Math.abs(h-t)<gv?f:r]:Math.abs(v-r)<gv&&n-p>gv?[Math.abs(f-r)<gv?h:n,r]:Math.abs(p-n)<gv&&v-e>gv?[n,Math.abs(h-n)<gv?f:e]:Math.abs(v-e)<gv&&p-t>gv?[Math.abs(f-e)<gv?h:t,e]:null))-1),++c);c&&(m=!1)}if(m){var y,b,_,w=1/0;for(i=0,m=null;i<g;++i)(o=dv[i])&&(_=(y=(a=o.site)[0]-t)*y+(b=a[1]-e)*b)<w&&(w=_,m=o);if(m){var x=[t,e],E=[t,r],C=[n,r],k=[n,e];m.halfedges.push(vv.push(Kp(a=m.site,x,E))-1,vv.push(Kp(a,E,C))-1,vv.push(Kp(a,C,k))-1,vv.push(Kp(a,k,x))-1)}}for(i=0;i<g;++i)(o=dv[i])&&(o.halfedges.length||delete dv[i])}(a,s,u,c)}this.edges=vv,this.cells=dv,fv=pv=vv=dv=null}bv.prototype={constructor:bv,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Zp(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,u,c,l=n.site,h=-1,f=e[i[o-1]],d=f.left===l?f.right:f.left;++h<o;)a=d,d=(f=e[i[h]]).left===l?f.right:f.left,a&&d&&r<a.index&&r<d.index&&(u=a,c=d,((s=l)[0]-c[0])*(u[1]-s[1])-(s[0]-u[0])*(c[1]-s[1])<0)&&t.push([l.data,a.data,d.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],c=e-i.site[1],l=u*u+c*c;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],c=e-s[1],h=u*u+c*c;h<l&&(l=h,a=s.index)}})}while(null!==a);return o._found=r,null==n||l<=n*n?i.site:null}};var _v=function(){var t=Bp,e=$p,n=null;function r(r){return new bv(r.map(function(n,i){var o=[Math.round(t(n,i,r)/gv)*gv,Math.round(e(n,i,r)/gv)*gv];return o.index=i,o.data=n,o}),n)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(e){return arguments.length?(t="function"==typeof e?e:Fp(+e),r):t},r.y=function(t){return arguments.length?(e="function"==typeof t?t:Fp(+t),r):e},r.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r},wv=function(t){return function(){return t}};function xv(t,e,n){this.k=t,this.x=e,this.y=n}xv.prototype={constructor:xv,scale:function(t){return 1===t?this:new xv(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new xv(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ev=new xv(1,0,0);function Cv(t){return t.__zoom||Ev}function kv(){ot.stopImmediatePropagation()}Cv.prototype=xv.prototype;var Tv=function(){ot.preventDefault(),ot.stopImmediatePropagation()};function Sv(){return!ot.button}function Ov(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function Mv(){return this.__zoom||Ev}function Av(){return-ot.deltaY*(ot.deltaMode?120:1)/500}function Pv(){return"ontouchstart"in this}function Iv(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var Nv=function(){var t,e,n=Sv,r=Ov,i=Iv,o=Av,a=Pv,s=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,l=$t.interpolateZoom,h=[],f=C("start","zoom","end"),d=500,p=150,v=0;function g(t){t.property("__zoom",Mv).on("wheel.zoom",E).on("mousedown.zoom",k).on("dblclick.zoom",T).filter(a).on("touchstart.zoom",S).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new xv(e,t.x,t.y)}function y(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new xv(t.k,r,i)}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function _(t,e,n){t.on("start.zoom",function(){w(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).end()}).tween("zoom",function(){var t=arguments,i=w(this,t),o=r.apply(this,t),a=n||b(o),s=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),u=this.__zoom,c="function"==typeof e?e.apply(this,t):e,h=l(u.invert(a).concat(s/u.k),c.invert(a).concat(s/c.k));return function(t){if(1===t)t=c;else{var e=h(t),n=s/e[2];t=new xv(n,a[0]-e[0]*n,a[1]-e[1]*n)}i.zoom(null,t)}})}function w(t,e){for(var n,r=0,i=h.length;r<i;++r)if((n=h[r]).that===t)return n;return new x(t,e)}function x(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=r.apply(t,e)}function E(){if(n.apply(this,arguments)){var t=w(this,arguments),e=this.__zoom,r=Math.max(s[0],Math.min(s[1],e.k*Math.pow(2,o.apply(this,arguments)))),a=Et(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=e.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[a,e.invert(a)],be(this),t.start()}Tv(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},p),t.zoom("mouse",i(y(m(e,r),t.mouse[0],t.mouse[1]),t.extent,u))}}function k(){if(!e&&n.apply(this,arguments)){var t=w(this,arguments),r=gt(ot.view).on("mousemove.zoom",function(){if(Tv(),!t.moved){var e=ot.clientX-a,n=ot.clientY-s;t.moved=e*e+n*n>v}t.zoom("mouse",i(y(t.that.__zoom,t.mouse[0]=Et(t.that),t.mouse[1]),t.extent,u))},!0).on("mouseup.zoom",function(){r.on("mousemove.zoom mouseup.zoom",null),At(ot.view,t.moved),Tv(),t.end()},!0),o=Et(this),a=ot.clientX,s=ot.clientY;Mt(ot.view),kv(),t.mouse=[o,this.__zoom.invert(o)],be(this),t.start()}}function T(){if(n.apply(this,arguments)){var t=this.__zoom,e=Et(this),o=t.invert(e),a=t.k*(ot.shiftKey?.5:2),s=i(y(m(t,a),e,o),r.apply(this,arguments),u);Tv(),c>0?gt(this).transition().duration(c).call(_,s,e):gt(this).call(g.transform,s)}}function S(){if(n.apply(this,arguments)){var e,r,i,o,a=w(this,arguments),s=ot.changedTouches,u=s.length;for(kv(),r=0;r<u;++r)i=s[r],o=[o=kt(this,s,i.identifier),this.__zoom.invert(o),i.identifier],a.touch0?a.touch1||(a.touch1=o):(a.touch0=o,e=!0);if(t&&(t=clearTimeout(t),!a.touch1))return a.end(),void((o=gt(this).on("dblclick.zoom"))&&o.apply(this,arguments));e&&(t=setTimeout(function(){t=null},d),be(this),a.start())}}function O(){var e,n,r,o,a=w(this,arguments),s=ot.changedTouches,c=s.length;for(Tv(),t&&(t=clearTimeout(t)),e=0;e<c;++e)n=s[e],r=kt(this,s,n.identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var l=a.touch0[0],h=a.touch0[1],f=a.touch1[0],d=a.touch1[1],p=(p=f[0]-l[0])*p+(p=f[1]-l[1])*p,v=(v=d[0]-h[0])*v+(v=d[1]-h[1])*v;n=m(n,Math.sqrt(p/v)),r=[(l[0]+f[0])/2,(l[1]+f[1])/2],o=[(h[0]+d[0])/2,(h[1]+d[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(y(n,r,o),a.extent,u))}function M(){var t,n,r=w(this,arguments),i=ot.changedTouches,o=i.length;for(kv(),e&&clearTimeout(e),e=setTimeout(function(){e=null},d),t=0;t<o;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return g.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",Mv),t!==n?_(t,e):n.interrupt().each(function(){w(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},g.scaleBy=function(t,e){g.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},g.scaleTo=function(t,e){g.transform(t,function(){var t=r.apply(this,arguments),n=this.__zoom,o=b(t),a=n.invert(o),s="function"==typeof e?e.apply(this,arguments):e;return i(y(m(n,s),o,a),t,u)})},g.translateBy=function(t,e,n){g.transform(t,function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),u)})},g.translateTo=function(t,e,n){g.transform(t,function(){var t=r.apply(this,arguments),o=this.__zoom,a=b(t);return i(Ev.translate(a[0],a[1]).scale(o.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,u)})},x.prototype={start:function(){return 1==++this.active&&(this.index=h.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(h.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){lt(new function(t,e,n){this.target=t,this.type=e,this.transform=n}(g,t,this.that.__zoom),f.apply,f,[t,this.that,this.args])}},g.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:wv(+t),g):o},g.filter=function(t){return arguments.length?(n="function"==typeof t?t:wv(!!t),g):n},g.touchable=function(t){return arguments.length?(a="function"==typeof t?t:wv(!!t),g):a},g.extent=function(t){return arguments.length?(r="function"==typeof t?t:wv([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):r},g.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],g):[s[0],s[1]]},g.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],g):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},g.constrain=function(t){return arguments.length?(i=t,g):i},g.duration=function(t){return arguments.length?(c=+t,g):c},g.interpolate=function(t){return arguments.length?(l=t,g):l},g.on=function(){var t=f.on.apply(f,arguments);return t===f?g:t},g.clickDistance=function(t){return arguments.length?(v=(t=+t)*t,g):Math.sqrt(v)},g};n.d(e,"version",function(){return"4.13.0"}),n.d(e,"bisect",function(){return r.b}),n.d(e,"bisectRight",function(){return r.d}),n.d(e,"bisectLeft",function(){return r.c}),n.d(e,"ascending",function(){return r.a}),n.d(e,"bisector",function(){return r.e}),n.d(e,"cross",function(){return r.f}),n.d(e,"descending",function(){return r.g}),n.d(e,"deviation",function(){return r.h}),n.d(e,"extent",function(){return r.i}),n.d(e,"histogram",function(){return r.j}),n.d(e,"thresholdFreedmanDiaconis",function(){return r.w}),n.d(e,"thresholdScott",function(){return r.x}),n.d(e,"thresholdSturges",function(){return r.y}),n.d(e,"max",function(){return r.k}),n.d(e,"mean",function(){return r.l}),n.d(e,"median",function(){return r.m}),n.d(e,"merge",function(){return r.n}),n.d(e,"min",function(){return r.o}),n.d(e,"pairs",function(){return r.p}),n.d(e,"permute",function(){return r.q}),n.d(e,"quantile",function(){return r.r}),n.d(e,"range",function(){return r.s}),n.d(e,"scan",function(){return r.t}),n.d(e,"shuffle",function(){return r.u}),n.d(e,"sum",function(){return r.v}),n.d(e,"ticks",function(){return r.B}),n.d(e,"tickIncrement",function(){return r.z}),n.d(e,"tickStep",function(){return r.A}),n.d(e,"transpose",function(){return r.C}),n.d(e,"variance",function(){return r.D}),n.d(e,"zip",function(){return r.E}),n.d(e,"axisTop",function(){return v}),n.d(e,"axisRight",function(){return g}),n.d(e,"axisBottom",function(){return m}),n.d(e,"axisLeft",function(){return y}),n.d(e,"brush",function(){return Hn}),n.d(e,"brushX",function(){return qn}),n.d(e,"brushY",function(){return Vn}),n.d(e,"brushSelection",function(){return zn}),n.d(e,"chord",function(){return Zn}),n.d(e,"ribbon",function(){return ur}),n.d(e,"nest",function(){return cr.d}),n.d(e,"set",function(){return cr.e}),n.d(e,"map",function(){return cr.c}),n.d(e,"keys",function(){return cr.b}),n.d(e,"values",function(){return cr.f}),n.d(e,"entries",function(){return cr.a}),n.d(e,"color",function(){return we.a}),n.d(e,"rgb",function(){return we.f}),n.d(e,"hsl",function(){return we.d}),n.d(e,"lab",function(){return we.e}),n.d(e,"hcl",function(){return we.c}),n.d(e,"cubehelix",function(){return we.b}),n.d(e,"dispatch",function(){return C}),n.d(e,"drag",function(){return Bt}),n.d(e,"dragDisable",function(){return Mt}),n.d(e,"dragEnable",function(){return At}),n.d(e,"dsvFormat",function(){return gr}),n.d(e,"csvParse",function(){return yr}),n.d(e,"csvParseRows",function(){return br}),n.d(e,"csvFormat",function(){return _r}),n.d(e,"csvFormatRows",function(){return wr}),n.d(e,"tsvParse",function(){return Er}),n.d(e,"tsvParseRows",function(){return Cr}),n.d(e,"tsvFormat",function(){return kr}),n.d(e,"tsvFormatRows",function(){return Tr}),n.d(e,"easeLinear",function(){return Me}),n.d(e,"easeQuad",function(){return Ie}),n.d(e,"easeQuadIn",function(){return Ae}),n.d(e,"easeQuadOut",function(){return Pe}),n.d(e,"easeQuadInOut",function(){return Ie}),n.d(e,"easeCubic",function(){return Re}),n.d(e,"easeCubicIn",function(){return Ne}),n.d(e,"easeCubicOut",function(){return De}),n.d(e,"easeCubicInOut",function(){return Re}),n.d(e,"easePoly",function(){return Fe}),n.d(e,"easePolyIn",function(){return je}),n.d(e,"easePolyOut",function(){return Le}),n.d(e,"easePolyInOut",function(){return Fe}),n.d(e,"easeSin",function(){return qe}),n.d(e,"easeSinIn",function(){return Ue}),n.d(e,"easeSinOut",function(){return ze}),n.d(e,"easeSinInOut",function(){return qe}),n.d(e,"easeExp",function(){return We}),n.d(e,"easeExpIn",function(){return Ve}),n.d(e,"easeExpOut",function(){return He}),n.d(e,"easeExpInOut",function(){return We}),n.d(e,"easeCircle",function(){return Ye}),n.d(e,"easeCircleIn",function(){return Ge}),n.d(e,"easeCircleOut",function(){return Ke}),n.d(e,"easeCircleInOut",function(){return Ye}),n.d(e,"easeBounce",function(){return un}),n.d(e,"easeBounceIn",function(){return sn}),n.d(e,"easeBounceOut",function(){return un}),n.d(e,"easeBounceInOut",function(){return cn}),n.d(e,"easeBack",function(){return fn}),n.d(e,"easeBackIn",function(){return ln}),n.d(e,"easeBackOut",function(){return hn}),n.d(e,"easeBackInOut",function(){return fn}),n.d(e,"easeElastic",function(){return vn}),n.d(e,"easeElasticIn",function(){return pn}),n.d(e,"easeElasticOut",function(){return vn}),n.d(e,"easeElasticInOut",function(){return gn}),n.d(e,"forceCenter",function(){return Sr}),n.d(e,"forceCollide",function(){return $r}),n.d(e,"forceLink",function(){return qr}),n.d(e,"forceManyBody",function(){return Qr}),n.d(e,"forceRadial",function(){return Xr}),n.d(e,"forceSimulation",function(){return Yr}),n.d(e,"forceX",function(){return Jr}),n.d(e,"forceY",function(){return Zr}),n.d(e,"formatDefaultLocale",function(){return di}),n.d(e,"format",function(){return ui}),n.d(e,"formatPrefix",function(){return ci}),n.d(e,"formatLocale",function(){return fi}),n.d(e,"formatSpecifier",function(){return oi}),n.d(e,"precisionFixed",function(){return pi}),n.d(e,"precisionPrefix",function(){return vi}),n.d(e,"precisionRound",function(){return gi}),n.d(e,"geoArea",function(){return uo}),n.d(e,"geoBounds",function(){return ea}),n.d(e,"geoCentroid",function(){return da}),n.d(e,"geoCircle",function(){return Ca}),n.d(e,"geoClipAntimeridian",function(){return Ra}),n.d(e,"geoClipCircle",function(){return ja}),n.d(e,"geoClipExtent",function(){return Va}),n.d(e,"geoClipRectangle",function(){return $a}),n.d(e,"geoContains",function(){return us}),n.d(e,"geoDistance",function(){return Za}),n.d(e,"geoGraticule",function(){return hs}),n.d(e,"geoGraticule10",function(){return fs}),n.d(e,"geoInterpolate",function(){return ms}),n.d(e,"geoLength",function(){return Qa}),n.d(e,"geoPath",function(){return vu}),n.d(e,"geoAlbers",function(){return Nu}),n.d(e,"geoAlbersUsa",function(){return Du}),n.d(e,"geoAzimuthalEqualArea",function(){return Fu}),n.d(e,"geoAzimuthalEqualAreaRaw",function(){return Lu}),n.d(e,"geoAzimuthalEquidistant",function(){return $u}),n.d(e,"geoAzimuthalEquidistantRaw",function(){return Bu}),n.d(e,"geoConicConformal",function(){return Wu}),n.d(e,"geoConicConformalRaw",function(){return Hu}),n.d(e,"geoConicEqualArea",function(){return Iu}),n.d(e,"geoConicEqualAreaRaw",function(){return Pu}),n.d(e,"geoConicEquidistant",function(){return Qu}),n.d(e,"geoConicEquidistantRaw",function(){return Yu}),n.d(e,"geoEquirectangular",function(){return Ku}),n.d(e,"geoEquirectangularRaw",function(){return Gu}),n.d(e,"geoGnomonic",function(){return Ju}),n.d(e,"geoGnomonicRaw",function(){return Xu}),n.d(e,"geoIdentity",function(){return tc}),n.d(e,"geoProjection",function(){return Ou}),n.d(e,"geoProjectionMutator",function(){return Mu}),n.d(e,"geoMercator",function(){return zu}),n.d(e,"geoMercatorRaw",function(){return Uu}),n.d(e,"geoNaturalEarth1",function(){return nc}),n.d(e,"geoNaturalEarth1Raw",function(){return ec}),n.d(e,"geoOrthographic",function(){return ic}),n.d(e,"geoOrthographicRaw",function(){return rc}),n.d(e,"geoStereographic",function(){return ac}),n.d(e,"geoStereographicRaw",function(){return oc}),n.d(e,"geoTransverseMercator",function(){return uc}),n.d(e,"geoTransverseMercatorRaw",function(){return sc}),n.d(e,"geoRotation",function(){return wa}),n.d(e,"geoStream",function(){return to}),n.d(e,"geoTransform",function(){return gu}),n.d(e,"cluster",function(){return fc}),n.d(e,"hierarchy",function(){return pc}),n.d(e,"pack",function(){return Fc}),n.d(e,"packSiblings",function(){return Nc}),n.d(e,"packEnclose",function(){return _c}),n.d(e,"partition",function(){return Vc}),n.d(e,"stratify",function(){return Qc}),n.d(e,"tree",function(){return rl}),n.d(e,"treemap",function(){return ul}),n.d(e,"treemapBinary",function(){return cl}),n.d(e,"treemapDice",function(){return qc}),n.d(e,"treemapSlice",function(){return il}),n.d(e,"treemapSliceDice",function(){return ll}),n.d(e,"treemapSquarify",function(){return sl}),n.d(e,"treemapResquarify",function(){return hl}),n.d(e,"interpolate",function(){return $t.interpolate}),n.d(e,"interpolateArray",function(){return $t.interpolateArray}),n.d(e,"interpolateBasis",function(){return $t.interpolateBasis}),n.d(e,"interpolateBasisClosed",function(){return $t.interpolateBasisClosed}),n.d(e,"interpolateDate",function(){return $t.interpolateDate}),n.d(e,"interpolateNumber",function(){return $t.interpolateNumber}),n.d(e,"interpolateObject",function(){return $t.interpolateObject}),n.d(e,"interpolateRound",function(){return $t.interpolateRound}),n.d(e,"interpolateString",function(){return $t.interpolateString}),n.d(e,"interpolateTransformCss",function(){return $t.interpolateTransformCss}),n.d(e,"interpolateTransformSvg",function(){return $t.interpolateTransformSvg}),n.d(e,"interpolateZoom",function(){return $t.interpolateZoom}),n.d(e,"interpolateRgb",function(){return $t.interpolateRgb}),n.d(e,"interpolateRgbBasis",function(){return $t.interpolateRgbBasis}),n.d(e,"interpolateRgbBasisClosed",function(){return $t.interpolateRgbBasisClosed}),n.d(e,"interpolateHsl",function(){return $t.interpolateHsl}),n.d(e,"interpolateHslLong",function(){return $t.interpolateHslLong}),n.d(e,"interpolateLab",function(){return $t.interpolateLab}),n.d(e,"interpolateHcl",function(){return $t.interpolateHcl}),n.d(e,"interpolateHclLong",function(){return $t.interpolateHclLong}),n.d(e,"interpolateCubehelix",function(){return $t.interpolateCubehelix}),n.d(e,"interpolateCubehelixLong",function(){return $t.interpolateCubehelixLong}),n.d(e,"quantize",function(){return $t.quantize}),n.d(e,"path",function(){return nr.a}),n.d(e,"polygonArea",function(){return fl}),n.d(e,"polygonCentroid",function(){return dl}),n.d(e,"polygonHull",function(){return ml}),n.d(e,"polygonContains",function(){return yl}),n.d(e,"polygonLength",function(){return bl}),n.d(e,"quadtree",function(){return Dr}),n.d(e,"queue",function(){return Sl}),n.d(e,"randomUniform",function(){return Ml}),n.d(e,"randomNormal",function(){return Al}),n.d(e,"randomLogNormal",function(){return Pl}),n.d(e,"randomBates",function(){return Nl}),n.d(e,"randomIrwinHall",function(){return Il}),n.d(e,"randomExponential",function(){return Dl}),n.d(e,"request",function(){return Rl}),n.d(e,"html",function(){return Ll}),n.d(e,"json",function(){return Fl}),n.d(e,"text",function(){return Bl}),n.d(e,"xml",function(){return $l}),n.d(e,"csv",function(){return zl}),n.d(e,"tsv",function(){return ql}),n.d(e,"scaleBand",function(){return Yl}),n.d(e,"scalePoint",function(){return Ql}),n.d(e,"scaleIdentity",function(){return uh}),n.d(e,"scaleLinear",function(){return sh}),n.d(e,"scaleLog",function(){return gh}),n.d(e,"scaleOrdinal",function(){return Kl}),n.d(e,"scaleImplicit",function(){return Gl}),n.d(e,"scalePow",function(){return yh}),n.d(e,"scaleSqrt",function(){return bh}),n.d(e,"scaleQuantile",function(){return _h}),n.d(e,"scaleQuantize",function(){return wh}),n.d(e,"scaleThreshold",function(){return xh}),n.d(e,"scaleTime",function(){return bp}),n.d(e,"scaleUtc",function(){return _p}),n.d(e,"schemeCategory10",function(){return xp}),n.d(e,"schemeCategory20b",function(){return Ep}),n.d(e,"schemeCategory20c",function(){return Cp}),n.d(e,"schemeCategory20",function(){return kp}),n.d(e,"interpolateCubehelixDefault",function(){return Tp}),n.d(e,"interpolateRainbow",function(){return Ap}),n.d(e,"interpolateWarm",function(){return Sp}),n.d(e,"interpolateCool",function(){return Op}),n.d(e,"interpolateViridis",function(){return Ip}),n.d(e,"interpolateMagma",function(){return Np}),n.d(e,"interpolateInferno",function(){return Dp}),n.d(e,"interpolatePlasma",function(){return Rp}),n.d(e,"scaleSequential",function(){return jp}),n.d(e,"create",function(){return mt}),n.d(e,"creator",function(){return O}),n.d(e,"local",function(){return bt}),n.d(e,"matcher",function(){return j}),n.d(e,"mouse",function(){return Et}),n.d(e,"namespace",function(){return S}),n.d(e,"namespaces",function(){return T}),n.d(e,"clientPoint",function(){return xt}),n.d(e,"select",function(){return gt}),n.d(e,"selectAll",function(){return Ct}),n.d(e,"selection",function(){return vt}),n.d(e,"selector",function(){return A}),n.d(e,"selectorAll",function(){return I}),n.d(e,"style",function(){return V}),n.d(e,"touch",function(){return kt}),n.d(e,"touches",function(){return Tt}),n.d(e,"window",function(){return q}),n.d(e,"event",function(){return ot}),n.d(e,"customEvent",function(){return lt}),n.d(e,"arc",function(){return Lp.a}),n.d(e,"area",function(){return Lp.b}),n.d(e,"line",function(){return Lp.v}),n.d(e,"pie",function(){return Lp.A}),n.d(e,"areaRadial",function(){return Lp.c}),n.d(e,"radialArea",function(){return Lp.C}),n.d(e,"lineRadial",function(){return Lp.w}),n.d(e,"radialLine",function(){return Lp.D}),n.d(e,"pointRadial",function(){return Lp.B}),n.d(e,"linkHorizontal",function(){return Lp.x}),n.d(e,"linkVertical",function(){return Lp.z}),n.d(e,"linkRadial",function(){return Lp.y}),n.d(e,"symbol",function(){return Lp.P}),n.d(e,"symbols",function(){return Lp.X}),n.d(e,"symbolCircle",function(){return Lp.Q}),n.d(e,"symbolCross",function(){return Lp.R}),n.d(e,"symbolDiamond",function(){return Lp.S}),n.d(e,"symbolSquare",function(){return Lp.T}),n.d(e,"symbolStar",function(){return Lp.U}),n.d(e,"symbolTriangle",function(){return Lp.V}),n.d(e,"symbolWye",function(){return Lp.W}),n.d(e,"curveBasisClosed",function(){return Lp.e}),n.d(e,"curveBasisOpen",function(){return Lp.f}),n.d(e,"curveBasis",function(){return Lp.d}),n.d(e,"curveBundle",function(){return Lp.g}),n.d(e,"curveCardinalClosed",function(){return Lp.i}),n.d(e,"curveCardinalOpen",function(){return Lp.j}),n.d(e,"curveCardinal",function(){return Lp.h}),n.d(e,"curveCatmullRomClosed",function(){return Lp.l}),n.d(e,"curveCatmullRomOpen",function(){return Lp.m}),n.d(e,"curveCatmullRom",function(){return Lp.k}),n.d(e,"curveLinearClosed",function(){return Lp.o}),n.d(e,"curveLinear",function(){return Lp.n}),n.d(e,"curveMonotoneX",function(){return Lp.p}),n.d(e,"curveMonotoneY",function(){return Lp.q}),n.d(e,"curveNatural",function(){return Lp.r}),n.d(e,"curveStep",function(){return Lp.s}),n.d(e,"curveStepAfter",function(){return Lp.t}),n.d(e,"curveStepBefore",function(){return Lp.u}),n.d(e,"stack",function(){return Lp.E}),n.d(e,"stackOffsetExpand",function(){return Lp.G}),n.d(e,"stackOffsetDiverging",function(){return Lp.F}),n.d(e,"stackOffsetNone",function(){return Lp.H}),n.d(e,"stackOffsetSilhouette",function(){return Lp.I}),n.d(e,"stackOffsetWiggle",function(){return Lp.J}),n.d(e,"stackOrderAscending",function(){return Lp.K}),n.d(e,"stackOrderDescending",function(){return Lp.L}),n.d(e,"stackOrderInsideOut",function(){return Lp.M}),n.d(e,"stackOrderNone",function(){return Lp.N}),n.d(e,"stackOrderReverse",function(){return Lp.O}),n.d(e,"timeInterval",function(){return kh}),n.d(e,"timeMillisecond",function(){return Sh}),n.d(e,"timeMilliseconds",function(){return Oh}),n.d(e,"utcMillisecond",function(){return Sh}),n.d(e,"utcMilliseconds",function(){return Oh}),n.d(e,"timeSecond",function(){return Ih}),n.d(e,"timeSeconds",function(){return Nh}),n.d(e,"utcSecond",function(){return Ih}),n.d(e,"utcSeconds",function(){return Nh}),n.d(e,"timeMinute",function(){return Rh}),n.d(e,"timeMinutes",function(){return jh}),n.d(e,"timeHour",function(){return Fh}),n.d(e,"timeHours",function(){return Bh}),n.d(e,"timeDay",function(){return Uh}),n.d(e,"timeDays",function(){return zh}),n.d(e,"timeWeek",function(){return Vh}),n.d(e,"timeWeeks",function(){return Xh}),n.d(e,"timeSunday",function(){return Vh}),n.d(e,"timeSundays",function(){return Xh}),n.d(e,"timeMonday",function(){return Hh}),n.d(e,"timeMondays",function(){return Jh}),n.d(e,"timeTuesday",function(){return Wh}),n.d(e,"timeTuesdays",function(){return Zh}),n.d(e,"timeWednesday",function(){return Gh}),n.d(e,"timeWednesdays",function(){return tf}),n.d(e,"timeThursday",function(){return Kh}),n.d(e,"timeThursdays",function(){return ef}),n.d(e,"timeFriday",function(){return Yh}),n.d(e,"timeFridays",function(){return nf}),n.d(e,"timeSaturday",function(){return Qh}),n.d(e,"timeSaturdays",function(){return rf}),n.d(e,"timeMonth",function(){return af}),n.d(e,"timeMonths",function(){return sf}),n.d(e,"timeYear",function(){return cf}),n.d(e,"timeYears",function(){return lf}),n.d(e,"utcMinute",function(){return ff}),n.d(e,"utcMinutes",function(){return df}),n.d(e,"utcHour",function(){return vf}),n.d(e,"utcHours",function(){return gf}),n.d(e,"utcDay",function(){return yf}),n.d(e,"utcDays",function(){return bf}),n.d(e,"utcWeek",function(){return wf}),n.d(e,"utcWeeks",function(){return Of}),n.d(e,"utcSunday",function(){return wf}),n.d(e,"utcSundays",function(){return Of}),n.d(e,"utcMonday",function(){return xf}),n.d(e,"utcMondays",function(){return Mf}),n.d(e,"utcTuesday",function(){return Ef}),n.d(e,"utcTuesdays",function(){return Af}),n.d(e,"utcWednesday",function(){return Cf}),n.d(e,"utcWednesdays",function(){return Pf}),n.d(e,"utcThursday",function(){return kf}),n.d(e,"utcThursdays",function(){return If}),n.d(e,"utcFriday",function(){return Tf}),n.d(e,"utcFridays",function(){return Nf}),n.d(e,"utcSaturday",function(){return Sf}),n.d(e,"utcSaturdays",function(){return Df}),n.d(e,"utcMonth",function(){return jf}),n.d(e,"utcMonths",function(){return Lf}),n.d(e,"utcYear",function(){return Bf}),n.d(e,"utcYears",function(){return $f}),n.d(e,"timeFormatDefaultLocale",function(){return ap}),n.d(e,"timeFormat",function(){return Wf}),n.d(e,"timeParse",function(){return Gf}),n.d(e,"utcFormat",function(){return Kf}),n.d(e,"utcParse",function(){return Yf}),n.d(e,"timeFormatLocale",function(){return Vf}),n.d(e,"isoFormat",function(){return sp}),n.d(e,"isoParse",function(){return up}),n.d(e,"now",function(){return Qt}),n.d(e,"timer",function(){return Zt}),n.d(e,"timerFlush",function(){return te}),n.d(e,"timeout",function(){return ie}),n.d(e,"interval",function(){return oe}),n.d(e,"transition",function(){return Te}),n.d(e,"active",function(){return _n}),n.d(e,"interrupt",function(){return be}),n.d(e,"voronoi",function(){return _v}),n.d(e,"zoom",function(){return Nv}),n.d(e,"zoomTransform",function(){return Cv}),n.d(e,"zoomIdentity",function(){return Ev})},wLac:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__=__webpack_require__("Zrlr"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__=__webpack_require__("wxAW"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys__=__webpack_require__("fZjL"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys__),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_number_is_finite__=__webpack_require__("AMV0"),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_number_is_finite___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_number_is_finite__),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify__),t7ctx=void 0;t7ctx="undefined"!=typeof window?window:void 0!==global?global:void 0;var Template7Context=t7ctx,Template7Utils={quoteSingleRexExp:new RegExp("'","g"),quoteDoubleRexExp:new RegExp('"',"g"),isFunction:function(t){return"function"==typeof t},escape:function(t){return void 0!==Template7Context&&Template7Context.escape?Template7Context.escape(t):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},helperToSlices:function(t){var e=Template7Utils.quoteDoubleRexExp,n=Template7Utils.quoteSingleRexExp,r=t.replace(/[{}#}]/g,"").trim().split(" "),i=[],o=void 0,a=void 0,s=void 0;for(a=0;a<r.length;a+=1){var u=r[a],c=void 0,l=void 0;if(0===a)i.push(u);else if(0===u.indexOf('"')||0===u.indexOf("'"))if(c=0===u.indexOf('"')?e:n,l=0===u.indexOf('"')?'"':"'",2===u.match(c).length)i.push(u);else{for(o=0,s=a+1;s<r.length;s+=1)if(u+=" "+r[s],r[s].indexOf(l)>=0){o=s,i.push(u);break}o&&(a=o)}else if(u.indexOf("=")>0){var h=u.split("="),f=h[0],d=h[1];if(c||(c=0===d.indexOf('"')?e:n,l=0===d.indexOf('"')?'"':"'"),2!==d.match(c).length){for(o=0,s=a+1;s<r.length;s+=1)if(d+=" "+r[s],r[s].indexOf(l)>=0){o=s;break}o&&(a=o)}var p=[f,d.replace(c,"")];i.push(p)}else i.push(u)}return i},stringToBlocks:function(t){var e=[],n=void 0,r=void 0;if(!t)return[];var i=t.split(/({{[^{^}]*}})/);for(n=0;n<i.length;n+=1){var o=i[n];if(""!==o)if(o.indexOf("{{")<0)e.push({type:"plain",content:o});else{if(o.indexOf("{/")>=0)continue;if((o=o.replace(/{{([#/])*([ ])*/,"{{$1").replace(/([ ])*}}/,"}}")).indexOf("{#")<0&&o.indexOf(" ")<0&&o.indexOf("else")<0){e.push({type:"variable",contextName:o.replace(/[{}]/g,"")});continue}var a=Template7Utils.helperToSlices(o),s=a[0],u=">"===s,c=[],l={};for(r=1;r<a.length;r+=1){var h=a[r];Array.isArray(h)?l[h[0]]="false"!==h[1]&&h[1]:c.push(h)}if(o.indexOf("{#")>=0){var f="",d="",p=0,v=void 0,g=!1,m=!1,y=0;for(r=n+1;r<i.length;r+=1)if(i[r].indexOf("{{#")>=0&&(y+=1),i[r].indexOf("{{/")>=0&&(y-=1),i[r].indexOf("{{#"+s)>=0)f+=i[r],m&&(d+=i[r]),p+=1;else if(i[r].indexOf("{{/"+s)>=0){if(!(p>0)){v=r,g=!0;break}p-=1,f+=i[r],m&&(d+=i[r])}else i[r].indexOf("else")>=0&&0===y?m=!0:(m||(f+=i[r]),m&&(d+=i[r]));g&&(v&&(n=v),"raw"===s?e.push({type:"plain",content:f}):e.push({type:"helper",helperName:s,contextName:c,content:f,inverseContent:d,hash:l}))}else o.indexOf(" ")>0&&(u&&(s="_partial",c[0]&&(0===c[0].indexOf("[")?c[0]=c[0].replace(/[[\]]/g,""):c[0]='"'+c[0].replace(/"|'/g,"")+'"')),e.push({type:"helper",helperName:s,contextName:c,hash:l}))}}return e},parseJsVariable:function(t,e,n){return t.split(/([+ \-*/^])/g).map(function(t){if(t.indexOf(e)<0)return t;if(!n)return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()("");var r=n;return t.indexOf(e+".")>=0&&t.split(e+".")[1].split(".").forEach(function(t){r=t in r?r[t]:void 0}),"string"==typeof r&&(r=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(r)),void 0===r&&(r="undefined"),r}).join("")},parseJsParents:function(t,e){return t.split(/([+ \-*^])/g).map(function(t){if(t.indexOf("../")<0)return t;if(!e||0===e.length)return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()("");var n=t.split("../").length-1,r=n>e.length?e[e.length-1]:e[n-1];return t.replace(/..\//g,"").split(".").forEach(function(t){r=r[t]?r[t]:"undefined"}),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(r)}).join("")},getCompileVar:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"data_1",r=e,i=void 0,o=0,a=void 0;0===t.indexOf("../")?(o=t.split("../").length-1,r="ctx_"+((a=r.split("_")[1]-o)>=1?a:1),i=t.split("../")[o].split(".")):0===t.indexOf("@global")?(r="Template7.global",i=t.split("@global.")[1].split(".")):0===t.indexOf("@root")?(r="root",i=t.split("@root.")[1].split(".")):i=t.split(".");for(var s=0;s<i.length;s+=1){var u=i[s];if(0===u.indexOf("@")){var c=n.split("_")[1];o>0&&(c=a),s>0?r+="[(data_"+c+" && data_"+c+"."+u.replace("@","")+")]":r="(data_"+c+" && data_"+c+"."+u.replace("@","")+")"}else(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_number_is_finite___default.a?__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_number_is_finite___default()(u):Template7Context.isFinite(u))?r+="["+u+"]":"this"===u||u.indexOf("this.")>=0||u.indexOf("this[")>=0||u.indexOf("this(")>=0?r=u.replace("this",e):r+="."+u}return r},getCompiledArguments:function(t,e,n){for(var r=[],i=0;i<t.length;i+=1)/^['"]/.test(t[i])?r.push(t[i]):/^(true|false|\d+)$/.test(t[i])?r.push(t[i]):r.push(Template7Utils.getCompileVar(t[i],e,n));return r.join(", ")}},Template7Helpers={_partial:function(t,e){var n=this,r=Template7Class.partials[t];return!r||r&&!r.template?"":(r.compiled||(r.compiled=new Template7Class(r.template).compile()),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys___default()(e.hash).forEach(function(t){n[t]=e.hash[t]}),r.compiled(n,e.data,e.root))},escape:function(t){if("string"!=typeof t)throw new Error('Template7: Passed context to "escape" helper should be a string');return Template7Utils.escape(t)},if:function(t,e){var n=t;return Template7Utils.isFunction(n)&&(n=n.call(this)),n?e.fn(this,e.data):e.inverse(this,e.data)},unless:function(t,e){var n=t;return Template7Utils.isFunction(n)&&(n=n.call(this)),n?e.inverse(this,e.data):e.fn(this,e.data)},each:function(t,e){var n=t,r="",i=0;if(Template7Utils.isFunction(n)&&(n=n.call(this)),Array.isArray(n)){for(e.hash.reverse&&(n=n.reverse()),i=0;i<n.length;i+=1)r+=e.fn(n[i],{first:0===i,last:i===n.length-1,index:i});e.hash.reverse&&(n=n.reverse())}else for(var o in n)i+=1,r+=e.fn(n[o],{key:o});return i>0?r:e.inverse(this)},with:function(t,e){var n=t;return Template7Utils.isFunction(n)&&(n=t.call(this)),e.fn(n)},join:function(t,e){var n=t;return Template7Utils.isFunction(n)&&(n=n.call(this)),n.join(e.hash.delimiter||e.hash.delimeter)},js:function js(expression,options){var data=options.data,func=void 0,execute=expression;return"index first last key".split(" ").forEach(function(t){if(void 0!==data[t]){var e=new RegExp("this.@"+t,"g"),n=new RegExp("@"+t,"g");execute=execute.replace(e,__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(data[t])).replace(n,__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(data[t]))}}),options.root&&execute.indexOf("@root")>=0&&(execute=Template7Utils.parseJsVariable(execute,"@root",options.root)),execute.indexOf("@global")>=0&&(execute=Template7Utils.parseJsVariable(execute,"@global",Template7Context.Template7.global)),execute.indexOf("../")>=0&&(execute=Template7Utils.parseJsParents(execute,options.parents)),func=execute.indexOf("return")>=0?"(function(){"+execute+"})":"(function(){return ("+execute+")})",eval(func).call(this)},js_if:function js_if(expression,options){var data=options.data,func=void 0,execute=expression;"index first last key".split(" ").forEach(function(t){if(void 0!==data[t]){var e=new RegExp("this.@"+t,"g"),n=new RegExp("@"+t,"g");execute=execute.replace(e,__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(data[t])).replace(n,__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(data[t]))}}),options.root&&execute.indexOf("@root")>=0&&(execute=Template7Utils.parseJsVariable(execute,"@root",options.root)),execute.indexOf("@global")>=0&&(execute=Template7Utils.parseJsVariable(execute,"@global",Template7Context.Template7.global)),execute.indexOf("../")>=0&&(execute=Template7Utils.parseJsParents(execute,options.parents)),func=execute.indexOf("return")>=0?"(function(){"+execute+"})":"(function(){return ("+execute+")})";var condition=eval(func).call(this);return condition?options.fn(this,options.data):options.inverse(this,options.data)}};Template7Helpers.js_compare=Template7Helpers.js_if;var Template7Options={},Template7Partials={},Template7Class=function(){function Template7Class(t){__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this,Template7Class);this.template=t}return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(Template7Class,[{key:"compile",value:function compile(){var template=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.template,depth=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=this;if(t.compiled)return t.compiled;if("string"!=typeof template)throw new Error("Template7: Template must be a string");var stringToBlocks=Template7Utils.stringToBlocks,getCompileVar=Template7Utils.getCompileVar,getCompiledArguments=Template7Utils.getCompiledArguments,blocks=stringToBlocks(template),ctx="ctx_"+depth,data="data_"+depth;if(0===blocks.length)return function(){return""};function getCompileFn(e,n){return e.content?t.compile(e.content,n):function(){return""}}function getCompileInverse(e,n){return e.inverseContent?t.compile(e.inverseContent,n):function(){return""}}var resultString="";resultString+=1===depth?"(function ("+ctx+", "+data+", root) {\n":"(function ("+ctx+", "+data+") {\n",1===depth&&(resultString+="function isArray(arr){return Array.isArray(arr);}\n",resultString+="function isFunction(func){return (typeof func === 'function');}\n",resultString+='function c(val, ctx) {if (typeof val !== "undefined" && val !== null) {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n',resultString+="root = root || ctx_1 || {};\n"),resultString+="var r = '';\n";var i=void 0;for(i=0;i<blocks.length;i+=1){var block=blocks[i];if("plain"!==block.type){var variable=void 0,compiledArguments=void 0;if("variable"===block.type&&(variable=getCompileVar(block.contextName,ctx,data),resultString+="r += c("+variable+", "+ctx+");"),"helper"===block.type){var parents=void 0;if("ctx_1"!==ctx){for(var level=ctx.split("_")[1],parentsString="ctx_"+(level-1),j=level-2;j>=1;j-=1)parentsString+=", ctx_"+j;parents="["+parentsString+"]"}else parents="["+ctx+"]";var dynamicHelper=void 0;if(0===block.helperName.indexOf("[")&&(block.helperName=getCompileVar(block.helperName.replace(/[[\]]/g,""),ctx,data),dynamicHelper=!0),dynamicHelper||block.helperName in Template7Helpers)compiledArguments=getCompiledArguments(block.contextName,ctx,data),resultString+="r += (Template7Helpers"+(dynamicHelper?"["+block.helperName+"]":"."+block.helperName)+").call("+ctx+", "+(compiledArguments&&compiledArguments+", ")+"{hash:"+__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(block.hash)+", data: "+data+" || {}, fn: "+getCompileFn(block,depth+1)+", inverse: "+getCompileInverse(block,depth+1)+", root: root, parents: "+parents+"});";else{if(block.contextName.length>0)throw new Error('Template7: Missing helper: "'+block.helperName+'"');variable=getCompileVar(block.helperName,ctx,data),resultString+="if ("+variable+") {",resultString+="if (isArray("+variable+")) {",resultString+="r += (Template7Helpers.each).call("+ctx+", "+variable+", {hash:"+__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(block.hash)+", data: "+data+" || {}, fn: "+getCompileFn(block,depth+1)+", inverse: "+getCompileInverse(block,depth+1)+", root: root, parents: "+parents+"});",resultString+="}else {",resultString+="r += (Template7Helpers.with).call("+ctx+", "+variable+", {hash:"+__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(block.hash)+", data: "+data+" || {}, fn: "+getCompileFn(block,depth+1)+", inverse: "+getCompileInverse(block,depth+1)+", root: root, parents: "+parents+"});",resultString+="}}"}}}else resultString+="r +='"+block.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")+"';"}return resultString+="\nreturn r;})",1===depth?(t.compiled=eval(resultString),t.compiled):resultString}}],[{key:"options",get:function(){return Template7Options}},{key:"partials",get:function(){return Template7Partials}},{key:"helpers",get:function(){return Template7Helpers}}]),Template7Class}();function Template7(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1];if(2===e.length){var o=new Template7Class(r),a=o.compile()(i);return o=null,a}return new Template7Class(r)}Template7.registerHelper=function(t,e){Template7Class.helpers[t]=e},Template7.unregisterHelper=function(t){Template7Class.helpers[t]=void 0,delete Template7Class.helpers[t]},Template7.registerPartial=function(t,e){Template7Class.partials[t]={template:e}},Template7.unregisterPartial=function(t){Template7Class.partials[t]&&(Template7Class.partials[t]=void 0,delete Template7Class.partials[t])},Template7.compile=function(t,e){return new Template7Class(t,e).compile()},Template7.options=Template7Class.options,Template7.helpers=Template7Class.helpers,Template7.partials=Template7Class.partials,__webpack_exports__.a=Template7}).call(__webpack_exports__,__webpack_require__("DuR2"))},woOf:function(t,e,n){t.exports={default:n("V3tA"),__esModule:!0}},wxAW:function(t,e,n){"use strict";e.__esModule=!0;var r,i=n("C4MV"),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},xGkn:function(t,e,n){"use strict";var r=n("4mcu"),i=n("EGZi"),o=n("/bQp"),a=n("TcQ7");t.exports=n("vIB/")(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},"xH/j":function(t,e,n){var r=n("hJx8");t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},xLtR:function(t,e,n){"use strict";var r=n("cGG2"),i=n("TNV1"),o=n("pBtG"),a=n("KCLY"),s=n("dIwP"),u=n("qRfI");function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return c(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(c(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},xnc9:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},yd7U:function(t,e,n){var r;r=function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=244)}([function(t,e,n){"use strict";n.d(e,"i",function(){return r}),n.d(e,"j",function(){return i}),n.d(e,"o",function(){return o}),n.d(e,"l",function(){return a}),n.d(e,"q",function(){return s}),n.d(e,"w",function(){return u}),n.d(e,"h",function(){return c}),n.d(e,"r",function(){return l}),n.d(e,"a",function(){return h}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return d}),n.d(e,"g",function(){return p}),n.d(e,"f",function(){return v}),n.d(e,"k",function(){return g}),n.d(e,"n",function(){return m}),n.d(e,"p",function(){return y}),n.d(e,"t",function(){return b}),n.d(e,"s",function(){return _}),n.d(e,"u",function(){return w}),n.d(e,"v",function(){return x}),e.b=function(t){return t>1?0:t<-1?o:Math.acos(t)},e.c=function(t){return t>1?a:t<-1?-a:Math.asin(t)},e.m=function(t){return(t=b(t/2))*t};var r=1e-6,i=1e-12,o=Math.PI,a=o/2,s=o/4,u=2*o,c=180/o,l=o/180,h=Math.abs,f=Math.atan,d=Math.atan2,p=Math.cos,v=Math.ceil,g=Math.exp,m=(Math.floor,Math.log),y=Math.pow,b=Math.sin,_=Math.sign||function(t){return t>0?1:t<0?-1:0},w=Math.sqrt,x=Math.tan},function(t,e,n){"use strict";var r=n(64);n.d(e,"a",function(){return r.a});var i=n(275);n.d(e,"d",function(){return i.a});var o=n(139);n.d(e,"e",function(){return o.a});var a=n(276);n.d(e,"f",function(){return a.a});var s=n(65);n.d(e,"g",function(){return s.a});var u=n(66);n.d(e,"h",function(){return u.a});var c=n(277);n.d(e,"i",function(){return c.a});var l=n(305);n.d(e,"j",function(){return l.a});var h=n(5);n.d(e,"k",function(){return h.b});var f=n(70);n.d(e,"l",function(){return f.a});var d=n(140);n.d(e,"m",function(){return d.a});var p=n(143);n.d(e,"n",function(){return p.b});var v=n(306);n.d(e,"o",function(){return v.a});var g=n(307);n.d(e,"p",function(){return g.a});var m=n(71);n.d(e,"q",function(){return m.a});var y=n(68);n.d(e,"c",function(){return y.c}),n.d(e,"b",function(){return y.a})},function(t,e,n){"use strict";var r=n(127);n.d(e,"b",function(){return r.c}),n.d(e,"d",function(){return r.b}),n.d(e,"c",function(){return r.a});var i=n(20);n.d(e,"a",function(){return i.a});var o=n(128);n.d(e,"e",function(){return o.a});var a=n(251);n.d(e,"f",function(){return a.a});var s=n(252);n.d(e,"g",function(){return s.a});var u=n(130);n.d(e,"h",function(){return u.a});var c=n(132);n.d(e,"i",function(){return c.a});var l=n(253);n.d(e,"j",function(){return l.a});var h=n(256);n.d(e,"w",function(){return h.a});var f=n(257);n.d(e,"x",function(){return f.a});var d=n(136);n.d(e,"y",function(){return d.a});var p=n(258);n.d(e,"k",function(){return p.a});var v=n(259);n.d(e,"l",function(){return v.a});var g=n(260);n.d(e,"m",function(){return g.a});var m=n(261);n.d(e,"n",function(){return m.a});var y=n(137);n.d(e,"o",function(){return y.a});var b=n(129);n.d(e,"p",function(){return b.a});var _=n(262);n.d(e,"q",function(){return _.a});var w=n(62);n.d(e,"r",function(){return w.a});var x=n(134);n.d(e,"s",function(){return x.a});var E=n(263);n.d(e,"t",function(){return E.a});var C=n(264);n.d(e,"u",function(){return C.a});var k=n(265);n.d(e,"v",function(){return k.a});var T=n(135);n.d(e,"B",function(){return T.a}),n.d(e,"z",function(){return T.b}),n.d(e,"A",function(){return T.c});var S=n(138);n.d(e,"C",function(){return S.a});var O=n(131);n.d(e,"D",function(){return O.a});var M=n(266);n.d(e,"E",function(){return M.a})},function(t,e,n){"use strict";var r=n(73);n.d(e,"a",function(){return r.e}),n.d(e,"f",function(){return r.g}),n.d(e,"d",function(){return r.f});var i=n(310);n.d(e,"e",function(){return i.a}),n.d(e,"c",function(){return i.b});var o=n(311);n.d(e,"b",function(){return o.a})},function(t,e,n){"use strict";e.a=function t(e,n,o,a){function s(t){return e(t=new Date(+t)),t}return s.floor=s,s.ceil=function(t){return e(t=new Date(t-1)),n(t,1),e(t),t},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(t,r,i){var o=[];if(t=s.ceil(t),i=null==i?1:Math.floor(i),!(t<r&&i>0))return o;do{o.push(new Date(+t))}while(n(t,i),e(t),t<r);return o},s.filter=function(r){return t(function(t){if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},function(t,e){if(t>=t)if(e<0)for(;++e<=0;)for(;n(t,-1),!r(t););else for(;--e>=0;)for(;n(t,1),!r(t););})},o&&(s.count=function(t,n){return r.setTime(+t),i.setTime(+n),e(r),e(i),Math.floor(o(r,i))},s.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?s.filter(a?function(e){return a(e)%t==0}:function(e){return s.count(0,e)%t==0}):s:null}),s};var r=new Date,i=new Date},function(t,e,n){"use strict";function r(t,e){this._groups=t,this._parents=e}function i(){return new r([[document.documentElement]],D)}n.d(e,"c",function(){return D}),e.a=r;var o=n(278),a=n(279),s=n(280),u=n(281),c=n(141),l=n(283),h=n(284),f=n(285),d=n(286),p=n(287),v=n(288),g=n(289),m=n(290),y=n(291),b=n(292),_=n(293),w=n(143),x=n(294),E=n(295),C=n(296),k=n(297),T=n(298),S=n(299),O=n(300),M=n(301),A=n(302),P=n(303),I=n(68),N=n(304),D=[null];r.prototype=i.prototype={constructor:r,select:o.a,selectAll:a.a,filter:s.a,data:u.a,enter:c.b,exit:l.a,merge:h.a,order:f.a,sort:d.a,call:p.a,nodes:v.a,node:g.a,size:m.a,empty:y.a,each:b.a,attr:_.a,style:w.a,property:x.a,classed:E.a,text:C.a,html:k.a,raise:T.a,lower:S.a,append:O.a,insert:M.a,remove:A.a,datum:P.a,on:I.b,dispatch:N.a},e.b=i},function(t,e,n){"use strict";var r=n(72);n.d(e,"a",function(){return r.a});var i=n(150);n.d(e,"b",function(){return i.a});var o=n(75);n.d(e,"c",function(){return o.b});var a=n(148);n.d(e,"d",function(){return a.a});var s=n(151);n.d(e,"g",function(){return s.a});var u=n(43);n.d(e,"m",function(){return u.a});var c=n(152);n.d(e,"n",function(){return c.a});var l=n(312);n.d(e,"r",function(){return l.a});var h=n(153);n.d(e,"s",function(){return h.a});var f=n(313);n.d(e,"t",function(){return f.a}),n.d(e,"u",function(){return f.b});var d=n(316);n.d(e,"v",function(){return d.a});var p=n(147);n.d(e,"o",function(){return p.a}),n.d(e,"p",function(){return p.b}),n.d(e,"q",function(){return p.c});var v=n(317);n.d(e,"j",function(){return v.a}),n.d(e,"k",function(){return v.b});var g=n(318);n.d(e,"l",function(){return g.a});var m=n(319);n.d(e,"h",function(){return m.a}),n.d(e,"i",function(){return m.b});var y=n(320);n.d(e,"e",function(){return y.b}),n.d(e,"f",function(){return y.a});var b=n(321);n.d(e,"w",function(){return b.a})},function(t,e,n){"use strict";n.d(e,"c",function(){return u}),n.d(e,"d",function(){return c}),n.d(e,"b",function(){return f}),n.d(e,"a",function(){return d}),e.g=function(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>s)throw new Error("too late");return n},e.h=function(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>c)throw new Error("too late");return n},e.f=function(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n};var r=n(15),i=n(44),o=Object(r.a)("start","end","interrupt"),a=[],s=0,u=1,c=2,l=3,h=4,f=5,d=6;e.e=function(t,e,n,r,p,v){var g=t.__transition;if(g){if(n in g)return}else t.__transition={};!function(t,e,n){function r(f){var v,g,m,y;if(n.state!==u)return a();for(v in p)if((y=p[v]).name===n.name){if(y.state===l)return Object(i.c)(r);y.state===h?(y.state=d,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete p[v]):+v<e&&(y.state=d,y.timer.stop(),delete p[v])}if(Object(i.c)(function(){n.state===l&&(n.state=h,n.timer.restart(o,n.delay,n.time),o(f))}),n.state=c,n.on.call("start",t,t.__data__,n.index,n.group),n.state===c){for(n.state=l,s=new Array(m=n.tween.length),v=0,g=-1;v<m;++v)(y=n.tween[v].value.call(t,t.__data__,n.index,n.group))&&(s[++g]=y);s.length=g+1}}function o(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=f,1),i=-1,o=s.length;++i<o;)s[i].call(null,r);n.state===f&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var r in n.state=d,n.timer.stop(),delete p[e],p)return;delete t.__transition}var s,p=t.__transition;p[e]=n,n.timer=Object(i.d)(function(t){n.state=u,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:p,on:o,tween:a,time:v.time,delay:v.delay,duration:v.duration,ease:v.ease,timer:null,state:s})}},function(t,e,n){"use strict";var r=n(362);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";function r(t,e){this._groups=t,this._parents=e}n.d(e,"b",function(){return N}),e.a=r;var i=n(546),o=n(547),a=n(548),s=n(549),u=n(214),c=n(551),l=n(552),h=n(553),f=n(554),d=n(555),p=n(556),v=n(557),g=n(558),m=n(559),y=n(560),b=n(561),_=n(562),w=n(563),x=n(564),E=n(565),C=n(566),k=n(567),T=n(568),S=n(569),O=n(570),M=n(571),A=n(572),P=n(108),I=n(573),N=[null];r.prototype=function(){return new r([[document.documentElement]],N)}.prototype={constructor:r,select:i.a,selectAll:o.a,filter:a.a,data:s.a,enter:u.b,exit:c.a,merge:l.a,order:h.a,sort:f.a,call:d.a,nodes:p.a,node:v.a,size:g.a,empty:m.a,each:y.a,attr:b.a,style:_.a,property:w.a,classed:x.a,text:E.a,html:C.a,raise:k.a,lower:T.a,append:S.a,insert:O.a,remove:M.a,datum:A.a,on:P.a,dispatch:I.a}},function(t,e,n){"use strict";function r(t,e){this._groups=t,this._parents=e}n.d(e,"b",function(){return N}),e.a=r;var i=n(584),o=n(585),a=n(586),s=n(587),u=n(218),c=n(589),l=n(590),h=n(591),f=n(592),d=n(593),p=n(594),v=n(595),g=n(596),m=n(597),y=n(598),b=n(599),_=n(220),w=n(600),x=n(601),E=n(602),C=n(603),k=n(604),T=n(605),S=n(606),O=n(607),M=n(608),A=n(609),P=n(117),I=n(610),N=[null];r.prototype=function(){return new r([[document.documentElement]],N)}.prototype={constructor:r,select:i.a,selectAll:o.a,filter:a.a,data:s.a,enter:u.b,exit:c.a,merge:l.a,order:h.a,sort:f.a,call:d.a,nodes:p.a,node:v.a,size:g.a,empty:m.a,each:y.a,attr:b.a,style:_.a,property:w.a,classed:x.a,text:E.a,html:C.a,raise:k.a,lower:T.a,append:S.a,insert:O.a,remove:M.a,datum:A.a,on:P.b,dispatch:I.a}},function(t,e,n){"use strict";function r(t){return Object(f.b)({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function i(t){function e(t){return[(t=w(t[0]*l.r,t[1]*l.r))[0]*S+y,b-t[1]*S]}function n(t){return(t=w.invert((t[0]-y)/S,(b-t[1])/S))&&[t[0]*l.h,t[1]*l.h]}function i(t,e){return[(t=m(t,e))[0]*S+y,b-t[1]*S]}function f(){w=Object(u.a)(_=Object(h.b)(I,N,D),m);var t=m(A,P);return y=O-t[0]*S,b=M+t[1]*S,g()}function g(){return k=T=null,e}var m,y,b,_,w,x,E,C,k,T,S=150,O=480,M=250,A=0,P=0,I=0,N=0,D=0,R=null,j=o.a,L=null,F=c.a,B=.5,$=Object(p.a)(i,B);return e.stream=function(t){return k&&T===t?k:k=v(r(_)(j($(F(T=t)))))},e.preclip=function(t){return arguments.length?(j=t,R=void 0,g()):j},e.postclip=function(t){return arguments.length?(F=t,L=x=E=C=null,g()):F},e.clipAngle=function(t){return arguments.length?(j=+t?Object(a.a)(R=t*l.r):(R=null,o.a),g()):R*l.h},e.clipExtent=function(t){return arguments.length?(F=null==t?(L=x=E=C=null,c.a):Object(s.a)(L=+t[0][0],x=+t[0][1],E=+t[1][0],C=+t[1][1]),g()):null==L?null:[[L,x],[E,C]]},e.scale=function(t){return arguments.length?(S=+t,f()):S},e.translate=function(t){return arguments.length?(O=+t[0],M=+t[1],f()):[O,M]},e.center=function(t){return arguments.length?(A=t[0]%360*l.r,P=t[1]%360*l.r,f()):[A*l.h,P*l.h]},e.rotate=function(t){return arguments.length?(I=t[0]%360*l.r,N=t[1]%360*l.r,D=t.length>2?t[2]%360*l.r:0,f()):[I*l.h,N*l.h,D*l.h]},e.precision=function(t){return arguments.length?($=Object(p.a)(i,B=t*t),g()):Object(l.u)(B)},e.fitExtent=function(t,n){return Object(d.a)(e,t,n)},e.fitSize=function(t,n){return Object(d.b)(e,t,n)},function(){return m=t.apply(this,arguments),e.invert=m.invert&&n,f()}}e.a=function(t){return i(function(){return t})()},e.b=i;var o=n(166),a=n(172),s=n(48),u=n(165),c=n(86),l=n(0),h=n(47),f=n(49),d=n(89),p=n(415),v=Object(f.b)({point:function(t,e){this.stream.point(t*l.r,e*l.r)}})},function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"e",function(){return s});var r=1e3,i=6e4,o=36e5,a=864e5,s=6048e5},function(t,e,n){"use strict";function r(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function i(t){return Object(o.k)().transition(t)}e.a=r,e.b=i,e.c=function(){return++E};var o=n(1),a=n(327),s=n(328),u=n(329),c=n(330),l=n(331),h=n(332),f=n(333),d=n(334),p=n(335),v=n(336),g=n(337),m=n(338),y=n(339),b=n(340),_=n(341),w=n(342),x=n(45),E=0,C=o.k.prototype;r.prototype=i.prototype={constructor:r,select:v.a,selectAll:g.a,filter:h.a,merge:f.a,selection:m.a,transition:w.a,call:C.call,nodes:C.nodes,node:C.node,size:C.size,empty:C.empty,each:C.each,on:d.a,attr:a.a,attrTween:s.a,style:y.a,styleTween:b.a,text:_.a,remove:p.a,tween:x.a,delay:u.a,duration:c.a,ease:l.a}},function(t,e,n){"use strict";e.a=function(){}},function(t,e,n){"use strict";var r=n(273);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";function r(t,e){t&&s.hasOwnProperty(t.type)&&s[t.type](t,e)}function i(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function o(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)i(t[n],e,1);e.polygonEnd()}var a={Feature:function(t,e){r(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)r(n[i].geometry,e)}},s={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){i(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)i(n[r],e,0)},Polygon:function(t,e){o(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)o(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)r(n[i],e)}};e.a=function(t,e){t&&a.hasOwnProperty(t.type)?a[t.type](t,e):r(t,e)}},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=Array.prototype,i=r.map,o=r.slice},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(126),i=n(38);n.n(i),e.a={template:'\n    <div :class = \'["vue-d2b-container", "vue-d2b-" + name]\'></div>\n  ',props:{data:{default:function(){}},config:{default:function(){return function(){}}},duration:{default:500}},data:function(){return{unwatch:null,id:Object(i.id)()}},computed:{properties:function(){return{generator:this.generator,data:this.data,config:this.config}}},destroyed:function(){Object(r.selectAll)(".d2b-tooltip").remove(),Object(r.select)(window).on("resize."+this.id,null)},mounted:function(){this.updateDefer(),Object(r.select)(window).on("resize."+this.id,this.updateDefer)},methods:{unwatcher:function(){this.unwatch&&this.unwatch()},watcher:function(){this.unwatcher(),this.unwatch=this.$watch("properties",this.update,{deep:!0})},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.unwatcher(),this.$emit("beforeRender",this.$el,this.generator);var e=this.data;this.config(this.generator);var n=Object(r.select)(this.$el),i=t.skipTransition?n:n.transition().duration(this.duration);n.datum(e),i.call(this.generator),this.$emit("rendered",this.$el,this.generator),this.watcher()},updateNow:function(){this.update({skipTransition:!0})},updateDefer:function(){setTimeout(this.updateNow,0)}}}},function(t,e,n){"use strict";e.a=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}},function(t,e,n){"use strict";var r=n(363);n.d(e,"d",function(){return r.a});var i=n(364);n.d(e,"e",function(){return i.a});var o=n(78);n.d(e,"c",function(){return o.a});var a=n(365);n.d(e,"b",function(){return a.a});var s=n(366);n.d(e,"f",function(){return s.a});var u=n(367);n.d(e,"a",function(){return u.a})},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";function r(){this.reset()}function i(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}e.a=function(){return new r},r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(t){i(o,t,this.t),i(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new r},function(t,e,n){"use strict";e.a=function(){return Math.random()}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t){return null===t?NaN:+t}},function(t,e,n){"use strict";function r(t,e){return function(n){return t+n*e}}function i(t,e){var n=e-t;return n?r(t,n):Object(o.a)(isNaN(t)?e:t)}e.c=function(t,e){var n=e-t;return n?r(t,n>180||n<-180?n-360*Math.round(n/360):n):Object(o.a)(isNaN(t)?e:t)},e.b=function(t){return 1==(t=+t)?i:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Object(o.a)(isNaN(e)?n:e)}},e.a=i;var o=n(149)},function(t,e,n){"use strict";e.g=function(t){return[Object(r.e)(t[1],t[0]),Object(r.c)(t[2])]},e.a=function(t){var e=t[0],n=t[1],i=Object(r.g)(n);return[i*Object(r.g)(e),i*Object(r.t)(e),Object(r.t)(n)]},e.d=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},e.c=function(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]},e.b=function(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]},e.f=function(t,e){return[t[0]*e,t[1]*e,t[2]*e]},e.e=function(t){var e=Object(r.u)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e};var r=n(0)},function(t,e,n){"use strict";e.b=function(t){return function(e,n){var i=Object(r.g)(e),o=Object(r.g)(n),a=t(i*o);return[a*o*Object(r.t)(e),a*Object(r.t)(n)]}},e.a=function(t){return function(e,n){var i=Object(r.u)(e*e+n*n),o=t(i),a=Object(r.t)(o),s=Object(r.g)(o);return[Object(r.e)(e*a,i*s),Object(r.c)(i&&n*a/i)]}};var r=n(0)},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c}},function(t,e,n){"use strict";function r(t){var e=t.domain;return t.ticks=function(t){var n=e();return Object(i.B)(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return Object(s.a)(e(),t,n)},t.nice=function(n){null==n&&(n=10);var r,o=e(),a=0,s=o.length-1,u=o[a],c=o[s];return c<u&&(r=u,u=c,c=r,r=a,a=s,s=r),(r=Object(i.z)(u,c,n))>0?(u=Math.floor(u/r)*r,c=Math.ceil(c/r)*r,r=Object(i.z)(u,c,n)):r<0&&(u=Math.ceil(u*r)/r,c=Math.floor(c*r)/r,r=Object(i.z)(u,c,n)),r>0?(o[a]=Math.floor(u/r)*r,o[s]=Math.ceil(c/r)*r,e(o)):r<0&&(o[a]=Math.ceil(u*r)/r,o[s]=Math.floor(c*r)/r,e(o)),t},t}e.b=r,e.a=function t(){var e=Object(a.b)(a.c,o.m);return e.copy=function(){return Object(a.a)(e,t())},r(e)};var i=n(2),o=n(6),a=n(52),s=n(475)},function(t,e,n){"use strict";var r=n(4);n.d(e,"g",function(){return r.a});var i=n(481);n.d(e,"h",function(){return i.a}),n.d(e,"i",function(){return i.b}),n.d(e,"L",function(){return i.a}),n.d(e,"M",function(){return i.b});var o=n(482);n.d(e,"r",function(){return o.a}),n.d(e,"s",function(){return o.b}),n.d(e,"V",function(){return o.a}),n.d(e,"W",function(){return o.b});var a=n(483);n.d(e,"j",function(){return a.a}),n.d(e,"k",function(){return a.b});var s=n(484);n.d(e,"e",function(){return s.a}),n.d(e,"f",function(){return s.b});var u=n(485);n.d(e,"a",function(){return u.b}),n.d(e,"b",function(){return u.a});var c=n(486);n.d(e,"B",function(){return c.g}),n.d(e,"C",function(){return c.h}),n.d(e,"t",function(){return c.g}),n.d(e,"u",function(){return c.h}),n.d(e,"l",function(){return c.c}),n.d(e,"m",function(){return c.d}),n.d(e,"x",function(){return c.k}),n.d(e,"y",function(){return c.l}),n.d(e,"z",function(){return c.m}),n.d(e,"A",function(){return c.n}),n.d(e,"v",function(){return c.i}),n.d(e,"w",function(){return c.j}),n.d(e,"c",function(){return c.a}),n.d(e,"d",function(){return c.b}),n.d(e,"p",function(){return c.e}),n.d(e,"q",function(){return c.f});var l=n(487);n.d(e,"n",function(){return l.a}),n.d(e,"o",function(){return l.b});var h=n(488);n.d(e,"D",function(){return h.a}),n.d(e,"E",function(){return h.b});var f=n(489);n.d(e,"N",function(){return f.a}),n.d(e,"O",function(){return f.b});var d=n(490);n.d(e,"J",function(){return d.a}),n.d(e,"K",function(){return d.b});var p=n(491);n.d(e,"F",function(){return p.a}),n.d(e,"G",function(){return p.b});var v=n(492);n.d(e,"_5",function(){return v.g}),n.d(e,"_6",function(){return v.h}),n.d(e,"X",function(){return v.g}),n.d(e,"Y",function(){return v.h}),n.d(e,"P",function(){return v.c}),n.d(e,"Q",function(){return v.d}),n.d(e,"_1",function(){return v.k}),n.d(e,"_2",function(){return v.l}),n.d(e,"_3",function(){return v.m}),n.d(e,"_4",function(){return v.n}),n.d(e,"Z",function(){return v.i}),n.d(e,"_0",function(){return v.j}),n.d(e,"H",function(){return v.a}),n.d(e,"I",function(){return v.b}),n.d(e,"T",function(){return v.e}),n.d(e,"U",function(){return v.f});var g=n(493);n.d(e,"R",function(){return g.a}),n.d(e,"S",function(){return g.b});var m=n(494);n.d(e,"_7",function(){return m.a}),n.d(e,"_8",function(){return m.b})},function(t,e,n){"use strict";e.a=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"d",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return s}),n.d(e,"k",function(){return u}),n.d(e,"l",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"g",function(){return f}),n.d(e,"m",function(){return d}),e.b=function(t){return t>1?0:t<-1?h:Math.acos(t)},e.c=function(t){return t>=1?f:t<=-1?-f:Math.asin(t)};var r=Math.abs,i=Math.atan2,o=Math.cos,a=Math.max,s=Math.min,u=Math.sin,c=Math.sqrt,l=1e-12,h=Math.PI,f=h/2,d=2*h},function(t,e,n){"use strict";e.a=function(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}},function(t,e,n){"use strict";e.a=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}},function(t,e,n){"use strict";function r(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function i(t,e){return e[1]-t[1]||e[0]-t[0]}function o(t,e){var n,r,o,v=t.sort(i).pop();for(c=[],s=new Array(t.length),a=new p.b,u=new p.b;;)if(o=f.c,v&&(!o||v[1]<o.y||v[1]===o.y&&v[0]<o.x))v[0]===n&&v[1]===r||(Object(l.a)(v),n=v[0],r=v[1]),v=t.pop();else{if(!o)break;Object(l.b)(o.arc)}if(Object(h.d)(),e){var g=+e[0][0],m=+e[0][1],y=+e[1][0],b=+e[1][1];Object(d.a)(g,m,y,b),Object(h.b)(g,m,y,b)}this.edges=c,this.cells=s,a=u=c=s=null}n.d(e,"f",function(){return v}),n.d(e,"g",function(){return g}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"e",function(){return c}),e.d=o;var a,s,u,c,l=n(535),h=n(209),f=n(210),d=n(103),p=n(102),v=1e-6,g=1e-12;o.prototype={constructor:o,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Object(h.a)(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,i){if(a=(o=n.halfedges).length)for(var o,a,s,u=n.site,c=-1,l=e[o[a-1]],h=l.left===u?l.right:l.left;++c<a;)s=h,h=(l=e[o[c]]).left===u?l.right:l.left,s&&h&&i<s.index&&i<h.index&&r(u,s,h)<0&&t.push([u.data,s.data,h.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],c=e-i.site[1],l=u*u+c*c;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],c=e-s[1],h=u*u+c*c;h<l&&(l=h,a=s.index)}})}while(null!==a);return o._found=r,null==n||l<=n*n?i.site:null}}},function(t,e,n){"use strict";function r(t){return"function"==typeof t?t:function(){return t}}function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0];return e.forEach(function(t){null!==r&&void 0!==r&&!1!==r||(r=t)}),r}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t.label},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"start";e=r(e),n=r(n),o=r(o),t.each(function(t,r){var a=P.select(this),s=(""+e.call(this,t,r)).split(/\s+/).reverse(),u=void 0,c=[],l=[s.pop()],h=n.call(this,t,r),f=o.call(this,t,r),d=+a.attr("x"),p=+a.attr("y"),v=parseFloat(a.attr("dy"))||0;for(-1===i(a.html(),"").indexOf("tspan")&&a.text(""),u=s.pop();u;)l.join(" ").length+u.length>h&&(c.push(l),l=[]),l.push(u),u=s.pop();c.push(l);var g=a.selectAll("tspan").data(c),m=1.1*(c.length-1),y="end"===f?m:"middle"===f?m/2:0;g.merge(g.enter().append("tspan")).text(function(t){return t.join(" ")}).attr("x",d).attr("y",p).attr("dy",function(t,e){return v+1.1*e-y+"em"})})}function a(t,e){function n(t){return{innerRadius:e.innerRadius()(t),outerRadius:e.outerRadius()(t),startAngle:e.startAngle()(t),endAngle:e.endAngle()(t)}}if(!t.selection)return t.attr("d",function(t){return this.current=n(t),e(t)});t.attrTween("d",function(t){var r=this;t=n(t),this.current=this.current||t;var i=P.interpolate(this.current,t);return function(t){return r.current=i(t),e(r.current)}})}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return isNaN(t)||null===t?e:t}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};if(e=r(e),!t.selection)return t.text(function(t,r){return this.current=s(e.call(this,t,r)),n(this.current)});t.tween("text",function(t,r){var i=this,o=s(e.call(this,t,r));this.current=s(this.current,o);var a=P.interpolate(this.current,o);return function(t){i.textContent=n(i.current=a(t))}})}function c(t,e){function n(t){return{innerRadius:e.innerRadius()(t),outerRadius:e.outerRadius()(t),startAngle:e.startAngle()(t),endAngle:e.endAngle()(t),rotate:i(t)||0}}var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t.rotate};if(i=r(i),!t.selection)return t.attr("transform",function(t){return this.current=n(t),"translate("+e.centroid(this.current)+")rotate("+this.current.rotate+")"});t.attrTween("transform",function(t){var r=this;t=n(t),this.current=this.current||t;var i=P.interpolate(this.current,t);return function(t){return r.current=i(t),"translate("+e.centroid(r.current)+") rotate("+(r.current.rotate||0)+")"}})}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2],o=function(e,r){return function(i){if(!arguments.length)return n[e];var o=n[e];return n[e]=i,r&&r(i,o),t}},a=function(e,i){return function(o){if(!arguments.length)return n[e];var a=n[e];return n[e]=r(o),i&&i(n[e],a),t}},s=function(e,i){return function(o){if(!arguments.length)return n[e];var a=n[e];return o&&o.domain?n[e]=function(){return o}:n[e]=r(o),i&&i(n[e],a),t}},u={base:function(){return t},values:function(){return n},removeProp:function(e){return-1!==i.indexOf(e)?u:(n[e]=null,t[e]=null,u)},addProp:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o(e),a=arguments[3];return n[e]||t[e]?u:((i=i||o(e,a))(r),t[e]=i,u)},addPropGet:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return function(){return n[t]}}(e);return n[e]||t[e]?u:(n[e]=r,t[e]=i,u)},addMethod:function(e,n){return t[e]?u:(t[e]=n,u)},addPropFunctor:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a(e),o=arguments[3];return n[e]||t[e]?u:((i=i||a(e,o))(r),t[e]=i,u)},addScaleFunctor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s(t),r=arguments[3];return u.addProp(t,e,n,r)},addDispatcher:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"on",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"dispatch";return t[i]?u:n[o]?u:(t[i]=function(e,r){return 0===arguments.length?n[o]:1===arguments.length?n[o].on(e):(n[o].on(e,r),t)},n[o]=P.dispatch.apply(e,r),u)}};return u}function h(){var t={},e=function t(e){var a=e.selection?e.selection():e;return a.on(o("mouseover"),n).on(o("mouseout"),i),R()?a.on(o("click"),i):a.on(o("mousemove"),r),t},n=function(e,n){var i=t.container.selectAll(".d2b-tooltip").data(function(t){return[t]}),o=i.enter().append("div").style("opacity",0).attr("class","d2b-tooltip");o.append("div").attr("class","d2b-tooltip-content"),(i=i.merge(o)).transition().duration(100).style("opacity",1),t.dispatch.call("insert",i,this,e,n),r.call(this,e,n)},r=function(e,n){var r=t.html.call(this,e,n),i=t.target.call(this,e,n),o=t.color.call(this,e,n),a=i?i.node():this,s=t.followMouse.call(this,e,n)?{x:P.event.clientX,y:P.event.clientY}:function(e,n){var r=this.getBoundingClientRect(),i={},o=(t.at.call(this,e,n)||(P.event.clientX>window.innerWidth/2?"center left":"center right")).split(" ");switch((o={x:o[1],y:o[0]}).x){case"left":i.x=r.left;break;case"center":i.x=r.left+r.width/2;break;default:i.x=r.left+r.width}switch(o.y){case"bottom":i.y=r.top+r.height;break;case"center":i.y=r.top+r.height/2;break;default:i.y=r.top}return i}.call(a,e,n),u=t.container.selectAll(".d2b-tooltip").data(function(t){return[t]}),c=t.my.call(this,e,n)||(P.event.clientX>window.innerWidth/2?"left":"right");u.attr("class","d2b-tooltip d2b-tooltip-"+c).style("top",s.y+"px").style("left",s.x+"px").style("border-color",o).select(".d2b-tooltip-content").html(r),t.dispatch.call("move",u,this,e,n)},i=function(e,n){var r=t.container.selectAll(".d2b-tooltip").data(function(t){return[t]});r.transition().duration(100).style("opacity",0).remove(),t.dispatch.call("remove",r,this,e,n)},o=function(t){return t+".d2b-tooltip"};return l(e,t).addProp("container",P.select("body")).addMethod("clear",function(t){return(t.selection?t.selection():t).on(o("mouseover"),null).on(o("mouseout"),null).on(o("mousemove"),null),e}).addPropFunctor("followMouse",!1).addPropFunctor("color",null).addPropFunctor("my",null).addPropFunctor("at",null).addPropFunctor("target",null).addPropFunctor("html",null).addDispatcher(["insert","move","remove"]),e}function f(){var t={},e={},n=function(e,n,r){if("y"===r){if(n.y===1/0)return e.style("opacity",0);e.style("opacity",1).attr("transform","translate(0, "+n.y+")").attr("y1",0).attr("y2",0).attr("x1",0).attr("x2",t.size.width)}else{if(n.x===1/0)return e.style("opacity",0);e.style("opacity",1).attr("transform","translate("+n.x+", 0)").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",t.size.height)}},r=function(e,n,r){if(e.node()){var i=e.node().getBoundingClientRect(),o=r.x,a=r.y;t.trackY?n.y>t.size.height/2?a+=n.y-10-i.height:a+=n.y+10:a=P.event.clientY-r.y>t.size.height/2?P.event.clientY-10-i.height:P.event.clientY+10,t.trackX?n.x>t.size.width/2?o+=n.x-10-i.width:o+=n.x+10:o=P.event.clientX-r.x>t.size.width/2?P.event.clientX-10-i.width:P.event.clientX+10,o+=window.pageXOffset,a+=window.pageYOffset,e.style("left",o+"px").style("top",a+"px")}},o=function(e,n){var r=t.title(n.points.map(function(t){return t.data}));e.select(".d2b-tooltip-title").style("display",r?"block":"none").html(r);var i=e.select(".d2b-tooltip-content").selectAll(".d2b-tooltip-row").data(n.points),o=i.enter().append("div").attr("class","d2b-tooltip-row");i.exit().remove(),i=i.merge(o).html(function(t){return t.row}).style("border-left-color",function(t){return t.color||"transparent"})},a=function(e){var n=P.event.clientX-e.x,r=P.event.clientY-e.y,o=1/0,a=1/0,s=[];for(var u in v)if(v.hasOwnProperty(u)){var c=v[u];for(var l in c)!function(e){if(!c.hasOwnProperty(e))return"continue";var u=c[e],l=[];u.config.data.forEach(function(e,c){var h={data:e,x:i(u.config.x(e,c),t.x(e,c)),y:i(u.config.y(e,c),t.y(e,c)),color:i(u.config.color(e,c),t.color(e,c)),row:i(u.config.row(e,c),t.row(e,c))};if(t.trackX&&t.trackY){if(h.x===o&&h.y===a)return l.push(h);var f=Math.sqrt(Math.pow(o-n,2)+Math.pow(a-r,2)),d=Math.sqrt(Math.pow(h.x-n,2)+Math.pow(h.y-r,2));d<f&&d<t.threshold&&(o=h.x,a=h.y,s=[],l=[h])}else if(t.trackX){if(h.x===o)return l.push(h);var p=Math.abs(o-n),v=Math.abs(h.x-n);v<p&&v<t.threshold&&(o=h.x,s=[],l=[h])}else if(t.trackY){if(h.y===a)return l.push(h);var g=Math.abs(a-r),m=Math.abs(h.y-r);m<g&&m<t.threshold&&(a=h.y,s=[],l=[h])}}),s=s.concat(l)}(l)}return s=s.sort(function(t,e){return P.ascending(t.x,e.x)||P.ascending(t.y,e.y)}),{x:o,y:a,points:s}},s=function(t){t.transition().duration(50).style("opacity",0).remove()},u=function(t){t.transition().duration(50).style("opacity",1)},c=function(n,r){var i=t.svgContainer.selectAll(".d2b-tooltip-marker-x").data(t.trackX?[e]:[]),o=i.enter().append("line").attr("class","d2b-tooltip-marker-x d2b-tooltip-marker"),a=t.svgContainer.selectAll(".d2b-tooltip-marker-y").data(t.trackY?[e]:[]),s=a.enter().append("line").attr("class","d2b-tooltip-marker-y d2b-tooltip-marker"),c=t.htmlContainer.selectAll(".d2b-tooltip").data([e]),l=c.enter().append("div").attr("class","d2b-tooltip d2b-tooltip-axis");l.merge(c).call(u),a.merge(s).call(u),i.merge(o).call(u),l.append("div").attr("class","d2b-tooltip-title"),l.append("div").attr("class","d2b-tooltip-content"),t.dispatch.call("insert",t.tooltip,n,r)},h=function(){t.svgContainer.selectAll(".d2b-tooltip-marker-x").data([]).exit().call(s),t.svgContainer.selectAll(".d2b-tooltip-marker-y").data([]).exit().call(s),t.htmlContainer.selectAll(".d2b-tooltip").data([]).exit().call(s)},f=function(e,i){var s=t.svgContainer.selectAll(".d2b-tooltip-base").data([e]),u=(s=s.merge(s.enter().append("rect").attr("class","d2b-tooltip-base"))).node().getBoundingClientRect();u={x:u.left,y:u.top};var l=a(u);if(!l.points.length)return h();c(),t.svgContainer.select(".d2b-tooltip-marker-x").call(n,l,"x"),t.svgContainer.select(".d2b-tooltip-marker-y").call(n,l,"y"),t.htmlContainer.select(".d2b-tooltip").call(o,l).call(r,l,u),t.dispatch.call("move",t.tooltip,e,i)},d=function(e,n){h(),t.dispatch.call("remove",t.tooltip,e,n)},p=function(t){return t+".d2b-tooltip-axis"};l(e,t).addProp("htmlContainer",P.select("body")).addProp("svgContainer",null).addProp("tracker",P.select("body"),null,function(t,e){e&&e.on(p("mouseout"),null).on(p("mousemove"),null),t&&t.on(p("mouseout"),d).on(p("mousemove"),f)}).addProp("size",{height:0,width:0}).addProp("trackX",!0).addProp("trackY",!1).addProp("threshold",1/0).addMethod("clear",function(t,n){return 0===arguments.length?v={}:1===arguments.length?delete v[t]:arguments.length>=2&&delete v[t][n],e}).addPropFunctor("title",null).addPropFunctor("x",function(t){return t.x}).addPropFunctor("y",function(t){return t.y}).addPropFunctor("color",null).addPropFunctor("row",null).addDispatcher(["move","insert","remove"]);var v={};return e.graph=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=v[t]=v[t]||{},r=n[e];return r||l((r=n[e]={interface:{},config:{}}).interface,r.config).addProp("data",[]).addMethod("clear",function(){return r.config.data=[],r.interface}).addMethod("addPoint",function(t){return r.config.data.push(t),r.interface}).addPropFunctor("x",null).addPropFunctor("y",null).addPropFunctor("color",null).addPropFunctor("row",null),r.interface},e}function d(){var t={},e=function(e){var n=this,r=e,i=[],o=(e=e.map(t.values)).map(function(e){var r={};return e.forEach(function(e,o){var a=t.x.call(n,e,o);i.push(a),r[a]=t.y.call(n,e,o)}),r}),a=(i=P.set(i).values()).reduce(function(t,e,n){return t[e]=n,t},{}),s=P.range(0,e.length),u=i.map(function(t){return o.map(function(e){return e[t]||0})});t.stack.keys(s).value(function(t,e){return t[e]||0});var c=t.stack(u);return e.forEach(function(e,r){e.forEach(function(e,i){var o=t.x.call(n,e,i),s=c[r][a[o]];t.out.call(n,e,s[0],s[1],o)})}),r};return l(e,t).addProp("stack",P.stack()).addPropFunctor("values",function(t){return t}).addPropFunctor("x",function(t){return t.x}).addPropFunctor("y",function(t){return t.y}).addProp("out",function(t,e,n){t.y0=e,t.y1=n}),e}function p(){var t={},e=function e(n){var r=n.selection?n.selection():n,i=r.selectAll(".d2b-breadcrumbs").data(function(t){return[t]}),o=i.enter().append("div").attr("class","d2b-breadcrumbs"),a=(i=i.merge(o).classed("d2b-vertical",t.vertical)).selectAll(".d2b-breadcrumb").data(t.values,t.key),s=a.exit(),u=a.enter().append("div").attr("class","d2b-breadcrumb").style("opacity",0);return u.append("div").attr("class","d2b-breadcrumb-icon"),u.append("div").attr("class","d2b-breadcrumb-content"),(a=a.merge(u).order()).select(".d2b-breadcrumb-content").html(t.html),n!==r&&(a=a.transition(n),s=s.transition(n).style("opacity",0)),a.style("border-color",t.color).style("opacity",1).select(".d2b-breadcrumb-icon").style("background-color",t.color),s.remove(),r.dispatch("breadcrumbs-updated",{bubbles:!0}),e};return l(e,t).addPropFunctor("values",function(t){return t}).addPropFunctor("key",function(t,e){return e}).addPropFunctor("color","blue").addPropFunctor("html",function(t){return t.html}).addPropFunctor("vertical",!0),e}function v(){var t={},e=P.symbol().size(80),n=function n(r){var i=r.selection?r.selection():r,o=i.selectAll(".d2b-legend").data(function(t){return[t]}),a=o.enter().append("div").attr("class","d2b-legend"),s=(o=o.merge(a).classed("d2b-vertical",t.vertical)).selectAll(".d2b-legend-item").data(t.values,t.key),u=s.exit(),c=s.enter().append("div").attr("class","d2b-legend-item").style("opacity",0);c.append("div").attr("class","d2b-legend-icon"),c.append("div").attr("class","d2b-legend-content"),(s=s.merge(c).order()).select(".d2b-legend-content").html(t.html),r!==i&&(s=s.transition(r),u=u.transition(r).style("opacity",0)),s.style("opacity",1).each(function(n,r){var i=P.select(this),o=t.color(n,r),a=t.empty(n,r);i.style("border-color",o);var s=t.icon(n,r),u=i.select(".d2b-legend-icon"),c=[],l=[],h=u.node().getBoundingClientRect(),f={width:h.width,height:h.height},d=f.width/2,p=f.height/2;"string"==typeof s?c.push(s):l.push(s);var v=u.selectAll(".d2b-legend-svg-icon").data(function(t){return[t]}),g=v.enter().append("svg");g.attr("class","d2b-legend-svg-icon").attr("width",f.width).attr("height",f.height);var m=(v=v.merge(g)).selectAll("text").data(c),y=m.enter().append("text");m.exit().remove(),y.append("tspan"),(m=m.merge(y)).style("stroke",o).style("fill",a?"white":o).attr("transform","translate("+d+","+1.65*p+")").select("tspan").text(function(t){return t});var b=v.selectAll("path").data(l);b.exit().remove(),(b=b.merge(b.enter().append("path"))).style("stroke",o).style("fill",a?"white":o).attr("d",function(t){return e.type(t)()}).attr("transform","translate("+d+","+p+")")}),o.each(function(e,r){var o=t.allowEmptied(e,r),a=P.select(this).selectAll(".d2b-legend-item"),s=function(e){a.each(function(n,r){t.setEmpty(n,r,e)})},u=function(e,r){t.setEmpty(e,r,!t.empty(e,r)),!o&&function(){var e=!0;return a.each(function(n,r){t.empty(n,r)||(e=!1)}),e}()&&s(!1),i.call(n),P.select(this.parentNode).dispatch("change",{bubbles:!0})},c=function(e,r){s(!0),t.setEmpty(e,r,!1),i.call(n),P.select(this.parentNode).dispatch("change",{bubbles:!0})};a.each(function(e,n){var r=t.clickable(e,n),i=t.dblclickable(e,n);P.select(this).on("click",r?u:null).on("dblclick",i?c:null)})}),i.dispatch("legend-updated",{bubbles:!0}),u.remove()};return l(n,t).addPropFunctor("values",function(t){return t}).addPropFunctor("key",function(t,e){return e}).addPropFunctor("color",function(t){return j(t.html)}).addPropFunctor("html",function(t){return t.html}).addPropFunctor("icon","").addPropFunctor("vertical",!1).addPropFunctor("allowEmptied",!1).addPropFunctor("clickable",!1).addPropFunctor("dblclickable",!1).addPropFunctor("empty",function(t){return t.empty}).addPropFunctor("setEmpty",function(t,e,n){return t.empty=n}),n}function g(){function t(t){return"number"==typeof t?{top:t,left:t,right:t,bottom:t}:(["top","bottm","right","left"].forEach(function(e){t[e]&&t[e]}),{top:0,left:0,right:0,bottom:0})}function e(t,e,n){n(t),n(e)}function n(t,n,r,i,o,a){var s=t.node();if(s){r.style("top","").style("left","").style("right","").style("bottom","").style("width","").style("height","");var u=void 0;"right"===i||"left"===i?(t.classed("d2b-vertical",!0),u=s.getBoundingClientRect(),e(n,r,function(t){t.style(i,o[i]+"px").style("top",o.top+"px").style("height",a.height+"px")}),o[i]+=u.width,a.width-=u.width):"top"===i||"bottom"===i?(t.classed("d2b-vertical",!1),u=s.getBoundingClientRect(),e(n,r,function(t){t.style(i,o[i]+"px").style("left",o.left+"px").style("width",a.width+"px")}),o[i]+=u.height,a.height-=u.height):t.classed("d2b-vertical",!1)}}var r={},i=function i(o){var a=o.selection?o.selection():o,s=a.selectAll(".d2b-chart-frame").data(function(t){return[t]}),u=s.enter().append("div").attr("class","d2b-chart-frame");return s=s.merge(u),a.each(function(i){var s=P.select(this).select(".d2b-chart-frame"),u=s,c=t(r.padding(i)),l=t(r.chartPadding(i)),h=function(t,e){return{width:t&&t.width>0?t.width:e.width,height:t&&t.height>0?t.height:e.height}}(r.size(i),this.getBoundingClientRect());e(s,u,function(t){t.style("width",h.width+"px").style("height",h.height+"px")}),h.width-=c.left+c.right,h.height-=c.top+c.bottom;var f=r.legendEnabled(i)?[i]:[],d=s.selectAll(".d2b-legend-frame").data(f),p=d.enter().append("div").attr("class","d2b-legend-frame");d.exit().remove(),p.append("div").attr("class","d2b-legend-container");var v=d=d.merge(p),g=r.breadcrumbsEnabled(i)?[i]:[],m=s.selectAll(".d2b-breadcrumbs-frame").data(g),y=m.enter().append("div").attr("class","d2b-breadcrumbs-frame");m.exit().remove(),y.append("div").attr("class","d2b-breadcrumbs-container");var b=m=m.merge(y),_=s.selectAll(".d2b-chart").data(function(t){return[t]}),w=_.enter().append("svg").attr("class","d2b-chart");w.append("g").attr("class","d2b-chart-container");var x=_=_.merge(w);o!==a&&(u=u.transition(o),v=v.transition(o),b=b.transition(o),x=x.transition(o)),n(m,y,b,r.breadcrumbsOrient(i),c,h),n(d,p,v,r.legendOrient(i),c,h),e(w,x,function(t){t.style("left",c.left+"px").style("top",c.top+"px").style("width",h.width+"px").style("height",h.height+"px"),t.select(".d2b-chart-container").attr("transform","translate("+[l.left,l.top]+")")}),h.width-=l.left+l.right,h.height-=l.top+l.bottom,_.select(".d2b-chart-container").node().__size__=h}),a.dispatch("chart-frame-updated",{bubbles:!0}),i};return l(i,r).addPropFunctor("size",null).addPropFunctor("legendEnabled",!0).addPropFunctor("legendOrient","bottom").addPropFunctor("breadcrumbsEnabled",!1).addPropFunctor("breadcrumbsOrient","right").addPropFunctor("chartPadding",10).addPropFunctor("padding",10),i}function m(t,e,n){var i=0,o=0;if(n=r(n||1),e=r(e||function(t){return t}),t.filter(function(t){return!isNaN(F(n(t)))&&!isNaN(F(e(t)))}).forEach(function(t){var r=n(t),a=e(t);i+=r,o+=a*r}),t.length&&i)return o/i}function y(t,e,n){n=r(n||1),e=r(e||function(t){return t});var i,o=[],a=t.filter(function(t){return 0!==n(t)&&!isNaN(F(n(t)))&&!isNaN(F(e(t)))}).sort(function(t,n){return P.ascending(e(t),e(n))});i=Math.round(P.sum(a,function(t){return n(t)})/2*1e12)/1e12;var s=0,u=!1;if(a.forEach(function(t){u&&(o.push(e(t)),u=!1),(s+=n(t))===i&&(o.push(e(t)),u=!0),s>i&&0===o.length&&o.push(e(t))}),t.length)return m(o)}function b(t,e,n){n=r(n||1),e=r(e||function(t){return t});var i=[],o=0,a={};return t.forEach(function(t){var r=F(e(t));isNaN(e(t))||(a[r]=a[r]||0,a[r]+=n(t),a[r]>o?(o=a[e(t)],i=[e(t)]):a[e(t)]==o&&i.push(e(t)))}),o<=1||!i.length?null:1===i.length?i[0]:i}function _(t,e){e=r(e||function(t){return t});var n=P.extent(t,e);if(t.length)return n[1]-n[0]}function w(t,e){if(e=r(e||function(t){return t}),t.length)return P.mean(P.extent(t,e))}function x(t){return t*(180/Math.PI)}function E(){function t(t,e){return a.empty.call(this,t,e)?0:1}function e(t,e){var n=a.size.call(this,t,e),r=a.empty.call(this,t,e);return u.size(r?n:2.5*n).call(this,t,e)}function n(t,e){var n=a.size.call(this,t,e),r=a.empty.call(this,t,e);return u.size(r?n/3:n).call(this,t,e)}function r(t,e){var n=a.size.call(this,t,e);return u.size(n).call(this,t,e)}function i(t,r){var i=a.empty.call(this,t,r);P.select(this).select("path.d2b-point-back").transition().duration(100).attr("d",e),P.select(this).select("path.d2b-point-front").transition().duration(100).style("opacity",i?.5:1).attr("d",n)}function o(t,e){var i=a.empty.call(this,t,e);P.select(this).select("path.d2b-point-back").transition().duration(100).attr("d",r),P.select(this).select("path.d2b-point-front").transition().duration(100).style("opacity",i?0:1).attr("d",n)}var a={},s=function e(s){var u=s.selection?s.selection():s,c=u.selectAll("path.d2b-point-back").data(function(t){return[t]});c.enter().append("path").attr("class","d2b-point-back").attr("d",r).style("fill-opacity",0).style("stroke",a.stroke).style("stroke-width",a.strokeWidth),s!==u&&(c=c.transition(s)),c.attr("d",r).style("stroke",a.stroke).style("stroke-width",a.strokeWidth);var l=u.selectAll("path.d2b-point-front").data(function(t){return[t]});return l.enter().append("path").attr("class","d2b-point-front").attr("d",n).style("opacity",t).style("fill",a.fill).style("stroke",a.stroke).style("stroke-width",a.strokeWidth),s!==u&&(l=l.transition(s)),l.attr("d",n).style("opacity",t).style("fill",a.fill).style("stroke",a.stroke).style("stroke-width",a.strokeWidth),u.each(function(t,e){var n=a.active.call(this,t,e);P.select(this).on("mouseover.d2b-point",n?i:null).on("mouseout.d2b-point",n?o:null)}),u.dispatch("point-updated",{bubbles:!0}),e},u=P.symbol();return l(s,a).addPropFunctor("size",150,null,function(t){return u.size(t)}).addPropFunctor("type",P.symbolCircle,null,function(t){return u.type(t)}).addPropFunctor("active",!1).addPropFunctor("empty",!1).addPropFunctor("fill","steelblue").addPropFunctor("stroke",function(t,e){return P.rgb(a.fill.call(this,t,e)).darker(.3)}).addPropFunctor("strokeWidth","1px"),s}function C(){function t(t,r,i){var o=e(t,r,i),a=n(t,r,i);return o?{startAngle:o.endAngle,endAngle:o.endAngle}:a?{startAngle:a.startAngle,endAngle:a.startAngle}:{startAngle:0,endAngle:0}}function e(t,e,n){for(var i=e.length;--t>=0;)for(var o=r.key(n[t].data,t),a=0;a<i;++a)if(r.key(e[a].data,a)===o)return e[a]}function n(t,e,n){for(var i=n.length,o=e.length;++t<i;)for(var a=r.key(n[t].data,t),s=0;s<o;++s)if(r.key(e[s].data,s)===a)return e[s]}var r={},i=function e(n){var i=n.selection?n.selection():n;r.pie.value(r.value),r.arc.startAngle(function(t){return t.startAngle}).endAngle(function(t){return t.endAngle}).padAngle(function(t){return t.padAngle});var o=i.selectAll(".d2b-pie").data(function(t){return[r.pie(r.values(t))]}),s=o.enter().append("g").attr("class","d2b-pie");return(o=o.merge(s)).each(function(e){var o=P.select(this).selectAll(".d2b-pie-arc"),s=o.data(),u=(o=o.data(e,function(t,e){return t.key=r.key(t.data,e),t.key})).enter().append("g").attr("class","d2b-pie-arc"),c=o.exit(),l=o.merge(u).order();u.append("path").attr("fill",function(t,e){return r.color.call(this,t.data,e)});var h=l.data();u.select("path").each(function(e,n){this.current=t(n,s,h)}),c.datum(function(e,n){var r=t(n,h,s);return r.data=e.data,r.innerRadius=e.innerRadius,r.outerRadius=e.outerRadius,r}),n!==i&&(c=c.transition(n),l=l.transition(n)),l.select("path").call(a,r.arc).attr("fill",function(t,e){return r.color.call(this,t.data,e)}),c.remove().select("path").call(a,r.arc)}),i.dispatch("svg-pie-updated",{bubbles:!0}),e};return l(i,r).addProp("arc",P.arc()).addProp("pie",P.pie().sort(null)).addPropFunctor("values",function(t){return t}).addPropFunctor("key",function(t){return t.label}).addPropFunctor("value",function(t){return t.value}).addPropFunctor("color",function(t){return j(t.label)}),i}function k(t){return!(t.indexOf("NaN")>-1||t.indexOf("Inifnity")>-1)}function T(t){if(null==t||"object"!=(void 0===t?"undefined":V(t)))return t;var e=t.constructor();for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function S(){var t={},e=function e(n){var r=n.selection?n.selection():n,i=t.scale,o=t.enterScale||i,a=t.valueFormat,s="vertical"===t.orient,u=s?{x:"x",y:"y",x1:"x1",x2:"x2",y1:"y1",y2:"y2",width:"width",height:"height",cx:"cx",cy:"cy",translate:function(t,e){return"translate("+t+", "+e+")"}}:{x:"y",y:"x",x1:"y1",x2:"y2",y1:"x1",y2:"x2",width:"height",height:"width",cx:"cy",cy:"cx",translate:function(t,e){return"translate("+e+", "+t+")"}},c=r.selectAll(".d2b-box").data(function(e,n){e=t.data(e,n);var r=t.outliers(e,n)||[],i=t.minimum(e,n),o=t.maximum(e,n);return[{data:e,index:n,median:t.median(e,n),upperQuartile:t.upperQuartile(e,n),lowerQuartile:t.lowerQuartile(e,n),minimum:i,maximum:o,outliers:r,maxOutliers:r.filter(function(t){return t>o}),minOutliers:r.filter(function(t){return t<i}),color:t.color(e,n),width:t.width(e,n),annotations:t.annotations(e,n)}]}),l=c.enter().append("g").attr("class","d2b-box"),h=c.merge(l).order(),f=h.selectAll(".d2b-box-center").data(function(t){return[t]}),d=f.enter().append("line").attr(u.x1,0).attr(u.x2,0).attr(u.y1,function(t){return o(t.minimum)}).attr(u.y2,function(t){return o(t.maximum)}).attr("class","d2b-box-center"),p=f.merge(d),v=h.selectAll(".d2b-box-rect").data(function(t){return[t]}),g=v.enter().append("rect").attr("class","d2b-box-rect").attr(u.width,function(t){return t.width}).attr(u.height,function(t){return Math.abs(o(t.upperQuartile)-o(t.lowerQuartile))}).attr(u.x,function(t){return-t.width/2}).attr(u.y,function(t){return Math.min(o(t.upperQuartile),o(t.lowerQuartile))}),m=v.merge(g);return["max","min"].forEach(function(t){var e=h.selectAll(".d2b-box-"+t+"-outlier").data(function(e){return e[t+"Outliers"].map(function(t){return{outlier:t,box:e}})}),a=e.enter().append("circle").style("opacity",0).attr("r",function(t){return t.box.width/5}).attr(u.cx,0).attr(u.cy,function(t){return o(t.outlier)}).attr("class","d2b-box-outlier d2b-box-"+t+"-outlier"),s=e.merge(a),c=e.exit();n!==r&&(s=s.transition(n),c=c.transition(n)),s.style("opacity",1).attr("stroke",function(t){return t.box.color}).attr("r",function(t){return t.box.width/5}).attr(u.cx,0).attr(u.cy,function(t){return i(t.outlier)}),c.attr(u.cx,0).attr(u.cy,function(t){return i(t.outlier)}).style("opacity",0).remove()}),["maximum","median","minimum"].forEach(function(t){var e=h.selectAll(".d2b-box-dash-"+t).data(function(t){return[t]}),a=e.enter().append("line").attr("class","d2b-box-dash d2b-box-dash-"+t).attr(u.x1,function(t){return-t.width/2}).attr(u.x2,function(t){return t.width/2}).attr(u.y1,function(e){return o(e[t])}).attr(u.y2,function(e){return o(e[t])}),s=e.merge(a);n!==r&&(s=s.transition(n)),s.attr("stroke",function(t){return t.color}).attr(u.x1,function(t){return-t.width/2}).attr(u.x2,function(t){return t.width/2}).attr(u.y1,function(e){return i(e[t])}).attr(u.y2,function(e){return i(e[t])})}),["maximum","upperQuartile","median","lowerQuartile","minimum"].forEach(function(e,c){var l=h.selectAll(".d2b-box-label-group-"+e).data(function(t){return[t]}),f=l.enter().append("g").attr("class","d2b-box-label-group d2b-box-label-group-"+e).attr("transform",function(t){return u.translate(0,o(t[e]))});f.append("text").attr("class","d2b-box-label").attr(u.x,function(t){return(3+t.width/2)*(c%2==0?1:-1)}).style("text-anchor",c%2==0?"start":"end");var d=l.merge(f);n!==r&&(d=d.transition(n)),d.attr("transform",function(t){return u.translate(0,i(t[e]))}).call(W,t.annotation,"d2b-box-annotation",function(t){return(t.annotations||[]).filter(function(t){return t.location===e})});var p=d.select(".d2b-box-label").text(function(t){return a(t[e])});s?p.select().style("text-anchor",c%2==0?"start":"end").style("dominant-baseline","middle").attr(u.x,function(t){return(3+t.width/2)*(c%2==0?1:-1)}):p.style("text-anchor","middle").style("dominant-baseline",c%2==0?"baseline":"hanging").attr(u.x,function(t){return(3+t.width/2)*(c%2==0?-1:1)})}),n!==r&&(m=m.transition(n),p=p.transition(n)),m.attr(u.x,function(t){return-t.width/2}).attr(u.y,function(t){return Math.min(i(t.upperQuartile),i(t.lowerQuartile))}).attr(u.width,function(t){return t.width}).attr(u.height,function(t){return Math.abs(i(t.upperQuartile)-i(t.lowerQuartile))}).attr("stroke",function(t){return t.color}),p.attr(u.x1,0).attr(u.x2,0).attr(u.y1,function(t){return i(t.minimum)}).attr(u.y2,function(t){return i(t.maximum)}).attr("stroke",function(t){return t.color}),r.dispatch("box-updated",{bubbles:!0}),e};return l(e,t).addProp("scale",P.scaleLinear()).addProp("enterScale",null).addProp("valueFormat",P.format(",")).addProp("orient","vertical").addProp("annotation",I.annotation?I.annotation():null).addPropFunctor("data",function(t){return t}).addPropFunctor("median",function(t){return t.median}).addPropFunctor("upperQuartile",function(t){return t.upperQuartile}).addPropFunctor("lowerQuartile",function(t){return t.lowerQuartile}).addPropFunctor("minimum",function(t){return t.minimum}).addPropFunctor("maximum",function(t){return t.maximum}).addPropFunctor("outliers",function(t){return t.outliers}).addPropFunctor("width",20).addPropFunctor("color","steelblue").addPropFunctor("annotations",function(t){return t.annotations}),e}function O(){function t(t){return e(P.hierarchy(t,h.children).sum(function(t){var e=h.children(t);if(!e||!e.length)return h.size(t)}))}function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t.key=h.key(t.data,r),t.color=h.color(t.data,r),t.label=h.label(t.data,r),t.size=h.size(t.data,r),t.value=t.size,t.children)return t.children.forEach(e),t.value=n(t),t}function n(t){return i(t.size,t.children?P.sum(t.children,n):0)}function r(t){return t>Math.PI?x(t)+90:x(t)-90}function o(t,e){var n=(e.inner-e.outer)/2.2;return t>Math.PI?-n:n}function s(t,e,n,i,l,d){var p="arc"===e?a:c;t=t.filter(function(t){return t.visible}),h.pie.startAngle(i).endAngle(l),h.pie(t).forEach(function(t){var e=d.radii(t.data.depth);t.data.startAngle=t.startAngle,t.data.endAngle=t.endAngle,t.data.padAngle=t.padAngle,t.data.innerRadius=e.inner,t.data.outerRadius=e.outer,t.data.centerAngle=(t.startAngle+t.endAngle)/2,t.data.rotate=r(t.data.centerAngle),t.data.labelOffset=o(t.data.centerAngle,e),t.data.labelAnchor=function(t){return t>Math.PI?"end":"start"}(t.data.centerAngle)});var v=P.select(this),g="d2b-sunburst-level-"+n,m=v.selectAll(".d2b-sunburst-"+e+"-group."+g),y=m.data(),b=(m=m.data(t,function(t){return t.key})).enter().append("g").attr("class","d2b-sunburst-"+e+"-group "+g),_=b.append("arc"===e?"path":"text").attr("class","d2b-sunburst-"+e+" "+g).each(function(e,n){var i=d.oldRadii(e.depth),o=e.neighbor||u(n,y,t);this.current={startAngle:o.startAngle,endAngle:o.endAngle,innerRadius:i.inner,outerRadius:i.outer,rotate:r((o.startAngle+o.endAngle)/2)},e.children&&e.children.forEach(function(t){return t.neighbor=o})});b.append("g").attr("class","d2b-sunburst-"+e+"-children "+g),"arc"===e?_.style("fill",function(t){return t.color}):_.style("opacity",0).attr("y",4);var w=m.exit();(m=m.merge(b)).select(".d2b-sunburst-"+e+"."+g).classed("d2b-sunburst-ancestor",function(t){return t.depth<t.selected.depth}),d.transition&&(w.each(function(n,i){var a=u(i,t,y),s=P.select(this).selectAll(".d2b-sunburst-"+e).datum(function(t){var e=d.radii(t.depth);return t.innerRadius=e.inner,t.outerRadius=e.outer,t.startAngle=a.startAngle,t.endAngle=a.endAngle,t.centerAngle=a.centerAngle,t.rotate=r(t.centerAngle),t.labelOffset=o(t.centerAngle,e),t}).transition(d.transition).call(p,f);"label"===e&&s.style("opacity",0).attr("x",function(t){return t.labelOffset})}),w=w.transition(d.transition),m=m.transition(d.transition)),w.remove();var x=m.select(".d2b-sunburst-"+e+"."+g).call(p,f);"arc"===e?x.style("fill",function(t){return t.color}):x.text(function(t){return t.depth>=t.selected.depth?t.label:""}).style("opacity",1).attr("x",function(t){return t.labelOffset}).style("text-anchor",function(t){return t.labelAnchor}),m.select(".d2b-sunburst-"+e+"-children."+g).each(function(t){var r=t.children||[],i=P.sum(r,function(t){return t.value}),o=t.startAngle+(t.endAngle-t.startAngle)*i/t.value;s.call(this,r,e,n+1,t.startAngle,o,d)})}function u(t,e,n){var r=function(t,e,n){for(var r=e.length;--t>=0;)for(var i=n[t].key,o=0;o<r;++o)if(e[o].key===i)return e[o]}(t,e,n),i=function(t,e,n){for(var r=n.length,i=e.length;++t<r;)for(var o=n[t].key,a=0;a<i;++a)if(e[a].key===o)return e[a]}(t,e,n);return r?{startAngle:r.endAngle,endAngle:r.endAngle}:i?{startAngle:i.startAngle,endAngle:i.startAngle}:{startAngle:0,endAngle:0,centerAngle:0}}var h={},f=P.arc(),d=function e(n){var r=n.selection?n.selection():n;return h.pie.value(function(t){return t.value}),r.each(function(o,a){var u=P.select(this),c=h.zoomable(o,a),l=h.highlight(o,a),f=h.innerRadius(o,a),d=h.showLabels(o,a),p=t(o);console.log(p);var v=function(t){var e=null;return t.each(function(t){t.data.selected&&(e=t)}),e||(e=t),e.data.selected=!0,e}(p);(function(t,e){t.ancestors().concat(t.descendants()).filter(function(t){return t.depth<=e&&t.value>0}).forEach(function(t){return t.visible=!0})})(v,h.descendantLevels(o,a)+v.depth),p.each(function(t){return t.selected=v});var g=function(t,e,n,r){var i=h.innerRadius(t,e),o=h.outerRadius(t,e),a=h.ancestorPadding(t,e),s=h.ancestorRatio(t,e),u=0;n.each(function(t){t.visible&&(u=Math.max(u,t.depth))});var c=i+(o-i-a)*s,l=h.ancestorBanding.copy().range([i,c]).domain([0,r.depth+1]),f=h.descendantBanding.copy().range([c+a,o]).domain([r.depth+1,u+1]);return function(t){var e=void 0;return{inner:(e=t<=r.depth?l:f)(t),outer:e(t+1)}}}(o,a,p,v);s.call(this,[p],"arc",0,h.startAngle(o,a),h.endAngle(o,a),{transition:n!==r?n:null,oldRadii:i(this.__radii,g),radii:g,zoomable:c}),s.call(this,d?[p]:[],"label",0,h.startAngle(o,a),h.endAngle(o,a),{transition:n!==r?n:null,oldRadii:i(this.__radii,g),radii:g});var m=u.selectAll(".d2b-sunburst-center");m.data([v]).enter().append("circle").attr("class","d2b-sunburst-center").merge(m).attr("cx",0).attr("cy",0).attr("r",Math.max(0,f)).on("click",function(t){t.parent&&(t.data.selected=!1,t.parent.data.selected=!0,u.transition().duration(h.duration(t,a)).call(e))}),this.__radii=g,u.selectAll("path.d2b-sunburst-arc").on("click",c?function(t){p.each(function(t){return t.data.selected=!1}),t.data.selected=!0,u.transition().duration(h.duration(o,a)).call(e)}:null).on("mouseover",l?function(t){var e=t.ancestors();u.selectAll(".d2b-sunburst-arc").classed("d2b-transparent",function(t){return-1===e.indexOf(t)}),u.selectAll(".d2b-sunburst-label").classed("d2b-transparent",function(t){return-1===e.indexOf(t)})}:null).on("mouseout",function(){u.selectAll(".d2b-sunburst-arc").classed("d2b-transparent",!1),u.selectAll(".d2b-sunburst-label").classed("d2b-transparent",!1)})}),r.dispatch("svg-sunburst-updated",{bubbles:!0}),e};return l(d,h).addProp("pie",P.pie().sort(null)).addProp("ancestorBanding",P.scaleLinear()).addProp("descendantBanding",P.scalePow().exponent(.85)).addPropFunctor("duration",250).addPropFunctor("innerRadius",30).addPropFunctor("outerRadius",200).addPropFunctor("ancestorPadding",10).addPropFunctor("ancestorRatio",.2).addPropFunctor("descendantLevels",1/0).addPropFunctor("startAngle",0).addPropFunctor("endAngle",2*Math.PI).addPropFunctor("showLabels",!1).addPropFunctor("zoomable",!0).addPropFunctor("highlight",!0).addPropFunctor("key",function(t){return h.label(t)}).addPropFunctor("label",function(t){return t.label}).addPropFunctor("color",function(t){return j(h.label(t))}).addPropFunctor("children",function(t){return t.children}).addPropFunctor("size",function(t){return t.size}),d}function M(){var t={},e=function e(n){var r=n.selection?n.selection():n;return r.each(function(e){function i(t){return a(t)?g+5:-5}function a(t){return t.x0<f.width/2}function s(t){return 5+Math.max(0,t.y1-t.y0)/2}function u(e){if(e.draggableX&&(e.x0=Math.max(0,Math.min(f.width-g,e.x0+P.event.dx)),e.x1=e.x0+g,this.__dragX0=e.x0/f.width),e.draggableY){var n=e.y1-e.y0;e.y0=Math.max(0,Math.min(f.height-(e.y1-e.y0),e.y0+P.event.dy)),e.y1=e.y0+n,this.__dragY0=e.y0/f.height}t.sankey.update(m),c()}function c(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];j.select("text").classed("d2b-text-anchor-end",function(t){return!a(t)}).call(o,function(t){return t.label},function(t){return t.wrapLength},"middle");var e=t?k:O,n=t?I:j;e.style("opacity",1).select("path").attr("d",d).style("stroke",function(t){return"url(#"+t.keyTrim+")"}).style("stroke-width",function(t){return t.width+"px"}),e.each(function(e){var n=P.select(this);if(Math.abs(e.y1-e.y0)<1e-5){var r=n.selectAll("rect").data([e]),i=r.enter().append("rect"),o=e.target.x0-e.source.x1;r=r.merge(i),t&&(r=r.transition(t)),r.attr("x",e.source.x1+Math.min(0,o)).attr("y",e.y0-e.width/2).attr("height",Math.max(0,e.width)).attr("width",Math.abs(e.target.x0-e.source.x1)).style("fill","url(#"+e.keyTrim+")"),n.select("path").style("display","none")}else n.select("rect").remove(),n.select("path").style("display","")}),n.attr("transform",function(t){return"translate("+t.x0+", "+t.y0+")"}).style("opacity",1),n.select("rect").attr("width",Math.max(0,g)).attr("height",function(t){return Math.max(0,t.y1-t.y0)}).style("fill",function(t){return t.color}),n.select("text").attr("x",i).attr("y",s)}var l=n===r?null:n,h=P.select(this),f=t.size(e),d=D.sankeyLinkHorizontal(),p=t.nodes(e).map(function(e,n){var r=t.nodeKey(e,n);return{key:r,label:t.nodeLabel(e,n,r),color:t.nodeColor(e,n,r),draggableX:t.nodeDraggableX(e,n),draggableY:t.nodeDraggableY(e,n),preserveDragging:t.nodePreserveDragging(e,n),wrapLength:t.nodeLabelWrapLength(e,n),data:e,index:n}}),v=t.links(e).map(function(e,n){var r=t.linkSource(e,n),i=t.linkTarget(e,n),o="object"===(void 0===r?"undefined":V(r))?t.nodeKey(r):r,a="object"===(void 0===i?"undefined":V(i))?t.nodeKey(i):i,s=t.linkKey(e,n,o,a);return{sourceKey:o,targetKey:a,key:s,keyTrim:s.replace(/ /g,""),sourceColor:t.linkSourceColor(e,n,o),targetColor:t.linkTargetColor(e,n,a),value:t.linkValue(e,n),source:r,target:i,data:e,index:n}});t.sankey.size([f.width,f.height]).nodeId(function(t){return t.key}).nodes(p).links(v);var g=t.sankey.nodeWidth(),m=t.sankey.nodes(p).links(v)();m.links=m.links.filter(function(t){return!!t.value}),m.nodes=m.nodes.filter(function(t){return!!t.value}),m=t.sankey.nodes(m.nodes).links(m.links)();var y=h.selectAll(".d2b-sankey-link-defs").data([m.links]),b=y.enter().append("defs").attr("class","d2b-sankey-link-defs"),_=(y=y.merge(b)).selectAll(".d2b-def-gradient").data(function(t){return t},function(t){return t.keyTrim}),w=_.enter().append("linearGradient").attr("class","d2b-def-gradient"),x=_.exit();w.append("stop").attr("class","d2b-gradient-from").attr("offset","0%"),w.append("stop").attr("class","d2b-gradient-to").attr("offset","100%"),_=_.merge(w),l&&(x=x.transition(l),_=_.transition(l)),x.remove(),_.attr("id",function(t){return t.keyTrim}),_.select(".d2b-gradient-from").attr("stop-color",function(t){return t.sourceColor}),_.select(".d2b-gradient-to").attr("stop-color",function(t){return t.targetColor});var E=h.selectAll(".d2b-sankey-links").data([m.links]),C=E.enter().append("g").attr("class","d2b-sankey-links"),k=(E=E.merge(C)).selectAll(".d2b-sankey-link").data(function(t){return t},function(t){return t.key}),T=k.enter().append("g").attr("class","d2b-sankey-link"),S=k.exit(),O=k=k.merge(T);l&&(k=k.transition(l),S=S.transition(l));var M=h.selectAll(".d2b-sankey-nodes").data([m.nodes]),A=M.enter().append("g").attr("class","d2b-sankey-nodes"),I=(M=M.merge(A)).selectAll(".d2b-sankey-node").data(function(t){return t},function(t){return t.key}),N=I.enter().append("g").attr("class","d2b-sankey-node"),R=I.exit(),j=I=I.merge(N);l&&(I=I.transition(l),R=R.transition(l)),I.each(function(t){if(t.draggableX||t.draggableY?P.select(this).classed("d2b-draggable",!0).call(P.drag().on("drag",u)):P.select(this).classed("d2b-draggable",!1).on(".drag",null),t.preserveDragging&&(void 0!==this.__dragX0&&(t.x0=this.__dragX0*f.width,t.x1=t.x0+g),void 0!==this.__dragY0)){var e=t.y1-t.y0;t.y0=this.__dragY0*f.height,t.y1=t.y0+e}}),t.sankey.update(m),T.style("opacity",0).append("path").attr("d",d).style("stroke",function(t){return"url(#"+t.keyTrim+")"}).style("stroke-width",function(t){return t.width+"px"}),S.style("opacity",0).remove(),N.attr("transform",function(t){return"translate("+t.x0+", "+t.y0+")"}).style("opacity",0),N.append("rect").attr("width",Math.max(0,g)).attr("height",function(t){return Math.max(0,t.y1-t.y0)}),N.append("text").attr("x",i).attr("y",s),R.style("opacity",0).remove(),c(l)}),r.dispatch("svg-sankey-updated",{bubbles:!0}),e};return l(e,t).addProp("sankey",D.sankey()).addPropFunctor("size",{width:960,height:500}).addPropFunctor("nodes",function(t){return t.nodes}).addPropFunctor("nodeKey",function(t){return t.name}).addPropFunctor("nodeLabel",function(t,e,n){return n}).addPropFunctor("nodeLabelWrapLength",1/0).addPropFunctor("nodeDraggableX",!1).addPropFunctor("nodeDraggableY",!1).addPropFunctor("nodePreserveDragging",!0).addPropFunctor("nodeColor",function(t,e,n){return j(n)}).addPropFunctor("links",function(t){return t.links}).addPropFunctor("linkSource",function(t){return t.source}).addPropFunctor("linkSourceColor",function(t,e,n){return j(n)}).addPropFunctor("linkTarget",function(t){return t.target}).addPropFunctor("linkTargetColor",function(t,e,n){return j(n)}).addPropFunctor("linkKey",function(t,e,n,r){return n+"-"+r}).addPropFunctor("linkValue",function(t){return t.value}),e}function A(){function t(t,e,n,r,i){var o=[],a=[],s=t.data;s&&(u(t,s,e,n,r),o=[s],t.info.showGrid&&(a=[s])),t.update=n.selectAll(".d2b-"+t.type+"-axis").data(o),t.enter=t.update.enter().append("g").attr("class","d2b-axis d2b-"+t.type+"-axis"),t.labelEnter=t.enter.append("text").attr("class","d2b-axis-label"),t.svg=t.enter.merge(t.update),t.label=t.svg.select(".d2b-axis-label"),t.update.exit().remove(),t.gridUpdate=n.selectAll(".d2b-"+t.type+"-grid").data(a),t.gridEnter=t.gridUpdate.enter().append("g").attr("class","d2b-grid d2b-"+t.type+"-grid"),t.gridUpdate.exit().remove(),t.grid=t.gridEnter.merge(t.gridUpdate),i&&(t.svg=t.svg.transition(i),t.update=t.update.transition(i),t.grid=t.grid.transition(i),t.gridUpdate=t.gridUpdate.transition(i),t.label=t.label.transition(i))}function e(t,e,n,r){t.data&&(a(t),s(t,e),t.enter.call(t.info.axis).attr("transform","translate("+n+", "+r+")"),t.update.call(t.info.axis).attr("transform","translate("+n+", "+r+")"),t.svg.call(p,t).on("end",function(){t.svg.call(p,t)}))}function n(t,e,n){t.data&&(function(t,e){if(t.data)switch(t.type){case"x":return t.info.axis.tickSize("inner"===t.info.orient?-e:e);case"x2":case"y":return t.info.axis.tickSize("inner"===t.info.orient?e:-e);case"y2":t.info.axis.tickSize("inner"===t.info.orient?-e:e)}}(t,n),s(t,e),t.gridUpdate.call(t.info.axis).selectAll(".tick text").remove(),t.gridEnter.call(t.info.axis).selectAll(".tick text").remove())}function r(t,e){t.data&&(t.labelEnter.text(t.info.label).attr("x",f(t,e)).attr("y",h(t)).attr("text-anchor",c(t)),t.label.text(t.info.label).attr("x",f(t,e)).attr("y",h(t)).attr("text-anchor",c(t)))}function a(t){t.data&&t.info.axis.tickSizeOuter(0).tickSizeInner(t.info.tickSize)}function s(t,e){t.data&&(["y","y2"].indexOf(t.type)>-1?t.info.axis.scale().range([e,0]):t.info.axis.scale().range([0,e]))}function u(t,e,n,r,o){if(t.data){var u=t.info={};u.axis=g.axis(e,n),u.orient=g.orient(e,n),u.wrapLength=g.wrapLength(e,n),u.label=i(g.label(e,n),""),u.labelOrient=g.labelOrient(e,n),u.tickSize=g.tickSize(e,n),u.showGrid=g.showGrid(e,n),u.labelOrient1=u.labelOrient.split(" ")[0],u.labelOrient2=u.labelOrient.split(" ")[1],u.wrapAnchor=function(t){if(t.data)switch(t.type){case"x":return"inner"===t.info.orient?"end":"start";case"x2":return"outer"===t.info.orient?"end":"start";case"y":case"y2":return"middle";default:return"start"}}(t),a(t),s(t,o);var c=r.append("g").attr("class","d2b-axis d2b-"+t.type+"-axis").call(u.axis).call(p,t);u.axisBox=c.node().getBBox();var l=c.append("text").attr("class","d2b-axis-label d2b-"+t.type+"-label").text(u.label);u.labelBox=l.node().getBBox(),c.remove()}}function c(t){if(t.data){var e=t.info,n=["y","y2"].indexOf(t.type)>-1;return"start"===e.labelOrient2&&n?"end":"end"!==e.labelOrient2||n?"middle"===e.labelOrient2?"middle":"start":"end"}}function h(t){if(t.data){var e=t.info;switch(t.type+" "+e.orient+" "+e.labelOrient1){case"x inner inner":case"x2 outer outer":return-e.axisBox.height-m;case"x inner outer":case"x2 outer inner":return e.labelBox.height+m;case"x outer inner":case"x2 inner outer":case"y inner outer":case"y2 outer inner":return-m;case"x outer outer":case"x2 inner inner":return e.labelBox.height+e.axisBox.height+m;case"y inner inner":case"y2 outer outer":return e.labelBox.height+e.axisBox.width+m;case"y outer inner":case"y2 inner outer":return e.labelBox.height+m;case"y outer outer":case"y2 inner inner":return-e.axisBox.width-m}}}function f(t,e){if(t.data)return"start"===t.info.labelOrient2?0:"middle"===t.info.labelOrient2?e/2:e}function d(t){var e={top:0,left:0,right:0,bottom:0};return t.x.data&&("outer"===t.x.info.orient&&(e.bottom+=t.x.info.axisBox.height),"outer"===t.x.info.labelOrient1&&(e.bottom+=t.x.info.labelBox.height+m)),t.x2.data&&("outer"===t.x2.info.orient&&(e.top+=t.x2.info.axisBox.height),"outer"===t.x2.info.labelOrient1&&(e.top+=t.x2.info.labelBox.height)),t.y.data&&("outer"===t.y.info.orient&&(e.left+=t.y.info.axisBox.width),"outer"===t.y.info.labelOrient1&&(e.left+=t.y.info.labelBox.height)),t.y2.data&&("outer"===t.y2.info.orient&&(e.right+=t.y2.info.axisBox.width),"outer"===t.y2.info.labelOrient1&&(e.right+=t.y2.info.labelBox.height+m)),e.top=Math.max(e.top,10),e.bottom=Math.max(e.bottom,10),e.left=Math.max(e.left,10),e.right=Math.max(e.right,10),e}function p(t,e){if(e.data){var n=e.info.wrapLength,r=e.info.wrapAnchor;t.selectAll(".tick text").each(function(){var t=P.select(this);-1===i(t.html(),"").indexOf("tspan")&&(this.storeText=t.text()),t.text("")}).call(o,function(){return this.storeText},n,r)}}function v(t){return"number"==typeof t?{top:t,left:t,right:t,bottom:t}:t}var g={},m=5,y=function i(o){var a=o.selection?o.selection():o;return a.each(function(i,s){var u=g.size.call(this,i,s)||{width:960,height:500},c=function(t){return v(t||0)}(g.margin.call(this,i,s)),l=g.x.call(this,i,s),h=g.x2.call(this,i,s),f=g.y.call(this,i,s),p=g.y2.call(this,i,s),m=P.select(this),y={x:{type:"x",data:l},x2:{type:"x2",data:h},y:{type:"y",data:f},y2:{type:"y2",data:p}},b=v(g.padding.call(this,i,s)),_=m.selectAll(".d2b-plane").data([i]),w=_.enter().append("g").attr("class","d2b-plane"),x=_.merge(w),E=this.__clipID=this.__clipID||"d2b-clip-plane-"+L();w.append("defs").append("clipPath").attr("id",E).attr("class","d2b-clip-plane").append("rect");var C=o!==a?o:null;t(y.x,s,x,u.width,C),t(y.x2,s,x,u.width,C),t(y.y,s,x,u.height,C),t(y.y2,s,x,u.height,C),b||(b=d(y));var k={top:b.top+c.top,bottom:b.bottom+c.bottom,left:b.left+c.left,right:b.right+c.right};k.width=u.width-k.left-k.right,k.height=u.height-k.top-k.bottom,this.__box__=k,C&&(_=_.transition(C)),w.attr("transform","translate("+k.left+", "+k.top+")"),_.attr("transform","translate("+k.left+", "+k.top+")"),e(y.x,k.width,0,k.height),e(y.x2,k.width,0,0),e(y.y,k.height,0,0),e(y.y2,k.height,k.width,0),n(y.x,k.width,k.height),n(y.x2,k.width,k.height),n(y.y,k.height,k.width),n(y.y2,k.height,k.width),r(y.x,k.width),r(y.x2,k.width),r(y.y,-k.height),r(y.y2,-k.height),x.select(".d2b-clip-plane").select("rect").attr("width",k.width+1).attr("height",k.height+1),x.selectAll(".d2b-grid").attr("clip-path","url(#"+E+")")}),a.dispatch("plane-updated",{bubbles:!0}),i};return l(y,g).addPropFunctor("size",function(t){return t.size}).addPropFunctor("padding",null).addPropFunctor("margin",0).addPropFunctor("x",function(t){return t.x}).addPropFunctor("x2",function(t){return t.x2}).addPropFunctor("y",function(t){return t.y}).addPropFunctor("y2",function(t){return t.y2}).addPropFunctor("axis",function(t){return t.axis}).addPropFunctor("orient",function(t){return t.orient||"outer"}).addPropFunctor("wrapLength",function(t){return i(t.wrapLength,1/0)}).addPropFunctor("tickSize",function(t){return i(t.tickSize,6)}).addPropFunctor("showGrid",function(t){return!1!==t.showGrid}).addPropFunctor("label",function(t){return t.label}).addPropFunctor("labelOrient",function(t){return t.labelOrient||"outer middle"}).addMethod("box",function(t){var e=t.node?t.node():t;return e?e.__box__:null}),y}Object.defineProperty(e,"__esModule",{value:!0});var P=n(126),I=n(541),N=n(642),D=n(655);!function(t,e){if("undefined"!=typeof document){t=t||"";var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}('.d2b-draggable{cursor:move}.d2b-vue-container{width:100%;height:100%}.d2b-pie-chart .d2b-pie-arc path{stroke-width:1px;stroke:#fff}.d2b-pie-chart .d2b-pie-arc text{fill:#fff;font-weight:700;pointer-events:none;text-anchor:middle}.d2b-axis-wrapper .d2b-axis-background{opacity:0}.d2b-chart-breadcrumbs{width:200px;padding-left:10px}.d2b-sunburst-breadcrumb .d2b-sunburst-label,.d2b-sunburst-tooltip .d2b-sunburst-label{text-align:center}.d2b-sunburst-breadcrumb .d2b-sunburst-value,.d2b-sunburst-tooltip .d2b-sunburst-value{font-size:14pt;margin-top:5px}.d2b-sunburst-breadcrumb .d2b-sunburst-percent{float:right}.d2b-breadcrumbs:not(.d2b-vertical) .d2b-sunburst-percent{margin-left:30px}.d2b-sunburst-tooltip{text-align:center}.d2b-sunburst-tooltip .d2b-sunburst-percent{display:inline}.d2b-sunburst-tooltip .d2b-sunburst-percent:before{content:"("}.d2b-sunburst-tooltip .d2b-sunburst-percent:after{content:")"}.d2b-sankey-link-arrow{font-size:10px;position:relative;top:-2px}.d2b-line-graph .d2b-line{stroke-width:1.5px;fill:none}.d2b-area-graph .d2b-area{stroke:none;fill-opacity:0.3}.d2b-box .d2b-box-center,.d2b-box .d2b-box-dash,.d2b-box .d2b-box-outlier,.d2b-box .d2b-box-rect{stroke-width:1.5px}.d2b-box .d2b-box-rect{fill:#fff}.d2b-box .d2b-box-center{stroke-dasharray:3 3}.d2b-box .d2b-box-label{fill:#555;font-size:10pt}.d2b-box .d2b-box-outlier{fill:none;stroke-opacity:0.4}\n/*.d2b-box-graph {\n  .d2b-box-dash,\n  .d2b-box-center,\n  .d2b-box-rect,\n  .d2b-box-outlier {\n    stroke-width: 1.5px;\n  }\n\n  .d2b-box-rect {\n    fill: #fff;\n  }\n\n  .d2b-box-center {\n    stroke-dasharray: 3 3;\n  }\n\n  .d2b-box-label {\n    fill: #555;\n    font-size: 10pt;\n    dominant-baseline: middle;\n  }\n\n  .d2b-box-outlier {\n    fill: none;\n    stroke: #888;\n    opacity: 0.4;\n  }\n}*/.d2b-bar-graph .d2b-bar-group rect{opacity:0.8}.d2b-bubble-pack-graph .d2b-bubble-point{opacity:0.75}.d2b-bubble-pack-graph .d2b-bubble-indicator rect{fill-opacity:0.25;stroke-opacity:0.9;cursor:pointer;stroke-width:1px}.d2b-bubble-pack-graph .d2b-bubble-indicator rect:hover{stroke-width:2px}.d2b-bubble-pack-graph .d2b-bubble-indicator path,.d2b-bubble-pack-graph .d2b-bubble-indicator text{pointer-events:none}.d2b-plane text{font-size:10pt}.d2b-plane .d2b-y2-axis .d2b-axis-label,.d2b-plane .d2b-y-axis .d2b-axis-label{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.d2b-plane .d2b-y2-axis .tick line,.d2b-plane .d2b-y-axis .tick line{stroke-width:0.6px}.d2b-plane .d2b-grid .tick line{shape-rendering:crispEdges;stroke-width:0.5px;stroke-opacity:0.15}.d2b-plane .d2b-grid .tick text{display:none}.d2b-plane .d2b-axis-label{fill:#000;font-weight:700}.d2b-plane path.domain{stroke-width:0.4px;stroke-opacity:0.4}.d2b-sunburst-arc{transition:opacity 0.2s,stroke-width 0.2s;cursor:pointer;opacity:0.9;stroke-width:0.8px;stroke:#fff}.d2b-sunburst-arc.d2b-transparent{fill-opacity:0.2}.d2b-sunburst-label{font-size:8pt;fill-opacity:0.8;pointer-events:none;font-family:arial}.d2b-sunburst-label.d2b-transparent{fill-opacity:0.2}.d2b-sunburst-center{fill-opacity:0;stroke:none;cursor:pointer}.d2b-sunburst-ancestor{opacity:0.4}.d2b-sankey-links path{fill:none}.d2b-sankey-links path,.d2b-sankey-links rect{opacity:0.4}.d2b-sankey-links path:hover,.d2b-sankey-links rect:hover{opacity:0.6}.d2b-sankey-nodes rect{stroke-width:0.3px;stroke:#000;opacity:0.6}.d2b-sankey-nodes rect:hover{opacity:0.8}.d2b-text-anchor-end{text-anchor:end}\n/*.d2b-tooltip-area {\n  pointer-events: none;*/.d2b-tooltip{pointer-events:none;background:#fff;border:1px solid #bbb;border-radius:2px;position:fixed;box-shadow:0px 0px 2px #ccc;margin:0}.d2b-tooltip:before{left:0;top:0;position:absolute;z-index:2;content:""}.d2b-tooltip-content{white-space:nowrap;padding:6px 10px}.d2b-tooltip-top{-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%);margin-left:0;margin-top:-15px}.d2b-tooltip-top:before{-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%;top:100%;width:0;height:0;border-style:solid;border-color:transparent;border-width:6px 6px 0;border-top-color:inherit}.d2b-tooltip-bottom{-webkit-transform:translate(-50%,0);transform:translate(-50%,0);margin-left:0;margin-top:15px}.d2b-tooltip-bottom:before{-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%;top:-6px;width:0;height:0;border-style:solid;border-color:transparent;border-width:0 6px 6px;border-bottom-color:inherit}.d2b-tooltip-right{-webkit-transform:translate(0,-50%);transform:translate(0,-50%);margin-left:15px;margin-top:0}.d2b-tooltip-right:before{-webkit-transform:translateY(-50%);transform:translateY(-50%);left:-6px;top:50%;width:0;height:0;border-style:solid;border-color:transparent;border-width:6px 6px 6px 0;border-right-color:inherit}.d2b-tooltip-left{-webkit-transform:translate(-100%,-50%);transform:translate(-100%,-50%);margin-left:-15px;margin-top:0}.d2b-tooltip-left:before{-webkit-transform:translateY(-50%);transform:translateY(-50%);left:100%;top:50%;width:0;height:0;border-style:solid;border-color:transparent;border-width:6px 0 6px 6px;border-left-color:inherit}\n/*}*/\n/*.d2b-tooltip-axis-area {\n  pointer-events: none;\n  font-family: \'Arial\';*/.d2b-tooltip-marker{stroke-width:2px;stroke:#bbb;stroke-dasharray:5,5}.d2b-tooltip-axis{pointer-events:none;font-family:Arial;opacity:0.9;white-space:nowrap;border:1px solid #ddd;background:hsla(0,0%,100%,.8);position:absolute;box-shadow:0px 0px 2px #ccc}.d2b-tooltip-axis .d2b-tooltip-title{text-align:center;background:rgba(150,165,175,.8);padding:5px 10px;font-weight:700;color:#fff}.d2b-tooltip-axis .d2b-tooltip-content{padding:5px 10px}.d2b-tooltip-axis .d2b-tooltip-content .d2b-tooltip-row{padding-left:5px;border-left-width:3px;border-left-style:solid;margin-bottom:5px}.d2b-tooltip-axis .d2b-tooltip-content .d2b-tooltip-row:last-child{margin-bottom:0px}\n/*}*/.d2b-breadcrumbs{color:#555;font-size:9pt;box-sizing:content-box}.d2b-breadcrumbs .d2b-breadcrumb{border:0px solid transparent;border-left-width:8px;border-bottom-width:1px;padding:6px 13px;margin-bottom:10px;text-transform:uppercase;position:relative}.d2b-breadcrumbs .d2b-breadcrumb:first-child .d2b-breadcrumb-icon:after,.d2b-breadcrumbs .d2b-breadcrumb:last-child .d2b-breadcrumb-icon:after{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);left:-15.5px;width:13px;height:13px;text-align:center;font-family:FontAwesome;color:#fff;background-color:inherit;padding:5px;border-radius:15px}.d2b-breadcrumbs .d2b-breadcrumb:first-child .d2b-breadcrumb-icon:after{content:"\\f015"}.d2b-breadcrumbs .d2b-breadcrumb:not(:first-child):last-child .d2b-breadcrumb-icon:after{content:"\\f25a"}.d2b-breadcrumbs:not(.d2b-vertical){white-space:nowrap}.d2b-breadcrumbs:not(.d2b-vertical) .d2b-breadcrumb{border-right-width:1px;border-top-width:1px;white-space:nowrap;display:inline-block}.d2b-breadcrumbs:not(.d2b-vertical) .d2b-breadcrumb:not(:last-child){margin-right:20px}.d2b-breadcrumbs:not(.d2b-vertical) .d2b-breadcrumb:not(:last-child):after{width:0;height:0;border-style:solid;border-color:transparent;border-width:6px 0 6px 6px;border-left-color:inherit;position:absolute;z-index:2;content:"";top:50%;left:100%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.d2b-breadcrumbs.d2b-vertical .d2b-breadcrumb{/*&:after {\n      triangle: pointing-right;\n      width: 100px;\n      height: 100px;\n      background-color: inherit;\n      position: absolute;\n      z-index: 2;\n      content: \'\';\n\n      top: 100%;\n      left: 50%;\n\n      transform: translateX(-50%);\n\n    }*/}.d2b-breadcrumbs.d2b-vertical .d2b-breadcrumb:not(:last-child):after{width:0;height:0;border-style:solid;border-color:transparent;border-width:6px 6px 0;border-top-color:inherit;position:absolute;z-index:2;content:"";top:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.stuff{display:none}.d2b-legend{color:#555;font-size:9pt}.d2b-legend .d2b-legend-item{border:0px solid transparent;padding:2px;padding-left:18px;position:relative;cursor:pointer}.d2b-legend .d2b-legend-item .d2b-legend-icon{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);left:7px;width:12px;height:12px}.d2b-legend .d2b-legend-item .d2b-legend-svg-icon{margin-left:-5px;margin-top:-5px;pointer-events:none}.d2b-legend .d2b-legend-item .d2b-legend-svg-icon path,.d2b-legend .d2b-legend-item .d2b-legend-svg-icon text{font-family:FontAwesome;text-anchor:middle;stroke-width:1px;fill-opacity:0.8}.d2b-legend:not(.d2b-vertical) .d2b-legend-item{display:inline-block}.d2b-legend:not(.d2b-vertical) .d2b-legend-item:not(:last-child){margin-right:10px}.d2b-legend:not(.d2b-vertical) .d2b-legend-icon{margin-top:1.5px}.d2b-chart-frame{height:100%;width:100%;position:relative}.d2b-chart-frame .d2b-breadcrumbs-frame,.d2b-chart-frame .d2b-chart,.d2b-chart-frame .d2b-legend-frame{position:absolute;overflow:auto}.d2b-chart-frame .d2b-breadcrumbs-frame .d2b-breadcrumbs,.d2b-chart-frame .d2b-legend-frame .d2b-breadcrumbs{padding-left:10px;padding-right:2px}.d2b-chart-frame .d2b-breadcrumbs-frame:not(.d2b-vertical),.d2b-chart-frame .d2b-legend-frame:not(.d2b-vertical){overflow-y:hidden}.d2b-chart-frame .d2b-breadcrumbs-frame:not(.d2b-vertical) .d2b-breadcrumbs,.d2b-chart-frame .d2b-breadcrumbs-frame:not(.d2b-vertical) .d2b-legend,.d2b-chart-frame .d2b-breadcrumbs-frame:not(.d2b-vertical) .d2b-legend-item,.d2b-chart-frame .d2b-legend-frame:not(.d2b-vertical) .d2b-breadcrumbs,.d2b-chart-frame .d2b-legend-frame:not(.d2b-vertical) .d2b-legend,.d2b-chart-frame .d2b-legend-frame:not(.d2b-vertical) .d2b-legend-item{white-space:nowrap;overflow-y:hidden}.d2b-chart-frame .d2b-breadcrumbs-frame:not(.d2b-vertical).d2b-legend-frame,.d2b-chart-frame .d2b-legend-frame:not(.d2b-vertical).d2b-legend-frame{height:20px;text-align:center}.d2b-chart-frame .d2b-breadcrumbs-frame:not(.d2b-vertical).d2b-breadcrumbs-frame,.d2b-chart-frame .d2b-legend-frame:not(.d2b-vertical).d2b-breadcrumbs-frame{height:55px}.d2b-chart-frame .d2b-breadcrumbs-frame.d2b-vertical .d2b-breadcrumbs-container,.d2b-chart-frame .d2b-breadcrumbs-frame.d2b-vertical .d2b-legend-container,.d2b-chart-frame .d2b-legend-frame.d2b-vertical .d2b-breadcrumbs-container,.d2b-chart-frame .d2b-legend-frame.d2b-vertical .d2b-legend-container{display:table;height:100%;width:100%}.d2b-chart-frame .d2b-breadcrumbs-frame.d2b-vertical .d2b-breadcrumbs-container .d2b-legend,.d2b-chart-frame .d2b-breadcrumbs-frame.d2b-vertical .d2b-legend-container .d2b-legend,.d2b-chart-frame .d2b-legend-frame.d2b-vertical .d2b-breadcrumbs-container .d2b-legend,.d2b-chart-frame .d2b-legend-frame.d2b-vertical .d2b-legend-container .d2b-legend{display:table-cell;vertical-align:middle}.d2b-chart-frame .d2b-breadcrumbs-frame.d2b-vertical .d2b-breadcrumbs-container .d2b-breadcrumbs,.d2b-chart-frame .d2b-breadcrumbs-frame.d2b-vertical .d2b-legend-container .d2b-breadcrumbs,.d2b-chart-frame .d2b-legend-frame.d2b-vertical .d2b-breadcrumbs-container .d2b-breadcrumbs,.d2b-chart-frame .d2b-legend-frame.d2b-vertical .d2b-legend-container .d2b-breadcrumbs{display:table-cell;vertical-align:top}.d2b-chart-frame .d2b-breadcrumbs-frame.d2b-vertical.d2b-breadcrumbs-frame,.d2b-chart-frame .d2b-legend-frame.d2b-vertical.d2b-breadcrumbs-frame{width:180px}.d2b-chart-frame .d2b-breadcrumbs-frame.d2b-vertical.d2b-legend-frame,.d2b-chart-frame .d2b-legend-frame.d2b-vertical.d2b-legend-frame{width:110px}');var R=function(){return"ontouchstart"in window||window.navigator.msPointerEnabled},j=P.scaleOrdinal(P.schemeCategory10),L=function(){return Math.random().toString(36).substr(2,9)},F=function(t){return null===t?NaN:+t};m.tendancy="mean",y.tendancy="median",b.tendancy="mode",_.tendancy="range",w.tendancy="midpoint";var B=Math.PI,$=Math.sqrt(8),U=Math.sqrt(2),z={draw:function(t,e){var n=Math.sqrt(e/(B+5/4)),r=.3125*n,i=2*Math.asin(.25),o=(B/2-i)/2,a=n/$-n*Math.cos(o),s=n*Math.sin(o);t.arc(a,s,n,-o,2*B-i-o),t.lineTo(n*(5/4-1/U),-n*(1/$+5/4-1/U)),t.lineTo(n*(5/4-1/U)-r,-n*(1/$+5/4-1/U)),t.lineTo(n*(5/4-1/U)-r,-n*(1/$+7/4-1/U)),t.lineTo(n*(7/4-1/U+1/$),-n*(1/$+7/4-1/U)),t.lineTo(n*(7/4-1/U+1/$),-n*(5/4-1/U)+r),t.lineTo(n*(5/4-1/U+1/$),-n*(5/4-1/U)+r),t.lineTo(n*(5/4-1/U+1/$),-n*(5/4-1/U)),t.closePath()}},q={draw:function(t,e){var n=Math.sqrt(e/(B+5/4)),r=2*Math.asin(.25),i=n/4-n*Math.cos(r/2);t.arc(0,i,n,3*-B/2+r/2,B/2-r/2),t.lineTo(n/4,3*n/4),t.lineTo(3*n/4,3*n/4),t.lineTo(3*n/4,5*n/4),t.lineTo(n/4,5*n/4),t.lineTo(n/4,7*n/4),t.lineTo(-n/4,7*n/4),t.lineTo(-n/4,5*n/4),t.lineTo(3*-n/4,5*n/4),t.lineTo(3*-n/4,3*n/4),t.lineTo(-n/4,3*n/4),t.closePath()}},V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H=(function(){function t(t){function e(r,i){try{var o=t[r](i),a=o.value;a instanceof function(t){this.value=t}?Promise.resolve(a.value).then(function(t){e("next",t)},function(t){e("throw",t)}):n(o.done?"return":"normal",o.value)}catch(t){n("throw",t)}}function n(t,n){switch(t){case"return":r.resolve({value:n,done:!0});break;case"throw":r.reject(n);break;default:r.resolve({value:n,done:!1})}(r=r.next)?e(r.key,r.arg):i=null}var r,i;this._invoke=function(t,n){return new Promise(function(o,a){var s={key:t,arg:n,resolve:o,reject:a,next:null};i?i=i.next=s:(r=i=s,e(t,n))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(t){return this._invoke("next",t)},t.prototype.throw=function(t){return this._invoke("throw",t)},t.prototype.return=function(t){return this._invoke("return",t)}}(),function(t){return I.annotation().disable(t.disable()).textWrap(t.textWrap()).notePadding(t.notePadding()).type(t.type()).accessors(t.accessors()).accessorsInverse(t.accessorsInverse()).ids(t.ids()).editMode(t.editMode()).collection(t.collection())}),W=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t){return t.annotation?[t.annotation]:[]},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(t){return t.color},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"translate(0, 0)",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"translate(0, 0)",u=t.selection?t.selection():t;t.each(function(c){var l=P.select(this),h=r(i)(c),f=l.selectAll("g."+n).data(h),d=f.enter().append("g"),p=f.merge(d),v=f.exit();d.attr("class",n).attr("transform",function(t){return r(s)(c,t)}).style("opacity",0),h.forEach(function(t){t.x=0,t.y=0,t.color=r(o)(c,t)}),h.length&&e&&(p.selectAll("*").remove(),p.call(H(e).annotations(h))),t!==u&&(p=p.transition(t),v=v.transition(t)),p.attr("transform",function(t){return r(a)(c,t)}).style("opacity",1),v.attr("transform",function(t){return r(a)(c,t)}).style("opacity",0).remove()})},G=function(t,e,n,r){var i=t.selection?t.selection():t,o=i.node(),a=o.__scales||r,s=function(t,e){var n=e[t.xType],r=e[t.yType],i=t.x===1/0?n.range()[0]:n(t.x),o=t.y===1/0?r.range()[0]:r(t.y),a=t.x2===1/0?n.range()[1]:n(t.x2),s=t.y2===1/0?r.range()[1]:r(t.y2);return"translate("+[isNaN(a)?i:Math.min(i,a),isNaN(s)?o:Math.min(o,s)]+")"},u=function(t,e){var n=T(t.data.subject)||{},r=e[t.xType],i=e[t.yType],o=t.x===1/0?r.range()[0]:r(t.x),a=t.y===1/0?i.range()[0]:i(t.y),s=t.x2===1/0?r.range()[1]:r(t.x2),u=t.y2===1/0?i.range()[1]:i(t.y2),c=t.x2?Math.abs(o-s):0,l=t.y2?Math.abs(a-u):0;return t.x2&&t.y2?(n.width=c,n.height=l):t.x2?(n.x1=0,n.x2=c):t.y2&&(n.y1=0,n.y2=l),n.dx=n.dx*c,n.dy=n.dy*l,n};o.__scales={x:r.x.copy(),y:r.y.copy(),x2:r.x2.copy(),y2:r.y2.copy()};var c=i.selectAll(".d2b-axis-annotation").data(n,function(t){return t.key}),l=c.enter().append("g"),h=c.exit();c.selectAll("*").remove(),c=c.merge(l),l.attr("class","d2b-axis-annotation").attr("transform",function(t){return s(t,a)}).style("opacity",0),t!==i&&(c=c.transition(t),h=h.transition(t)),c.attr("transform",function(t){return s(t,r)}).style("opacity",1),h.attr("transform",function(t){return s(t,r)}).style("opacity",0).remove(),c.each(function(n){var o=T(n.data),a=P.select(this),s=H(e);o.x=0,o.y=0,o.color=n.color,o.subject=u(n,r),o.dx=(o.subject.dx||0)+(n.data.dx||0),o.dy=(o.subject.dy||0)+(n.data.dy||0),t!==i?a.transition(t).tween("annotation-tween",function(){var t=this,e=P.interpolateObject(this.__subject||u(n,r),o.subject);return function(r){t.__subject=o.subject=e(r),o.dx=(o.subject.dx||0)+(n.data.dx||0),o.dy=(o.subject.dy||0)+(n.data.dy||0),a.call(s.annotations([o]))}}):a.call(s.annotations([o]))})};e.version="0.5.1",e.textWrap=o,e.textWrapPX=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;t.each(function(){var t=P.select(this),n=t.text().split(/\s+/).reverse(),r=void 0,i=[],o=0,a=parseFloat(t.attr("y"))||0,s=parseFloat(t.attr("dy"))||0,u=t.text(null).append("tspan").attr("x",0).attr("y",a).attr("dy",s+"em");for(r=n.pop();r;)i.push(r),u.text(i.join(" ")),u.node().getComputedTextLength()>e&&(i.pop(),u.text(i.join(" ")),i=[r],u=t.append("tspan").attr("x",0).attr("y",a).attr("dy",1.1*++o+s+"em").text(r)),r=n.pop()})},e.tweenArc=a,e.tweenNumber=u,e.tweenCentroid=c,e.tooltip=h,e.tooltipAxis=f,e.stack=d,e.breadcrumbs=p,e.legend=v,e.chartFrame=g,e.defaultColor=j,e.id=L,e.color=j,e.omit=function(t,e){var n={};for(var r in t)"function"!=typeof t[r]&&e.indexOf(r)<0&&(n[r]=t[r]);return n},e.mean=m,e.median=y,e.mode=b,e.range=_,e.midpoint=w,e.toDegrees=x,e.toRadians=function(t){return t*(Math.PI/180)},e.modelBase=l,e.symbolMars=z,e.symbolVenus=q,e.point=E,e.svgPie=C,e.svgLine=function(){function t(t,n){var r=e.graphs(t,n).map(function(t,n){var r={data:t,index:n,align:e.align(t,n),tooltipGraph:e.tooltipGraph(t,n),shift:e.shift(t,n),stackBy:e.stackBy(t,n),key:e.key(t,n),color:e.color(t,n)};return r.values=e.values(t,n).map(function(t,n){var i={data:t,index:n,graph:r,key:e.pkey(t,n),x:e.px(t,n),y:e.py(t,n),color:e.pcolor(t,n)||r.color,annotation:e.pannotation(t,n)};return i.y1=i.y,i.y0=0,i}),r});return o.entries(r).forEach(function(t){t.values.length>1&&i(t.values)}),r}var e={},n=function n(i){var o=i.selection?i.selection():i,a=o.selectAll(".d2b-line-graphs").data(function(t){return[t]}),s=(a=a.merge(a.enter().append("g").attr("class","d2b-line-graphs"))).selectAll(".d2b-line-graph").data(function(e,n){return t(e,n)},function(t){return t.key}),u=s.enter().append("g").attr("class","d2b-line-graph d2b-graph").style("opacity",0);u.append("path").attr("class","d2b-line").style("stroke",function(t){return t.color}).attr("d",function(t){var n=this.parentNode.parentNode,i=n.__scaleX,o=n.__scaleY;return r.call(this,t,i||e.x,o||e.y)});var c=s.merge(u).order(),l=s.exit(),h=c.select(".d2b-line");if(i!==o){c=c.transition(i),l=l.transition(i),h=h.transition(i);var f=l.style("opacity",0).select(".d2b-line"),d=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=P.max(t.values,function(t){return t.x}),o=P.min(t.values,function(t){return t.x});return N.interpolatePath(this.getAttribute("d"),r.call(this,t,e.x,e.y,n),function(t){return t.x==i||t.x==o})};void 0===N.interpolatePath?(f.attr("d",function(t){return r.call(this,t,e.x,e.y)}),h.attr("d",function(t){return r.call(this,t,e.x,e.y,!0)})):(f.attrTween("d",function(t){return d.call(this,t)}),h.attrTween("d",function(t){return d.call(this,t,!0)}))}else h.attr("d",function(t){return r.call(this,t,e.x,e.y,!0)});c.style("opacity",1),c.each(function(t){var n=this.parentNode,r=P.select(this),a=t.align,s=n.__scaleX||e.x,u=n.__scaleY||e.y,c=t.values.filter(function(t){return t.annotation}),l=r.selectAll(".d2b-line-annotation-group").data(c,function(t){return t.key}),h=l.enter().append("g");h.attr("class","d2b-line-annotation-group").attr("transform",function(e){return"translate("+(s(e.x)+t.shift)+", "+u(e[a])+")"});var f=l.merge(h),d=l.exit();i!==o&&(f=f.transition(i),d=d.transition(i)),f.style("opacity",1).attr("transform",function(n){return"translate("+(e.x(n.x)+t.shift)+", "+e.y(n[a])+")"}).call(W,e.annotation,"d2b-line-annotation"),d.attr("transform",function(n){return n=t.values.filter(function(t){return n.key===t.key})[0]||n,"translate("+(e.x(n.x)+t.shift)+", "+e.y(n[a])+")"}).style("opacity",0).remove()}),l.remove().selectAll(".d2b-line-annotation-group").attr("transform",function(t){return"translate("+(e.x(t.x)+t.graph.shift)+", "+e.y(t[t.graph.align])+")"}),h.style("stroke",function(t){return t.color});var p=e.x.copy(),v=e.y.copy();return a.each(function(){this.__scaleX=p,this.__scaleY=v}),o.dispatch("svg-line-updated",{bubbles:!0}),n},r=function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=t.shift;null===o&&(o=n.bandwidth?n.bandwidth()/2:0),t.tooltipGraph&&i&&t.tooltipGraph.data(t.values).x(function(t){return n(t.x)+o}).y(function(e){return r(e[t.align])}).color(function(t){return t.color}),e.line.x(function(t){return n(t.x)+o}).y(function(e){return r(e[t.align])});var a=e.line(t.values);return k(a)?a:this.getAttribute("d")},i=d().values(function(t){return t.values}).y(function(t){return t.y}).x(function(t){return t.x}),o=P.nest().key(function(t){var e=t.stackBy;return!1!==e&&null!==e?e:L()});return l(n,e).addProp("line",P.line()).addProp("stack",i.stack(),null,function(t){return i.stack(t)}).addProp("x",P.scaleLinear()).addProp("y",P.scaleLinear()).addProp("annotation",I.annotation?I.annotation():null).addPropGet("type","line").addPropFunctor("graphs",function(t){return t}).addPropFunctor("align","y1").addPropFunctor("tooltipGraph",function(t){return t.tooltipGraph}).addPropFunctor("shift",null).addPropFunctor("stackBy",null).addPropFunctor("key",function(t){return t.label}).addPropFunctor("values",function(t){return t.values}).addPropFunctor("color",function(t){return j(t.label)}).addPropFunctor("px",function(t){return t.x}).addPropFunctor("py",function(t){return t.y}).addPropFunctor("pcolor",null).addPropFunctor("pkey",function(t,e){return e}).addPropFunctor("pannotation",function(t){return t.annotation}).addMethod("getComputedGraphs",function(e){return(e.selection?e.selection():e).data().map(function(e,n){return t(e,n)})}).addMethod("getVisiblePoints",function(t){return n.getComputedGraphs(t).map(function(t){return[].concat.apply([],t.map(function(t){return t.values.map(function(e){return{x:e.x,y:e[t.align],graph:t}})}))})[0]}),n},e.svgArea=function(){function t(t,n){var r=e.graphs(t,n).map(function(t,n){var r={data:t,index:n,tooltipGraph:e.tooltipGraph(t,n),shift:e.shift(t,n),stackBy:e.stackBy(t,n),key:e.key(t,n),color:e.color(t,n)};return r.values=e.values(t,n).map(function(t,n){var o={data:t,index:n,graph:r,key:e.pkey(t,n),x:e.px(t,n),y:e.py(t,n),y0:e.py0(t,n),color:e.pcolor(t,n)||r.color,annotations:e.pannotations(t,n)};return o.y1=o.y,o.y0=i(o.y0,0),o}),r});return a.entries(r).forEach(function(t){t.values.length>1&&o(t.values)}),r}var e={},n=function n(i){var o=i.selection?i.selection():i,a=o.selectAll(".d2b-area-graphs").data(function(t){return[t]}),s=(a=a.merge(a.enter().append("g").attr("class","d2b-area-graphs"))).selectAll(".d2b-area-graph").data(function(e,n){return t(e,n)},function(t){return t.key}),u=s.enter().append("g").attr("class","d2b-area-graph d2b-graph").style("opacity",0);u.append("path").attr("class","d2b-area").style("fill",function(t){return t.color}).attr("d",function(t){var n=this.parentNode.parentNode,i=n.__scaleX,o=n.__scaleY;return r.call(this,t,i||e.x,o||e.y)});var c=s.merge(u).order(),l=s.exit(),h=c.select(".d2b-area");if(i!==o){c=c.transition(i),l=l.transition(i),h=h.transition(i);var f=l.style("opacity",0).select(".d2b-area"),d=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=P.max(t.values,function(t){return t.x}),o=P.min(t.values,function(t){return t.x});return N.interpolatePath(this.getAttribute("d"),r.call(this,t,e.x,e.y,n),function(t){return t.x==i||t.x==o})};void 0===N.interpolatePath?(f.attr("d",function(t){return r.call(this,t,e.x,e.y)}),h.attr("d",function(t){return r.call(this,t,e.x,e.y,!0)})):(f.attrTween("d",function(t){return d.call(this,t)}),h.attrTween("d",function(t){return d.call(this,t,!0)}))}else h.attr("d",function(t){return r.call(this,t,e.x,e.y,!0)});c.style("opacity",1),c.each(function(t){var n=this.parentNode,r=P.select(this),a=n.__scaleX||e.x,s=n.__scaleY||e.y;["y0","y1"].forEach(function(n){var u=t.values.filter(function(t){return(t.annotations||[]).filter(function(t){return t.location===n}).length}),c=r.selectAll(".d2b-area-annotation-group-"+n).data(u,function(t){return t.key}),l=c.enter().append("g");l.attr("class","d2b-area-annotation-group-"+n).attr("transform",function(e){return"translate("+(a(e.x)+t.shift)+", "+s(e[n])+")"});var h=c.merge(l),f=c.exit();i!==o&&(h=h.transition(i),f=f.transition(i)),h.style("opacity",1).attr("transform",function(r){return"translate("+(e.x(r.x)+t.shift)+", "+e.y(r[n])+")"}).call(W,e.annotation,"d2b-area-annotation",function(t){return t.annotations.filter(function(t){return t.location===n})}),f.attr("transform",function(r){return r=t.values.filter(function(t){return r.key===t.key})[0]||r,"translate("+(e.x(r.x)+t.shift)+", "+e.y(r[n])+")"}).style("opacity",0).remove()})}),l.remove(),l.selectAll(".d2b-area-annotation-group-y0").attr("transform",function(t){return"translate("+(e.x(t.x)+t.graph.shift)+", "+e.y(t.y0)+")"}),l.selectAll(".d2b-area-annotation-group-y1").attr("transform",function(t){return"translate("+(e.x(t.x)+t.graph.shift)+", "+e.y(t.y1)+")"}),h.style("fill",function(t){return t.color});var p=e.x.copy(),v=e.y.copy();return a.each(function(){this.__scaleX=p,this.__scaleY=v}),o.dispatch("svg-area-updated",{bubbles:!0}),n},r=function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=t.shift;null===o&&(o=n.bandwidth?n.bandwidth()/2:0),t.tooltipGraph&&i&&t.tooltipGraph.data(t.values).x(function(t){return n(t.x)+o}).y(function(t){return r(t.y1)}).color(function(t){return t.color}),e.area.x(function(t){return n(t.x)+o}).y0(function(t){return r(t.y0)}).y1(function(t){return r(t.y1)});var a=e.area(t.values);return k(a)?a:this.getAttribute("d")},o=d().values(function(t){return t.values}).y(function(t){return t.y}).x(function(t){return t.x}),a=P.nest().key(function(t){var e=t.stackBy;return!1!==e&&null!==e?e:L()});return l(n,e).addProp("area",P.area()).addProp("stack",o.stack(),null,function(t){return o.stack(t)}).addProp("x",P.scaleLinear()).addProp("y",P.scaleLinear()).addProp("annotation",I.annotation?I.annotation():null).addPropGet("type","area").addPropFunctor("graphs",function(t){return t}).addPropFunctor("tooltipGraph",function(t){return t.tooltipGraph}).addPropFunctor("shift",null).addPropFunctor("stackBy",null).addPropFunctor("key",function(t){return t.label}).addPropFunctor("values",function(t){return t.values}).addPropFunctor("color",function(t){return j(t.label)}).addPropFunctor("px",function(t){return t.x}).addPropFunctor("py",function(t){return t.y}).addPropFunctor("py0",function(t){return t.y0}).addPropFunctor("pcolor",null).addPropFunctor("pkey",function(t,e){return e}).addPropFunctor("pannotations",function(t){return t.annotations}).addMethod("getComputedGraphs",function(e){return(e.selection?e.selection():e).data().map(function(e,n){return t(e,n)})}).addMethod("getVisiblePoints",function(t){return n.getComputedGraphs(t).map(function(t){var e=[].concat.apply([],t.map(function(t){return t.values.map(function(e){return{x:e.x,y:e.y0,graph:t}})})),n=[].concat.apply([],t.map(function(t){return t.values.map(function(e){return{x:e.x,y:e.y1,graph:t}})}));return e.concat(n)})[0]}),n},e.svgScatter=function(){function t(t,e){var r=n.graphs(t,e).map(function(t,e){var r={data:t,index:e,align:n.align(t,e),tooltipGraph:n.tooltipGraph(t,e),shift:n.shift(t,e),stackBy:n.stackBy(t,e),key:n.key(t,e),color:n.color(t,e),symbol:n.symbol(t,e)};return r.values=n.values(t,e).map(function(t,e){var i={data:t,index:e,graph:r,x:n.px(t,e),y:n.py(t,e),color:n.pcolor(t,e)||r.color,symbol:n.psymbol(t,e)||r.symbol,key:n.pkey(t,e),size:n.psize(t,e),annotation:n.pannotation(t,e)};return i.y1=i.y,i.y0=0,i}),r});return o.entries(r).forEach(function(t){t.values.length>1&&i(t.values)}),r}function e(t,e,n,r,i){t.attr("transform",function(t){var o=n(t[i]),a=e(t.x)+r;return isFinite(a)&&isFinite(o)?"translate("+[a,o]+")":this.getAttribute("transform")})}var n={},r=function r(i){var o=i.selection?i.selection():i,a=o.selectAll(".d2b-scatter-graphs").data(function(t){return[t]}),s=(a=a.merge(a.enter().append("g").attr("class","d2b-scatter-graphs"))).selectAll(".d2b-scatter-graph").data(function(e,n){return t(e,n)},function(t){return t.key}),u=s.enter().append("g").attr("class","d2b-scatter-graph d2b-graph").style("opacity",0),c=s.merge(u).order(),l=s.exit();return i!==o&&(c=c.transition(i),(l=l.transition(i)).style("opacity",0).each(function(t){var r=P.select(this),a=n.x,s=n.y,u=r.selectAll(".d2b-scatter-point");i!==o&&(u=u.transition(i));var c=t.shift;null===c&&(c=a.bandwidth?a.bandwidth()/2:0),u.style("opacity",0).call(e,a,s,c,t.align).remove()})),c.style("opacity",1),l.remove(),c.each(function(t){var r=P.select(this),a=n.x,s=n.y,u=this.parentNode,c=u.__scaleX||a,l=u.__scaleY||s,h=t.shift;null===h&&(h=a.bandwidth?a.bandwidth()/2:0);var f=h;null===f&&(h=c.bandwidth?c.bandwidth()/2:0),t.tooltipGraph&&t.tooltipGraph.data(t.values).x(function(t){return a(t.x)+h}).y(function(t){return s(t.y)}).color(function(t){return t.color}),n.point.fill(function(t){return t.color}).type(function(t){return t.symbol}).size(function(t){return t.size});var d=r.selectAll(".d2b-scatter-point").data(t.values,function(t){return t.key}),p=d.enter().append("g").attr("class","d2b-scatter-point"),v=d.merge(p).order(),g=d.exit();i!==o&&(v=v.transition(i),g=g.transition(i)),c.bandwidth||l.bandwidth||a.bandwidth||s.bandwidth?p.call(e,a,s,h,t.align):p.call(e,c,l,f,t.align),p.style("opacity",0),v.style("opacity",1).call(n.point).call(e,a,s,h,t.align),g.style("opacity",0).call(e,a,s,h,t.align).remove(),W(v,n.annotation,"d2b-scatter-annotation")}),a.each(function(){this.__scaleX=n.x.copy(),this.__scaleY=n.y.copy()}),o.dispatch("svg-scatter-updated",{bubbles:!0}),r},i=d().values(function(t){return t.values}).y(function(t){return t.y}).x(function(t){return t.x}),o=P.nest().key(function(t){var e=t.stackBy;return!1!==e&&null!==e?e:L()});return l(r,n).addProp("point",E().active(!0)).addProp("stack",i.stack(),null,function(t){return i.stack(t)}).addProp("x",P.scaleLinear()).addProp("y",P.scaleLinear()).addProp("annotation",I.annotation?I.annotation():null).addPropGet("type","scatter").addPropFunctor("graphs",function(t){return t}).addPropFunctor("align","y1").addPropFunctor("tooltipGraph",function(t){return t.tooltipGraph}).addPropFunctor("shift",null).addPropFunctor("stackBy",null).addPropFunctor("key",function(t){return t.label}).addPropFunctor("values",function(t){return t.values}).addPropFunctor("color",function(t){return j(t.label)}).addPropFunctor("symbol",function(){return P.symbolCircle}).addPropFunctor("px",function(t){return t.x}).addPropFunctor("py",function(t){return t.y}).addPropFunctor("pcolor",null).addPropFunctor("psymbol",null).addPropFunctor("pkey",function(t,e){return e}).addPropFunctor("psize",25).addPropFunctor("pannotation",function(t){return t.annotation}).addMethod("getComputedGraphs",function(e){return(e.selection?e.selection():e).data().map(function(e,n){return t(e,n)})}).addMethod("getVisiblePoints",function(t){return r.getComputedGraphs(t).map(function(t){return[].concat.apply([],t.map(function(t){return t.values.map(function(e){return{x:e.x,y:e[t.align],graph:t}})}))})[0]}),r},e.svgBar=function(){function t(t){return"horizontal"===t?{rotate:!0,px:"py",py:"px",x:"y",y:"x",w:"height",h:"width"}:{rotate:!1,px:"px",py:"py",x:"x",y:"y",w:"width",h:"height"}}function e(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t(a.orient(e,n)),i=a.graphs(e,n).map(function(t,e){var n={data:t,index:e,tooltipGraph:a.tooltipGraph(t,e),shift:a.shift(t,e),stackBy:a.stackBy(t,e),key:a.key(t,e),color:a.color(t,e)};return n.values=a.values(t,e).map(function(t,e){return{data:t,index:e,graph:n,key:a.pkey(t,e),x:a.px(t,e),y:a.py(t,e),centered:a.pcentered(t,e),color:a.pcolor(t,e)||n.color,annotation:a.pannotation(t,e)}}),n});return u.x(function(t){return t[r.x]}).y(function(t){return t[r.y]}),c.entries(i).forEach(function(t,e){return u.out(function(t){var e={};return function(n,r,i,o){var a=e[o]=e[o]||[0,0];n.dy=i-r,n.stackIndex=t,n.base=o,n.dy>0?n.extent=[a[0],a[0]+=n.dy]:n.extent=[a[1],a[1]+=n.dy]}}(e))(t.values)}),function(t,e){if(null===e){var n=[].concat.apply([],t.map(function(t){return t.values})),r=P.extent(n.map(function(t){return t.extent[1]}));e=r[1]<0?r[1]:r[0]>0?r[0]:0}t.forEach(function(t){t.values.forEach(function(t){Math.abs(t.extent[0])<Math.abs(e)&&(t.extent[0]=e)})})}(i,a.baseline(e,n,[].concat.apply([],i.map(function(t){return t.values.map(function(t){return t.extent[1]})})))),i}function n(t,e){t.style("opacity",e.opacity).call(r,e).select("rect").attr("fill",function(t){return t.color}).attr(e.orientMap.w,e.width).attr(e.orientMap.h,e.height),t.select(".d2b-bar-annotation-group").call(o,e).call(W,a.annotation,"d2b-bar-annotation")}function r(t,e){t.attr("transform",function(t){return"translate("+[e[e.orientMap.x](t),e[e.orientMap.y](t)]+")"})}function o(t,e){t.attr("transform",function(t){var n={x:e.width/2,y:t.extent[0]<t.extent[1]?0:e.height(t)};return"translate("+[n[e.orientMap.x],n[e.orientMap.y]]+")"})}var a={},s=function r(o){var s=o.selection?o.selection():o,u={x:a.x,y:a.y};return s.each(function(r,l){var h=t(a.orient(r,l)),f=e(r,l,h),d=u[h.x].copy(),p=u[h.y].copy(),v=a.padding(r,l),g=a.groupPadding(r,l),m=a.bandwidth(r,l);m=(1-v)*i(m||function(t,e,n){var r=[],i=1/0;e.forEach(function(e){var o=e.values,a=t.range();i=Math.min(i,Math.abs(a[1]-a[0])),o.forEach(function(e){r.push(t(e[n.x]))})}),r.sort(P.ascending);for(var o=0;o<r.length-1;o++)r[o+1]!==r[o]&&(i=Math.min(r[o+1]-r[o],i));return i===1/0?0:i}(d,f,h));var y=c.entries(f),b=m/Math.max(1,y.length),_=function(t,e,n,r){return function(i,o){var a=i.centered?o-e/4:o-e/2+i.stackIndex*n+r;return t(i.base)+a}}(d,m,b,g*=b),w=function(t){var e=function(e){return[t(e.extent[0]),t(e.extent[1])]};return e.sorted=function(t){return e(t).slice().sort(P.ascending)},e}(p);b-=2*g;var x=P.select(this).selectAll(".d2b-bar-graphs").data(function(t){return[t]}),E=(x=x.merge(x.enter().append("g").attr("class","d2b-bar-graphs"))).node(),C=E.__scaleBase||_,k=E.__scaleY||p,T=E.__scaleX||d,S=E.__barWidth||b,O=x.selectAll(".d2b-bar-graph").data(f.slice().reverse(),function(t){return t.key}),M=O.enter().append("g").attr("class","d2b-bar-graph d2b-graph"),A=O.merge(M).order(),I=O.exit();o!==s&&(A=A.transition(o),(I=I.transition(o)).each(function(t){var e=t.shift;null===e&&(e=d.bandwidth?d.bandwidth()/2:0);var r=P.select(this).selectAll(".d2b-bar-group").transition(o);T.bandwidth||k.bandwidth||d.bandwidth||p.bandwidth?r.style("opacity",0):r.call(n,{opacity:0,x:function(t){return _(t,e)},y:function(){return p(0)},width:b,height:function(){return 0},graph:t,orientMap:h})})),I.remove(),A.each(function(t){var e=P.select(this),r=t.shift;null===r&&(r=d.bandwidth?d.bandwidth()/2:0);var i=e.selectAll(".d2b-bar-group").data(t.values,function(t){return t.key}),a=i.enter().append("g").attr("class","d2b-bar-group");a.append("rect"),a.append("g").attr("class","d2b-bar-annotation-group");var u=i.merge(a).order(),c=i.exit();t.tooltipGraph&&t.tooltipGraph.data(t.values)[h.x](function(t){return d(t.base)+r})[h.y](function(t){return w(t)[1]}).color(function(t){return t.color}),o!==s&&(u=u.transition(o),c=c.transition(o)),a.attr("class","d2b-bar-group"),c.remove(),T.bandwidth||k.bandwidth||d.bandwidth||p.bandwidth?(a.call(n,{opacity:0,x:function(t){return _(t,r)},y:function(){return p(0)},width:S,height:function(){return 0},graph:t,orientMap:h}),c.style("opacity",0)):(a.call(n,{opacity:0,x:function(t){return C(t,r)},y:function(){return k(0)},width:S,height:function(){return 0},graph:t,orientMap:h}),c.call(n,{opacity:0,x:function(t){return _(t,r)},y:function(){return p(0)},width:b,height:function(){return 0},graph:t,orientMap:h})),u.call(n,{opacity:1,x:function(t){return _(t,r)},y:function(t){return w.sorted(t)[0]},width:b,height:function(t){return w.sorted(t)[1]-w.sorted(t)[0]},graph:t,orientMap:h})}),E.__scaleY=p,E.__scaleX=d,E.__scaleBase=_,E.__barWidth=b}),s.dispatch("svg-bar-updated",{bubbles:!0}),r},u=d().values(function(t){return t.values}),c=P.nest().key(function(t){return t.stackBy});return l(s,a).addProp("x",P.scaleLinear()).addProp("y",P.scaleLinear()).addProp("annotation",I.annotation?I.annotation():null).addPropGet("type","bar").addPropFunctor("graphs",function(t){return t}).addPropFunctor("padding",.5).addPropFunctor("groupPadding",0).addPropFunctor("bandwidth",null).addPropFunctor("baseline",0).addPropFunctor("tooltipGraph",function(t){return t.tooltipGraph}).addPropFunctor("orient","vertical").addPropFunctor("shift",null).addPropFunctor("stackBy",function(t,e){return e}).addPropFunctor("key",function(t){return t.label}).addPropFunctor("values",function(t){return t.values},null).addPropFunctor("color",function(t){return j(t.label)}).addPropFunctor("px",function(t){return t.x}).addPropFunctor("py",function(t){return t.y}).addPropFunctor("pcentered",!1).addPropFunctor("pcolor",null).addPropFunctor("pkey",function(t,e){return e}).addPropFunctor("pannotation",function(t){return t.annotation}).addMethod("getComputedGraphs",function(t){return(t.selection?t.selection():t).data().map(function(t,n){return e(t,n)})}).addMethod("getVisiblePoints",function(n){return(n.selection?n.selection():n).data().map(function(n,r){var i=t(a.orient(n,r)),o=e(n,r,i),s=[].concat.apply([],o.map(function(t){return t.values.map(function(e){var n={};return n[""+i.x]=e.base,n[""+i.y]=e.extent[0],n.graph=t,n})})),u=[].concat.apply([],o.map(function(t){return t.values.map(function(e){var n={};return n[""+i.x]=e.base,n[""+i.y]=e.extent[1],n.graph=t,n})}));return s.concat(u)})[0]}),s},e.svgBoxPlot=function(){function t(t,e){return n.graphs(t,e).map(function(t,e){var r={data:t,index:e,tooltipGraph:n.tooltipGraph(t,e),shift:n.shift(t,e),key:n.key(t,e),color:n.color(t,e),orient:n.orient(t,e)};return r.values=n.values(t,e).map(function(t,e){return{data:t,index:e,graph:r,x:n.px(t,e),y:n.py(t,e),annotations:n.pannotations(t,e),median:n.box.median()(t,e)}}),r})}function e(t,e){return"translate("+(e?[t,0]:[0,t])+")"}var n={},r=function r(i){var o=i.selection?i.selection():i,a=o.selectAll(".d2b-box-plot-graphs").data(function(t){return[t]}),s=(a=a.merge(a.enter().append("g").attr("class","d2b-box-plot-graphs"))).selectAll(".d2b-box-plot-graph").data(function(e,n){return t(e,n)},function(t){return t.key}),u=s.enter().append("g").attr("class","d2b-box-plot-graph d2b-graph").style("opacity",0),c=s.merge(u).order(),l=s.exit();return n.box.data(function(t){return t.data}).annotation(n.annotation).annotations(n.pannotations),i!==o&&(c=c.transition(i),(l=l.transition(i)).style("opacity",0).each(function(t){var r=P.select(this),a="vertical"===t.orient,s=a?{x:"x",y:"y"}:{x:"y",y:"x"},u=n[s.x],c=n[s.y];n.box.scale(c).orient(t.orient).color(function(e,r){return n.pcolor(e,r)||t.color});var l=r.selectAll(".d2b-box-plot-box");i!==o&&(l=l.transition(i));var h=t.shift;null===h&&(h=u.bandwidth?u.bandwidth()/2:0),l.style("opacity",0).attr("transform",function(t){return e(u(t[s.x])+h,a)}).call(n.box).remove()})),c.style("opacity",1),l.remove(),c.each(function(t){var r=P.select(this),a="vertical"===t.orient,s=a?{x:"x",y:"y"}:{x:"y",y:"x"},u=n[s.x],c=n[s.y],l=this.parentNode,h={x:l.__scaleX||u,y:l.__scaleY||c},f=h[s.x],d=h[s.y],p=t.shift;null===p&&(p=u.bandwidth?u.bandwidth()/2:0),null===p&&(p=f.bandwidth?f.bandwidth()/2:0),t.tooltipGraph&&t.tooltipGraph.data(t.values)[s.x](function(t){return u(t[s.x])+p})[s.y](function(t){return c(t.median)}).color(function(e,r){return n.pcolor(e.data,r)||t.color}),n.box.scale(c).enterScale(d).orient(t.orient).color(function(e,r){return n.pcolor(e,r)||t.color});var v=r.selectAll(".d2b-box-plot-box").data(t.values,n.pkey),g=v.enter().append("g").attr("class","d2b-box-plot-box"),m=v.merge(g).order(),y=v.exit();i!==o&&(m=m.transition(i),y=y.transition(i)),f.bandwidth||d.bandwidth||u.bandwidth||c.bandwidth?(n.box.enterScale(c),g.attr("transform",function(t){return e(u(t[s.x])+p,a)})):(n.box.enterScale(d),g.attr("transform",function(t){return e(f(t[s.x])+p,a)})),g.style("opacity",0),m.attr("transform",function(t){return e(u(t[s.x])+p,a)}).style("opacity",1).call(n.box),y.attr("transform",function(t){return e(u(t[s.x])+p,a)}).style("opacity",0).call(n.box).remove()}),a.each(function(){this.__scaleX=n.x.copy(),this.__scaleY=n.y.copy()}),o.dispatch("svg-box-updated",{bubbles:!0}),r};return l(r,n).addProp("x",P.scaleLinear()).addProp("y",P.scaleLinear()).addProp("box",S()).addProp("annotation",I.annotation?I.annotation():null).addPropGet("type","boxPlot").addPropFunctor("graphs",function(t){return t}).addPropFunctor("tooltipGraph",function(t){return t.tooltipGraph}).addPropFunctor("shift",null).addPropFunctor("key",function(t){return t.label}).addPropFunctor("values",function(t){return t.values}).addPropFunctor("color",function(t){return j(t.label)}).addPropFunctor("orient","vertical").addPropFunctor("px",function(t){return t.x}).addPropFunctor("py",function(t){return t.y}).addPropFunctor("pcolor",null).addPropFunctor("pkey",function(t,e){return e}).addPropFunctor("pannotations",function(t){return t.annotations}).addMethod("getComputedGraphs",function(e){return(e.selection?e.selection():e).data().map(function(e,n){return t(e,n)})}).addMethod("getVisiblePoints",function(t){var e=[];return r.getComputedGraphs(t).forEach(function(t){t.forEach(function(t){t.values.forEach(function(r,i){["maximum","minimum","upperQuartile","lowerQuartile","median"].forEach(function(o){e.push({x:r.x,y:n.box[o]()(r.data,i),graph:t})}),(n.box.outliers()(r.data,i)||[]).forEach(function(n){e.push({x:r.x,y:n,graph:t})})})})}),e}),r},e.svgBubblePack=function(){function t(t,e){var n=a.graphs(t,e).map(function(t,e){var n={data:t,index:e,tendancy:a.tendancy(t,e),tooltipGraph:a.tooltipGraph(t,e),shift:a.shift(t,e),key:a.key(t,e),color:a.color(t,e),symbol:a.symbol(t,e)};return n.values=a.values(t,e).map(function(t,e){return function t(e,n,r){return{data:e,index:n,graph:r,x:a.px(e,n),y:a.py(e,n),color:a.pcolor(e,n)||r.color,symbol:a.psymbol(e,n)||r.symbol,key:a.pkey(e,n),size:a.psize(e,n),indicator:a.pindicator(e,n),annotation:a.pannotation(e,n),children:(a.pchildren(e,n)||[]).map(function(e,n){return t(e,n,r)})}}(t,e,n)}),n});return n.forEach(function(t){return t.values.forEach(function(e){return function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.children=e.children||[],e.leaves=e.children.length?[]:[e],e.depth=r,e.children.length&&e.children.forEach(function(i){t(i,n,r+1),i.parent=e,e.leaves=e.leaves.concat(i.leaves)}),e.size=i(e.size,P.sum(e.leaves,function(t){return t.size})),e.x=i(e.x,(n.x||n)(e.leaves,function(t){return t.x},function(t){return t.size})),e.y=i(e.y,(n.y||n)(e.leaves,function(t){return t.y},function(t){return t.size}))}(e,t.tendancy)})}),n}function e(t,e,n,r,i){t.each(function(t){var o=P.select(this);o.attr("transform")||o.attr("transform","translate("+(n(t.parent?t.parent.x:t.x)+i)+","+r(t.parent?t.parent.y:t.y)+")"),t.children.length&&!t.data.expanded?o.attr("cursor","pointer").on("click",function(){P.select(this).dispatch("change",{bubbles:!0,cancelable:!0})}).on("change",function(t){return t.data.expanded=!t.data.expanded}):o.attr("cursor","").on("click",null),e&&(o=o.transition(e)),t.data.expanded?o.style("opacity",0).selectAll("*").remove():o.style("opacity",null).call(a.point),o.attr("transform","translate("+(n(t.x)+i)+", "+r(t.y)+")"),W(o,a.annotation,"d2b-bubble-annotation")})}function n(t){t.each(function(t){var e=P.select(this).classed("d2b-active",t.data.expanded);if(!t.data.expanded)return e.selectAll("rect, text, path").remove();var n=e.select("rect"),r=e.select("text"),i=e.select("path");n.size()||(n=e.append("rect")),r.size()||(r=e.append("text")),i.size()||(i=e.append("path")),r.text(function(t){return t.indicator.substring(0,5)}).attr("x",20);var o=r.node().getBBox();r.attr("y",o.height/1.35),n.on("click",function(){P.select(this).dispatch("change",{bubbles:!0,cancelable:!0})}).on("change",function(t){t.data.expanded=!t.data.expanded,t.data.expanded||function t(e,n){e.data.expanded=n,e.children.forEach(function(e){return t(e,n)})}(t,!1)}).attr("width",o.width+25).attr("height",o.height).style("fill",a.point.fill()).style("stroke",a.point.stroke()),i.attr("d",function(t){return s.type(t.symbol)()}).attr("transform","translate(10, 9.5)").style("fill",a.point.stroke())})}function o(t,r,i,a,s,u,c,l,h,f,d){var p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,v=t.selectAll(".d2b-bubble-pack.d2b-depth-"+p).data(r,function(t){return t.key}),g=v.enter().append("g").attr("class","d2b-bubble-pack d2b-depth-"+p),m=v.merge(g),y=g.append("g").attr("class","d2b-bubble-point");d&&e(y,!1,u,c,l),y.style("opacity",0),e(m.select(".d2b-bubble-point"),i,a,s,l),g.append("g").attr("class","d2b-bubble-indicator"),n(m.select(".d2b-bubble-indicator")),m.each(function(t){var e=P.select(this),n=e.selectAll(".d2b-bubble-pack");n=i?n.transition(i):n,t.children.length&&t.data.expanded?o(e,t.children,i,a,s,u,c,l,h,f,d,p+1):(f&&f(t),n.remove().select(".d2b-bubble-point").style("opacity",0).attr("transform","translate("+[a(t.x)+l,s(t.y)]+")"))});var b=v.exit();i&&(b=b.transition(i)),b.remove()}var a={},s=P.symbol().size(80),u=function e(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=n.selection?n:null,s=n.selection?n.selection():n,u=s.selectAll(".d2b-bubble-pack-graphs").data(function(t){return[t]}),c=(u=u.merge(u.enter().append("g").attr("class","d2b-bubble-pack-graphs"))).selectAll(".d2b-bubble-pack-graph").data(function(e,n){return t(e,n)},function(t){return t.key}),l=c.enter().append("g").attr("class","d2b-bubble-pack-graph d2b-graph"),h=c.merge(l).order(),f=c.exit();return i&&(h=h.transition(i),f=f.transition(i)),h.style("opacity",1),f.style("opacity",0).remove(),n.each(function(t,n){var s=P.select(this),u=a.duration(t,n),c=s.selectAll(".d2b-bubble-pack-graph"),l=s.selectAll(".d2b-bubble-pack-graphs").node(),h=l.__d2bPreserveScaleX__||a.x,f=l.__d2bPreserveScaleY__||a.y;s.on("change",function(){s.transition().duration(u).call(e,!1)});var d=0;c.each(function(t){var e=P.select(this),n=a.x.range();d=Math.max(d,Math.abs(n[0]-n[1]));var u=t.shift;null===u&&(u=a.x.bandwidth?a.x.bandwidth()/2:0),a.point.active(function(t){return!!t.children.length}).fill(function(t){return t.color}).type(function(t){return t.symbol});var c=t.tooltipGraph?t.tooltipGraph.clear().x(function(t){return a.x(t.x)+u}).y(function(t){return a.y(t.y)}).color(function(t){return t.color}).addPoint:null;o(e,t.values,i,a.x,a.y,h,f,u,s,c,r)}),function(t,e){var n=5,r=5;t.selectAll(".d2b-bubble-indicator.d2b-active").attr("transform",function(){var t=this.getBBox();t.width+n>e&&n>0&&(n=5,r+=t.height+5);var i="translate("+n+", "+r+")";return n+=t.width+5,i})}(s,d)}),u.each(function(){this.__d2bPreserveScaleX__=a.x.copy(),this.__d2bPreserveScaleY__=a.y.copy()}),s.dispatch("svg-bubble-pack-updated",{bubbles:!0}),e};return l(u,a).addProp("point",E().size(function(t){return 100*t.size})).addProp("x",P.scaleLinear()).addProp("y",P.scaleLinear()).addProp("annotation",I.annotation?I.annotation():null).addPropGet("type","bubblePack").addPropFunctor("duration",250).addPropFunctor("graphs",function(t){return t}).addPropFunctor("tendancy",m,function(t){return arguments.length?(t&&t.tendancy?a.tendancy=function(){return t}:a.tendancy=r(t),u):a.tendancy}).addPropFunctor("tooltipGraph",function(t){return t.tooltipGraph}).addPropFunctor("shift",null).addPropFunctor("key",function(t){return t.label}).addPropFunctor("values",function(t){return t.values}).addPropFunctor("color",function(t){return j(t.label)}).addPropFunctor("symbol",function(){return P.symbolCircle}).addPropFunctor("px",function(t){return t.x}).addPropFunctor("py",function(t){return t.y}).addPropFunctor("psize",function(t){return t.size}).addPropFunctor("pchildren",function(t){return t.children}).addPropFunctor("pcolor",null).addPropFunctor("psymbol",null).addPropFunctor("pindicator",function(t){return t.label}).addPropFunctor("pkey",function(t,e){return e}).addPropFunctor("pannotation",function(t){return t.annotation}).addMethod("getComputedGraphs",function(e){return(e.selection?e.selection():e).data().map(function(e,n){return t(e,n)})}).addMethod("getVisiblePoints",function(t){return u.getComputedGraphs(t).map(function(t){return[].concat.apply([],t.map(function(t){var e=[];return t.values.forEach(function(n){return function t(e,n,r){e.data.expanded?e.children.forEach(function(e){return t(e,n,r)}):n.push({x:e.x,y:e.y,graph:r})}(n,e,t)}),e}))})[0]}),u},e.svgSunburst=O,e.svgSankey=M,e.plane=A,e.box=S,e.chartPie=function(){function t(t,a){var s=P.select(this),l=s.select(".d2b-chart-container"),h=l.node().__size__,f=r.radius(t,h.width,h.height),d=r.donutRatio(t),p=r.legend.empty(),v=r.values(t),g=v.filter(function(t){return!p(t)});r.pie.values(g),r.legend.values(v),s.select(".d2b-legend-container").call(r.legend).on("change",function(){return s.transition(r.duration(t)).call(i)}).selectAll(".d2b-legend-item").on("mouseover",function(t){e.call(this,s,t)}).on("mouseout",function(t){n.call(this,s,t)});var m=P.sum(g,function(t){return r.value(t)}),y=l.selectAll(".d2b-pie-chart").data([g]),b=y.enter().append("g").attr("class","d2b-pie-chart");y=y.merge(b),a&&(y=y.transition(a)),r.pie.arc().innerRadius(f*d).outerRadius(f),y.call(r.pie);var _=l.selectAll(".d2b-pie-arc").each(function(t){t.__innerRadius__=f*d,t.__outerRadius__=f,t.__percent__=t.value/m}).on("mouseover",function(t){e.call(this,s,t.data)}).on("mouseout",function(t){n.call(this,s,t.data)}).call(r.tooltip);_.selectAll(".d2b-pie-arc-percent").data(function(t){return[t]}).enter().append("g").attr("class","d2b-pie-arc-percent").append("text").attr("y",6),_.each(function(){var t=P.select(this),e=t.select(".d2b-pie-arc path").node().current,n=t.select(".d2b-pie-arc-percent"),r=n.select("text").node();n.node().current=e,r.current=r.current||0}),a&&(_=_.each(function(){this.transitioning=!0}).transition(a).on("end",function(){this.transitioning=!1})),_.select(".d2b-pie-arc-percent").call(c,r.pie.arc()).select("text").call(u,function(t){return r.value(t.data)/m},o).style("opacity",function(t){return r.showPercent.call(this,t.data,m)?1:0});var w=function(t,e,n){var i=r.at(t,n.width,n.height,e);if("object"!==(void 0===i?"undefined":V(i))){var o={x:(i=i.split(" "))[1],y:i[0]};switch(i={},o.x){case"left":i.x=e;break;case"center":case"middle":i.x=n.width/2;break;case"right":default:i.x=n.width-e}switch(o.y){case"bottom":i.y=n.height-e;break;case"center":case"middle":i.y=n.height/2;break;case"top":default:i.y=e}}return i}(t,f,h);b.attr("transform","translate("+w.x+", "+w.y+")"),y.attr("transform","translate("+w.x+", "+w.y+")")}function e(t,e){var n=r.pie.arc();n.outerRadius(function(t){return t.outerRadius}).innerRadius(function(t){return t.innerRadius}),t.selectAll(".d2b-pie-arc").filter(function(t){return t.data===e}).each(function(t){t.outerRadius=1.03*t.__outerRadius__,t.innerRadius=t.__innerRadius__}).select("path").transition().duration(100).call(a,n)}function n(t,e){var n=r.pie.arc();n.outerRadius(function(t){return t.outerRadius}).innerRadius(function(t){return t.innerRadius}),t.selectAll(".d2b-pie-arc").filter(function(t){return t.data===e}).each(function(t){t.outerRadius=t.__outerRadius__,t.innerRadius=t.__innerRadius__}).select("path").transition().duration(100).call(a,n)}var r={},i=function e(n){n.call(r.chartFrame),r.pie.value(r.value).color(r.color).key(r.key),r.legend.html(r.label).key(r.key).color(r.color),r.tooltip.color(function(t){return P.rgb(r.color(t.data)).darker(.3)});var i=n.selection?n.selection():n;return i.each(function(e){t.call(this,e,n!==i?n:null)}),i.dispatch("chart-pie-updated",{bubbles:!0}),e},o=P.format(".0%");return l(i,r).addProp("chartFrame",g().legendEnabled(!0).breadcrumbsEnabled(!1)).addProp("legend",v().clickable(!0).dblclickable(!0)).addProp("key",function(t){return t.label}).addProp("pie",C()).addProp("tooltip",h().followMouse(!0).html(function(t){return"<b>"+r.label(t.data)+"</b>: "+r.value(t.data)+" ("+o(t.__percent__)+")"})).addPropFunctor("values",function(t){return t}).addPropFunctor("duration",250).addPropFunctor("donutRatio",0).addPropFunctor("at","center center").addPropFunctor("showPercent",function(t,e){return r.value(t)/e>.03}).addPropFunctor("radius",function(t,e,n){return Math.min(e,n)/2}).addPropFunctor("color",function(t){return j(t.label)}).addPropFunctor("value",function(t){return t.value}).addPropFunctor("label",function(t){return t.label}),i},e.chartAxis=function(){function t(t,u){var c=P.select(this),l=c.select(".d2b-chart-container"),d=l.node(),p=c.select(".d2b-legend-container"),v=l.node().__size__,g=e(t),m=n(g),y=a.duration(t),b=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e(t),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n(r),o=i.filter(function(t){return!t.group});return o.forEach(function(t){t.groupType="graph",t.groupGraphs=[t]}),(a.groups(t)||[]).map(function(t){var e={groupType:"group",data:t,label:a.groupLabel(t),color:a.groupColor(t)};return e.groupGraphs=i.filter(function(t){return e.label===t.group}),e.groupGraphs.forEach(function(t){t.color=e.color}),e}).concat(o)}(t,g),_=a.clipPlane(t),w=(a.annotations(t)||[]).slice().map(function(t,e){return{key:a.annotationKey(t,e),xType:a.annotationXType(t)||"x",yType:a.annotationYType(t)||"y",z:a.annotationZ(t)||"front",x:a.annotationX(t),y:a.annotationY(t),x2:a.annotationX2(t),y2:a.annotationY2(t),color:a.annotationColor(t)||"steelblue",data:t}});!function(t){t.forEach(function(t){t.groupGraphs.forEach(function(e){return e.data.hidden=t.data.hidden})})}(b);var x=d.tooltip=d.tooltip||f().trackX(!0).trackY(!1).threshold(50);x.title(function(t){return""+i(t[0].x,t[0].x1,t[0].median)}).clear(),a.legend.values(b),p.call(a.legend).on("change",function(){return c.transition().duration(y).call(s)}).selectAll(".d2b-legend-item").on("mouseover",function(t){return function(t,e){var n=e.selectAll(".d2b-graph"),r=e.selectAll(".d2b-axis-annotation");t.groupGraphs.some(function(t){return!t.data.hidden})&&(n.style("opacity",.2).filter(function(e){return t.data===e.data||(t.groupGraphs.map(function(t){return t.data})||[]).indexOf(e.data)>-1}).style("opacity",""),r.style("opacity",.2).filter(function(e){return t.data===e.graph||(t.groupGraphs.map(function(t){return t.data})||[]).indexOf(e.graph)>-1}).style("opacity",""))}(t,l)}).on("mouseout",function(t){return(e=l).selectAll(".d2b-graph").style("opacity",1),void e.selectAll(".d2b-axis-annotation").style("opacity",1);var e}),a.plane.size(v);var E=l.selectAll(".d2b-axis-plane").data([t]),C=E,k=E.enter().append("g").attr("class","d2b-axis-plane");C=E=E.merge(k);var T=l.selectAll(".d2b-axis-wrapper").data([t]),S=T,O=T.enter().append("g").attr("class","d2b-axis-wrapper");O.append("rect").attr("class","d2b-axis-background"),O.append("g").attr("class","d2b-axis-back-annotations"),O.append("g").attr("class","d2b-axis-sets"),O.append("g").attr("class","d2b-axis-front-annotations"),S=T=T.merge(O);var M=T.select(".d2b-axis-back-annotations"),A=T.select(".d2b-axis-front-annotations"),I=T.select(".d2b-axis-sets").selectAll(".d2b-axis-set").data(g,function(t){return t.key}),N=I.enter().append("g").attr("class","d2b-axis-set"),D=I.exit();I=I.merge(N).order(),u&&(D=D.transition(u),S=S.transition(u),C=C.transition(u),M=M.transition(u),A=A.transition(u));var R={x:[],x2:[],y:[],y2:[]};I.each(function(t){var e=P.select(this),n=t.graphs.filter(function(t){return!t.data.hidden}),i=n.map(function(t){return t.data});n.forEach(function(e){w=w.concat(e.annotations.map(function(n,r){return{key:t.key+"-"+e.key+"-"+a.annotationKey(n,r),xType:t.xType,yType:t.yType,z:a.annotationZ(n)||"front",x:a.annotationX(n),y:a.annotationY(n),x2:a.annotationX2(n),y2:a.annotationY2(n),color:a.annotationColor(n)||e.color,data:n,graph:e.data}}))}),this.genUpdate=e.selectAll(".d2b-graph-generator").data(t.generators.slice().reverse(),function(t){return t.key}),this.genEnter=this.genUpdate.enter().append("g").attr("class","d2b-graph-generator").style("opacity",0),this.genExit=this.genUpdate.exit(),this.gen=this.genUpdate.merge(this.genEnter).order();var o=this.gen.size();this.gen.each(function(e,n){var a=P.select(this),s=e.generator.tooltipGraph(function(t){if(n<o-1)return null;var e=x.graph(L());return r(t,m).tooltipConfig(e),e}).color(function(t){return r(t,m).color}).graphs(i).getVisiblePoints(a);e.generator.duration&&e.generator.duration(y),s.forEach(function(e){R[t.xType].push(e.x),R[t.yType].push(e.y)})})});var j=a.x(t,R.x),F=a.y(t,R.y),B=a.x2(t,R.x2),$=a.y2(t,R.y2);o(j,R.x,h.x),o(F,R.y,h.y),o(B,R.x2,h.x2),o($,R.y2,h.y2),a.plane.axis(function(t){return t.__axis__}).x(j.__axis__&&R.x.length?j:null).y(F.__axis__&&R.y.length?F:null).x2(B.__axis__&&R.x2.length?B:null).y2($.__axis__&&R.y2.length?$:null),k.call(a.plane),C.call(a.plane);var U=a.plane.box(E),z="url(#"+E.select(".d2b-clip-plane").attr("id")+")";if(T.attr("clip-path",_?z:""),I.each(function(t){var e="x2"===t.xType?B.__axis__:j.__axis__,n="y2"===t.yType?$.__axis__:F.__axis__;u&&(this.genUpdate=this.genUpdate.transition(u),this.genExit=this.genExit.transition(u).style("opacity",0)),this.genExit.remove(),this.gen.each(function(t){var r=P.select(this);u&&(r=r.transition(u)),t.generator.x(e.scale()).y(n.scale()),r.style("opacity",1).call(t.generator)}),P.select(this).on("change",function(){return c.transition().duration(y).call(s)})}),D.style("opacity",0).remove(),O.attr("transform","translate("+U.left+", "+U.top+")").select("rect.d2b-axis-background").attr("height",Math.max(0,U.height)).attr("width",Math.max(0,U.width)),S.attr("transform","translate("+U.left+", "+U.top+")").select("rect.d2b-axis-background").attr("height",Math.max(0,U.height)).attr("width",Math.max(0,U.width)),a.annotation){var q={x:j.__scale__,y:F.__scale__,x2:B.__scale__,y2:$.__scale__};M.call(G,a.annotation,w.filter(function(t){return"back"===t.z}),q),A.call(G,a.annotation,w.filter(function(t){return"front"===t.z}),q)}x.row(function(t){return r(t.graph.data,m).label+": "+i(t.y,t.y1,t.median)}),a.tooltipConfig(x),x.svgContainer(T).tracker(T).size(U)}function e(t){return a.sets(t).map(function(t,e){var n={};return{data:t,key:a.setKey(t,e),xType:a.setXType(t)||"x",yType:a.setYType(t)||"y",generators:a.setGenerators(t).map(function(t,e){var r=t.type();return 0!==e&&(t.pannotation||t.pannotations||function(){})(null),t.annotation(a.annotation).key(a.graphKey),n[r]=n[r]||0,{data:t,key:r+"-"+(n[r]+=1),generator:t}}),graphs:function(t){return a.setGraphs(t).map(function(t,e){return{data:t,label:a.graphLabel(t)||"",key:a.graphKey(t,e),color:a.graphColor(t),group:a.graphGroup(t),annotations:a.graphAnnotations(t)||[],tooltipConfig:a.graphTooltipConfig(t)||function(){}}})}(t)}})}function n(t){return[].concat.apply([],t.map(function(t){return t.graphs}))}function r(t,e){return e.filter(function(e){return e.data===t||e.data===t.data})[0]}function o(t,e,n){e.length||(t.hidden=!0);var r=t.axis||n.axis,i=t.scale?t.scale.copy():function(t,e){var n=t.some(function(t){return isNaN(t)}),r=n?P.set(t).values():P.extent(t).map(function(t){return t||0});return(n?e.band:e.linear).domain(r)}(e,n),o=i.domain();if(!i.bandwidth&&t.linearPadding){var a=o[1]-o[0];o[0]=o[0]+a*t.linearPadding[0],o[1]=o[1]+a*t.linearPadding[1]}i.domain(o),t.__axis__=r.scale(i),t.__scale__=i}var a={},s=function e(n){n.call(a.chartFrame),a.legend.empty(function(t){return t.data.hidden}).setEmpty(function(t,e,n){return t.data.hidden=n}).html(function(t){return t.label}).key(function(t){return t.label}).color(function(t){return t.color});var r=n.selection?n.selection():n;return r.each(function(e){t.call(this,e,n!==r?n:null)}),r.dispatch("chart-axis-updated",{bubbles:!0}),e};l(s,a).addProp("plane",A()).addProp("annotation",I.annotation?I.annotation():null).addProp("chartFrame",g().legendEnabled(!0).breadcrumbsEnabled(!1)).addProp("legend",v().clickable(!0).dblclickable(!0)).addPropFunctor("tooltipConfig",function(t){return t.tooltipConfig}).addPropFunctor("duration",250).addPropFunctor("x",{}).addPropFunctor("y",{}).addPropFunctor("x2",{}).addPropFunctor("y2",{}).addPropFunctor("clipPlane",!0).addPropFunctor("annotations",function(t){return t.annotations}).addPropFunctor("groups",function(t){return t.groups}).addPropFunctor("sets",function(t){return t.sets}).addPropFunctor("groupLabel",function(t){return t.label}).addPropFunctor("groupColor",function(t){return j(a.groupLabel(t))}).addPropFunctor("setKey",function(t,e){return e}).addPropFunctor("setGenerators",function(t){return t.generators}).addPropFunctor("setXType",function(t){return t.xType}).addPropFunctor("setYType",function(t){return t.yType}).addPropFunctor("setGraphs",function(t){return t.graphs}).addPropFunctor("graphKey",function(t){return t.label}).addPropFunctor("graphLabel",function(t){return t.label}).addPropFunctor("graphGroup",function(t){return t.group}).addPropFunctor("graphColor",function(t){return j(a.graphLabel(t))}).addPropFunctor("graphTooltipConfig",function(t){return t.tooltipConfig}).addPropFunctor("graphAnnotations",function(t){return t.annotations}).addPropFunctor("annotationKey",function(t,e){return e}).addPropFunctor("annotationXType",function(t){return t.xType}).addPropFunctor("annotationYType",function(t){return t.yType}).addPropFunctor("annotationZ",function(t){return t.z}).addPropFunctor("annotationX",function(t){return t.x}).addPropFunctor("annotationY",function(t){return t.y}).addPropFunctor("annotationX2",function(t){return t.x2}).addPropFunctor("annotationY2",function(t){return t.y2}).addPropFunctor("annotationColor",function(t){return t.color});var u=P.scaleBand(),c=P.scaleLinear(),h={x:{band:u.copy(),linear:c.copy(),axis:P.axisBottom()},y:{band:u.copy(),linear:c.copy(),axis:P.axisLeft()},x2:{band:u.copy(),linear:c.copy(),axis:P.axisTop()},y2:{band:u.copy(),linear:c.copy(),axis:P.axisRight()}};return s},e.chartSunburst=function(){function t(t,e){t.select(".d2b-breadcrumbs-container").datum(e).transition("sunburst-breadcrumbs").duration(100).call(r.breadcrumbs)}function e(n){var i=n.select(".d2b-sunburst-chart"),o=n.selectAll(".d2b-sunburst-arc.d2b-sunburst-level-0").datum().selected;t(n,[o]),i.selectAll(".d2b-sunburst-arc").call(r.tooltip.clear).call(r.tooltip).on("mouseover.breadcrumbs",function(e){var r=e.ancestors();r=r.slice(0,r.indexOf(o)+1),t(n,r.reverse())}).on("mouseout.breadcrumbs",function(){return t(n,[o])}),i.on("mouseout",function(){return e(n)}).on("click",function(){return e(n)})}function n(t,n){var i=P.select(this),o=i.select(".d2b-chart-container"),a=o.node().__size__,s="translate("+a.width/2+", "+a.height/2+")",u=o.selectAll(".d2b-sunburst-chart").data(function(t){return[t]}),c=u.enter().append("g").attr("transform",s).attr("class","d2b-sunburst-chart");u=u.merge(c),n&&(u=u.transition(n)),r.sunburst.outerRadius(r.outerRadius(t,a.width,a.height)).innerRadius(r.innerRadius(t,a.width,a.height)),u.attr("transform",s).call(r.sunburst),e(i)}var r={},i=function t(e){e.call(r.chartFrame),r.sunburst.label(r.label).color(r.color),r.breadcrumbs.color(function(t){return r.color(t.data)}).key(function(t,e){return e}),r.tooltip.color(function(t){return r.color(t.data)});var i=e.selection?e.selection():e;return i.each(function(t){n.call(this,t,e!==i?e:null)}),i.dispatch("chart-sunburst-updated",{bubbles:!0}),t};l(i,r).addProp("chartFrame",g().legendEnabled(!1).breadcrumbsEnabled(!0)).addProp("sunburst",O()).addProp("breadcrumbs",p().html(function(t){return"<div class = 'd2b-sunburst-breadcrumb'>"+s(t)+"</div>"})).addProp("tooltip",h().followMouse(!0).html(function(t){return"<div class = 'd2b-sunburst-tooltip'>"+s(t)+"</div>"})).addPropFunctor("label",function(t){return t.label}).addPropFunctor("color",function(t){return j(r.label(t))}).addPropFunctor("outerRadius",function(t,e,n){return Math.min(e,n)/2}).addPropFunctor("innerRadius",function(t,e,n){return Math.min(50,Math.min(e,n)/4)});var o=P.format(",.0f"),a=P.format(".1%"),s=function(t){var e=t.value/t.selected.value>1?"":"<div class = 'd2b-sunburst-percent'>\n        "+a(t.value/t.selected.value)+"\n      </div>";return"\n      <div class = 'd2b-sunburst-label'>\n        "+r.label(t.data)+"\n      </div>\n      <div class = 'd2b-sunburst-value'>\n        "+o(t.value)+"\n        "+e+"\n      </div>\n    "};return i},e.chartSankey=function(){function t(r){r.call(n.chartFrame);var i=r.selection?r.selection():r;return i.each(function(t){e.call(this,t,r!==i?r:null)}),i.dispatch("chart-sankey-updated",{bubbles:!0}),t}function e(e,r){var i=P.select(this).select(".d2b-chart-container"),o=i.node().__size__,a=i.selectAll(".d2b-sankey-chart").data(function(t){return[t]}),s=a.enter().append("g").attr("class","d2b-sankey-chart");return a=a.merge(s),r&&(a=a.transition(r)),a.call(n.sankey.size(o)),a.selectAll(".d2b-sankey-link").call(n.linkTooltip),a.selectAll(".d2b-sankey-node").call(n.nodeTooltip),t}var n={},r=h().html(function(t){return"\n          <b>"+t.key+"</b>:\n          "+t.value+"\n        "}).color(function(t){return t.color}).followMouse(!0),i=h().html(function(t){return"\n          <b>"+t.source.key+"</b>\n          <i class='fa fa-arrow-right d2b-sankey-link-arrow' aria-hidden='true'></i>\n          <b>"+t.target.key+"</b>:\n          "+t.value+"\n        "}).color("#444").followMouse(!0);return l(t,n).addProp("chartFrame",g().legendEnabled(!1).breadcrumbsEnabled(!1)).addProp("sankey",M()).addProp("nodeTooltip",r).addProp("linkTooltip",i),t}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a});var r=1e-12,i=Math.PI,o=i/2,a=2*i},function(t,e,n){"use strict";e.a=function(t,e){if((r=t.length)>1)for(var n,r,i=1,o=t[e[0]],a=o.length;i<r;++i){n=o,o=t[e[i]];for(var s=0;s<a;++s)o[s][1]+=o[s][0]=isNaN(n[s][1])?n[s][0]:n[s][1]}}},function(t,e,n){"use strict";e.a=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}},function(t,e,n){"use strict";function r(t,e){return function(n){return t+n*e}}function i(t,e){var n=e-t;return n?r(t,n):Object(o.a)(isNaN(t)?e:t)}e.c=function(t,e){var n=e-t;return n?r(t,n>180||n<-180?n-360*Math.round(n/360):n):Object(o.a)(isNaN(t)?e:t)},e.b=function(t){return 1==(t=+t)?i:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Object(o.a)(isNaN(e)?n:e)}},e.a=i;var o=n(238)},function(t,e,n){"use strict";e.a=function(t,e){return e-=t=+t,function(n){return t+e*n}}},function(t,e,n){"use strict";var r=n(77);n.d(e,"b",function(){return r.b}),n.d(e,"d",function(){return r.c}),n.d(e,"e",function(){return r.d});var i=n(324);n.d(e,"c",function(){return i.a});var o=n(325);n.d(e,"a",function(){return o.a})},function(t,e,n){"use strict";e.b=function(t,e,n){var i=t._id;return t.each(function(){var t=Object(r.h)(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Object(r.f)(t,i).value[e]}};var r=n(7);e.a=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,o=Object(r.f)(this.node(),n).tween,a=0,s=o.length;a<s;++a)if((i=o[a]).name===t)return i.value;return null}return this.each((null==e?function(t,e){var n,i;return function(){var o=Object(r.h)(this,t),a=o.tween;if(a!==n)for(var s=0,u=(i=n=a).length;s<u;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}o.tween=i}}:function(t,e,n){var i,o;if("function"!=typeof n)throw new Error;return function(){var a=Object(r.h)(this,t),s=a.tween;if(s!==i){o=(i=s).slice();for(var u={name:e,value:n},c=0,l=o.length;c<l;++c)if(o[c].name===e){o[c]=u;break}c===l&&o.push(u)}a.tween=o}})(n,t,e))}},function(t,e,n){"use strict";var r=n(85);e.a=function(t){return(t=Object(r.a)(Math.abs(t)))?t[1]:NaN}},function(t,e,n){"use strict";function r(t,e){return[t>c.o?t-c.w:t<-c.o?t+c.w:t,e]}function i(t,e,n){return(t%=c.w)?e||n?Object(u.a)(a(t),s(e,n)):a(t):e||n?s(e,n):r}function o(t){return function(e,n){return[(e+=t)>c.o?e-c.w:e<-c.o?e+c.w:e,n]}}function a(t){var e=o(t);return e.invert=o(-t),e}function s(t,e){function n(t,e){var n=Object(c.g)(e),s=Object(c.g)(t)*n,u=Object(c.t)(t)*n,l=Object(c.t)(e),h=l*r+s*i;return[Object(c.e)(u*o-h*a,s*r-l*i),Object(c.c)(h*o+u*a)]}var r=Object(c.g)(t),i=Object(c.t)(t),o=Object(c.g)(e),a=Object(c.t)(e);return n.invert=function(t,e){var n=Object(c.g)(e),s=Object(c.g)(t)*n,u=Object(c.t)(t)*n,l=Object(c.t)(e),h=l*o-u*a;return[Object(c.e)(u*o+l*a,s*r+h*i),Object(c.c)(h*r-s*i)]},n}e.b=i;var u=n(165),c=n(0);r.invert=r,e.a=function(t){function e(e){return(e=t(e[0]*c.r,e[1]*c.r))[0]*=c.h,e[1]*=c.h,e}return t=i(t[0]*c.r,t[1]*c.r,t.length>2?t[2]*c.r:0),e.invert=function(e){return(e=t.invert(e[0]*c.r,e[1]*c.r))[0]*=c.h,e[1]*=c.h,e},e}},function(t,e,n){"use strict";e.a=function(t,e,n,l){function h(r,i){return t<=r&&r<=n&&e<=i&&i<=l}function f(r,i,o,a){var s=0,u=0;if(null==r||(s=d(r,o))!==(u=d(i,o))||v(r,i)<0^o>0)do{a.point(0===s||3===s?t:n,s>1?l:e)}while((s=(s+o+4)%4)!==u);else a.point(i[0],i[1])}function d(i,o){return Object(r.a)(i[0]-t)<r.i?o>0?0:3:Object(r.a)(i[0]-n)<r.i?o>0?2:1:Object(r.a)(i[1]-e)<r.i?o>0?1:0:o>0?3:2}function p(t,e){return v(t.x,e.x)}function v(t,e){var n=d(t,1),r=d(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){function d(t,e){h(t,e)&&O.point(t,e)}function v(){for(var e=0,n=0,r=y.length;n<r;++n)for(var i,o,a=y[n],s=1,u=a.length,c=a[0],h=c[0],f=c[1];s<u;++s)i=h,o=f,h=(c=a[s])[0],f=c[1],o<=l?f>l&&(h-i)*(l-o)>(f-o)*(t-i)&&++e:f<=l&&(h-i)*(l-o)<(f-o)*(t-i)&&--e;return e}function g(r,i){var a=h(r,i);if(y&&b.push([r,i]),T)_=r,w=i,x=a,T=!1,a&&(O.lineStart(),O.point(r,i));else if(a&&k)O.point(r,i);else{var s=[E=Math.max(c,Math.min(u,E)),C=Math.max(c,Math.min(u,C))],f=[r=Math.max(c,Math.min(u,r)),i=Math.max(c,Math.min(u,i))];Object(o.a)(s,f,t,e,n,l)?(k||(O.lineStart(),O.point(s[0],s[1])),O.point(f[0],f[1]),a||O.lineEnd(),S=!1):a&&(O.lineStart(),O.point(r,i),S=!1)}E=r,C=i,k=a}var m,y,b,_,w,x,E,C,k,T,S,O=r,M=Object(i.a)(),A={point:d,lineStart:function(){A.point=g,y&&y.push(b=[]),T=!0,k=!1,E=C=NaN},lineEnd:function(){m&&(g(_,w),x&&k&&M.rejoin(),m.push(M.result())),A.point=d,k&&O.lineEnd()},polygonStart:function(){O=M,m=[],y=[],S=!0},polygonEnd:function(){var t=v(),e=S&&t,n=(m=Object(s.n)(m)).length;(e||n)&&(r.polygonStart(),e&&(r.lineStart(),f(null,null,1,r),r.lineEnd()),n&&Object(a.a)(m,p,t,f,r),r.polygonEnd()),O=r,m=y=b=null}};return A}};var r=n(0),i=n(168),o=n(405),a=n(169),s=n(2),u=1e9,c=-u},function(t,e,n){"use strict";function r(t){return function(e){var n=new i;for(var r in t)n[r]=t[r];return n.stream=e,n}}function i(){}e.b=r,e.a=function(t){return{stream:r(t)}},i.prototype={constructor:i,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c}},function(t,e,n){"use strict";var r=n(94);e.a=function(t,e){return function(n,i){var o=Object(r.a)(n).mimeType(t).response(e);if(null!=i){if("function"!=typeof i)throw new Error("invalid callback: "+i);return o.get(i)}return o}}},function(t,e,n){"use strict";function r(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Object(c.a)(e)}function i(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(t){return a(i(t))}}function o(t,e,n,r){var i=Math.min(t.length,e.length)-1,o=new Array(i),s=new Array(i),u=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<i;)o[u]=n(t[u],t[u+1]),s[u]=r(e[u],e[u+1]);return function(e){var n=Object(a.b)(t,e,1,i)-1;return s[n](o[n](e))}}e.c=r,e.a=function(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())},e.b=function(t,e){function n(){return c=Math.min(p.length,v.length)>2?o:i,f=d=null,a}function a(e){return(f||(f=c(p,v,m?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}(t):t,g)))(+e)}var c,f,d,p=h,v=h,g=s.a,m=!1;return a.invert=function(t){return(d||(d=c(v,p,r,m?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}(e):e)))(+t)},a.domain=function(t){return arguments.length?(p=u.a.call(t,l.a),n()):p.slice()},a.range=function(t){return arguments.length?(v=u.b.call(t),n()):v.slice()},a.rangeRound=function(t){return v=u.b.call(t),g=s.r,n()},a.clamp=function(t){return arguments.length?(m=!!t,n()):m},a.interpolate=function(t){return arguments.length?(g=t,n()):g},n()};var a=n(2),s=n(6),u=n(17),c=n(95),l=n(186),h=[0,1]},function(t,e,n){"use strict";function r(t){this._context=t}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},e.a=function(t){return new r(t)}},function(t,e,n){"use strict";e.a=function(){}},function(t,e,n){"use strict";function r(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function i(t){this._context=t}e.c=r,e.a=i,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:r(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:r(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},e.b=function(t){return new i(t)}},function(t,e,n){"use strict";function r(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function i(t,e){this._context=t,this._k=(1-e)/6}e.c=r,e.a=i,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:r(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:r(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.b=function t(e){function n(t){return new i(t,e)}return n.tension=function(e){return t(+e)},n}(0)},function(t,e,n){"use strict";function r(t){this._context=t}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},e.a=function(t){return new r(t)}},function(t,e,n){"use strict";e.a=function(){}},function(t,e,n){"use strict";function r(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function i(t){this._context=t}e.b=r,e.a=i,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:r(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:r(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}}},function(t,e,n){"use strict";function r(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function i(t,e){this._context=t,this._k=(1-e)/6}e.b=r,e.a=i,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:r(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:r(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new i(t,e)}return n.tension=function(e){return t(+e)},n}(0)},function(t,e,n){"use strict";e.a=function(t,e){return e-=t=+t,function(n){return t+e*n}}},function(t,e,n){"use strict";var r=n(26);e.a=function(t,e,n){if(null==n&&(n=r.a),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,o=(i-1)*e,a=Math.floor(o),s=+n(t[a],a,t);return s+(+n(t[a+1],a+1,t)-s)*(o-a)}}},function(t,e,n){"use strict";var r=n(274);n.d(e,"a",function(){return r.a});var i=n(144);n.d(e,"b",function(){return i.a}),n.d(e,"c",function(){return i.b})},function(t,e,n){"use strict";var r=n(65),i=n(66);e.a=function(t){var e=Object(r.a)(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===i.b&&e.documentElement.namespaceURI===i.b?e.createElement(t):e.createElementNS(n,t)}})(e)}},function(t,e,n){"use strict";var r=n(66);e.a=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.a.hasOwnProperty(e)?{space:r.a[e],local:t}:t}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});var r="http://www.w3.org/1999/xhtml";e.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(t,e,n){"use strict";var r=n(68);e.a=function(){for(var t,e=r.c;t=e.sourceEvent;)e=t;return e}},function(t,e,n){"use strict";function r(t,e,n){return t=i(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function i(t,e,n){return function(r){var i=u;u=r;try{t.call(this,this.__data__,e,n)}finally{u=i}}}function o(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function a(t,e,n){var o=s.hasOwnProperty(t.type)?r:i;return function(r,i,a){var s,u=this.__on,c=o(e,i,a);if(u)for(var l=0,h=u.length;l<h;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}n.d(e,"c",function(){return u}),e.a=function(t,e,n,r){var i=u;t.sourceEvent=u,u=t;try{return e.apply(n,r)}finally{u=i}};var s={},u=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(s={mouseenter:"mouseover",mouseleave:"mouseout"})),e.b=function(t,e,n){var r,i,s=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),u=s.length;if(!(arguments.length<2)){for(c=e?a:o,null==n&&(n=!1),r=0;r<u;++r)this.each(c(s[r],e,n));return this}var c=this.node().__on;if(c)for(var l,h=0,f=c.length;h<f;++h)for(r=0,l=c[h];r<u;++r)if((i=s[r]).type===l.type&&i.name===l.name)return l.value}},function(t,e,n){"use strict";e.a=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}},function(t,e,n){"use strict";function r(){}e.a=function(t){return null==t?r:function(){return this.querySelector(t)}}},function(t,e,n){"use strict";e.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(t,e,n){"use strict";var r=n(3),i=n(147),o=n(150),a=n(151),s=n(43),u=n(152),c=n(153),l=n(149);e.a=function(t,e){var n,h=typeof e;return null==e||"boolean"===h?Object(l.a)(e):("number"===h?s.a:"string"===h?(n=Object(r.a)(e))?(e=n,i.a):c.a:e instanceof r.a?i.a:e instanceof Date?a.a:Array.isArray(e)?o.a:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?u.a:s.a)(t,e)}},function(t,e,n){"use strict";function r(){}function i(t){var e;return t=(t+"").trim().toLowerCase(),(e=w.exec(t))?new c((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=x.exec(t))?o(parseInt(e[1],16)):(e=E.exec(t))?new c(e[1],e[2],e[3],1):(e=C.exec(t))?new c(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=k.exec(t))?a(e[1],e[2],e[3],e[4]):(e=T.exec(t))?a(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=S.exec(t))?l(e[1],e[2]/100,e[3]/100,1):(e=O.exec(t))?l(e[1],e[2]/100,e[3]/100,e[4]):M.hasOwnProperty(t)?o(M[t]):"transparent"===t?new c(NaN,NaN,NaN,0):null}function o(t){return new c(t>>16&255,t>>8&255,255&t,1)}function a(t,e,n,r){return r<=0&&(t=e=n=NaN),new c(t,e,n,r)}function s(t){return t instanceof r||(t=i(t)),t?new c((t=t.rgb()).r,t.g,t.b,t.opacity):new c}function u(t,e,n,r){return 1===arguments.length?s(t):new c(t,e,n,null==r?1:r)}function c(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function l(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new d(t,e,n,r)}function h(t){if(t instanceof d)return new d(t.h,t.s,t.l,t.opacity);if(t instanceof r||(t=i(t)),!t)return new d;if(t instanceof d)return t;var e=(t=t.rgb()).r/255,n=t.g/255,o=t.b/255,a=Math.min(e,n,o),s=Math.max(e,n,o),u=NaN,c=s-a,l=(s+a)/2;return c?(u=e===s?(n-o)/c+6*(n<o):n===s?(o-e)/c+2:(e-n)/c+4,c/=l<.5?s+a:2-s-a,u*=60):c=l>0&&l<1?0:u,new d(u,c,l,t.opacity)}function f(t,e,n,r){return 1===arguments.length?h(t):new d(t,e,n,null==r?1:r)}function d(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function p(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}e.a=r,n.d(e,"d",function(){return g}),n.d(e,"c",function(){return m}),e.e=i,e.h=s,e.g=u,e.b=c,e.f=f;var v=n(74),g=.7,m=1/g,y="\\s*([+-]?\\d+)\\s*",b="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",_="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",w=/^#([0-9a-f]{3})$/,x=/^#([0-9a-f]{6})$/,E=new RegExp("^rgb\\("+[y,y,y]+"\\)$"),C=new RegExp("^rgb\\("+[_,_,_]+"\\)$"),k=new RegExp("^rgba\\("+[y,y,y,b]+"\\)$"),T=new RegExp("^rgba\\("+[_,_,_,b]+"\\)$"),S=new RegExp("^hsl\\("+[b,_,_]+"\\)$"),O=new RegExp("^hsla\\("+[b,_,_,b]+"\\)$"),M={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object(v.a)(r,i,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Object(v.a)(c,u,Object(v.b)(r,{brighter:function(t){return t=null==t?m:Math.pow(m,t),new c(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?g:Math.pow(g,t),new c(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Object(v.a)(d,f,Object(v.b)(r,{brighter:function(t){return t=null==t?m:Math.pow(m,t),new d(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?g:Math.pow(g,t),new d(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new c(p(t>=240?t-240:t+120,i,r),p(t,i,r),p(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(t,e,n){"use strict";e.b=function(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n},e.a=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t}},function(t,e,n){"use strict";function r(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}e.a=r,e.b=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],a=t[i+1],s=i>0?t[i-1]:2*o-a,u=i<e-1?t[i+2]:2*a-o;return r((n-i/e)*e,s,o,a,u)}}},function(t,e,n){"use strict";var r=(n(322),n(13));n.d(e,"c",function(){return r.b});var i=n(353);n.d(e,"a",function(){return i.a});var o=n(154);n.d(e,"b",function(){return o.a})},function(t,e,n){"use strict";function r(){return y||(w(i),y=_.now()+b)}function i(){y=0}function o(){this._call=this._time=this._next=null}function a(t,e,n){var r=new o;return r.restart(t,e,n),r}function s(){r(),++d;for(var t,e=h;e;)(t=y-e._time)>=0&&e._call.call(null,t),e=e._next;--d}function u(){y=(m=_.now())+b,d=p=0;try{s()}finally{d=0,function(){for(var t,e,n=h,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:h=e);f=t,l(r)}(),y=0}}function c(){var t=_.now(),e=t-m;e>g&&(b-=e,m=t)}function l(t){d||(p&&(p=clearTimeout(p)),t-y>24?(t<1/0&&(p=setTimeout(u,t-_.now()-b)),v&&(v=clearInterval(v))):(v||(m=_.now(),v=setInterval(c,g)),d=1,w(u)))}e.b=r,e.a=o,e.c=a,e.d=s;var h,f,d=0,p=0,v=0,g=1e3,m=0,y=0,b=0,_="object"==typeof performance&&performance.now?performance:Date,w="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};o.prototype=a.prototype={constructor:o,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?r():+n)+(null==e?0:+e),this._next||f===this||(f?f._next=this:h=this,f=this),this._call=t,this._time=n,l()},stop:function(){this._call&&(this._call=null,this._time=1/0,l())}}},function(t,e,n){"use strict";function r(){}function i(t,e){var n=new r;if(t instanceof r)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,o=-1,a=t.length;if(null==e)for(;++o<a;)n.set(o,t[o]);else for(;++o<a;)n.set(e(i=t[o],o,t),i)}else if(t)for(var s in t)n.set(s,t[s]);return n}n.d(e,"b",function(){return o});var o="$";r.prototype=i.prototype={constructor:r,has:function(t){return o+t in this},get:function(t){return this[o+t]},set:function(t,e){return this[o+t]=e,this},remove:function(t){var e=o+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===o&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===o&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===o&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===o&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===o&&++t;return t},empty:function(){for(var t in this)if(t[0]===o)return!1;return!0},each:function(t){for(var e in this)e[0]===o&&t(this[e],e.slice(1),this)}},e.a=i},function(t,e,n){"use strict";var r=n(80);n.d(e,"e",function(){return r.a});var i=n(368);n.d(e,"c",function(){return i.c}),n.d(e,"d",function(){return i.d}),n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return i.b});var o=n(369);n.d(e,"h",function(){return o.c}),n.d(e,"i",function(){return o.d}),n.d(e,"f",function(){return o.a}),n.d(e,"g",function(){return o.b})},function(t,e,n){"use strict";function r(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}var i={},o={},a=34,s=10,u=13;e.a=function(t){function e(t,e){function n(){if(p)return o;if(v)return v=!1,i;var e,n,r=f;if(t.charCodeAt(r)===a){for(;f++<l&&t.charCodeAt(f)!==a||t.charCodeAt(++f)===a;);return(e=f)>=l?p=!0:(n=t.charCodeAt(f++))===s?v=!0:n===u&&(v=!0,t.charCodeAt(f)===s&&++f),t.slice(r+1,e-1).replace(/""/g,'"')}for(;f<l;){if((n=t.charCodeAt(e=f++))===s)v=!0;else if(n===u)v=!0,t.charCodeAt(f)===s&&++f;else if(n!==h)continue;return t.slice(r,e)}return p=!0,t.slice(r,l)}var r,c=[],l=t.length,f=0,d=0,p=l<=0,v=!1;for(t.charCodeAt(l-1)===s&&--l,t.charCodeAt(l-1)===u&&--l;(r=n())!==o;){for(var g=[];r!==i&&r!==o;)g.push(r),r=n();e&&null==(g=e(g,d++))||c.push(g)}return c}function n(e){return e.map(c).join(t)}function c(t){return null==t?"":l.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var l=new RegExp('["'+t+"\n\r]"),h=t.charCodeAt(0);return{parse:function(t,n){var i,o,a=e(t,function(t,e){if(i)return i(t,e-1);o=t,i=n?function(t,e){var n=r(t);return function(r,i){return e(n(r),i,t)}}(t,n):r(t)});return a.columns=o,a},parseRows:e,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}(e)),[n.map(c).join(t)].concat(e.map(function(e){return n.map(function(t){return c(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(n).join("\n")}}}},function(t,e,n){"use strict";e.a=function(){return 1e-6*(Math.random()-.5)}},function(t,e,n){"use strict";var r=n(373);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}},function(t,e,n){"use strict";var r=n(391);n.d(e,"b",function(){return r.a}),n.d(e,"a",function(){return r.b}),n.d(e,"d",function(){return r.c});var i=n(159);n.d(e,"c",function(){return i.a});var o=n(160);n.d(e,"e",function(){return o.a});var a=n(397);n.d(e,"f",function(){return a.a});var s=n(398);n.d(e,"g",function(){return s.a});var u=n(399);n.d(e,"h",function(){return u.a})},function(t,e,n){"use strict";e.a=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";function r(t,e){function n(t,e){var n=Object(i.u)(s-2*o*Object(i.t)(e))/o;return[n*Object(i.t)(t*=o),u-n*Object(i.g)(t)]}var r=Object(i.t)(t),o=(r+Object(i.t)(e))/2;if(Object(i.a)(o)<i.i)return Object(a.a)(t);var s=1+r*(2*o-r),u=Object(i.u)(s)/o;return n.invert=function(t,e){var n=u-e;return[Object(i.e)(t,Object(i.a)(n))/o*Object(i.s)(n),Object(i.c)((s-(t*t+n*n)*o*o)/(2*o))]},n}e.a=r;var i=n(0),o=n(88),a=n(416);e.b=function(){return Object(o.a)(r).scale(155.424).center([0,33.6442])}},function(t,e,n){"use strict";e.a=function(t){var e=0,n=r.o/3,o=Object(i.b)(t),a=o(e,n);return a.parallels=function(t){return arguments.length?o(e=t[0]*r.r,n=t[1]*r.r):[e*r.h,n*r.h]},a};var r=n(0),i=n(11)},function(t,e,n){"use strict";function r(t,e,n){var r=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=s&&t.clipExtent(null),Object(i.a)(n,t.stream(o.a));var u=o.a.result(),c=Math.min(r/(u[1][0]-u[0][0]),a/(u[1][1]-u[0][1])),l=+e[0][0]+(r-c*(u[1][0]+u[0][0]))/2,h=+e[0][1]+(a-c*(u[1][1]+u[0][1]))/2;return null!=s&&t.clipExtent(s),t.scale(150*c).translate([l,h])}e.a=r,e.b=function(t,e,n){return r(t,[[0,0],e],n)};var i=n(16),o=n(175)},function(t,e,n){"use strict";function r(t,e){return[t,Object(o.n)(Object(o.v)((o.l+e)/2))]}function i(t){function e(){var e=o.o*h(),s=c(Object(a.a)(c.rotate()).invert([0,0]));return d(null==p?[[s[0]-e,s[1]-e],[s[0]+e,s[1]+e]]:t===r?[[Math.max(s[0]-e,p),n],[Math.min(s[0]+e,i),u]]:[[p,Math.max(s[1]-e,n)],[i,Math.min(s[1]+e,u)]])}var n,i,u,c=Object(s.a)(t),l=c.center,h=c.scale,f=c.translate,d=c.clipExtent,p=null;return c.scale=function(t){return arguments.length?(h(t),e()):h()},c.translate=function(t){return arguments.length?(f(t),e()):f()},c.center=function(t){return arguments.length?(l(t),e()):l()},c.clipExtent=function(t){return arguments.length?(null==t?p=n=i=u=null:(p=+t[0][0],n=+t[0][1],i=+t[1][0],u=+t[1][1]),e()):null==p?null:[[p,n],[i,u]]},e()}e.c=r,e.b=i;var o=n(0),a=n(47),s=n(11);r.invert=function(t,e){return[t,2*Object(o.d)(Object(o.k)(e))-o.l]},e.a=function(){return i(r).scale(961/o.w)}},function(t,e,n){"use strict";function r(t,e){var n,r,o,u,c,l=new s(t),h=+t.value&&(l.value=t.value),f=[l];for(null==e&&(e=i);n=f.pop();)if(h&&(n.value=+n.data.value),(o=e(n.data))&&(c=o.length))for(n.children=new Array(c),u=c-1;u>=0;--u)f.push(r=n.children[u]=new s(o[u])),r.parent=n,r.depth=n.depth+1;return l.eachBefore(a)}function i(t){return t.children}function o(t){t.data=t.data.data}function a(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function s(t){this.data=t,this.depth=this.height=0,this.parent=null}e.c=r,e.b=a,e.a=s;var u=n(430),c=n(431),l=n(432),h=n(433),f=n(434),d=n(435),p=n(436),v=n(437),g=n(438),m=n(439),y=n(440);s.prototype=r.prototype={constructor:s,count:u.a,each:c.a,eachAfter:h.a,eachBefore:l.a,sum:f.a,sort:d.a,path:p.a,ancestors:v.a,descendants:g.a,leaves:m.a,links:y.a,copy:function(){return r(this).eachBefore(o)}}},function(t,e,n){"use strict";function r(t){if("function"!=typeof t)throw new Error;return t}e.a=function(t){return null==t?null:r(t)},e.b=r},function(t,e,n){"use strict";function r(t,e,n,r,a,s){for(var u,c,l,h,f,d,p,v,g,m,y,b=[],_=e.children,w=0,x=0,E=_.length,C=e.value;w<E;){l=a-n,h=s-r;do{f=_[x++].value}while(!f&&x<E);for(d=p=f,y=f*f*(m=Math.max(h/l,l/h)/(C*t)),g=Math.max(p/y,y/d);x<E;++x){if(f+=c=_[x].value,c<d&&(d=c),c>p&&(p=c),y=f*f*m,(v=Math.max(p/y,y/d))>g){f-=c;break}g=v}b.push(u={value:f,dice:l<h,children:_.slice(w,x)}),u.dice?Object(i.a)(u,n,r,a,C?r+=h*f/C:s):Object(o.a)(u,n,r,C?n+=l*f/C:a,s),C-=f,w=x}return b}n.d(e,"b",function(){return a}),e.c=r;var i=n(30),o=n(50),a=(1+Math.sqrt(5))/2;e.a=function t(e){function n(t,n,i,o,a){r(e,t,n,i,o,a)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(a)},function(t,e,n){"use strict";var r=n(21),i=n(15);e.a=function(t,e){function n(t){var e,n=h.status;if(!n&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(h)||n>=200&&n<300||304===n){if(s)try{e=s.call(o,h)}catch(t){return void c.call("error",o,t)}else e=h;c.call("load",o,e)}else c.call("error",o,t)}var o,a,s,u,c=Object(i.a)("beforesend","progress","load","error"),l=Object(r.c)(),h=new XMLHttpRequest,f=null,d=null,p=0;if("undefined"==typeof XDomainRequest||"withCredentials"in h||!/^(http(s)?:)?\/\//.test(t)||(h=new XDomainRequest),"onload"in h?h.onload=h.onerror=h.ontimeout=n:h.onreadystatechange=function(t){h.readyState>3&&n(t)},h.onprogress=function(t){c.call("progress",o,t)},o={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l.get(t):(null==e?l.remove(t):l.set(t,e+""),o)},mimeType:function(t){return arguments.length?(a=null==t?null:t+"",o):a},responseType:function(t){return arguments.length?(u=t,o):u},timeout:function(t){return arguments.length?(p=+t,o):p},user:function(t){return arguments.length<1?f:(f=null==t?null:t+"",o)},password:function(t){return arguments.length<1?d:(d=null==t?null:t+"",o)},response:function(t){return s=t,o},get:function(t,e){return o.send("GET",t,e)},post:function(t,e){return o.send("POST",t,e)},send:function(e,n,r){return h.open(e,t,!0,f,d),null==a||l.has("accept")||l.set("accept",a+",*/*"),h.setRequestHeader&&l.each(function(t,e){h.setRequestHeader(e,t)}),null!=a&&h.overrideMimeType&&h.overrideMimeType(a),null!=u&&(h.responseType=u),p>0&&(h.timeout=p),null==r&&"function"==typeof n&&(r=n,n=null),null!=r&&1===r.length&&(r=function(t){return function(e,n){t(null==e?n:null)}}(r)),null!=r&&o.on("error",r).on("load",function(t){r(null,t)}),c.call("beforesend",o,h),h.send(null==n?null:n),o},abort:function(){return h.abort(),o},on:function(){var t=c.on.apply(c,arguments);return t===c?o:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return o.get(e)}return o}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a});var r,i,o,a,s=n(190);r=Object(s.a)({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),i=r.format,r.parse,o=r.utcFormat,a=r.utcParse},function(t,e,n){"use strict";var r=n(8),i=n(18),o=n(53),a=n(98);e.a=function(){function t(t){var i,o,a,h=t.length,f=!1;for(null==u&&(l=c(a=Object(r.a)())),i=0;i<=h;++i)!(i<h&&s(o=t[i],i,t))===f&&((f=!f)?l.lineStart():l.lineEnd()),f&&l.point(+e(o,i,t),+n(o,i,t));if(a)return l=null,a+""||null}var e=a.a,n=a.b,s=Object(i.a)(!0),u=null,c=o.a,l=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:Object(i.a)(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:Object(i.a)(+e),t):n},t.defined=function(e){return arguments.length?(s="function"==typeof e?e:Object(i.a)(!!e),t):s},t.curve=function(e){return arguments.length?(c=e,null!=u&&(l=c(u)),t):c},t.context=function(e){return arguments.length?(null==e?u=l=null:l=c(u=e),t):u},t}},function(t,e,n){"use strict";e.a=function(t){return t[0]},e.b=function(t){return t[1]}},function(t,e,n){"use strict";function r(t,e,n){var r=t._x1,i=t._y1,a=t._x2,s=t._y2;if(t._l01_a>o.f){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>o.f){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*l+t._x1*t._l23_2a-e*t._l12_2a)/h,s=(s*l+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(r,i,a,s,t._x2,t._y2)}function i(t,e){this._context=t,this._alpha=e}e.b=r;var o=n(34),a=n(56);i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:r(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.a=function t(e){function n(t){return e?new i(t,e):new a.a(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},function(t,e,n){"use strict";function r(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}e.b=r;var i=n(36);e.a=function(t){var e=t.map(r);return Object(i.a)(t).sort(function(t,n){return e[t]-e[n]})}},function(t,e,n){"use strict";function r(t){return i=Object(c.a)(t),o=i.format,a=i.parse,s=i.utcFormat,u=i.utcParse,i}n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"e",function(){return u}),e.a=r;var i,o,a,s,u,c=n(207);r({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},function(t,e,n){"use strict";function r(){this._=null}function i(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function o(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function a(t){for(;t.L;)t=t.L;return t}e.a=function(t){t.U=t.C=t.L=t.R=t.P=t.N=null},r.prototype={constructor:r,insert:function(t,e){var n,r,s;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=a(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(s=r.R)&&s.C?(n.C=s.C=!1,r.C=!0,t=r):(t===n.R&&(i(this,n),n=(t=n).U),n.C=!1,r.C=!0,o(this,r)):(s=r.L)&&s.C?(n.C=s.C=!1,r.C=!0,t=r):(t===n.L&&(o(this,n),n=(t=n).U),n.C=!1,r.C=!0,i(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,s=t.U,u=t.L,c=t.R;if(n=u?c?a(c):u:c,s?s.L===t?s.L=n:s.R=n:this._=n,u&&c?(r=n.C,n.C=t.C,n.L=u,u.U=n,n!==c?(s=n.U,n.U=t.U,t=n.R,s.L=t,n.R=c,c.U=n):(n.U=s,s=n,t=n.R)):(r=t.C,t=n),t&&(t.U=s),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===s.L){if((e=s.R).C&&(e.C=!1,s.C=!0,i(this,s),e=s.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,o(this,e),e=s.R),e.C=s.C,s.C=e.R.C=!1,i(this,s),t=this._;break}}else if((e=s.L).C&&(e.C=!1,s.C=!0,o(this,s),e=s.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,i(this,e),e=s.L),e.C=s.C,s.C=e.L.C=!1,o(this,s),t=this._;break}e.C=!0,t=s,s=s.U}while(!t.C);t&&(t.C=!1)}}},e.b=r},function(t,e,n){"use strict";function r(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function i(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],c=a[1],l=0,h=1,f=s[0]-u,d=s[1]-c;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<l)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>l&&(l=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>l&&(l=o)}else if(f>0){if(o<l)return;o<h&&(h=o)}if(o=n-c,d||!(o>0)){if(o/=d,d<0){if(o<l)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>l&&(l=o)}if(o=i-c,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>l&&(l=o)}else if(d>0){if(o<l)return;o<h&&(h=o)}return!(l>0||h<1)||(l>0&&(t[0]=[u+l*f,c+l*d]),h<1&&(t[1]=[u+h*f,c+h*d]),!0)}}}}}function o(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],c=t.left,l=t.right,h=c[0],f=c[1],d=l[0],p=l[1],v=(h+d)/2,g=(f+p)/2;if(p===f){if(v<e||v>=r)return;if(h>d){if(u){if(u[1]>=i)return}else u=[v,n];o=[v,i]}else{if(u){if(u[1]<n)return}else u=[v,i];o=[v,n]}}else if(s=g-(a=(h-d)/(p-f))*v,a<-1||a>1)if(h>d){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(f<p){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}e.c=function(t,e,n,i){var o=[null,null],s=a.e.push(o)-1;return o.left=t,o.right=e,n&&r(o,t,e,n),i&&r(o,e,t,i),a.b[t.index].halfedges.push(s),a.b[e.index].halfedges.push(s),o},e.b=function(t,e,n){var r=[e,n];return r.left=t,r},e.d=r,e.a=function(t,e,n,r){for(var s,u=a.e.length;u--;)o(s=a.e[u],t,e,n,r)&&i(s,t,e,n,r)&&(Math.abs(s[0][0]-s[1][0])>a.f||Math.abs(s[0][1]-s[1][1])>a.f)||delete a.e[u]};var a=n(37)},function(t,e,n){"use strict";var r=n(105),i=n(106);e.a=function(t){var e=Object(r.a)(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===i.b&&e.documentElement.namespaceURI===i.b?e.createElement(t):e.createElementNS(n,t)}})(e)}},function(t,e,n){"use strict";var r=n(106);e.a=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.a.hasOwnProperty(e)?{space:r.a[e],local:t}:t}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});var r="http://www.w3.org/1999/xhtml";e.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(t,e,n){"use strict";var r=n(108);e.a=function(){for(var t,e=r.b;t=e.sourceEvent;)e=t;return e}},function(t,e,n){"use strict";function r(t,e,n){return t=i(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function i(t,e,n){return function(r){var i=u;u=r;try{t.call(this,this.__data__,e,n)}finally{u=i}}}function o(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function a(t,e,n){var o=s.hasOwnProperty(t.type)?r:i;return function(r,i,a){var s,u=this.__on,c=o(e,i,a);if(u)for(var l=0,h=u.length;l<h;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}n.d(e,"b",function(){return u});var s={},u=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(s={mouseenter:"mouseover",mouseleave:"mouseout"})),e.a=function(t,e,n){var r,i,s=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),u=s.length;if(!(arguments.length<2)){for(c=e?a:o,null==n&&(n=!1),r=0;r<u;++r)this.each(c(s[r],e,n));return this}var c=this.node().__on;if(c)for(var l,h=0,f=c.length;h<f;++h)for(r=0,l=c[h];r<u;++r)if((i=s[r]).type===l.type&&i.name===l.name)return l.value}},function(t,e,n){"use strict";e.a=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}},function(t,e,n){"use strict";function r(){}e.a=function(t){return null==t?r:function(){return this.querySelector(t)}}},function(t,e,n){"use strict";e.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(t,e,n){"use strict";var r=(n(113),n(581),n(216),n(582));n.d(e,"c",function(){return r.a});var i=(n(114),n(115),n(583));n.d(e,"d",function(){return i.a});var o=(n(611),n(10),n(119),n(217),n(220),n(612));n.d(e,"e",function(){return o.a});var a=(n(613),n(120),n(117));n.d(e,"b",function(){return a.c}),n.d(e,"a",function(){return a.a})},function(t,e,n){"use strict";var r=n(114),i=n(115);e.a=function(t){var e=Object(r.a)(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===i.b&&e.documentElement.namespaceURI===i.b?e.createElement(t):e.createElementNS(n,t)}})(e)}},function(t,e,n){"use strict";var r=n(115);e.a=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.a.hasOwnProperty(e)?{space:r.a[e],local:t}:t}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});var r="http://www.w3.org/1999/xhtml";e.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(t,e,n){"use strict";var r=n(117);e.a=function(){for(var t,e=r.c;t=e.sourceEvent;)e=t;return e}},function(t,e,n){"use strict";function r(t,e,n){return t=i(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function i(t,e,n){return function(r){var i=u;u=r;try{t.call(this,this.__data__,e,n)}finally{u=i}}}function o(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function a(t,e,n){var o=s.hasOwnProperty(t.type)?r:i;return function(r,i,a){var s,u=this.__on,c=o(e,i,a);if(u)for(var l=0,h=u.length;l<h;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}n.d(e,"c",function(){return u}),e.a=function(t,e,n,r){var i=u;t.sourceEvent=u,u=t;try{return e.apply(n,r)}finally{u=i}};var s={},u=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(s={mouseenter:"mouseover",mouseleave:"mouseout"})),e.b=function(t,e,n){var r,i,s=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),u=s.length;if(!(arguments.length<2)){for(c=e?a:o,null==n&&(n=!1),r=0;r<u;++r)this.each(c(s[r],e,n));return this}var c=this.node().__on;if(c)for(var l,h=0,f=c.length;h<f;++h)for(r=0,l=c[h];r<u;++r)if((i=s[r]).type===l.type&&i.name===l.name)return l.value}},function(t,e,n){"use strict";e.a=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}},function(t,e,n){"use strict";function r(){}e.a=function(t){return null==t?r:function(){return this.querySelector(t)}}},function(t,e,n){"use strict";e.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(t,e,n){"use strict";var r=n(8),i=n(25),o=n(57),a=n(224);e.a=function(){function t(t){var i,o,a,h=t.length,f=!1;for(null==u&&(l=c(a=Object(r.a)())),i=0;i<=h;++i)!(i<h&&s(o=t[i],i,t))===f&&((f=!f)?l.lineStart():l.lineEnd()),f&&l.point(+e(o,i,t),+n(o,i,t));if(a)return l=null,a+""||null}var e=a.a,n=a.b,s=Object(i.a)(!0),u=null,c=o.a,l=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:Object(i.a)(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:Object(i.a)(+e),t):n},t.defined=function(e){return arguments.length?(s="function"==typeof e?e:Object(i.a)(!!e),t):s},t.curve=function(e){return arguments.length?(c=e,null!=u&&(l=c(u)),t):c},t.context=function(e){return arguments.length?(null==e?u=l=null:l=c(u=e),t):u},t}},function(t,e,n){"use strict";function r(t,e,n){var r=t._x1,i=t._y1,a=t._x2,s=t._y2;if(t._l01_a>o.a){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>o.a){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*l+t._x1*t._l23_2a-e*t._l12_2a)/h,s=(s*l+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(r,i,a,s,t._x2,t._y2)}function i(t,e){this._context=t,this._alpha=e}e.b=r;var o=n(39),a=n(60);i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:r(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.a=function t(e){function n(t){return e?new i(t,e):new a.a(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},function(t,e,n){"use strict";function r(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}e.b=r;var i=n(41);e.a=function(t){var e=t.map(r);return Object(i.a)(t).sort(function(t,n){return e[t]-e[n]})}},function(t,e,n){"use strict";var r=n(3),i=n(236),o=n(239),a=n(240),s=n(61),u=n(241),c=n(242),l=n(238);e.a=function(t,e){var n,h=typeof e;return null==e||"boolean"===h?Object(l.a)(e):("number"===h?s.a:"string"===h?(n=Object(r.a)(e))?(e=n,i.a):c.a:e instanceof r.a?i.a:e instanceof Date?a.a:Array.isArray(e)?o.a:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?u.a:s.a)(t,e)}},function(t,e,n){"use strict";function r(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}e.a=r,e.b=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],a=t[i+1],s=i>0?t[i-1]:2*o-a,u=i<e-1?t[i+2]:2*a-o;return r((n-i/e)*e,s,o,a,u)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(250);n.d(e,"version",function(){return r.a});var i=n(2);n.d(e,"bisect",function(){return i.b}),n.d(e,"bisectRight",function(){return i.d}),n.d(e,"bisectLeft",function(){return i.c}),n.d(e,"ascending",function(){return i.a}),n.d(e,"bisector",function(){return i.e}),n.d(e,"cross",function(){return i.f}),n.d(e,"descending",function(){return i.g}),n.d(e,"deviation",function(){return i.h}),n.d(e,"extent",function(){return i.i}),n.d(e,"histogram",function(){return i.j}),n.d(e,"thresholdFreedmanDiaconis",function(){return i.w}),n.d(e,"thresholdScott",function(){return i.x}),n.d(e,"thresholdSturges",function(){return i.y}),n.d(e,"max",function(){return i.k}),n.d(e,"mean",function(){return i.l}),n.d(e,"median",function(){return i.m}),n.d(e,"merge",function(){return i.n}),n.d(e,"min",function(){return i.o}),n.d(e,"pairs",function(){return i.p}),n.d(e,"permute",function(){return i.q}),n.d(e,"quantile",function(){return i.r}),n.d(e,"range",function(){return i.s}),n.d(e,"scan",function(){return i.t}),n.d(e,"shuffle",function(){return i.u}),n.d(e,"sum",function(){return i.v}),n.d(e,"ticks",function(){return i.B}),n.d(e,"tickIncrement",function(){return i.z}),n.d(e,"tickStep",function(){return i.A}),n.d(e,"transpose",function(){return i.C}),n.d(e,"variance",function(){return i.D}),n.d(e,"zip",function(){return i.E});var o=n(267);n.d(e,"axisTop",function(){return o.d}),n.d(e,"axisRight",function(){return o.c}),n.d(e,"axisBottom",function(){return o.a}),n.d(e,"axisLeft",function(){return o.b});var a=n(271);n.d(e,"brush",function(){return a.a}),n.d(e,"brushX",function(){return a.c}),n.d(e,"brushY",function(){return a.d}),n.d(e,"brushSelection",function(){return a.b});var s=n(357);n.d(e,"chord",function(){return s.a}),n.d(e,"ribbon",function(){return s.b});var u=n(21);n.d(e,"nest",function(){return u.d}),n.d(e,"set",function(){return u.e}),n.d(e,"map",function(){return u.c}),n.d(e,"keys",function(){return u.b}),n.d(e,"values",function(){return u.f}),n.d(e,"entries",function(){return u.a});var c=n(3);n.d(e,"color",function(){return c.a}),n.d(e,"rgb",function(){return c.f}),n.d(e,"hsl",function(){return c.d}),n.d(e,"lab",function(){return c.e}),n.d(e,"hcl",function(){return c.c}),n.d(e,"cubehelix",function(){return c.b});var l=n(15);n.d(e,"dispatch",function(){return l.a});var h=n(63);n.d(e,"drag",function(){return h.a}),n.d(e,"dragDisable",function(){return h.b}),n.d(e,"dragEnable",function(){return h.c});var f=n(79);n.d(e,"dsvFormat",function(){return f.e}),n.d(e,"csvParse",function(){return f.c}),n.d(e,"csvParseRows",function(){return f.d}),n.d(e,"csvFormat",function(){return f.a}),n.d(e,"csvFormatRows",function(){return f.b}),n.d(e,"tsvParse",function(){return f.h}),n.d(e,"tsvParseRows",function(){return f.i}),n.d(e,"tsvFormat",function(){return f.f}),n.d(e,"tsvFormatRows",function(){return f.g});var d=n(156);n.d(e,"easeLinear",function(){return d.y}),n.d(e,"easeQuad",function(){return d.D}),n.d(e,"easeQuadIn",function(){return d.E}),n.d(e,"easeQuadOut",function(){return d.G}),n.d(e,"easeQuadInOut",function(){return d.F}),n.d(e,"easeCubic",function(){return d.m}),n.d(e,"easeCubicIn",function(){return d.n}),n.d(e,"easeCubicOut",function(){return d.p}),n.d(e,"easeCubicInOut",function(){return d.o}),n.d(e,"easePoly",function(){return d.z}),n.d(e,"easePolyIn",function(){return d.A}),n.d(e,"easePolyOut",function(){return d.C}),n.d(e,"easePolyInOut",function(){return d.B}),n.d(e,"easeSin",function(){return d.H}),n.d(e,"easeSinIn",function(){return d.I}),n.d(e,"easeSinOut",function(){return d.K}),n.d(e,"easeSinInOut",function(){return d.J}),n.d(e,"easeExp",function(){return d.u}),n.d(e,"easeExpIn",function(){return d.v}),n.d(e,"easeExpOut",function(){return d.x}),n.d(e,"easeExpInOut",function(){return d.w}),n.d(e,"easeCircle",function(){return d.i}),n.d(e,"easeCircleIn",function(){return d.j}),n.d(e,"easeCircleOut",function(){return d.l}),n.d(e,"easeCircleInOut",function(){return d.k}),n.d(e,"easeBounce",function(){return d.e}),n.d(e,"easeBounceIn",function(){return d.f}),n.d(e,"easeBounceOut",function(){return d.h}),n.d(e,"easeBounceInOut",function(){return d.g}),n.d(e,"easeBack",function(){return d.a}),n.d(e,"easeBackIn",function(){return d.b}),n.d(e,"easeBackOut",function(){return d.d}),n.d(e,"easeBackInOut",function(){return d.c}),n.d(e,"easeElastic",function(){return d.q}),n.d(e,"easeElasticIn",function(){return d.r}),n.d(e,"easeElasticOut",function(){return d.t}),n.d(e,"easeElasticInOut",function(){return d.s});var p=n(370);n.d(e,"forceCenter",function(){return p.a}),n.d(e,"forceCollide",function(){return p.b}),n.d(e,"forceLink",function(){return p.c}),n.d(e,"forceManyBody",function(){return p.d}),n.d(e,"forceRadial",function(){return p.e}),n.d(e,"forceSimulation",function(){return p.f}),n.d(e,"forceX",function(){return p.g}),n.d(e,"forceY",function(){return p.h});var v=n(84);n.d(e,"formatDefaultLocale",function(){return v.b}),n.d(e,"format",function(){return v.a}),n.d(e,"formatPrefix",function(){return v.d}),n.d(e,"formatLocale",function(){return v.c}),n.d(e,"formatSpecifier",function(){return v.e}),n.d(e,"precisionFixed",function(){return v.f}),n.d(e,"precisionPrefix",function(){return v.g}),n.d(e,"precisionRound",function(){return v.h});var g=n(400);n.d(e,"geoArea",function(){return g.c}),n.d(e,"geoBounds",function(){return g.h}),n.d(e,"geoCentroid",function(){return g.i}),n.d(e,"geoCircle",function(){return g.j}),n.d(e,"geoClipAntimeridian",function(){return g.k}),n.d(e,"geoClipCircle",function(){return g.l}),n.d(e,"geoClipExtent",function(){return g.m}),n.d(e,"geoClipRectangle",function(){return g.n}),n.d(e,"geoContains",function(){return g.u}),n.d(e,"geoDistance",function(){return g.v}),n.d(e,"geoGraticule",function(){return g.A}),n.d(e,"geoGraticule10",function(){return g.B}),n.d(e,"geoInterpolate",function(){return g.D}),n.d(e,"geoLength",function(){return g.E}),n.d(e,"geoPath",function(){return g.L}),n.d(e,"geoAlbers",function(){return g.a}),n.d(e,"geoAlbersUsa",function(){return g.b}),n.d(e,"geoAzimuthalEqualArea",function(){return g.d}),n.d(e,"geoAzimuthalEqualAreaRaw",function(){return g.e}),n.d(e,"geoAzimuthalEquidistant",function(){return g.f}),n.d(e,"geoAzimuthalEquidistantRaw",function(){return g.g}),n.d(e,"geoConicConformal",function(){return g.o}),n.d(e,"geoConicConformalRaw",function(){return g.p}),n.d(e,"geoConicEqualArea",function(){return g.q}),n.d(e,"geoConicEqualAreaRaw",function(){return g.r}),n.d(e,"geoConicEquidistant",function(){return g.s}),n.d(e,"geoConicEquidistantRaw",function(){return g.t}),n.d(e,"geoEquirectangular",function(){return g.w}),n.d(e,"geoEquirectangularRaw",function(){return g.x}),n.d(e,"geoGnomonic",function(){return g.y}),n.d(e,"geoGnomonicRaw",function(){return g.z}),n.d(e,"geoIdentity",function(){return g.C}),n.d(e,"geoProjection",function(){return g.M}),n.d(e,"geoProjectionMutator",function(){return g.N}),n.d(e,"geoMercator",function(){return g.F}),n.d(e,"geoMercatorRaw",function(){return g.G}),n.d(e,"geoNaturalEarth1",function(){return g.H}),n.d(e,"geoNaturalEarth1Raw",function(){return g.I}),n.d(e,"geoOrthographic",function(){return g.J}),n.d(e,"geoOrthographicRaw",function(){return g.K}),n.d(e,"geoStereographic",function(){return g.P}),n.d(e,"geoStereographicRaw",function(){return g.Q}),n.d(e,"geoTransverseMercator",function(){return g.T}),n.d(e,"geoTransverseMercatorRaw",function(){return g.U}),n.d(e,"geoRotation",function(){return g.O}),n.d(e,"geoStream",function(){return g.R}),n.d(e,"geoTransform",function(){return g.S});var m=n(428);n.d(e,"cluster",function(){return m.a}),n.d(e,"hierarchy",function(){return m.b}),n.d(e,"pack",function(){return m.c}),n.d(e,"packSiblings",function(){return m.e}),n.d(e,"packEnclose",function(){return m.d}),n.d(e,"partition",function(){return m.f}),n.d(e,"stratify",function(){return m.g}),n.d(e,"tree",function(){return m.h}),n.d(e,"treemap",function(){return m.i}),n.d(e,"treemapBinary",function(){return m.j}),n.d(e,"treemapDice",function(){return m.k}),n.d(e,"treemapSlice",function(){return m.m}),n.d(e,"treemapSliceDice",function(){return m.n}),n.d(e,"treemapSquarify",function(){return m.o}),n.d(e,"treemapResquarify",function(){return m.l});var y=n(6);n.d(e,"interpolate",function(){return y.a}),n.d(e,"interpolateArray",function(){return y.b}),n.d(e,"interpolateBasis",function(){return y.c}),n.d(e,"interpolateBasisClosed",function(){return y.d}),n.d(e,"interpolateDate",function(){return y.g}),n.d(e,"interpolateNumber",function(){return y.m}),n.d(e,"interpolateObject",function(){return y.n}),n.d(e,"interpolateRound",function(){return y.r}),n.d(e,"interpolateString",function(){return y.s}),n.d(e,"interpolateTransformCss",function(){return y.t}),n.d(e,"interpolateTransformSvg",function(){return y.u}),n.d(e,"interpolateZoom",function(){return y.v}),n.d(e,"interpolateRgb",function(){return y.o}),n.d(e,"interpolateRgbBasis",function(){return y.p}),n.d(e,"interpolateRgbBasisClosed",function(){return y.q}),n.d(e,"interpolateHsl",function(){return y.j}),n.d(e,"interpolateHslLong",function(){return y.k}),n.d(e,"interpolateLab",function(){return y.l}),n.d(e,"interpolateHcl",function(){return y.h}),n.d(e,"interpolateHclLong",function(){return y.i}),n.d(e,"interpolateCubehelix",function(){return y.e}),n.d(e,"interpolateCubehelixLong",function(){return y.f}),n.d(e,"quantize",function(){return y.w});var b=n(8);n.d(e,"path",function(){return b.a});var _=n(450);n.d(e,"polygonArea",function(){return _.a}),n.d(e,"polygonCentroid",function(){return _.b}),n.d(e,"polygonHull",function(){return _.d}),n.d(e,"polygonContains",function(){return _.c}),n.d(e,"polygonLength",function(){return _.e});var w=n(82);n.d(e,"quadtree",function(){return w.a});var x=n(457);n.d(e,"queue",function(){return x.a});var E=n(460);n.d(e,"randomUniform",function(){return E.f}),n.d(e,"randomNormal",function(){return E.e}),n.d(e,"randomLogNormal",function(){return E.d}),n.d(e,"randomBates",function(){return E.a}),n.d(e,"randomIrwinHall",function(){return E.c}),n.d(e,"randomExponential",function(){return E.b});var C=n(465);n.d(e,"request",function(){return C.d}),n.d(e,"html",function(){return C.b}),n.d(e,"json",function(){return C.c}),n.d(e,"text",function(){return C.e}),n.d(e,"xml",function(){return C.g}),n.d(e,"csv",function(){return C.a}),n.d(e,"tsv",function(){return C.f});var k=n(472);n.d(e,"scaleBand",function(){return k.i}),n.d(e,"scalePoint",function(){return k.o}),n.d(e,"scaleIdentity",function(){return k.j}),n.d(e,"scaleLinear",function(){return k.l}),n.d(e,"scaleLog",function(){return k.m}),n.d(e,"scaleOrdinal",function(){return k.n}),n.d(e,"scaleImplicit",function(){return k.k}),n.d(e,"scalePow",function(){return k.p}),n.d(e,"scaleSqrt",function(){return k.t}),n.d(e,"scaleQuantile",function(){return k.q}),n.d(e,"scaleQuantize",function(){return k.r}),n.d(e,"scaleThreshold",function(){return k.u}),n.d(e,"scaleTime",function(){return k.v}),n.d(e,"scaleUtc",function(){return k.w}),n.d(e,"schemeCategory10",function(){return k.x}),n.d(e,"schemeCategory20b",function(){return k.z}),n.d(e,"schemeCategory20c",function(){return k.A}),n.d(e,"schemeCategory20",function(){return k.y}),n.d(e,"interpolateCubehelixDefault",function(){return k.b}),n.d(e,"interpolateRainbow",function(){return k.f}),n.d(e,"interpolateWarm",function(){return k.h}),n.d(e,"interpolateCool",function(){return k.a}),n.d(e,"interpolateViridis",function(){return k.g}),n.d(e,"interpolateMagma",function(){return k.d}),n.d(e,"interpolateInferno",function(){return k.c}),n.d(e,"interpolatePlasma",function(){return k.e}),n.d(e,"scaleSequential",function(){return k.s});var T=n(1);n.d(e,"creator",function(){return T.a}),n.d(e,"local",function(){return T.d}),n.d(e,"matcher",function(){return T.e}),n.d(e,"mouse",function(){return T.f}),n.d(e,"namespace",function(){return T.g}),n.d(e,"namespaces",function(){return T.h}),n.d(e,"select",function(){return T.i}),n.d(e,"selectAll",function(){return T.j}),n.d(e,"selection",function(){return T.k}),n.d(e,"selector",function(){return T.l}),n.d(e,"selectorAll",function(){return T.m}),n.d(e,"style",function(){return T.n}),n.d(e,"touch",function(){return T.o}),n.d(e,"touches",function(){return T.p}),n.d(e,"window",function(){return T.q}),n.d(e,"event",function(){return T.c}),n.d(e,"customEvent",function(){return T.b});var S=n(192);n.d(e,"arc",function(){return S.a}),n.d(e,"area",function(){return S.b}),n.d(e,"line",function(){return S.v}),n.d(e,"pie",function(){return S.A}),n.d(e,"areaRadial",function(){return S.c}),n.d(e,"radialArea",function(){return S.C}),n.d(e,"lineRadial",function(){return S.w}),n.d(e,"radialLine",function(){return S.D}),n.d(e,"pointRadial",function(){return S.B}),n.d(e,"linkHorizontal",function(){return S.x}),n.d(e,"linkVertical",function(){return S.z}),n.d(e,"linkRadial",function(){return S.y}),n.d(e,"symbol",function(){return S.P}),n.d(e,"symbols",function(){return S.X}),n.d(e,"symbolCircle",function(){return S.Q}),n.d(e,"symbolCross",function(){return S.R}),n.d(e,"symbolDiamond",function(){return S.S}),n.d(e,"symbolSquare",function(){return S.T}),n.d(e,"symbolStar",function(){return S.U}),n.d(e,"symbolTriangle",function(){return S.V}),n.d(e,"symbolWye",function(){return S.W}),n.d(e,"curveBasisClosed",function(){return S.e}),n.d(e,"curveBasisOpen",function(){return S.f}),n.d(e,"curveBasis",function(){return S.d}),n.d(e,"curveBundle",function(){return S.g}),n.d(e,"curveCardinalClosed",function(){return S.i}),n.d(e,"curveCardinalOpen",function(){return S.j}),n.d(e,"curveCardinal",function(){return S.h}),n.d(e,"curveCatmullRomClosed",function(){return S.l}),n.d(e,"curveCatmullRomOpen",function(){return S.m}),n.d(e,"curveCatmullRom",function(){return S.k}),n.d(e,"curveLinearClosed",function(){return S.o}),n.d(e,"curveLinear",function(){return S.n}),n.d(e,"curveMonotoneX",function(){return S.p}),n.d(e,"curveMonotoneY",function(){return S.q}),n.d(e,"curveNatural",function(){return S.r}),n.d(e,"curveStep",function(){return S.s}),n.d(e,"curveStepAfter",function(){return S.t}),n.d(e,"curveStepBefore",function(){return S.u}),n.d(e,"stack",function(){return S.E}),n.d(e,"stackOffsetExpand",function(){return S.G}),n.d(e,"stackOffsetDiverging",function(){return S.F}),n.d(e,"stackOffsetNone",function(){return S.H}),n.d(e,"stackOffsetSilhouette",function(){return S.I}),n.d(e,"stackOffsetWiggle",function(){return S.J}),n.d(e,"stackOrderAscending",function(){return S.K}),n.d(e,"stackOrderDescending",function(){return S.L}),n.d(e,"stackOrderInsideOut",function(){return S.M}),n.d(e,"stackOrderNone",function(){return S.N}),n.d(e,"stackOrderReverse",function(){return S.O});var O=n(32);n.d(e,"timeInterval",function(){return O.g}),n.d(e,"timeMillisecond",function(){return O.h}),n.d(e,"timeMilliseconds",function(){return O.i}),n.d(e,"utcMillisecond",function(){return O.L}),n.d(e,"utcMilliseconds",function(){return O.M}),n.d(e,"timeSecond",function(){return O.r}),n.d(e,"timeSeconds",function(){return O.s}),n.d(e,"utcSecond",function(){return O.V}),n.d(e,"utcSeconds",function(){return O.W}),n.d(e,"timeMinute",function(){return O.j}),n.d(e,"timeMinutes",function(){return O.k}),n.d(e,"timeHour",function(){return O.e}),n.d(e,"timeHours",function(){return O.f}),n.d(e,"timeDay",function(){return O.a}),n.d(e,"timeDays",function(){return O.b}),n.d(e,"timeWeek",function(){return O.B}),n.d(e,"timeWeeks",function(){return O.C}),n.d(e,"timeSunday",function(){return O.t}),n.d(e,"timeSundays",function(){return O.u}),n.d(e,"timeMonday",function(){return O.l}),n.d(e,"timeMondays",function(){return O.m}),n.d(e,"timeTuesday",function(){return O.x}),n.d(e,"timeTuesdays",function(){return O.y}),n.d(e,"timeWednesday",function(){return O.z}),n.d(e,"timeWednesdays",function(){return O.A}),n.d(e,"timeThursday",function(){return O.v}),n.d(e,"timeThursdays",function(){return O.w}),n.d(e,"timeFriday",function(){return O.c}),n.d(e,"timeFridays",function(){return O.d}),n.d(e,"timeSaturday",function(){return O.p}),n.d(e,"timeSaturdays",function(){return O.q}),n.d(e,"timeMonth",function(){return O.n}),n.d(e,"timeMonths",function(){return O.o}),n.d(e,"timeYear",function(){return O.D}),n.d(e,"timeYears",function(){return O.E}),n.d(e,"utcMinute",function(){return O.N}),n.d(e,"utcMinutes",function(){return O.O}),n.d(e,"utcHour",function(){return O.J}),n.d(e,"utcHours",function(){return O.K}),n.d(e,"utcDay",function(){return O.F}),n.d(e,"utcDays",function(){return O.G}),n.d(e,"utcWeek",function(){return O._5}),n.d(e,"utcWeeks",function(){return O._6}),n.d(e,"utcSunday",function(){return O.X}),n.d(e,"utcSundays",function(){return O.Y}),n.d(e,"utcMonday",function(){return O.P}),n.d(e,"utcMondays",function(){return O.Q}),n.d(e,"utcTuesday",function(){return O._1}),n.d(e,"utcTuesdays",function(){return O._2}),n.d(e,"utcWednesday",function(){return O._3}),n.d(e,"utcWednesdays",function(){return O._4}),n.d(e,"utcThursday",function(){return O.Z}),n.d(e,"utcThursdays",function(){return O._0}),n.d(e,"utcFriday",function(){return O.H}),n.d(e,"utcFridays",function(){return O.I}),n.d(e,"utcSaturday",function(){return O.T}),n.d(e,"utcSaturdays",function(){return O.U}),n.d(e,"utcMonth",function(){return O.R}),n.d(e,"utcMonths",function(){return O.S}),n.d(e,"utcYear",function(){return O._7}),n.d(e,"utcYears",function(){return O._8});var M=n(529);n.d(e,"timeFormatDefaultLocale",function(){return M.d}),n.d(e,"timeFormat",function(){return M.c}),n.d(e,"timeParse",function(){return M.f}),n.d(e,"utcFormat",function(){return M.g}),n.d(e,"utcParse",function(){return M.h}),n.d(e,"timeFormatLocale",function(){return M.e}),n.d(e,"isoFormat",function(){return M.a}),n.d(e,"isoParse",function(){return M.b});var A=n(44);n.d(e,"now",function(){return A.b}),n.d(e,"timer",function(){return A.d}),n.d(e,"timerFlush",function(){return A.e}),n.d(e,"timeout",function(){return A.c}),n.d(e,"interval",function(){return A.a});var P=n(76);n.d(e,"transition",function(){return P.c}),n.d(e,"active",function(){return P.a}),n.d(e,"interrupt",function(){return P.b});var I=n(531);n.d(e,"voronoi",function(){return I.a});var N=n(536);n.d(e,"zoom",function(){return N.a}),n.d(e,"zoomTransform",function(){return N.c}),n.d(e,"zoomIdentity",function(){return N.b})},function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s});var r=n(20),i=n(128),o=Object(i.a)(r.a),a=o.right,s=o.left;e.c=a},function(t,e,n){"use strict";var r=n(20);e.a=function(t){return 1===t.length&&(t=function(t){return function(e,n){return Object(r.a)(t(e),n)}}(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}},function(t,e,n){"use strict";function r(t,e){return[t,e]}e.b=r,e.a=function(t,e){null==e&&(e=r);for(var n=0,i=t.length-1,o=t[0],a=new Array(i<0?0:i);n<i;)a[n]=e(o,o=t[++n]);return a}},function(t,e,n){"use strict";var r=n(131);e.a=function(t,e){var n=Object(r.a)(t,e);return n?Math.sqrt(n):n}},function(t,e,n){"use strict";var r=n(26);e.a=function(t,e){var n,i,o=t.length,a=0,s=-1,u=0,c=0;if(null==e)for(;++s<o;)isNaN(n=Object(r.a)(t[s]))||(c+=(i=n-u)*(n-(u+=i/++a)));else for(;++s<o;)isNaN(n=Object(r.a)(e(t[s],s,t)))||(c+=(i=n-u)*(n-(u+=i/++a)));if(a>1)return c/(a-1)}},function(t,e,n){"use strict";e.a=function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=Array.prototype,i=r.slice,o=r.map},function(t,e,n){"use strict";e.a=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}},function(t,e,n){"use strict";function r(t,e,n){var r=(e-t)/Math.max(0,n),s=Math.floor(Math.log(r)/Math.LN10),u=r/Math.pow(10,s);return s>=0?(u>=i?10:u>=o?5:u>=a?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(u>=i?10:u>=o?5:u>=a?2:1)}e.b=r,e.c=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),u=r/s;return u>=i?s*=10:u>=o?s*=5:u>=a&&(s*=2),e<t?-s:s};var i=Math.sqrt(50),o=Math.sqrt(10),a=Math.sqrt(2);e.a=function(t,e,n){var i,o,a,s,u=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((i=e<t)&&(o=t,t=e,e=o),0===(s=r(t,e,n))||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),a=new Array(o=Math.ceil(e-t+1));++u<o;)a[u]=(t+u)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),a=new Array(o=Math.ceil(t-e+1));++u<o;)a[u]=(t-u)/s;return i&&a.reverse(),a}},function(t,e,n){"use strict";e.a=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}},function(t,e,n){"use strict";e.a=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r}},function(t,e,n){"use strict";function r(t){return t.length}var i=n(137);e.a=function(t){if(!(a=t.length))return[];for(var e=-1,n=Object(i.a)(t,r),o=new Array(n);++e<n;)for(var a,s=-1,u=o[e]=new Array(a);++s<a;)u[s]=t[s][e];return o}},function(t,e,n){"use strict";var r=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var i=document.documentElement;if(!i.matches){var o=i.webkitMatchesSelector||i.msMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector;r=function(t){return function(){return o.call(this,t)}}}}e.a=r},function(t,e,n){"use strict";function r(){return[]}e.a=function(t){return null==t?r:function(){return this.querySelectorAll(t)}}},function(t,e,n){"use strict";function r(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}e.a=r;var i=n(142),o=n(5);e.b=function(){return new o.a(this._enter||this._groups.map(i.a),this._parents)},r.prototype={constructor:r,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},function(t,e,n){"use strict";e.a=function(t){return new Array(t.length)}},function(t,e,n){"use strict";function r(t,e){return t.style.getPropertyValue(e)||Object(i.a)(t).getComputedStyle(t,null).getPropertyValue(e)}e.b=r;var i=n(71);e.a=function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):r(this.node(),t)}},function(t,e,n){"use strict";e.b=function(t,e){var n=t.document.documentElement,o=Object(r.i)(t).on("dragstart.drag",null);e&&(o.on("click.drag",i.a,!0),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)};var r=n(1),i=n(145);e.a=function(t){var e=t.document.documentElement,n=Object(r.i)(t).on("dragstart.drag",i.a,!0);"onselectstart"in e?n.on("selectstart.drag",i.a,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}},function(t,e,n){"use strict";e.b=function(){r.c.stopImmediatePropagation()};var r=n(1);e.a=function(){r.c.preventDefault(),r.c.stopImmediatePropagation()}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=Math.PI/180,i=180/Math.PI},function(t,e,n){"use strict";function r(t){return function(e){var n,r,o=e.length,a=new Array(o),s=new Array(o),u=new Array(o);for(n=0;n<o;++n)r=Object(i.f)(e[n]),a[n]=r.r||0,s[n]=r.g||0,u[n]=r.b||0;return a=t(a),s=t(s),u=t(u),r.opacity=1,function(t){return r.r=a(t),r.g=s(t),r.b=u(t),r+""}}}n.d(e,"b",function(){return u}),n.d(e,"c",function(){return c});var i=n(3),o=n(75),a=n(148),s=n(27);e.a=function t(e){function n(t,e){var n=r((t=Object(i.f)(t)).r,(e=Object(i.f)(e)).r),o=r(t.g,e.g),a=r(t.b,e.b),u=Object(s.a)(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=o(e),t.b=a(e),t.opacity=u(e),t+""}}var r=Object(s.b)(e);return n.gamma=t,n}(1);var u=r(o.b),c=r(a.a)},function(t,e,n){"use strict";var r=n(75);e.a=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),o=t[(i+e-1)%e],a=t[i%e],s=t[(i+1)%e],u=t[(i+2)%e];return Object(r.a)((n-i/e)*e,o,a,s,u)}}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(72);e.a=function(t,e){var n,i=e?e.length:0,o=t?Math.min(i,t.length):0,a=new Array(i),s=new Array(i);for(n=0;n<o;++n)a[n]=Object(r.a)(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<o;++n)s[n]=a[n](t);return s}}},function(t,e,n){"use strict";e.a=function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}},function(t,e,n){"use strict";var r=n(72);e.a=function(t,e){var n,i={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Object(r.a)(t[n],e[n]):o[n]=e[n];return function(t){for(n in i)o[n]=i[n](t);return o}}},function(t,e,n){"use strict";var r=n(43),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o=new RegExp(i.source,"g");e.a=function(t,e){var n,a,s,u=i.lastIndex=o.lastIndex=0,c=-1,l=[],h=[];for(t+="",e+="";(n=i.exec(t))&&(a=o.exec(e));)(s=a.index)>u&&(s=e.slice(u,s),l[c]?l[c]+=s:l[++c]=s),(n=n[0])===(a=a[0])?l[c]?l[c]+=a:l[++c]=a:(l[++c]=null,h.push({i:c,x:Object(r.a)(n,a)})),u=o.lastIndex;return u<e.length&&(s=e.slice(u),l[c]?l[c]+=s:l[++c]=s),l.length<2?h[0]?function(t){return function(e){return t(e)+""}}(h[0].x):function(t){return function(){return t}}(e):(e=h.length,function(t){for(var n,r=0;r<e;++r)l[(n=h[r]).i]=n.x(t);return l.join("")})}},function(t,e,n){"use strict";var r=n(7);e.a=function(t,e){var n,i,o,a=t.__transition,s=!0;if(a){for(o in e=null==e?null:e+"",a)(n=a[o]).name===e?(i=n.state>r.d&&n.state<r.b,n.state=r.a,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete a[o]):s=!1;s&&delete t.__transition}}},function(t,e,n){"use strict";var r=n(3),i=n(6);e.a=function(t,e){var n;return("number"==typeof e?i.m:e instanceof r.a?i.o:(n=Object(r.a)(e))?(e=n,i.o):i.s)(t,e)}},function(t,e,n){"use strict";var r=n(343);n.d(e,"y",function(){return r.a});var i=n(344);n.d(e,"D",function(){return i.b}),n.d(e,"E",function(){return i.a}),n.d(e,"G",function(){return i.c}),n.d(e,"F",function(){return i.b});var o=n(345);n.d(e,"m",function(){return o.b}),n.d(e,"n",function(){return o.a}),n.d(e,"p",function(){return o.c}),n.d(e,"o",function(){return o.b});var a=n(346);n.d(e,"z",function(){return a.b}),n.d(e,"A",function(){return a.a}),n.d(e,"C",function(){return a.c}),n.d(e,"B",function(){return a.b});var s=n(347);n.d(e,"H",function(){return s.b}),n.d(e,"I",function(){return s.a}),n.d(e,"K",function(){return s.c}),n.d(e,"J",function(){return s.b});var u=n(348);n.d(e,"u",function(){return u.b}),n.d(e,"v",function(){return u.a}),n.d(e,"x",function(){return u.c}),n.d(e,"w",function(){return u.b});var c=n(349);n.d(e,"i",function(){return c.b}),n.d(e,"j",function(){return c.a}),n.d(e,"l",function(){return c.c}),n.d(e,"k",function(){return c.b});var l=n(350);n.d(e,"e",function(){return l.c}),n.d(e,"f",function(){return l.a}),n.d(e,"h",function(){return l.c}),n.d(e,"g",function(){return l.b});var h=n(351);n.d(e,"a",function(){return h.b}),n.d(e,"b",function(){return h.a}),n.d(e,"d",function(){return h.c}),n.d(e,"c",function(){return h.b});var f=n(352);n.d(e,"q",function(){return f.c}),n.d(e,"r",function(){return f.a}),n.d(e,"t",function(){return f.c}),n.d(e,"s",function(){return f.b})},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"d",function(){return i}),n.d(e,"b",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"c",function(){return u});var r=Math.cos,i=Math.sin,o=Math.PI,a=o/2,s=2*o,u=Math.max},function(t,e,n){"use strict";e.b=function(t){return t.x},e.c=function(t){return t.y};var r=n(15),i=n(21),o=n(44),a=Math.PI*(3-Math.sqrt(5));e.a=function(t){function e(){n(),m.call("tick",c),l<h&&(g.stop(),m.call("end",c))}function n(){var e,n,r=t.length;for(l+=(d-l)*f,v.each(function(t){t(l)}),e=0;e<r;++e)null==(n=t[e]).fx?n.x+=n.vx*=p:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=p:(n.y=n.fy,n.vy=0)}function s(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(n),o=n*a;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function u(e){return e.initialize&&e.initialize(t),e}var c,l=1,h=.001,f=1-Math.pow(h,1/300),d=0,p=.6,v=Object(i.c)(),g=Object(o.d)(e),m=Object(r.a)("tick","end");return null==t&&(t=[]),s(),c={tick:n,restart:function(){return g.restart(e),c},stop:function(){return g.stop(),c},nodes:function(e){return arguments.length?(t=e,s(),v.each(u),c):t},alpha:function(t){return arguments.length?(l=+t,c):l},alphaMin:function(t){return arguments.length?(h=+t,c):h},alphaDecay:function(t){return arguments.length?(f=+t,c):+f},alphaTarget:function(t){return arguments.length?(d=+t,c):d},velocityDecay:function(t){return arguments.length?(p=1-t,c):1-p},force:function(t,e){return arguments.length>1?(null==e?v.remove(t):v.set(t,u(e)),c):v.get(t)},find:function(e,n,r){var i,o,a,s,u,c=0,l=t.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(a=(i=e-(s=t[c]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(t,e){return arguments.length>1?(m.on(t,e),c):m.on(t)}}}},function(t,e,n){"use strict";var r=n(46),i=n(392),o=n(393),a=n(160),s=n(161),u=n(162),c=n(396),l=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];e.a=function(t){function e(t){function e(t){var e,a,s,c=_,h=w;if("c"===b)h=x(t)+h,t="";else{var p=(t=+t)<0;if(t=x(Math.abs(t),y),p&&0==+t&&(p=!1),c=(p?"("===o?o:"-":"-"===o||"("===o?"":o)+c,h=h+("s"===b?l[8+u.b/3]:"")+(p&&"("===o?")":""),E)for(e=-1,a=t.length;++e<a;)if(48>(s=t.charCodeAt(e))||s>57){h=(46===s?f+t.slice(e+1):t.slice(e))+h,t=t.slice(0,e);break}}m&&!v&&(t=n(t,1/0));var C=c.length+t.length+h.length,k=C<g?new Array(g-C+1).join(r):"";switch(m&&v&&(t=n(k+t,k.length?g-h.length:1/0),k=""),i){case"<":t=c+t+h+k;break;case"=":t=c+k+t+h;break;case"^":t=k.slice(0,C=k.length>>1)+c+t+h+k.slice(C);break;default:t=k+c+t+h}return d(t)}var r=(t=Object(a.a)(t)).fill,i=t.align,o=t.sign,c=t.symbol,v=t.zero,g=t.width,m=t.comma,y=t.precision,b=t.type,_="$"===c?h[0]:"#"===c&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",w="$"===c?h[1]:/[%p]/.test(b)?p:"",x=s.a[b],E=!b||/[defgprs%]/.test(b);return y=null==y?b?6:12:/[gprs]/.test(b)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),e.toString=function(){return t+""},e}var n=t.grouping&&t.thousands?Object(i.a)(t.grouping,t.thousands):c.a,h=t.currency,f=t.decimal,d=t.numerals?Object(o.a)(t.numerals):c.a,p=t.percent||"%";return{format:e,formatPrefix:function(t,n){var i=e(((t=Object(a.a)(t)).type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(Object(r.a)(n)/3))),s=Math.pow(10,-o),u=l[8+o/3];return function(t){return i(s*t)+u}}}}},function(t,e,n){"use strict";function r(t){return new i(t)}function i(t){if(!(e=a.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",s=e[4]||"",u=!!e[5],c=e[6]&&+e[6],l=!!e[7],h=e[8]&&+e[8].slice(1),f=e[9]||"";"n"===f?(l=!0,f="g"):o.a[f]||(f=""),(u||"0"===n&&"="===r)&&(u=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=s,this.zero=u,this.width=c,this.comma=l,this.precision=h,this.type=f}e.a=r;var o=n(161),a=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;r.prototype=i.prototype,i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type}},function(t,e,n){"use strict";var r=n(394),i=n(162),o=n(395);e.a={"":r.a,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Object(o.a)(100*t,e)},r:o.a,s:i.a,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});var r,i=n(85);e.a=function(t,e){var n=Object(i.a)(t,e);if(!n)return t+"";var o=n[0],a=n[1],s=a-(r=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,u=o.length;return s===u?o:s>u?o+new Array(s-u+1).join("0"):s>0?o.slice(0,s)+"."+o.slice(s):"0."+new Array(1-s).join("0")+Object(i.a)(t,Math.max(0,e+s-1))[0]}},function(t,e,n){"use strict";function r(){y.point=o}function i(){a(s,u)}function o(t,e){y.point=a,s=t,u=e,t*=d.r,e*=d.r,c=t,l=Object(d.g)(e=e/2+d.q),h=Object(d.t)(e)}function a(t,e){t*=d.r,e=(e*=d.r)/2+d.q;var n=t-c,r=n>=0?1:-1,i=r*n,o=Object(d.g)(e),a=Object(d.t)(e),s=h*a,u=l*o+s*Object(d.g)(i),f=s*r*Object(d.t)(i);g.add(Object(d.e)(f,u)),c=t,l=o,h=a}n.d(e,"a",function(){return g}),n.d(e,"b",function(){return y});var s,u,c,l,h,f=n(23),d=n(0),p=n(14),v=n(16),g=Object(f.a)(),m=Object(f.a)(),y={point:p.a,lineStart:p.a,lineEnd:p.a,polygonStart:function(){g.reset(),y.lineStart=r,y.lineEnd=i},polygonEnd:function(){var t=+g;m.add(t<0?d.w+t:t),this.lineStart=this.lineEnd=this.point=p.a},sphere:function(){m.add(d.w)}};e.c=function(t){return m.reset(),Object(v.a)(t,y),2*m}},function(t,e,n){"use strict";function r(t,e,n,r,a,u){if(n){var c=Object(s.g)(e),l=Object(s.t)(e),h=r*n;null==a?(a=e+r*s.w,u=e-h/2):(a=i(c,a),u=i(c,u),(r>0?a<u:a>u)&&(a+=r*s.w));for(var f,d=a;r>0?d>u:d<u;d-=h)f=Object(o.g)([c,-l*Object(s.g)(d),-l*Object(s.t)(d)]),t.point(f[0],f[1])}}function i(t,e){(e=Object(o.a)(e))[0]-=t,Object(o.e)(e);var n=Object(s.b)(-e[1]);return((-e[2]<0?-n:n)+s.w-s.i)%s.w}e.a=r;var o=n(28),a=n(403),s=n(0),u=n(47);e.b=function(){function t(){var t=i.apply(this,arguments),a=o.apply(this,arguments)*s.r,h=c.apply(this,arguments)*s.r;return e=[],n=Object(u.b)(-t[0]*s.r,-t[1]*s.r,0).invert,r(l,a,h,1),t={type:"Polygon",coordinates:[e]},e=n=null,t}var e,n,i=Object(a.a)([0,0]),o=Object(a.a)(90),c=Object(a.a)(6),l={point:function(t,r){e.push(t=n(t,r)),t[0]*=s.h,t[1]*=s.h}};return t.center=function(e){return arguments.length?(i="function"==typeof e?e:Object(a.a)([+e[0],+e[1]]),t):i},t.radius=function(e){return arguments.length?(o="function"==typeof e?e:Object(a.a)(+e),t):o},t.precision=function(e){return arguments.length?(c="function"==typeof e?e:Object(a.a)(+e),t):c},t}},function(t,e,n){"use strict";e.a=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}},function(t,e,n){"use strict";var r=n(167),i=n(0);e.a=Object(r.a)(function(){return!0},function(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,s){var u=a>0?i.o:-i.o,c=Object(i.a)(a-n);Object(i.a)(c-i.o)<i.i?(t.point(n,r=(r+s)/2>0?i.l:-i.l),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(a,r),e=0):o!==u&&c>=i.o&&(Object(i.a)(n-o)<i.i&&(n-=o*i.i),Object(i.a)(a-u)<i.i&&(a-=u*i.i),r=function(t,e,n,r){var o,a,s=Object(i.t)(t-n);return Object(i.a)(s)>i.i?Object(i.d)((Object(i.t)(e)*(a=Object(i.g)(r))*Object(i.t)(n)-Object(i.t)(r)*(o=Object(i.g)(e))*Object(i.t)(t))/(o*a*s)):(e+r)/2}(n,r,a,s),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(u,r),e=0),t.point(n=a,r=s),o=u},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var o;if(null==t)o=n*i.l,r.point(-i.o,o),r.point(0,o),r.point(i.o,o),r.point(i.o,0),r.point(i.o,-o),r.point(0,-o),r.point(-i.o,-o),r.point(-i.o,0),r.point(-i.o,o);else if(Object(i.a)(t[0]-e[0])>i.i){var a=t[0]<e[0]?i.o:-i.o;o=n*a/2,r.point(-a,o),r.point(0,o),r.point(a,o)}else r.point(e[0],e[1])},[-i.o,-i.l])},function(t,e,n){"use strict";function r(t){return t.length>1}function i(t,e){return((t=t.x)[0]<0?t[1]-s.l-s.i:s.l-t[1])-((e=e.x)[0]<0?e[1]-s.l-s.i:s.l-e[1])}var o=n(168),a=n(169),s=n(0),u=n(171),c=n(2);e.a=function(t,e,n,s){return function(l){function h(e,n){t(e,n)&&l.point(e,n)}function f(t,e){w.point(t,e)}function d(){k.point=f,w.lineStart()}function p(){k.point=h,w.lineEnd()}function v(t,e){_.push([t,e]),E.point(t,e)}function g(){E.lineStart(),_=[]}function m(){v(_[0][0],_[0][1]),E.lineEnd();var t,e,n,i,o=E.clean(),a=x.result(),s=a.length;if(_.pop(),y.push(_),_=null,s)if(1&o){if((e=(n=a[0]).length-1)>0){for(C||(l.polygonStart(),C=!0),l.lineStart(),t=0;t<e;++t)l.point((i=n[t])[0],i[1]);l.lineEnd()}}else s>1&&2&o&&a.push(a.pop().concat(a.shift())),b.push(a.filter(r))}var y,b,_,w=e(l),x=Object(o.a)(),E=e(x),C=!1,k={point:h,lineStart:d,lineEnd:p,polygonStart:function(){k.point=v,k.lineStart=g,k.lineEnd=m,b=[],y=[]},polygonEnd:function(){k.point=h,k.lineStart=d,k.lineEnd=p,b=Object(c.n)(b);var t=Object(u.a)(y,s);b.length?(C||(l.polygonStart(),C=!0),Object(a.a)(b,i,t,n,l)):t&&(C||(l.polygonStart(),C=!0),l.lineStart(),n(null,null,1,l),l.lineEnd()),C&&(l.polygonEnd(),C=!1),b=y=null},sphere:function(){l.polygonStart(),l.lineStart(),n(null,null,1,l),l.lineEnd(),l.polygonEnd()}};return k}}},function(t,e,n){"use strict";var r=n(14);e.a=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:r.a,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}},function(t,e,n){"use strict";function r(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function i(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var o=n(170);e.a=function(t,e,n,a,s){var u,c,l=[],h=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],a=t[e];if(Object(o.a)(i,a)){for(s.lineStart(),u=0;u<e;++u)s.point((i=t[u])[0],i[1]);return void s.lineEnd()}l.push(n=new r(i,t,null,!0)),h.push(n.o=new r(i,null,n,!1)),l.push(n=new r(a,t,null,!1)),h.push(n.o=new r(a,null,n,!0))}}),l.length){for(h.sort(e),i(l),i(h),u=0,c=h.length;u<c;++u)h[u].e=n=!n;for(var f,d,p=l[0];;){for(var v=p,g=!0;v.v;)if((v=v.n)===p)return;f=v.z,s.lineStart();do{if(v.v=v.o.v=!0,v.e){if(g)for(u=0,c=f.length;u<c;++u)s.point((d=f[u])[0],d[1]);else a(v.x,v.n.x,1,s);v=v.n}else{if(g)for(f=v.p.z,u=f.length-1;u>=0;--u)s.point((d=f[u])[0],d[1]);else a(v.x,v.p.x,-1,s);v=v.p}f=(v=v.o).z,g=!g}while(!v.v);s.lineEnd()}}}},function(t,e,n){"use strict";var r=n(0);e.a=function(t,e){return Object(r.a)(t[0]-e[0])<r.i&&Object(r.a)(t[1]-e[1])<r.i}},function(t,e,n){"use strict";var r=n(23),i=n(28),o=n(0),a=Object(r.a)();e.a=function(t,e){var n=e[0],r=e[1],s=[Object(o.t)(n),-Object(o.g)(n),0],u=0,c=0;a.reset();for(var l=0,h=t.length;l<h;++l)if(d=(f=t[l]).length)for(var f,d,p=f[d-1],v=p[0],g=p[1]/2+o.q,m=Object(o.t)(g),y=Object(o.g)(g),b=0;b<d;++b,v=w,m=E,y=C,p=_){var _=f[b],w=_[0],x=_[1]/2+o.q,E=Object(o.t)(x),C=Object(o.g)(x),k=w-v,T=k>=0?1:-1,S=T*k,O=S>o.o,M=m*E;if(a.add(Object(o.e)(M*T*Object(o.t)(S),y*C+M*Object(o.g)(S))),u+=O?k+T*o.w:k,O^v>=n^w>=n){var A=Object(i.c)(Object(i.a)(p),Object(i.a)(_));Object(i.e)(A);var P=Object(i.c)(s,A);Object(i.e)(P);var I=(O^k>=0?-1:1)*Object(o.c)(P[2]);(r>I||r===I&&(A[0]||A[1]))&&(c+=O^k>=0?1:-1)}}return(u<-o.i||u<o.i&&a<-o.i)^1&c}},function(t,e,n){"use strict";var r=n(28),i=n(164),o=n(0),a=n(170),s=n(167);e.a=function(t){function e(t,e){return Object(o.g)(t)*Object(o.g)(e)>c}function n(t,e,n){var i=Object(r.a)(t),a=Object(r.a)(e),s=[1,0,0],u=Object(r.c)(i,a),l=Object(r.d)(u,u),h=u[0],f=l-h*h;if(!f)return!n&&t;var d=c*l/f,p=-c*h/f,v=Object(r.c)(s,u),g=Object(r.f)(s,d),m=Object(r.f)(u,p);Object(r.b)(g,m);var y=v,b=Object(r.d)(g,y),_=Object(r.d)(y,y),w=b*b-_*(Object(r.d)(g,g)-1);if(!(w<0)){var x=Object(o.u)(w),E=Object(r.f)(y,(-b-x)/_);if(Object(r.b)(E,g),E=Object(r.g)(E),!n)return E;var C,k=t[0],T=e[0],S=t[1],O=e[1];T<k&&(C=k,k=T,T=C);var M=T-k,A=Object(o.a)(M-o.o)<o.i,P=A||M<o.i;if(!A&&O<S&&(C=S,S=O,O=C),P?A?S+O>0^E[1]<(Object(o.a)(E[0]-k)<o.i?S:O):S<=E[1]&&E[1]<=O:M>o.o^(k<=E[0]&&E[0]<=T)){var I=Object(r.f)(y,(-b+x)/_);return Object(r.b)(I,g),[E,Object(r.g)(I)]}}}function u(e,n){var r=h?t:o.o-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var c=Object(o.g)(t),l=6*o.r,h=c>0,f=Object(o.a)(c)>o.i;return Object(s.a)(e,function(t){var r,i,s,c,l;return{lineStart:function(){c=s=!1,l=1},point:function(d,p){var v,g=[d,p],m=e(d,p),y=h?m?0:u(d,p):m?u(d+(d<0?o.o:-o.o),p):0;if(!r&&(c=s=m)&&t.lineStart(),m!==s&&(!(v=n(r,g))||Object(a.a)(r,v)||Object(a.a)(g,v))&&(g[0]+=o.i,g[1]+=o.i,m=e(g[0],g[1])),m!==s)l=0,m?(t.lineStart(),v=n(g,r),t.point(v[0],v[1])):(v=n(r,g),t.point(v[0],v[1]),t.lineEnd()),r=v;else if(f&&r&&h^m){var b;y&i||!(b=n(g,r,!0))||(l=0,h?(t.lineStart(),t.point(b[0][0],b[0][1]),t.point(b[1][0],b[1][1]),t.lineEnd()):(t.point(b[1][0],b[1][1]),t.lineEnd(),t.lineStart(),t.point(b[0][0],b[0][1])))}!m||r&&Object(a.a)(r,g)||t.point(g[0],g[1]),r=g,s=m,i=y},lineEnd:function(){s&&t.lineEnd(),r=null},clean:function(){return l|(c&&s)<<1}}},function(e,n,r,o){Object(i.a)(o,t,l,r,e,n)},h?[0,-t]:[-o.o,t-o.o])}},function(t,e,n){"use strict";var r=n(174),i=[null,null],o={type:"LineString",coordinates:i};e.a=function(t,e){return i[0]=t,i[1]=e,Object(r.a)(o)}},function(t,e,n){"use strict";function r(){p.point=p.lineEnd=h.a}function i(t,e){t*=l.r,e*=l.r,a=t,s=Object(l.t)(e),u=Object(l.g)(e),p.point=o}function o(t,e){t*=l.r,e*=l.r;var n=Object(l.t)(e),r=Object(l.g)(e),i=Object(l.a)(t-a),o=Object(l.g)(i),c=r*Object(l.t)(i),h=u*n-s*r*o,f=s*n+u*r*o;d.add(Object(l.e)(Object(l.u)(c*c+h*h),f)),a=t,s=n,u=r}var a,s,u,c=n(23),l=n(0),h=n(14),f=n(16),d=Object(c.a)(),p={sphere:h.a,point:h.a,lineStart:function(){p.point=i,p.lineEnd=r},lineEnd:h.a,polygonStart:h.a,polygonEnd:h.a};e.a=function(t){return d.reset(),Object(f.a)(t,p),+d}},function(t,e,n){"use strict";var r=n(14),i=1/0,o=i,a=-i,s=a,u={point:function(t,e){t<i&&(i=t),t>a&&(a=t),e<o&&(o=e),e>s&&(s=e)},lineStart:r.a,lineEnd:r.a,polygonStart:r.a,polygonEnd:r.a,result:function(){var t=[[i,o],[a,s]];return a=s=-(o=i=1/0),t}};e.a=u},function(t,e,n){"use strict";var r=n(87);e.a=function(){return Object(r.b)().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}},function(t,e,n){"use strict";function r(t,e){return[t,e]}e.b=r;var i=n(11);r.invert=r,e.a=function(){return Object(i.a)(r).scale(152.63)}},function(t,e,n){"use strict";function r(t,e,n){var r=t.x,i=t.y,o=e.r+n.r,a=t.r+n.r,s=e.x-r,u=e.y-i,c=s*s+u*u;if(c){var l=.5+((a*=a)-(o*=o))/(2*c),h=Math.sqrt(Math.max(0,2*o*(a+c)-(a-=c)*a-o*o))/(2*c);n.x=r+l*s+h*u,n.y=i+l*u-h*s}else n.x=r+a,n.y=i}function i(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return i*i-1e-6>n*n+r*r}function o(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function a(t){this._=t,this.next=null,this.previous=null}function s(t){if(!(c=t.length))return 0;var e,n,s,c,l,h,f,d,p,v,g;if((e=t[0]).x=0,e.y=0,!(c>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(c>2))return e.r+n.r;r(n,e,s=t[2]),e=new a(e),n=new a(n),s=new a(s),e.next=s.previous=n,n.next=e.previous=s,s.next=n.previous=e;t:for(f=3;f<c;++f){r(e._,n._,s=t[f]),s=new a(s),d=n.next,p=e.previous,v=n._.r,g=e._.r;do{if(v<=g){if(i(d._,s._)){n=d,e.next=n,n.previous=e,--f;continue t}v+=d._.r,d=d.next}else{if(i(p._,s._)){(e=p).next=n,n.previous=e,--f;continue t}g+=p._.r,p=p.previous}}while(d!==p.next);for(s.previous=e,s.next=n,e.next=n.previous=n=s,l=o(e);(s=s.next)!==n;)(h=o(s))<l&&(e=s,l=h);n=e.next}for(e=[n._],s=n;(s=s.next)!==n;)e.push(s._);for(s=Object(u.a)(e),f=0;f<c;++f)(e=t[f]).x-=s.x,e.y-=s.y;return s.r}e.b=s;var u=n(179);e.a=function(t){return s(t),t}},function(t,e,n){"use strict";function r(t,e){var n,r;if(a(e,t))return[e];for(n=0;n<t.length;++n)if(i(e,t[n])&&a(u(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(i(u(t[n],t[r]),e)&&i(u(t[n],e),t[r])&&i(u(t[r],e),t[n])&&a(c(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function i(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function o(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function a(t,e){for(var n=0;n<e.length;++n)if(!o(t,e[n]))return!1;return!0}function s(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return u(t[0],t[1]);case 3:return c(t[0],t[1],t[2])}}function u(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,c=a-r,l=s-i,h=Math.sqrt(u*u+c*c);return{x:(n+o+u/h*l)/2,y:(r+a+c/h*l)/2,r:(h+i+s)/2}}function c(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,c=n.x,l=n.y,h=n.r,f=r-a,d=r-c,p=i-s,v=i-l,g=u-o,m=h-o,y=r*r+i*i-o*o,b=y-a*a-s*s+u*u,_=y-c*c-l*l+h*h,w=d*p-f*v,x=(p*_-v*b)/(2*w)-r,E=(v*g-p*m)/w,C=(d*b-f*_)/(2*w)-i,k=(f*m-d*g)/w,T=E*E+k*k-1,S=2*(o+x*E+C*k),O=x*x+C*C-o*o,M=-(T?(S+Math.sqrt(S*S-4*T*O))/(2*T):O/S);return{x:r+x+E*M,y:i+C+k*M,r:M}}var l=n(442);e.a=function(t){for(var e,n,i=0,a=(t=Object(l.a)(l.b.call(t))).length,u=[];i<a;)e=t[i],n&&o(n,e)?++i:(n=s(u=r(u,e)),i=0);return n}},function(t,e,n){"use strict";e.a=function(){return 0},e.b=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}},function(t,e,n){"use strict";var r=n(24);e.a=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(r.a)},function(t,e,n){"use strict";var r=n(24);e.a=function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(r.a)},function(t,e,n){"use strict";var r=n(94);e.a=function(t,e){return function(n,i,o){arguments.length<3&&(o=i,i=null);var a=Object(r.a)(n).mimeType(t);return a.row=function(t){return arguments.length?a.response(function(t,e){return function(n){return t(n.responseText,e)}}(e,i=t)):i},a.row(i),o?a.get(o):a}}},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),e.a=function t(e){function n(t){var n=t+"",r=a.get(n);if(!r){if(u!==o)return u;a.set(n,r=s.push(t))}return e[(r-1)%e.length]}var a=Object(r.c)(),s=[],u=o;return e=null==e?[]:i.b.call(e),n.domain=function(t){if(!arguments.length)return s.slice();s=[],a=Object(r.c)();for(var e,i,o=-1,u=t.length;++o<u;)a.has(i=(e=t[o])+"")||a.set(i,s.push(e));return n},n.range=function(t){return arguments.length?(e=i.b.call(t),n):e.slice()},n.unknown=function(t){return arguments.length?(u=t,n):u},n.copy=function(){return t().domain(s).range(e).unknown(u)},n};var r=n(21),i=n(17),o={name:"implicit"}},function(t,e,n){"use strict";e.a=function(t){return+t}},function(t,e,n){"use strict";e.a=function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}},function(t,e,n){"use strict";function r(t){return new Date(t)}function i(t){return t instanceof Date?+t:+new Date(+t)}function o(t,e,n,u,c,_,w,x,E){function C(r){return(w(r)<r?M:_(r)<r?A:c(r)<r?P:u(r)<r?I:e(r)<r?n(r)<r?N:D:t(r)<r?R:j)(r)}function k(e,n,r,i){if(null==e&&(e=10),"number"==typeof e){var o=Math.abs(r-n)/e,s=Object(a.e)(function(t){return t[2]}).right(L,o);s===L.length?(i=Object(a.A)(n/b,r/b,e),e=t):s?(i=(s=L[o/L[s-1][2]<L[s][2]/o?s-1:s])[1],e=s[0]):(i=Object(a.A)(n,r,e),e=x)}return null==i?e:e.every(i)}var T=Object(h.b)(h.c,s.m),S=T.invert,O=T.domain,M=E(".%L"),A=E(":%S"),P=E("%I:%M"),I=E("%I %p"),N=E("%a %d"),D=E("%b %d"),R=E("%B"),j=E("%Y"),L=[[w,1,d],[w,5,5*d],[w,15,15*d],[w,30,30*d],[_,1,p],[_,5,5*p],[_,15,15*p],[_,30,30*p],[c,1,v],[c,3,3*v],[c,6,6*v],[c,12,12*v],[u,1,g],[u,2,2*g],[n,1,m],[e,1,y],[e,3,3*y],[t,1,b]];return T.invert=function(t){return new Date(S(t))},T.domain=function(t){return arguments.length?O(l.a.call(t,i)):O().map(r)},T.ticks=function(t,e){var n,r=O(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=k(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},T.tickFormat=function(t,e){return null==e?C:E(e)},T.nice=function(t,e){var n=O();return(t=k(t,n[0],n[n.length-1],e))?O(Object(f.a)(n,t)):T},T.copy=function(){return Object(h.a)(T,o(t,e,n,u,c,_,w,x,E))},T}e.a=o;var a=n(2),s=n(6),u=n(32),c=n(189),l=n(17),h=n(52),f=n(187),d=1e3,p=60*d,v=60*p,g=24*v,m=7*g,y=30*g,b=365*g;e.b=function(){return o(u.D,u.n,u.B,u.a,u.e,u.j,u.r,u.h,c.a).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}},function(t,e,n){"use strict";var r=n(96);n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return r.b}),n(190),n(191),n(495)},function(t,e,n){"use strict";function r(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function i(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function o(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function a(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function s(t){return t.replace(gt,"\\$&")}function u(t){return new RegExp("^(?:"+t.map(s).join("|")+")","i")}function c(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function l(t,e,n){var r=pt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function h(t,e,n){var r=pt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function f(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function d(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function p(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function v(t,e,n){var r=pt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function g(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function m(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function y(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function b(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function _(t,e,n){var r=pt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function w(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function x(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function E(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function C(t,e,n){var r=pt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function k(t,e,n){var r=pt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function T(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function S(t,e,n){var r=pt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function O(t,e,n){var r=pt.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function M(t,e){return a(t.getDate(),e,2)}function A(t,e){return a(t.getHours(),e,2)}function P(t,e){return a(t.getHours()%12||12,e,2)}function I(t,e){return a(1+ft.a.count(Object(ft.D)(t),t),e,3)}function N(t,e){return a(t.getMilliseconds(),e,3)}function D(t,e){return N(t,e)+"000"}function R(t,e){return a(t.getMonth()+1,e,2)}function j(t,e){return a(t.getMinutes(),e,2)}function L(t,e){return a(t.getSeconds(),e,2)}function F(t){var e=t.getDay();return 0===e?7:e}function B(t,e){return a(ft.t.count(Object(ft.D)(t),t),e,2)}function $(t,e){var n=t.getDay();return t=n>=4||0===n?Object(ft.v)(t):ft.v.ceil(t),a(ft.v.count(Object(ft.D)(t),t)+(4===Object(ft.D)(t).getDay()),e,2)}function U(t){return t.getDay()}function z(t,e){return a(ft.l.count(Object(ft.D)(t),t),e,2)}function q(t,e){return a(t.getFullYear()%100,e,2)}function V(t,e){return a(t.getFullYear()%1e4,e,4)}function H(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+a(e/60|0,"0",2)+a(e%60,"0",2)}function W(t,e){return a(t.getUTCDate(),e,2)}function G(t,e){return a(t.getUTCHours(),e,2)}function K(t,e){return a(t.getUTCHours()%12||12,e,2)}function Y(t,e){return a(1+ft.F.count(Object(ft._7)(t),t),e,3)}function Q(t,e){return a(t.getUTCMilliseconds(),e,3)}function X(t,e){return Q(t,e)+"000"}function J(t,e){return a(t.getUTCMonth()+1,e,2)}function Z(t,e){return a(t.getUTCMinutes(),e,2)}function tt(t,e){return a(t.getUTCSeconds(),e,2)}function et(t){var e=t.getUTCDay();return 0===e?7:e}function nt(t,e){return a(ft.X.count(Object(ft._7)(t),t),e,2)}function rt(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Object(ft.Z)(t):ft.Z.ceil(t),a(ft.Z.count(Object(ft._7)(t),t)+(4===Object(ft._7)(t).getUTCDay()),e,2)}function it(t){return t.getUTCDay()}function ot(t,e){return a(ft.P.count(Object(ft._7)(t),t),e,2)}function at(t,e){return a(t.getUTCFullYear()%100,e,2)}function st(t,e){return a(t.getUTCFullYear()%1e4,e,4)}function ut(){return"+0000"}function ct(){return"%"}function lt(t){return+t}function ht(t){return Math.floor(+t/1e3)}e.a=function(t){function e(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=dt[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function n(t,e){return function(n){var r,s,u=o(1900);if(a(u,t,n+="",0)!=n.length)return null;if("Q"in u)return new Date(u.Q);if("p"in u&&(u.H=u.H%12+12*u.p),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(r=(s=(r=i(o(u.y))).getUTCDay())>4||0===s?ft.P.ceil(r):Object(ft.P)(r),r=ft.F.offset(r,7*(u.V-1)),u.y=r.getUTCFullYear(),u.m=r.getUTCMonth(),u.d=r.getUTCDate()+(u.w+6)%7):(r=(s=(r=e(o(u.y))).getDay())>4||0===s?ft.l.ceil(r):Object(ft.l)(r),r=ft.a.offset(r,7*(u.V-1)),u.y=r.getFullYear(),u.m=r.getMonth(),u.d=r.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),s="Z"in u?i(o(u.y)).getUTCDay():e(o(u.y)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(s+5)%7:u.w+7*u.U-(s+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,i(u)):e(u)}}function a(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=Nt[i in dt?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}var s=t.dateTime,pt=t.date,vt=t.time,gt=t.periods,mt=t.days,yt=t.shortDays,bt=t.months,_t=t.shortMonths,wt=u(gt),xt=c(gt),Et=u(mt),Ct=c(mt),kt=u(yt),Tt=c(yt),St=u(bt),Ot=c(bt),Mt=u(_t),At=c(_t),Pt={a:function(t){return yt[t.getDay()]},A:function(t){return mt[t.getDay()]},b:function(t){return _t[t.getMonth()]},B:function(t){return bt[t.getMonth()]},c:null,d:M,e:M,f:D,H:A,I:P,j:I,L:N,m:R,M:j,p:function(t){return gt[+(t.getHours()>=12)]},Q:lt,s:ht,S:L,u:F,U:B,V:$,w:U,W:z,x:null,X:null,y:q,Y:V,Z:H,"%":ct},It={a:function(t){return yt[t.getUTCDay()]},A:function(t){return mt[t.getUTCDay()]},b:function(t){return _t[t.getUTCMonth()]},B:function(t){return bt[t.getUTCMonth()]},c:null,d:W,e:W,f:X,H:G,I:K,j:Y,L:Q,m:J,M:Z,p:function(t){return gt[+(t.getUTCHours()>=12)]},Q:lt,s:ht,S:tt,u:et,U:nt,V:rt,w:it,W:ot,x:null,X:null,y:at,Y:st,Z:ut,"%":ct},Nt={a:function(t,e,n){var r=kt.exec(e.slice(n));return r?(t.w=Tt[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=Et.exec(e.slice(n));return r?(t.w=Ct[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=Mt.exec(e.slice(n));return r?(t.m=At[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=St.exec(e.slice(n));return r?(t.m=Ot[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return a(t,s,e,n)},d:b,e:b,f:k,H:w,I:w,j:_,L:C,m:y,M:x,p:function(t,e,n){var r=wt.exec(e.slice(n));return r?(t.p=xt[r[0].toLowerCase()],n+r[0].length):-1},Q:S,s:O,S:E,u:h,U:f,V:d,w:l,W:p,x:function(t,e,n){return a(t,pt,e,n)},X:function(t,e,n){return a(t,vt,e,n)},y:g,Y:v,Z:m,"%":T};return Pt.x=e(pt,Pt),Pt.X=e(vt,Pt),Pt.c=e(s,Pt),It.x=e(pt,It),It.X=e(vt,It),It.c=e(s,It),{format:function(t){var n=e(t+="",Pt);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",r);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",It);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,i);return e.toString=function(){return t},e}}};var ft=n(32),dt={"-":"",_:" ",0:"0"},pt=/^\s*\d+/,vt=/^%/,gt=/[\\^$*+?|[\]().{}]/g},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(96),i="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||Object(r.b)(i)},function(t,e,n){"use strict";var r=n(505);n.d(e,"a",function(){return r.a});var i=n(193);n.d(e,"b",function(){return i.a});var o=n(97);n.d(e,"v",function(){return o.a});var a=n(506);n.d(e,"A",function(){return a.a});var s=n(509);n.d(e,"c",function(){return s.a}),n.d(e,"C",function(){return s.a});var u=n(195);n.d(e,"w",function(){return u.a}),n.d(e,"D",function(){return u.a});var c=n(196);n.d(e,"B",function(){return c.a});var l=n(510);n.d(e,"x",function(){return l.a}),n.d(e,"z",function(){return l.c}),n.d(e,"y",function(){return l.b});var h=n(511);n.d(e,"P",function(){return h.a}),n.d(e,"X",function(){return h.b});var f=n(198);n.d(e,"Q",function(){return f.a});var d=n(199);n.d(e,"R",function(){return d.a});var p=n(200);n.d(e,"S",function(){return p.a});var v=n(202);n.d(e,"T",function(){return v.a});var g=n(201);n.d(e,"U",function(){return g.a});var m=n(203);n.d(e,"V",function(){return m.a});var y=n(204);n.d(e,"W",function(){return y.a});var b=n(512);n.d(e,"e",function(){return b.a});var _=n(513);n.d(e,"f",function(){return _.a});var w=n(55);n.d(e,"d",function(){return w.b});var x=n(514);n.d(e,"g",function(){return x.a});var E=n(205);n.d(e,"i",function(){return E.b});var C=n(206);n.d(e,"j",function(){return C.b});var k=n(56);n.d(e,"h",function(){return k.b});var T=n(515);n.d(e,"l",function(){return T.a});var S=n(516);n.d(e,"m",function(){return S.a});var O=n(99);n.d(e,"k",function(){return O.a});var M=n(517);n.d(e,"o",function(){return M.a});var A=n(53);n.d(e,"n",function(){return A.a});var P=n(518);n.d(e,"p",function(){return P.a}),n.d(e,"q",function(){return P.b});var I=n(519);n.d(e,"r",function(){return I.a});var N=n(520);n.d(e,"s",function(){return N.a}),n.d(e,"t",function(){return N.b}),n.d(e,"u",function(){return N.c});var D=n(521);n.d(e,"E",function(){return D.a});var R=n(522);n.d(e,"G",function(){return R.a});var j=n(523);n.d(e,"F",function(){return j.a});var L=n(35);n.d(e,"H",function(){return L.a});var F=n(524);n.d(e,"I",function(){return F.a});var B=n(525);n.d(e,"J",function(){return B.a});var $=n(100);n.d(e,"K",function(){return $.a});var U=n(526);n.d(e,"L",function(){return U.a});var z=n(527);n.d(e,"M",function(){return z.a});var q=n(36);n.d(e,"N",function(){return q.a});var V=n(528);n.d(e,"O",function(){return V.a})},function(t,e,n){"use strict";var r=n(8),i=n(18),o=n(53),a=n(97),s=n(98);e.a=function(){function t(t){var e,i,o,a,s,v=t.length,g=!1,m=new Array(v),y=new Array(v);for(null==f&&(p=d(s=Object(r.a)())),e=0;e<=v;++e){if(!(e<v&&h(a=t[e],e,t))===g)if(g=!g)i=e,p.areaStart(),p.lineStart();else{for(p.lineEnd(),p.lineStart(),o=e-1;o>=i;--o)p.point(m[o],y[o]);p.lineEnd(),p.areaEnd()}g&&(m[e]=+n(a,e,t),y[e]=+c(a,e,t),p.point(u?+u(a,e,t):m[e],l?+l(a,e,t):y[e]))}if(s)return p=null,s+""||null}function e(){return Object(a.a)().defined(h).curve(d).context(f)}var n=s.a,u=null,c=Object(i.a)(0),l=s.b,h=Object(i.a)(!0),f=null,d=o.a,p=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:Object(i.a)(+e),u=null,t):n},t.x0=function(e){return arguments.length?(n="function"==typeof e?e:Object(i.a)(+e),t):n},t.x1=function(e){return arguments.length?(u=null==e?null:"function"==typeof e?e:Object(i.a)(+e),t):u},t.y=function(e){return arguments.length?(c="function"==typeof e?e:Object(i.a)(+e),l=null,t):c},t.y0=function(e){return arguments.length?(c="function"==typeof e?e:Object(i.a)(+e),t):c},t.y1=function(e){return arguments.length?(l=null==e?null:"function"==typeof e?e:Object(i.a)(+e),t):l},t.lineX0=t.lineY0=function(){return e().x(n).y(c)},t.lineY1=function(){return e().x(n).y(l)},t.lineX1=function(){return e().x(u).y(c)},t.defined=function(e){return arguments.length?(h="function"==typeof e?e:Object(i.a)(!!e),t):h},t.curve=function(e){return arguments.length?(d=e,null!=f&&(p=d(f)),t):d},t.context=function(e){return arguments.length?(null==e?f=p=null:p=d(f=e),t):f},t}},function(t,e,n){"use strict";function r(t){this._curve=t}function i(t){function e(e){return new r(t(e))}return e._curve=t,e}n.d(e,"a",function(){return o}),e.b=i;var o=i(n(53).a);r.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}}},function(t,e,n){"use strict";function r(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Object(i.b)(t)):e()._curve},t}e.b=r;var i=n(194),o=n(97);e.a=function(){return r(Object(o.a)().curve(i.a))}},function(t,e,n){"use strict";e.a=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.prototype.slice},function(t,e,n){"use strict";var r=n(34);e.a={draw:function(t,e){var n=Math.sqrt(e/r.j);t.moveTo(n,0),t.arc(0,0,n,0,r.m)}}},function(t,e,n){"use strict";e.a={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}}},function(t,e,n){"use strict";var r=Math.sqrt(1/3),i=2*r;e.a={draw:function(t,e){var n=Math.sqrt(e/i),o=n*r;t.moveTo(0,-n),t.lineTo(o,0),t.lineTo(0,n),t.lineTo(-o,0),t.closePath()}}},function(t,e,n){"use strict";var r=n(34),i=Math.sin(r.j/10)/Math.sin(7*r.j/10),o=Math.sin(r.m/10)*i,a=-Math.cos(r.m/10)*i;e.a={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=o*n,s=a*n;t.moveTo(0,-n),t.lineTo(i,s);for(var u=1;u<5;++u){var c=r.m*u/5,l=Math.cos(c),h=Math.sin(c);t.lineTo(h*n,-l*n),t.lineTo(l*i-h*s,h*i+l*s)}t.closePath()}}},function(t,e,n){"use strict";e.a={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}}},function(t,e,n){"use strict";var r=Math.sqrt(3);e.a={draw:function(t,e){var n=-Math.sqrt(e/(3*r));t.moveTo(0,2*n),t.lineTo(-r*n,-n),t.lineTo(r*n,-n),t.closePath()}}},function(t,e,n){"use strict";var r=-.5,i=Math.sqrt(3)/2,o=1/Math.sqrt(12),a=3*(o/2+1);e.a={draw:function(t,e){var n=Math.sqrt(e/a),s=n/2,u=n*o,c=s,l=n*o+n,h=-c,f=l;t.moveTo(s,u),t.lineTo(c,l),t.lineTo(h,f),t.lineTo(r*s-i*u,i*s+r*u),t.lineTo(r*c-i*l,i*c+r*l),t.lineTo(r*h-i*f,i*h+r*f),t.lineTo(r*s+i*u,r*u-i*s),t.lineTo(r*c+i*l,r*l-i*c),t.lineTo(r*h+i*f,r*f-i*h),t.closePath()}}},function(t,e,n){"use strict";function r(t,e){this._context=t,this._k=(1-e)/6}e.a=r;var i=n(54),o=n(56);r.prototype={areaStart:i.a,areaEnd:i.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Object(o.c)(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.b=function t(e){function n(t){return new r(t,e)}return n.tension=function(e){return t(+e)},n}(0)},function(t,e,n){"use strict";function r(t,e){this._context=t,this._k=(1-e)/6}e.a=r;var i=n(56);r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(i.c)(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.b=function t(e){function n(t){return new r(t,e)}return n.tension=function(e){return t(+e)},n}(0)},function(t,e,n){"use strict";function r(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function i(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function o(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function a(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function s(t){return t.replace(rt,"\\$&")}function u(t){return new RegExp("^(?:"+t.map(s).join("|")+")","i")}function c(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function l(t,e,n){var r=et.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function h(t,e,n){var r=et.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function f(t,e,n){var r=et.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function d(t,e,n){var r=et.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function p(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function v(t,e,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function g(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function m(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function y(t,e,n){var r=et.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function b(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function _(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function w(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function x(t,e,n){var r=et.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function E(t,e,n){var r=nt.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function C(t,e){return a(t.getDate(),e,2)}function k(t,e){return a(t.getHours(),e,2)}function T(t,e){return a(t.getHours()%12||12,e,2)}function S(t,e){return a(1+Z.a.count(Object(Z.D)(t),t),e,3)}function O(t,e){return a(t.getMilliseconds(),e,3)}function M(t,e){return a(t.getMonth()+1,e,2)}function A(t,e){return a(t.getMinutes(),e,2)}function P(t,e){return a(t.getSeconds(),e,2)}function I(t,e){return a(Z.t.count(Object(Z.D)(t),t),e,2)}function N(t){return t.getDay()}function D(t,e){return a(Z.l.count(Object(Z.D)(t),t),e,2)}function R(t,e){return a(t.getFullYear()%100,e,2)}function j(t,e){return a(t.getFullYear()%1e4,e,4)}function L(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+a(e/60|0,"0",2)+a(e%60,"0",2)}function F(t,e){return a(t.getUTCDate(),e,2)}function B(t,e){return a(t.getUTCHours(),e,2)}function $(t,e){return a(t.getUTCHours()%12||12,e,2)}function U(t,e){return a(1+Z.F.count(Object(Z._7)(t),t),e,3)}function z(t,e){return a(t.getUTCMilliseconds(),e,3)}function q(t,e){return a(t.getUTCMonth()+1,e,2)}function V(t,e){return a(t.getUTCMinutes(),e,2)}function H(t,e){return a(t.getUTCSeconds(),e,2)}function W(t,e){return a(Z.X.count(Object(Z._7)(t),t),e,2)}function G(t){return t.getUTCDay()}function K(t,e){return a(Z.P.count(Object(Z._7)(t),t),e,2)}function Y(t,e){return a(t.getUTCFullYear()%100,e,2)}function Q(t,e){return a(t.getUTCFullYear()%1e4,e,4)}function X(){return"+0000"}function J(){return"%"}e.a=function(t){function e(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=tt[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function n(t,e){return function(n){var r=o(1900);if(a(r,t,n+="",0)!=n.length)return null;if("p"in r&&(r.H=r.H%12+12*r.p),"W"in r||"U"in r){"w"in r||(r.w="W"in r?1:0);var s="Z"in r?i(o(r.y)).getUTCDay():e(o(r.y)).getDay();r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(s+5)%7:r.w+7*r.U-(s+6)%7}return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,i(r)):e(r)}}function a(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=bt[i in tt?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}var s=t.dateTime,Z=t.date,et=t.time,nt=t.periods,rt=t.days,it=t.shortDays,ot=t.months,at=t.shortMonths,st=u(nt),ut=c(nt),ct=u(rt),lt=c(rt),ht=u(it),ft=c(it),dt=u(ot),pt=c(ot),vt=u(at),gt=c(at),mt={a:function(t){return it[t.getDay()]},A:function(t){return rt[t.getDay()]},b:function(t){return at[t.getMonth()]},B:function(t){return ot[t.getMonth()]},c:null,d:C,e:C,H:k,I:T,j:S,L:O,m:M,M:A,p:function(t){return nt[+(t.getHours()>=12)]},S:P,U:I,w:N,W:D,x:null,X:null,y:R,Y:j,Z:L,"%":J},yt={a:function(t){return it[t.getUTCDay()]},A:function(t){return rt[t.getUTCDay()]},b:function(t){return at[t.getUTCMonth()]},B:function(t){return ot[t.getUTCMonth()]},c:null,d:F,e:F,H:B,I:$,j:U,L:z,m:q,M:V,p:function(t){return nt[+(t.getUTCHours()>=12)]},S:H,U:W,w:G,W:K,x:null,X:null,y:Y,Y:Q,Z:X,"%":J},bt={a:function(t,e,n){var r=ht.exec(e.slice(n));return r?(t.w=ft[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=ct.exec(e.slice(n));return r?(t.w=lt[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=vt.exec(e.slice(n));return r?(t.m=gt[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=dt.exec(e.slice(n));return r?(t.m=pt[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return a(t,s,e,n)},d:m,e:m,H:b,I:b,j:y,L:x,m:g,M:_,p:function(t,e,n){var r=st.exec(e.slice(n));return r?(t.p=ut[r[0].toLowerCase()],n+r[0].length):-1},S:w,U:h,w:l,W:f,x:function(t,e,n){return a(t,Z,e,n)},X:function(t,e,n){return a(t,et,e,n)},y:p,Y:d,Z:v,"%":E};return mt.x=e(Z,mt),mt.X=e(et,mt),mt.c=e(s,mt),yt.x=e(Z,yt),yt.X=e(et,yt),yt.c=e(s,yt),{format:function(t){var n=e(t+="",mt);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",r);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",yt);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,i);return e.toString=function(){return t},e}}};var Z=n(32),tt={"-":"",_:" ",0:"0"},et=/^\s*\d+/,nt=/^%/,rt=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g},function(t,e,n){"use strict";n.d(e,"b",function(){return i});var r=n(101),i="%Y-%m-%dT%H:%M:%S.%LZ",o=Date.prototype.toISOString?function(t){return t.toISOString()}:Object(r.d)(i);e.a=o},function(t,e,n){"use strict";function r(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function i(t,e){return e[+(e.left!==t.site)]}function o(t,e){return e[+(e.left===t.site)]}e.c=function(t){return s.b[t.index]={site:t,halfedges:[]}},e.a=i,e.d=function(){for(var t,e,n,i,o=0,a=s.b.length;o<a;++o)if((t=s.b[o])&&(i=(e=t.halfedges).length)){var u=new Array(i),c=new Array(i);for(n=0;n<i;++n)u[n]=n,c[n]=r(t,s.e[e[n]]);for(u.sort(function(t,e){return c[e]-c[t]}),n=0;n<i;++n)c[n]=e[u[n]];for(n=0;n<i;++n)e[n]=c[n]}},e.b=function(t,e,n,r){var u,c,l,h,f,d,p,v,g,m,y,b,_=s.b.length,w=!0;for(u=0;u<_;++u)if(c=s.b[u]){for(l=c.site,h=(f=c.halfedges).length;h--;)s.e[f[h]]||f.splice(h,1);for(h=0,d=f.length;h<d;)y=(m=o(c,s.e[f[h]]))[0],b=m[1],v=(p=i(c,s.e[f[++h%d]]))[0],g=p[1],(Math.abs(y-v)>s.f||Math.abs(b-g)>s.f)&&(f.splice(h,0,s.e.push(Object(a.b)(l,m,Math.abs(y-t)<s.f&&r-b>s.f?[t,Math.abs(v-t)<s.f?g:r]:Math.abs(b-r)<s.f&&n-y>s.f?[Math.abs(g-r)<s.f?v:n,r]:Math.abs(y-n)<s.f&&b-e>s.f?[n,Math.abs(v-n)<s.f?g:e]:Math.abs(b-e)<s.f&&y-t>s.f?[Math.abs(g-e)<s.f?v:t,e]:null))-1),++d);d&&(w=!1)}if(w){var x,E,C,k=1/0;for(u=0,w=null;u<_;++u)(c=s.b[u])&&(C=(x=(l=c.site)[0]-t)*x+(E=l[1]-e)*E)<k&&(k=C,w=c);if(w){var T=[t,e],S=[t,r],O=[n,r],M=[n,e];w.halfedges.push(s.e.push(Object(a.b)(l=w.site,T,S))-1,s.e.push(Object(a.b)(l,S,O))-1,s.e.push(Object(a.b)(l,O,M))-1,s.e.push(Object(a.b)(l,M,T))-1)}}for(u=0;u<_;++u)(c=s.b[u])&&(c.halfedges.length||delete s.b[u])};var a=n(103),s=n(37)},function(t,e,n){"use strict";function r(){Object(o.a)(this),this.x=this.y=this.arc=this.site=this.cy=null}n.d(e,"c",function(){return i}),e.a=function(t){var e=t.P,n=t.N;if(e&&n){var o=e.site,u=t.site,c=n.site;if(o!==c){var l=u[0],h=u[1],f=o[0]-l,d=o[1]-h,p=c[0]-l,v=c[1]-h,g=2*(f*v-d*p);if(!(g>=-a.g)){var m=f*f+d*d,y=p*p+v*v,b=(v*m-d*y)/g,_=(f*y-p*m)/g,w=s.pop()||new r;w.arc=t,w.site=u,w.x=b+l,w.y=(w.cy=_+h)+Math.sqrt(b*b+_*_),t.circle=w;for(var x=null,E=a.c._;E;)if(w.y<E.y||w.y===E.y&&w.x<=E.x){if(!E.L){x=E.P;break}E=E.L}else{if(!E.R){x=E;break}E=E.R}a.c.insert(x,w),x||(i=w)}}}},e.b=function(t){var e=t.circle;e&&(e.P||(i=e.N),a.c.remove(e),s.push(e),Object(o.a)(e),t.circle=null)};var i,o=n(102),a=n(37),s=[]},function(t,e,n){"use strict";function r(t,e,n){this.k=t,this.x=e,this.y=n}function i(t){return t.__zoom||o}e.a=r,n.d(e,"c",function(){return o}),e.b=i,r.prototype={constructor:r,scale:function(t){return 1===t?this:new r(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new r(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var o=new r(1,0,0);i.prototype=r.prototype},function(t,e,n){"use strict";var r=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var i=document.documentElement;if(!i.matches){var o=i.webkitMatchesSelector||i.msMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector;r=function(t){return function(){return o.call(this,t)}}}}e.a=r},function(t,e,n){"use strict";function r(){return[]}e.a=function(t){return null==t?r:function(){return this.querySelectorAll(t)}}},function(t,e,n){"use strict";function r(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}e.a=r;var i=n(215),o=n(9);e.b=function(){return new o.a(this._enter||this._groups.map(i.a),this._parents)},r.prototype={constructor:r,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},function(t,e,n){"use strict";e.a=function(t){return new Array(t.length)}},function(t,e,n){"use strict";var r=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var i=document.documentElement;if(!i.matches){var o=i.webkitMatchesSelector||i.msMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector;r=function(t){return function(){return o.call(this,t)}}}}e.a=r},function(t,e,n){"use strict";function r(){return[]}e.a=function(t){return null==t?r:function(){return this.querySelectorAll(t)}}},function(t,e,n){"use strict";function r(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}e.a=r;var i=n(219),o=n(10);e.b=function(){return new o.a(this._enter||this._groups.map(i.a),this._parents)},r.prototype={constructor:r,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},function(t,e,n){"use strict";e.a=function(t){return new Array(t.length)}},function(t,e,n){"use strict";var r=n(120);e.a=function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):function(t,e){return t.style.getPropertyValue(e)||Object(r.a)(t).getComputedStyle(t,null).getPropertyValue(e)}(this.node(),t)}},function(t,e,n){"use strict";e.b=function(t,e){var n=t.document.documentElement,o=Object(r.d)(t).on("dragstart.drag",null);e&&(o.on("click.drag",i.a,!0),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)};var r=n(112),i=n(222);e.a=function(t){var e=t.document.documentElement,n=Object(r.d)(t).on("dragstart.drag",i.a,!0);"onselectstart"in e?n.on("selectstart.drag",i.a,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}},function(t,e,n){"use strict";e.b=function(){r.b.stopImmediatePropagation()};var r=n(112);e.a=function(){r.b.preventDefault(),r.b.stopImmediatePropagation()}},function(t,e,n){"use strict";var r=n(8),i=n(25),o=n(57),a=n(121),s=n(224);e.a=function(){function t(t){var e,i,o,a,s,v=t.length,g=!1,m=new Array(v),y=new Array(v);for(null==f&&(p=d(s=Object(r.a)())),e=0;e<=v;++e){if(!(e<v&&h(a=t[e],e,t))===g)if(g=!g)i=e,p.areaStart(),p.lineStart();else{for(p.lineEnd(),p.lineStart(),o=e-1;o>=i;--o)p.point(m[o],y[o]);p.lineEnd(),p.areaEnd()}g&&(m[e]=+n(a,e,t),y[e]=+c(a,e,t),p.point(u?+u(a,e,t):m[e],l?+l(a,e,t):y[e]))}if(s)return p=null,s+""||null}function e(){return Object(a.a)().defined(h).curve(d).context(f)}var n=s.a,u=null,c=Object(i.a)(0),l=s.b,h=Object(i.a)(!0),f=null,d=o.a,p=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:Object(i.a)(+e),u=null,t):n},t.x0=function(e){return arguments.length?(n="function"==typeof e?e:Object(i.a)(+e),t):n},t.x1=function(e){return arguments.length?(u=null==e?null:"function"==typeof e?e:Object(i.a)(+e),t):u},t.y=function(e){return arguments.length?(c="function"==typeof e?e:Object(i.a)(+e),l=null,t):c},t.y0=function(e){return arguments.length?(c="function"==typeof e?e:Object(i.a)(+e),t):c},t.y1=function(e){return arguments.length?(l=null==e?null:"function"==typeof e?e:Object(i.a)(+e),t):l},t.lineX0=t.lineY0=function(){return e().x(n).y(c)},t.lineY1=function(){return e().x(n).y(l)},t.lineX1=function(){return e().x(u).y(c)},t.defined=function(e){return arguments.length?(h="function"==typeof e?e:Object(i.a)(!!e),t):h},t.curve=function(e){return arguments.length?(d=e,null!=f&&(p=d(f)),t):d},t.context=function(e){return arguments.length?(null==e?f=p=null:p=d(f=e),t):f},t}},function(t,e,n){"use strict";e.a=function(t){return t[0]},e.b=function(t){return t[1]}},function(t,e,n){"use strict";function r(t){this._curve=t}function i(t){function e(e){return new r(t(e))}return e._curve=t,e}n.d(e,"a",function(){return o}),e.b=i;var o=i(n(57).a);r.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}}},function(t,e,n){"use strict";e.a=function(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Object(r.b)(t)):e()._curve},t};var r=n(225);n(121)},function(t,e,n){"use strict";var r=n(39);e.a={draw:function(t,e){var n=Math.sqrt(e/r.c);t.moveTo(n,0),t.arc(0,0,n,0,r.d)}}},function(t,e,n){"use strict";e.a={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}}},function(t,e,n){"use strict";var r=Math.sqrt(1/3),i=2*r;e.a={draw:function(t,e){var n=Math.sqrt(e/i),o=n*r;t.moveTo(0,-n),t.lineTo(o,0),t.lineTo(0,n),t.lineTo(-o,0),t.closePath()}}},function(t,e,n){"use strict";var r=n(39),i=Math.sin(r.c/10)/Math.sin(7*r.c/10),o=Math.sin(r.d/10)*i,a=-Math.cos(r.d/10)*i;e.a={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=o*n,s=a*n;t.moveTo(0,-n),t.lineTo(i,s);for(var u=1;u<5;++u){var c=r.d*u/5,l=Math.cos(c),h=Math.sin(c);t.lineTo(h*n,-l*n),t.lineTo(l*i-h*s,h*i+l*s)}t.closePath()}}},function(t,e,n){"use strict";e.a={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}}},function(t,e,n){"use strict";var r=Math.sqrt(3);e.a={draw:function(t,e){var n=-Math.sqrt(e/(3*r));t.moveTo(0,2*n),t.lineTo(-r*n,-n),t.lineTo(r*n,-n),t.closePath()}}},function(t,e,n){"use strict";var r=-.5,i=Math.sqrt(3)/2,o=1/Math.sqrt(12),a=3*(o/2+1);e.a={draw:function(t,e){var n=Math.sqrt(e/a),s=n/2,u=n*o,c=s,l=n*o+n,h=-c,f=l;t.moveTo(s,u),t.lineTo(c,l),t.lineTo(h,f),t.lineTo(r*s-i*u,i*s+r*u),t.lineTo(r*c-i*l,i*c+r*l),t.lineTo(r*h-i*f,i*h+r*f),t.lineTo(r*s+i*u,r*u-i*s),t.lineTo(r*c+i*l,r*l-i*c),t.lineTo(r*h+i*f,r*f-i*h),t.closePath()}}},function(t,e,n){"use strict";function r(t,e){this._context=t,this._k=(1-e)/6}e.a=r;var i=n(58),o=n(60);r.prototype={areaStart:i.a,areaEnd:i.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Object(o.b)(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new r(t,e)}return n.tension=function(e){return t(+e)},n}(0)},function(t,e,n){"use strict";function r(t,e){this._context=t,this._k=(1-e)/6}e.a=r;var i=n(60);r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(i.b)(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new r(t,e)}return n.tension=function(e){return t(+e)},n}(0)},function(t,e,n){"use strict";function r(t){return function(e){var n,r,o=e.length,a=new Array(o),s=new Array(o),u=new Array(o);for(n=0;n<o;++n)r=Object(i.f)(e[n]),a[n]=r.r||0,s[n]=r.g||0,u[n]=r.b||0;return a=t(a),s=t(s),u=t(u),r.opacity=1,function(t){return r.r=a(t),r.g=s(t),r.b=u(t),r+""}}}n.d(e,"b",function(){return u}),n.d(e,"c",function(){return c});var i=n(3),o=n(125),a=n(237),s=n(42);e.a=function t(e){function n(t,e){var n=r((t=Object(i.f)(t)).r,(e=Object(i.f)(e)).r),o=r(t.g,e.g),a=r(t.b,e.b),u=Object(s.a)(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=o(e),t.b=a(e),t.opacity=u(e),t+""}}var r=Object(s.b)(e);return n.gamma=t,n}(1);var u=r(o.b),c=r(a.a)},function(t,e,n){"use strict";var r=n(125);e.a=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),o=t[(i+e-1)%e],a=t[i%e],s=t[(i+1)%e],u=t[(i+2)%e];return Object(r.a)((n-i/e)*e,o,a,s,u)}}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(124);e.a=function(t,e){var n,i=e?e.length:0,o=t?Math.min(i,t.length):0,a=new Array(o),s=new Array(i);for(n=0;n<o;++n)a[n]=Object(r.a)(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<o;++n)s[n]=a[n](t);return s}}},function(t,e,n){"use strict";e.a=function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}},function(t,e,n){"use strict";var r=n(124);e.a=function(t,e){var n,i={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Object(r.a)(t[n],e[n]):o[n]=e[n];return function(t){for(n in i)o[n]=i[n](t);return o}}},function(t,e,n){"use strict";var r=n(61),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o=new RegExp(i.source,"g");e.a=function(t,e){var n,a,s,u=i.lastIndex=o.lastIndex=0,c=-1,l=[],h=[];for(t+="",e+="";(n=i.exec(t))&&(a=o.exec(e));)(s=a.index)>u&&(s=e.slice(u,s),l[c]?l[c]+=s:l[++c]=s),(n=n[0])===(a=a[0])?l[c]?l[c]+=a:l[++c]=a:(l[++c]=null,h.push({i:c,x:Object(r.a)(n,a)})),u=o.lastIndex;return u<e.length&&(s=e.slice(u),l[c]?l[c]+=s:l[++c]=s),l.length<2?h[0]?function(t){return function(e){return t(e)+""}}(h[0].x):function(t){return function(){return t}}(e):(e=h.length,function(t){for(var n,r=0;r<e;++r)l[(n=h[r]).i]=n.x(t);return l.join("")})}},function(t,e,n){"use strict";function r(t){return t.target.depth}e.c=function(t){return t.depth},e.d=function(t,e){return e-1-t.height},e.b=function(t,e){return t.sourceLinks.length?t.depth:e-1},e.a=function(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?Object(i.o)(t.sourceLinks,r)-1:0};var i=n(2)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(245),i=(n.n(r),n(19));n.d(e,"generatorMixin",function(){return i.a});var o=n(659);n.d(e,"ChartAxis",function(){return o.a});var a=n(660);n.d(e,"ChartPie",function(){return a.a});var s=n(661);n.d(e,"ChartSankey",function(){return s.a});var u=n(662);n.d(e,"ChartSunburst",function(){return u.a});var c=n(663);n.d(e,"Generator",function(){return c.a})},function(t,e,n){var r=n(246);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals),n(248)("0b0c1403",r,!0)},function(t,e,n){(t.exports=n(247)(void 0)).push([t.i,".vue-d2b-container {\n  width: 100%;\n  height: 100%; }\n",""])},function(t,e){function n(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(r);return[n].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([i]).join("\n")}return[n].join("\n")}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){function r(t){for(var e=0;e<t.length;e++){var n=t[e],r=c[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(o(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(o(n.parts[i]));c[n.id]={id:n.id,refs:1,parts:a}}}}function i(){var t=document.createElement("style");return t.type="text/css",l.appendChild(t),t}function o(t){var e,n,r=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(r){if(d)return p;r.parentNode.removeChild(r)}if(v){var o=f++;r=h||(h=i()),e=a.bind(null,r,o,!1),n=a.bind(null,r,o,!0)}else r=i(),e=function(t,e){var n=e.css,r=e.media,i=e.sourceMap;if(r&&t.setAttribute("media",r),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}function a(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=g(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var u=n(249),c={},l=s&&(document.head||document.getElementsByTagName("head")[0]),h=null,f=0,d=!1,p=function(){},v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n){d=n;var i=u(t,e);return r(i),function(e){for(var n=[],o=0;o<i.length;o++){var a=i[o];(s=c[a.id]).refs--,n.push(s)}e?r(i=u(t,e)):i=[];for(o=0;o<n.length;o++){var s;if(0===(s=n[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete c[s.id]}}}};var g=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=o[0],s={id:t+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="4.11.0"},function(t,e,n){"use strict";var r=n(129);e.a=function(t,e,n){var i,o,a,s,u=t.length,c=e.length,l=new Array(u*c);for(null==n&&(n=r.b),i=a=0;i<u;++i)for(s=t[i],o=0;o<c;++o,++a)l[a]=n(s,e[o]);return l}},function(t,e,n){"use strict";e.a=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}},function(t,e,n){"use strict";var r=n(133),i=n(127),o=n(254),a=n(132),s=n(255),u=n(134),c=n(135),l=n(136);e.a=function(){function t(t){var r,o,a=t.length,s=new Array(a);for(r=0;r<a;++r)s[r]=e(t[r],r,t);var l=n(s),f=l[0],d=l[1],p=h(s,f,d);Array.isArray(p)||(p=Object(c.c)(f,d,p),p=Object(u.a)(Math.ceil(f/p)*p,Math.floor(d/p)*p,p));for(var v=p.length;p[0]<=f;)p.shift(),--v;for(;p[v-1]>d;)p.pop(),--v;var g,m=new Array(v+1);for(r=0;r<=v;++r)(g=m[r]=[]).x0=r>0?p[r-1]:f,g.x1=r<v?p[r]:d;for(r=0;r<a;++r)f<=(o=s[r])&&o<=d&&m[Object(i.c)(p,o,0,v)].push(t[r]);return m}var e=s.a,n=a.a,h=l.a;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:Object(o.a)(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:Object(o.a)([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(h="function"==typeof e?e:Array.isArray(e)?Object(o.a)(r.b.call(e)):Object(o.a)(e),t):h},t}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";var r=n(133),i=n(20),o=n(26),a=n(62);e.a=function(t,e,n){return t=r.a.call(t,o.a).sort(i.a),Math.ceil((n-e)/(2*(Object(a.a)(t,.75)-Object(a.a)(t,.25))*Math.pow(t.length,-1/3)))}},function(t,e,n){"use strict";var r=n(130);e.a=function(t,e,n){return Math.ceil((n-e)/(3.5*Object(r.a)(t)*Math.pow(t.length,-1/3)))}},function(t,e,n){"use strict";e.a=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r}},function(t,e,n){"use strict";var r=n(26);e.a=function(t,e){var n,i=t.length,o=i,a=-1,s=0;if(null==e)for(;++a<i;)isNaN(n=Object(r.a)(t[a]))?--o:s+=n;else for(;++a<i;)isNaN(n=Object(r.a)(e(t[a],a,t)))?--o:s+=n;if(o)return s/o}},function(t,e,n){"use strict";var r=n(20),i=n(26),o=n(62);e.a=function(t,e){var n,a=t.length,s=-1,u=[];if(null==e)for(;++s<a;)isNaN(n=Object(i.a)(t[s]))||u.push(n);else for(;++s<a;)isNaN(n=Object(i.a)(e(t[s],s,t)))||u.push(n);return Object(o.a)(u.sort(r.a),.5)}},function(t,e,n){"use strict";e.a=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n}},function(t,e,n){"use strict";e.a=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r}},function(t,e,n){"use strict";var r=n(20);e.a=function(t,e){if(n=t.length){var n,i,o=0,a=0,s=t[a];for(null==e&&(e=r.a);++o<n;)(e(i=t[o],s)<0||0!==e(s,s))&&(s=i,a=o);return 0===e(s,s)?a:void 0}}},function(t,e,n){"use strict";e.a=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t}},function(t,e,n){"use strict";e.a=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o}},function(t,e,n){"use strict";var r=n(138);e.a=function(){return Object(r.a)(arguments)}},function(t,e,n){"use strict";var r=n(268);n.d(e,"d",function(){return r.d}),n.d(e,"c",function(){return r.c}),n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return r.b})},function(t,e,n){"use strict";function r(t){return"translate("+(t+.5)+",0)"}function i(t){return"translate(0,"+(t+.5)+")"}function o(){return!this.__axis}function a(t,e){function n(n){var r=null==p?e.ticks?e.ticks.apply(e,a):e.domain():p,i=null==v?e.tickFormat?e.tickFormat.apply(e,a):u.a:v,s=Math.max(g,0)+y,x=e.range(),E=+x[0]+.5,C=+x[x.length-1]+.5,k=(e.bandwidth?function(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}:function(t){return function(e){return+t(e)}})(e.copy()),T=n.selection?n.selection():n,S=T.selectAll(".domain").data([null]),O=T.selectAll(".tick").data(r,e).order(),M=O.exit(),A=O.enter().append("g").attr("class","tick"),P=O.select("line"),I=O.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),O=O.merge(A),P=P.merge(A.append("line").attr("stroke","#000").attr(_+"2",b*g)),I=I.merge(A.append("text").attr("fill","#000").attr(_,b*s).attr("dy",t===c?"0em":t===h?"0.71em":"0.32em")),n!==T&&(S=S.transition(n),O=O.transition(n),P=P.transition(n),I=I.transition(n),M=M.transition(n).attr("opacity",d).attr("transform",function(t){return isFinite(t=k(t))?w(t):this.getAttribute("transform")}),A.attr("opacity",d).attr("transform",function(t){var e=this.parentNode.__axis;return w(e&&isFinite(e=e(t))?e:k(t))})),M.remove(),S.attr("d",t===f||t==l?"M"+b*m+","+E+"H0.5V"+C+"H"+b*m:"M"+E+","+b*m+"V0.5H"+C+"V"+b*m),O.attr("opacity",1).attr("transform",function(t){return w(k(t))}),P.attr(_+"2",b*g),I.attr(_,b*s).text(i),T.filter(o).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===l?"start":t===f?"end":"middle"),T.each(function(){this.__axis=k})}var a=[],p=null,v=null,g=6,m=6,y=3,b=t===c||t===f?-1:1,_=t===f||t===l?"x":"y",w=t===c||t===h?r:i;return n.scale=function(t){return arguments.length?(e=t,n):e},n.ticks=function(){return a=s.a.call(arguments),n},n.tickArguments=function(t){return arguments.length?(a=null==t?[]:s.a.call(t),n):a.slice()},n.tickValues=function(t){return arguments.length?(p=null==t?null:s.a.call(t),n):p&&p.slice()},n.tickFormat=function(t){return arguments.length?(v=t,n):v},n.tickSize=function(t){return arguments.length?(g=m=+t,n):g},n.tickSizeInner=function(t){return arguments.length?(g=+t,n):g},n.tickSizeOuter=function(t){return arguments.length?(m=+t,n):m},n.tickPadding=function(t){return arguments.length?(y=+t,n):y},n}e.d=function(t){return a(c,t)},e.c=function(t){return a(l,t)},e.a=function(t){return a(h,t)},e.b=function(t){return a(f,t)};var s=n(269),u=n(270),c=1,l=2,h=3,f=4,d=1e-6},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.prototype.slice},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";var r=n(272);n.d(e,"a",function(){return r.d}),n.d(e,"c",function(){return r.b}),n.d(e,"d",function(){return r.c}),n.d(e,"b",function(){return r.a})},function(t,e,n){"use strict";function r(t){return{type:t}}function i(){return!f.c.button}function o(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function a(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function s(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function u(t){function e(e){var i=e.property("__brush",A).selectAll(".overlay").data([r("overlay")]);i.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",C.overlay).merge(i).each(function(){var t=a(this).extent;Object(f.i)(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([r("selection")]).enter().append("rect").attr("class","selection").attr("cursor",C.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var o=e.selectAll(".handle").data(t.handles,function(t){return t.type});o.exit().remove(),o.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return C[t.type]}),e.each(n).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",M)}function n(){var t=Object(f.i)(this),e=a(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-R/2:e[0][0]-R/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-R/2:e[0][1]-R/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+R:R}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+R:R})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(t,e){return t.__brush.emitter||new E(t,e)}function E(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function M(){function e(){var t=Object(f.f)(F);!Q||j||L||(Math.abs(t[0]-J[0])>Math.abs(t[1]-J[1])?L=!0:j=!0),J=t,R=!0,Object(g.a)(),r()}function r(){var t;switch(I=J[0]-X[0],D=J[1]-X[1],$){case y:case m:U&&(I=Math.max(W-o,Math.min(K-v,I)),c=o+I,E=v+I),z&&(D=Math.max(G-h,Math.min(Y-M,D)),p=h+D,A=M+D);break;case b:U<0?(I=Math.max(W-o,Math.min(K-o,I)),c=o+I,E=v):U>0&&(I=Math.max(W-v,Math.min(K-v,I)),c=o,E=v+I),z<0?(D=Math.max(G-h,Math.min(Y-h,D)),p=h+D,A=M):z>0&&(D=Math.max(G-M,Math.min(Y-M,D)),p=h,A=M+D);break;case _:U&&(c=Math.max(W,Math.min(K,o-I*U)),E=Math.max(W,Math.min(K,v+I*U))),z&&(p=Math.max(G,Math.min(Y,h-D*z)),A=Math.max(G,Math.min(Y,M+D*z)))}E<c&&(U*=-1,t=o,o=v,v=t,t=c,c=E,E=t,B in k&&et.attr("cursor",C[B=k[B]])),A<p&&(z*=-1,t=h,h=M,M=t,t=p,p=A,A=t,B in T&&et.attr("cursor",C[B=T[B]])),q.selection&&(H=q.selection),j&&(c=H[0][0],E=H[1][0]),L&&(p=H[0][1],A=H[1][1]),H[0][0]===c&&H[0][1]===p&&H[1][0]===E&&H[1][1]===A||(q.selection=[[c,p],[E,A]],n.call(F),Z.brush())}function i(){if(Object(g.b)(),f.c.touches){if(f.c.touches.length)return;P&&clearTimeout(P),P=setTimeout(function(){P=null},500),tt.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Object(l.c)(f.c.view,R),nt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);tt.attr("pointer-events","all"),et.attr("cursor",C.overlay),q.selection&&(H=q.selection),s(H)&&(q.selection=null,n.call(F)),Z.end()}if(f.c.touches){if(f.c.changedTouches.length<f.c.touches.length)return Object(g.a)()}else if(P)return;if(N.apply(this,arguments)){var o,c,h,p,v,E,M,A,I,D,R,j,L,F=this,B=f.c.target.__data__.type,$="selection"===(f.c.metaKey?B="overlay":B)?m:f.c.altKey?_:b,U=t===x?null:S[B],z=t===w?null:O[B],q=a(F),V=q.extent,H=q.selection,W=V[0][0],G=V[0][1],K=V[1][0],Y=V[1][1],Q=U&&z&&f.c.shiftKey,X=Object(f.f)(F),J=X,Z=u(F,arguments).beforestart();"overlay"===B?q.selection=H=[[o=t===x?W:X[0],h=t===w?G:X[1]],[v=t===x?K:o,M=t===w?Y:h]]:(o=H[0][0],h=H[0][1],v=H[1][0],M=H[1][1]),c=o,p=h,E=v,A=M;var tt=Object(f.i)(F).attr("pointer-events","none"),et=tt.selectAll(".overlay").attr("cursor",C[B]);if(f.c.touches)tt.on("touchmove.brush",e,!0).on("touchend.brush touchcancel.brush",i,!0);else{var nt=Object(f.i)(f.c.view).on("keydown.brush",function(){switch(f.c.keyCode){case 16:Q=U&&z;break;case 18:$===b&&(U&&(v=E-I*U,o=c+I*U),z&&(M=A-D*z,h=p+D*z),$=_,r());break;case 32:$!==b&&$!==_||(U<0?v=E-I:U>0&&(o=c-I),z<0?M=A-D:z>0&&(h=p-D),$=y,et.attr("cursor",C.selection),r());break;default:return}Object(g.a)()},!0).on("keyup.brush",function(){switch(f.c.keyCode){case 16:Q&&(j=L=Q=!1,r());break;case 18:$===_&&(U<0?v=E:U>0&&(o=c),z<0?M=A:z>0&&(h=p),$=b,r());break;case 32:$===y&&(f.c.altKey?(U&&(v=E-I*U,o=c+I*U),z&&(M=A-D*z,h=p+D*z),$=_):(U<0?v=E:U>0&&(o=c),z<0?M=A:z>0&&(h=p),$=b),et.attr("cursor",C[B]),r());break;default:return}Object(g.a)()},!0).on("mousemove.brush",e,!0).on("mouseup.brush",i,!0);Object(l.b)(f.c.view)}Object(g.b)(),Object(d.b)(F),n.call(F),Z.start()}}function A(){var e=this.__brush||{selection:null};return e.extent=I.apply(this,arguments),e.dim=t,e}var P,I=o,N=i,D=Object(c.a)(e,"start","brush","end"),R=6;return e.move=function(e,r){e.selection?e.on("start.brush",function(){u(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){u(this,arguments).end()}).tween("brush",function(){function e(t){o.selection=1===t&&s(l)?null:f(t),n.call(i),a.brush()}var i=this,o=i.__brush,a=u(i,arguments),c=o.selection,l=t.input("function"==typeof r?r.apply(this,arguments):r,o.extent),f=Object(h.a)(c,l);return c&&l?e:e(1)}):e.each(function(){var e=this,i=arguments,o=e.__brush,a=t.input("function"==typeof r?r.apply(e,i):r,o.extent),c=u(e,i).beforestart();Object(d.b)(e),o.selection=null==a||s(a)?null:a,n.call(e),c.start().brush().end()})},E.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){Object(f.b)(new v.a(e,n,t.output(this.state.selection)),D.apply,D,[n,this.that,this.args])}},e.extent=function(t){return arguments.length?(I="function"==typeof t?t:Object(p.a)([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):I},e.filter=function(t){return arguments.length?(N="function"==typeof t?t:Object(p.a)(!!t),e):N},e.handleSize=function(t){return arguments.length?(R=+t,e):R},e.on=function(){var t=D.on.apply(D,arguments);return t===D?e:t},e}e.a=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},e.b=function(){return u(w)},e.c=function(){return u(x)};var c=n(15),l=n(63),h=n(6),f=n(1),d=n(76),p=n(354),v=n(355),g=n(356),m={name:"drag"},y={name:"space"},b={name:"handle"},_={name:"center"},w={name:"x",handles:["e","w"].map(r),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},x={name:"y",handles:["n","s"].map(r),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},E={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(r),input:function(t){return t},output:function(t){return t}},C={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},k={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},T={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},S={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},O={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};e.d=function(){return u(E)}},function(t,e,n){"use strict";function r(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function o(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function a(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=s,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}var s={value:function(){}};i.prototype=r.prototype={constructor:i,on:function(t,e){var n,r=this._,i=function(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}(t+"",r),s=-1,u=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<u;)if(n=(t=i[s]).type)r[n]=a(r[n],t.name,e);else if(null==e)for(n in r)r[n]=a(r[n],t.name,null);return this}for(;++s<u;)if((n=(t=i[s]).type)&&(n=o(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new i(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},e.a=r},function(t,e,n){"use strict";function r(){return!u.c.button}function i(){return this.parentNode}function o(t){return null==t?{x:u.c.x,y:u.c.y}:t}function a(){return"ontouchstart"in this}var s=n(15),u=n(1),c=n(144),l=n(145),h=n(308),f=n(309);e.a=function(){function t(t){t.on("mousedown.drag",e).filter(k).on("touchstart.drag",p).on("touchmove.drag",v).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){if(!w&&x.apply(this,arguments)){var t=m("mouse",E.apply(this,arguments),u.f,this,arguments);t&&(Object(u.i)(u.c.view).on("mousemove.drag",n,!0).on("mouseup.drag",d,!0),Object(c.a)(u.c.view),Object(l.b)(),_=!1,y=u.c.clientX,b=u.c.clientY,t("start"))}}function n(){if(Object(l.a)(),!_){var t=u.c.clientX-y,e=u.c.clientY-b;_=t*t+e*e>M}T.mouse("drag")}function d(){Object(u.i)(u.c.view).on("mousemove.drag mouseup.drag",null),Object(c.b)(u.c.view,_),Object(l.a)(),T.mouse("end")}function p(){if(x.apply(this,arguments)){var t,e,n=u.c.changedTouches,r=E.apply(this,arguments),i=n.length;for(t=0;t<i;++t)(e=m(n[t].identifier,r,u.o,this,arguments))&&(Object(l.b)(),e("start"))}}function v(){var t,e,n=u.c.changedTouches,r=n.length;for(t=0;t<r;++t)(e=T[n[t].identifier])&&(Object(l.a)(),e("drag"))}function g(){var t,e,n=u.c.changedTouches,r=n.length;for(w&&clearTimeout(w),w=setTimeout(function(){w=null},500),t=0;t<r;++t)(e=T[n[t].identifier])&&(Object(l.b)(),e("end"))}function m(e,n,r,i,o){var a,s,c,l=r(n,e),h=S.copy();if(Object(u.b)(new f.a(t,"beforestart",a,e,O,l[0],l[1],0,0,h),function(){return null!=(u.c.subject=a=C.apply(i,o))&&(s=a.x-l[0]||0,c=a.y-l[1]||0,!0)}))return function d(p){var v,g=l;switch(p){case"start":T[e]=d,v=O++;break;case"end":delete T[e],--O;case"drag":l=r(n,e),v=O}Object(u.b)(new f.a(t,p,a,e,v,l[0]+s,l[1]+c,l[0]-g[0],l[1]-g[1],h),h.apply,h,[p,i,o])}}var y,b,_,w,x=r,E=i,C=o,k=a,T={},S=Object(s.a)("start","drag","end"),O=0,M=0;return t.filter=function(e){return arguments.length?(x="function"==typeof e?e:Object(h.a)(!!e),t):x},t.container=function(e){return arguments.length?(E="function"==typeof e?e:Object(h.a)(e),t):E},t.subject=function(e){return arguments.length?(C="function"==typeof e?e:Object(h.a)(e),t):C},t.touchable=function(e){return arguments.length?(k="function"==typeof e?e:Object(h.a)(!!e),t):k},t.on=function(){var e=S.on.apply(S,arguments);return e===S?t:e},t.clickDistance=function(e){return arguments.length?(M=(e=+e)*e,t):Math.sqrt(M)},t}},function(t,e,n){"use strict";function r(){return new i}function i(){this._="@"+(++o).toString(36)}e.a=r;var o=0;i.prototype=r.prototype={constructor:i,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}}},function(t,e,n){"use strict";var r=n(67),i=n(69);e.a=function(t){var e=Object(r.a)();return e.changedTouches&&(e=e.changedTouches[0]),Object(i.a)(t,e)}},function(t,e,n){"use strict";var r=n(5);e.a=function(t){return"string"==typeof t?new r.a([[document.querySelector(t)]],[document.documentElement]):new r.a([[t]],r.c)}},function(t,e,n){"use strict";var r=n(5),i=n(70);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,u,c=e[a],l=c.length,h=o[a]=new Array(l),f=0;f<l;++f)(s=c[f])&&(u=t.call(s,s.__data__,f,c))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u);return new r.a(o,this._parents)}},function(t,e,n){"use strict";var r=n(5),i=n(140);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=[],a=[],s=0;s<n;++s)for(var u,c=e[s],l=c.length,h=0;h<l;++h)(u=c[h])&&(o.push(t.call(u,u.__data__,h,c)),a.push(u));return new r.a(o,a)}},function(t,e,n){"use strict";var r=n(5),i=n(139);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,u=e[a],c=u.length,l=o[a]=[],h=0;h<c;++h)(s=u[h])&&t.call(s,s.__data__,h,u)&&l.push(s);return new r.a(o,this._parents)}},function(t,e,n){"use strict";function r(t,e,n,r,i,o){for(var s,u=0,c=e.length,l=o.length;u<l;++u)(s=e[u])?(s.__data__=o[u],r[u]=s):n[u]=new a.a(t,o[u]);for(;u<c;++u)(s=e[u])&&(i[u]=s)}function i(t,e,n,r,i,o,s){var c,l,h,f={},d=e.length,p=o.length,v=new Array(d);for(c=0;c<d;++c)(l=e[c])&&(v[c]=h=u+s.call(l,l.__data__,c,e),h in f?i[c]=l:f[h]=l);for(c=0;c<p;++c)(l=f[h=u+s.call(t,o[c],c,o)])?(r[c]=l,l.__data__=o[c],f[h]=null):n[c]=new a.a(t,o[c]);for(c=0;c<d;++c)(l=e[c])&&f[v[c]]===l&&(i[c]=l)}var o=n(5),a=n(141),s=n(282),u="$";e.a=function(t,e){if(!t)return m=new Array(this.size()),d=-1,this.each(function(t){m[++d]=t}),m;var n=e?i:r,a=this._parents,u=this._groups;"function"!=typeof t&&(t=Object(s.a)(t));for(var c=u.length,l=new Array(c),h=new Array(c),f=new Array(c),d=0;d<c;++d){var p=a[d],v=u[d],g=v.length,m=t.call(p,p&&p.__data__,d,a),y=m.length,b=h[d]=new Array(y),_=l[d]=new Array(y);n(p,v,b,_,f[d]=new Array(g),m,e);for(var w,x,E=0,C=0;E<y;++E)if(w=b[E]){for(E>=C&&(C=E+1);!(x=_[C])&&++C<y;);w._next=x||null}}return(l=new o.a(l,a))._enter=h,l._exit=f,l}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(142),i=n(5);e.a=function(){return new i.a(this._exit||this._groups.map(r.a),this._parents)}},function(t,e,n){"use strict";var r=n(5);e.a=function(t){for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var c,l=e[u],h=n[u],f=l.length,d=s[u]=new Array(f),p=0;p<f;++p)(c=l[p]||h[p])&&(d[p]=c);for(;u<i;++u)s[u]=e[u];return new r.a(s,this._parents)}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this}},function(t,e,n){"use strict";function r(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var i=n(5);e.a=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=r);for(var n=this._groups,o=n.length,a=new Array(o),s=0;s<o;++s){for(var u,c=n[s],l=c.length,h=a[s]=new Array(l),f=0;f<l;++f)(u=c[f])&&(h[f]=u);h.sort(e)}return new i.a(a,this._parents).order()}},function(t,e,n){"use strict";e.a=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}},function(t,e,n){"use strict";e.a=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}},function(t,e,n){"use strict";e.a=function(){var t=0;return this.each(function(){++t}),t}},function(t,e,n){"use strict";e.a=function(){return!this.node()}},function(t,e,n){"use strict";e.a=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this}},function(t,e,n){"use strict";var r=n(65);e.a=function(t,e){var n=Object(r.a)(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))}},function(t,e,n){"use strict";e.a=function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]}},function(t,e,n){"use strict";function r(t){return t.trim().split(/^|\s+/)}function i(t){return t.classList||new o(t)}function o(t){this._node=t,this._names=r(t.getAttribute("class")||"")}function a(t,e){for(var n=i(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function s(t,e){for(var n=i(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function u(t){return function(){a(this,t)}}function c(t){return function(){s(this,t)}}function l(t,e){return function(){(e.apply(this,arguments)?a:s)(this,t)}}o.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}},e.a=function(t,e){var n=r(t+"");if(arguments.length<2){for(var o=i(this.node()),a=-1,s=n.length;++a<s;)if(!o.contains(n[a]))return!1;return!0}return this.each(("function"==typeof e?l:e?u:c)(n,e))}},function(t,e,n){"use strict";function r(){this.textContent=""}e.a=function(t){return arguments.length?this.each(null==t?r:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent}},function(t,e,n){"use strict";function r(){this.innerHTML=""}e.a=function(t){return arguments.length?this.each(null==t?r:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML}},function(t,e,n){"use strict";function r(){this.nextSibling&&this.parentNode.appendChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";var r=n(64);e.a=function(t){var e="function"==typeof t?t:Object(r.a)(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}},function(t,e,n){"use strict";function r(){return null}var i=n(64),o=n(70);e.a=function(t,e){var n="function"==typeof t?t:Object(i.a)(t),a=null==e?r:"function"==typeof e?e:Object(o.a)(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})}},function(t,e,n){"use strict";function r(){var t=this.parentNode;t&&t.removeChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";e.a=function(t){return arguments.length?this.property("__data__",t):this.node().__data__}},function(t,e,n){"use strict";function r(t,e,n){var r=Object(i.a)(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}var i=n(71);e.a=function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return r(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return r(this,t,e)}})(t,e))}},function(t,e,n){"use strict";var r=n(5);e.a=function(t){return"string"==typeof t?new r.a([document.querySelectorAll(t)],[document.documentElement]):new r.a([null==t?[]:t],r.c)}},function(t,e,n){"use strict";var r=n(67),i=n(69);e.a=function(t,e,n){arguments.length<3&&(n=e,e=Object(r.a)().changedTouches);for(var o,a=0,s=e?e.length:0;a<s;++a)if((o=e[a]).identifier===n)return Object(i.a)(t,o);return null}},function(t,e,n){"use strict";var r=n(67),i=n(69);e.a=function(t,e){null==e&&(e=Object(r.a)().touches);for(var n=0,o=e?e.length:0,a=new Array(o);n<o;++n)a[n]=Object(i.a)(t,e[n]);return a}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=c}e.a=r,r.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t}},function(t,e,n){"use strict";function r(t){if(t instanceof o)return new o(t.l,t.a,t.b,t.opacity);if(t instanceof f){var e=t.h*v.a;return new o(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof p.b||(t=Object(p.h)(t));var n=c(t.r),r=c(t.g),i=c(t.b),s=a((.4124564*n+.3575761*r+.1804375*i)/g),u=a((.2126729*n+.7151522*r+.072175*i)/m);return new o(116*u-16,500*(s-u),200*(u-a((.0193339*n+.119192*r+.9503041*i)/y)),t.opacity)}function i(t,e,n,i){return 1===arguments.length?r(t):new o(t,e,n,null==i?1:i)}function o(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function a(t){return t>x?Math.pow(t,1/3):t/w+b}function s(t){return t>_?t*t*t:w*(t-b)}function u(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function c(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function l(t){if(t instanceof f)return new f(t.h,t.c,t.l,t.opacity);t instanceof o||(t=r(t));var e=Math.atan2(t.b,t.a)*v.b;return new f(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function h(t,e,n,r){return 1===arguments.length?l(t):new f(t,e,n,null==r?1:r)}function f(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}e.a=i,e.b=h;var d=n(74),p=n(73),v=n(146),g=.95047,m=1,y=1.08883,b=4/29,_=6/29,w=3*_*_,x=_*_*_;Object(d.a)(o,i,Object(d.b)(p.a,{brighter:function(t){return new o(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new o(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=m*s(t),e=g*s(e),n=y*s(n),new p.b(u(3.2404542*e-1.5371385*t-.4985314*n),u(-.969266*e+1.8760108*t+.041556*n),u(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Object(d.a)(f,h,Object(d.b)(p.a,{brighter:function(t){return new f(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new f(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return r(this).rgb()}}))},function(t,e,n){"use strict";function r(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof i)return new i(t.h,t.s,t.l,t.opacity);t instanceof a.b||(t=Object(a.h)(t));var e=t.r/255,n=t.g/255,r=t.b/255,o=(v*r+d*e-p*n)/(v+d-p),u=r-o,c=(f*(n-o)-l*u)/h,g=Math.sqrt(c*c+u*u)/(f*o*(1-o)),m=g?Math.atan2(c,u)*s.b-120:NaN;return new i(m<0?m+360:m,g,o,t.opacity)}(t):new i(t,e,n,null==r?1:r)}function i(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}e.a=r;var o=n(74),a=n(73),s=n(146),u=-.14861,c=1.78277,l=-.29227,h=-.90649,f=1.97294,d=f*h,p=f*c,v=c*l-h*u;Object(o.a)(i,r,Object(o.b)(a.a,{brighter:function(t){return t=null==t?a.c:Math.pow(a.c,t),new i(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?a.d:Math.pow(a.d,t),new i(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*s.a,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new a.b(255*(e+n*(u*r+c*i)),255*(e+n*(l*r+h*i)),255*(e+n*(f*r)),this.opacity)}}))},function(t,e,n){"use strict";e.a=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}},function(t,e,n){"use strict";function r(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}function a(t,r,o,a,s,u){if(t!==o||r!==a){var c=s.push("translate(",null,e,null,n);u.push({i:c-4,x:Object(i.a)(t,o)},{i:c-2,x:Object(i.a)(r,a)})}else(o||a)&&s.push("translate("+o+e+a+n)}function s(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Object(i.a)(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}function u(t,e,n,a){t!==e?a.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Object(i.a)(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}function c(t,e,n,r,a,s){if(t!==n||e!==r){var u=a.push(o(a)+"scale(",null,",",null,")");s.push({i:u-4,x:Object(i.a)(t,n)},{i:u-2,x:Object(i.a)(e,r)})}else 1===n&&1===r||a.push(o(a)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),a(e.translateX,e.translateY,n.translateX,n.translateY,r,i),s(e.rotate,n.rotate,r,i),u(e.skewX,n.skewX,r,i),c(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){for(var e,n=-1,o=i.length;++n<o;)r[(e=i[n]).i]=e.x(t);return r.join("")}}}n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});var i=n(43),o=n(314),a=r(o.a,"px, ","px)","deg)"),s=r(o.b,", ",")",")")},function(t,e,n){"use strict";e.a=function(t){return"none"===t?s.b:(r||(r=document.createElement("DIV"),i=document.documentElement,o=document.defaultView),r.style.transform=t,t=o.getComputedStyle(i.appendChild(r),null).getPropertyValue("transform"),i.removeChild(r),t=t.slice(7,-1).split(","),Object(s.a)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},e.b=function(t){return null==t?s.b:(a||(a=document.createElementNS("http://www.w3.org/2000/svg","g")),a.setAttribute("transform",t),(t=a.transform.baseVal.consolidate())?(t=t.matrix,Object(s.a)(t.a,t.b,t.c,t.d,t.e,t.f)):s.b)};var r,i,o,a,s=n(315)},function(t,e,n){"use strict";n.d(e,"b",function(){return i});var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};e.a=function(t,e,n,i,o,a){var s,u,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*i)&&(n-=t*c,i-=e*c),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,c/=u),t*i<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*r,skewX:Math.atan(c)*r,scaleX:s,scaleY:u}}},function(t,e,n){"use strict";function r(t){return((t=Math.exp(t))+1/t)/2}var i=Math.SQRT2;e.a=function(t,e){var n,o,a=t[0],s=t[1],u=t[2],c=e[0],l=e[1],h=e[2],f=c-a,d=l-s,p=f*f+d*d;if(p<1e-12)o=Math.log(h/u)/i,n=function(t){return[a+t*f,s+t*d,u*Math.exp(i*t*o)]};else{var v=Math.sqrt(p),g=(h*h-u*u+4*p)/(2*u*2*v),m=(h*h-u*u-4*p)/(2*h*2*v),y=Math.log(Math.sqrt(g*g+1)-g),b=Math.log(Math.sqrt(m*m+1)-m);o=(b-y)/i,n=function(t){var e=t*o,n=r(y),c=u/(2*v)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(i*e+y)-function(t){return((t=Math.exp(t))-1/t)/2}(y));return[a+c*f,s+c*d,u*n/r(i*e+y)]}}return n.duration=1e3*o,n}},function(t,e,n){"use strict";function r(t){return function(e,n){var r=t((e=Object(i.d)(e)).h,(n=Object(i.d)(n)).h),a=Object(o.a)(e.s,n.s),s=Object(o.a)(e.l,n.l),u=Object(o.a)(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=a(t),e.l=s(t),e.opacity=u(t),e+""}}}n.d(e,"b",function(){return a});var i=n(3),o=n(27);e.a=r(o.c);var a=r(o.a)},function(t,e,n){"use strict";e.a=function(t,e){var n=Object(i.a)((t=Object(r.e)(t)).l,(e=Object(r.e)(e)).l),o=Object(i.a)(t.a,e.a),a=Object(i.a)(t.b,e.b),s=Object(i.a)(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=o(e),t.b=a(e),t.opacity=s(e),t+""}};var r=n(3),i=n(27)},function(t,e,n){"use strict";function r(t){return function(e,n){var r=t((e=Object(i.c)(e)).h,(n=Object(i.c)(n)).h),a=Object(o.a)(e.c,n.c),s=Object(o.a)(e.l,n.l),u=Object(o.a)(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=a(t),e.l=s(t),e.opacity=u(t),e+""}}}n.d(e,"b",function(){return a});var i=n(3),o=n(27);e.a=r(o.c);var a=r(o.a)},function(t,e,n){"use strict";function r(t){return function e(n){function r(e,r){var a=t((e=Object(i.b)(e)).h,(r=Object(i.b)(r)).h),s=Object(o.a)(e.s,r.s),u=Object(o.a)(e.l,r.l),c=Object(o.a)(e.opacity,r.opacity);return function(t){return e.h=a(t),e.s=s(t),e.l=u(Math.pow(t,n)),e.opacity=c(t),e+""}}return n=+n,r.gamma=e,r}(1)}n.d(e,"a",function(){return a});var i=n(3),o=n(27);e.b=r(o.c);var a=r(o.a)},function(t,e,n){"use strict";e.a=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}},function(t,e,n){"use strict";var r=n(1),i=n(323),o=n(326);r.k.prototype.interrupt=i.a,r.k.prototype.transition=o.a},function(t,e,n){"use strict";var r=n(154);e.a=function(t){return this.each(function(){Object(r.a)(this,t)})}},function(t,e,n){"use strict";var r=n(77);e.a=function(t,e,n){var i=new r.a;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i}},function(t,e,n){"use strict";var r=n(77);e.a=function(t,e,n){var i=new r.a,o=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?Object(r.b)():+n,i.restart(function r(a){a+=o,i.restart(r,o+=e,n),t(a)},e,n),i)}},function(t,e,n){"use strict";function r(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return u.time=Object(s.b)(),u;return n}var i=n(13),o=n(7),a=n(156),s=n(44),u={time:null,delay:0,duration:250,ease:a.o};e.a=function(t){var e,n;t instanceof i.a?(e=t._id,t=t._name):(e=Object(i.c)(),(n=u).time=Object(s.b)(),t=null==t?null:t+"");for(var a=this._groups,c=a.length,l=0;l<c;++l)for(var h,f=a[l],d=f.length,p=0;p<d;++p)(h=f[p])&&Object(o.e)(h,t,e,p,f,n||r(h,e));return new i.a(a,this._parents,t,e)}},function(t,e,n){"use strict";var r=n(6),i=n(1),o=n(45),a=n(155);e.a=function(t,e){var n=Object(i.g)(t),s="transform"===n?r.u:a.a;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,o;return function(){var a,s=n(this);return null==s?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local))===s?null:a===r&&s===i?o:o=e(r=a,i=s)}}:function(t,e,n){var r,i,o;return function(){var a,s=n(this);return null==s?void this.removeAttribute(t):(a=this.getAttribute(t))===s?null:a===r&&s===i?o:o=e(r=a,i=s)}})(n,s,Object(o.b)(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?i:i=e(r=o,n)}}:function(t,e,n){var r,i;return function(){var o=this.getAttribute(t);return o===n?null:o===r?i:i=e(r=o,n)}})(n,s,e+""))}},function(t,e,n){"use strict";var r=n(1);e.a=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Object(r.g)(t);return this.tween(n,(i.local?function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}:function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n})(i,e))}},function(t,e,n){"use strict";var r=n(7);e.a=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Object(r.g)(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Object(r.g)(this,t).delay=e}})(e,t)):Object(r.f)(this.node(),e).delay}},function(t,e,n){"use strict";var r=n(7);e.a=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Object(r.h)(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Object(r.h)(this,t).duration=e}})(e,t)):Object(r.f)(this.node(),e).duration}},function(t,e,n){"use strict";var r=n(7);e.a=function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Object(r.h)(this,t).ease=e}}(e,t)):Object(r.f)(this.node(),e).ease}},function(t,e,n){"use strict";var r=n(1),i=n(13);e.a=function(t){"function"!=typeof t&&(t=Object(r.e)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,u=e[a],c=u.length,l=o[a]=[],h=0;h<c;++h)(s=u[h])&&t.call(s,s.__data__,h,u)&&l.push(s);return new i.a(o,this._parents,this._name,this._id)}},function(t,e,n){"use strict";var r=n(13);e.a=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var c,l=e[u],h=n[u],f=l.length,d=s[u]=new Array(f),p=0;p<f;++p)(c=l[p]||h[p])&&(d[p]=c);for(;u<i;++u)s[u]=e[u];return new r.a(s,this._parents,this._name,this._id)}},function(t,e,n){"use strict";var r=n(7);e.a=function(t,e){var n=this._id;return arguments.length<2?Object(r.f)(this.node(),n).on.on(t):this.each(function(t,e,n){var i,o,a=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?r.g:r.h;return function(){var r=a(this,t),s=r.on;s!==i&&(o=(i=s).copy()).on(e,n),r.on=o}}(n,t,e))}},function(t,e,n){"use strict";e.a=function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t}},function(t,e,n){"use strict";var r=n(1),i=n(13),o=n(7);e.a=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(r.l)(t));for(var a=this._groups,s=a.length,u=new Array(s),c=0;c<s;++c)for(var l,h,f=a[c],d=f.length,p=u[c]=new Array(d),v=0;v<d;++v)(l=f[v])&&(h=t.call(l,l.__data__,v,f))&&("__data__"in l&&(h.__data__=l.__data__),p[v]=h,Object(o.e)(p[v],e,n,v,p,Object(o.f)(l,n)));return new i.a(u,this._parents,e,n)}},function(t,e,n){"use strict";var r=n(1),i=n(13),o=n(7);e.a=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(r.m)(t));for(var a=this._groups,s=a.length,u=[],c=[],l=0;l<s;++l)for(var h,f=a[l],d=f.length,p=0;p<d;++p)if(h=f[p]){for(var v,g=t.call(h,h.__data__,p,f),m=Object(o.f)(h,n),y=0,b=g.length;y<b;++y)(v=g[y])&&Object(o.e)(v,e,n,y,g,m);u.push(g),c.push(h)}return new i.a(u,c,e,n)}},function(t,e,n){"use strict";var r=n(1).k.prototype.constructor;e.a=function(){return new r(this._groups,this._parents)}},function(t,e,n){"use strict";function r(t,e){var n,r,i;return function(){var o=Object(s.n)(this,t),a=(this.style.removeProperty(t),Object(s.n)(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function i(t,e,n){var r,i;return function(){var o=Object(s.n)(this,t);return o===n?null:o===r?i:i=e(r=o,n)}}function o(t,e,n){var r,i,o;return function(){var a=Object(s.n)(this,t),u=n(this);return null==u&&(this.style.removeProperty(t),u=Object(s.n)(this,t)),a===u?null:a===r&&u===i?o:o=e(r=a,i=u)}}var a=n(6),s=n(1),u=n(45),c=n(155);e.a=function(t,e,n){var s="transform"==(t+="")?a.t:c.a;return null==e?this.styleTween(t,r(t,s)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof e?o(t,s,Object(u.b)(this,"style."+t,e)):i(t,s,e+""),n)}},function(t,e,n){"use strict";e.a=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}(t,e,null==n?"":n))}},function(t,e,n){"use strict";var r=n(45);e.a=function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Object(r.b)(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))}},function(t,e,n){"use strict";var r=n(13),i=n(7);e.a=function(){for(var t=this._name,e=this._id,n=Object(r.c)(),o=this._groups,a=o.length,s=0;s<a;++s)for(var u,c=o[s],l=c.length,h=0;h<l;++h)if(u=c[h]){var f=Object(i.f)(u,e);Object(i.e)(u,t,n,h,c,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new r.a(o,this._parents,t,n)}},function(t,e,n){"use strict";e.a=function(t){return+t}},function(t,e,n){"use strict";e.a=function(t){return t*t},e.c=function(t){return t*(2-t)},e.b=function(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}},function(t,e,n){"use strict";e.a=function(t){return t*t*t},e.c=function(t){return--t*t*t+1},e.b=function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o});var r=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),i=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),o=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3)},function(t,e,n){"use strict";e.a=function(t){return 1-Math.cos(t*i)},e.c=function(t){return Math.sin(t*i)},e.b=function(t){return(1-Math.cos(r*t))/2};var r=Math.PI,i=r/2},function(t,e,n){"use strict";e.a=function(t){return Math.pow(2,10*t-10)},e.c=function(t){return 1-Math.pow(2,-10*t)},e.b=function(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}},function(t,e,n){"use strict";e.a=function(t){return 1-Math.sqrt(1-t*t)},e.c=function(t){return Math.sqrt(1- --t*t)},e.b=function(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}},function(t,e,n){"use strict";function r(t){return(t=+t)<i?d*t*t:t<a?d*(t-=o)*t+s:t<c?d*(t-=u)*t+l:d*(t-=h)*t+f}e.a=function(t){return 1-r(1-t)},e.c=r,e.b=function(t){return((t*=2)<=1?1-r(1-t):r(t-1)+1)/2};var i=4/11,o=6/11,a=8/11,s=.75,u=9/11,c=10/11,l=.9375,h=21/22,f=63/64,d=1/i/i},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o});var r=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),i=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),o=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158)},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a});var r=2*Math.PI,i=function t(e,n){function i(t){return e*Math.pow(2,10*--t)*Math.sin((o-t)/n)}var o=Math.asin(1/(e=Math.max(1,e)))*(n/=r);return i.amplitude=function(e){return t(e,n*r)},i.period=function(n){return t(e,n)},i}(1,.3),o=function t(e,n){function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+o)/n)}var o=Math.asin(1/(e=Math.max(1,e)))*(n/=r);return i.amplitude=function(e){return t(e,n*r)},i.period=function(n){return t(e,n)},i}(1,.3),a=function t(e,n){function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((o-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((o+t)/n))/2}var o=Math.asin(1/(e=Math.max(1,e)))*(n/=r);return i.amplitude=function(e){return t(e,n*r)},i.period=function(n){return t(e,n)},i}(1,.3)},function(t,e,n){"use strict";var r=n(13),i=n(7),o=[null];e.a=function(t,e){var n,a,s=t.__transition;if(s)for(a in e=null==e?null:e+"",s)if((n=s[a]).state>i.c&&n.name===e)return new r.a([[t]],o,e,+a);return null}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t,e,n){this.target=t,this.type=e,this.selection=n}},function(t,e,n){"use strict";e.b=function(){r.c.stopImmediatePropagation()};var r=n(1);e.a=function(){r.c.preventDefault(),r.c.stopImmediatePropagation()}},function(t,e,n){"use strict";var r=n(358);n.d(e,"a",function(){return r.a});var i=n(359);n.d(e,"b",function(){return i.a})},function(t,e,n){"use strict";var r=n(2),i=n(157);e.a=function(){function t(t){var s,u,c,l,h,f,d=t.length,p=[],v=Object(r.s)(d),g=[],m=[],y=m.groups=new Array(d),b=new Array(d*d);for(s=0,h=-1;++h<d;){for(u=0,f=-1;++f<d;)u+=t[h][f];p.push(u),g.push(Object(r.s)(d)),s+=u}for(n&&v.sort(function(t,e){return n(p[t],p[e])}),o&&g.forEach(function(e,n){e.sort(function(e,r){return o(t[n][e],t[n][r])})}),l=(s=Object(i.c)(0,i.e-e*d)/s)?e:i.e/d,u=0,h=-1;++h<d;){for(c=u,f=-1;++f<d;){var _=v[h],w=g[_][f],x=t[_][w],E=u,C=u+=x*s;b[w*d+_]={index:_,subindex:w,startAngle:E,endAngle:C,value:x}}y[_]={index:_,startAngle:c,endAngle:u,value:p[_]},u+=l}for(h=-1;++h<d;)for(f=h-1;++f<d;){var k=b[f*d+h],T=b[h*d+f];(k.value||T.value)&&m.push(k.value<T.value?{source:T,target:k}:{source:k,target:T})}return a?m.sort(a):m}var e=0,n=null,o=null,a=null;return t.padAngle=function(n){return arguments.length?(e=Object(i.c)(0,n),t):e},t.sortGroups=function(e){return arguments.length?(n=e,t):n},t.sortSubgroups=function(e){return arguments.length?(o=e,t):o},t.sortChords=function(e){return arguments.length?(null==e?a=null:(a=function(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}(e))._=e,t):a&&a._},t}},function(t,e,n){"use strict";function r(t){return t.source}function i(t){return t.target}function o(t){return t.radius}function a(t){return t.startAngle}function s(t){return t.endAngle}var u=n(360),c=n(361),l=n(157),h=n(8);e.a=function(){function t(){var t,r=u.a.call(arguments),i=e.apply(this,r),o=n.apply(this,r),a=+f.apply(this,(r[0]=i,r)),s=d.apply(this,r)-l.b,c=p.apply(this,r)-l.b,g=a*Object(l.a)(s),m=a*Object(l.d)(s),y=+f.apply(this,(r[0]=o,r)),b=d.apply(this,r)-l.b,_=p.apply(this,r)-l.b;if(v||(v=t=Object(h.a)()),v.moveTo(g,m),v.arc(0,0,a,s,c),s===b&&c===_||(v.quadraticCurveTo(0,0,y*Object(l.a)(b),y*Object(l.d)(b)),v.arc(0,0,y,b,_)),v.quadraticCurveTo(0,0,g,m),v.closePath(),t)return v=null,t+""||null}var e=r,n=i,f=o,d=a,p=s,v=null;return t.radius=function(e){return arguments.length?(f="function"==typeof e?e:Object(c.a)(+e),t):f},t.startAngle=function(e){return arguments.length?(d="function"==typeof e?e:Object(c.a)(+e),t):d},t.endAngle=function(e){return arguments.length?(p="function"==typeof e?e:Object(c.a)(+e),t):p},t.source=function(n){return arguments.length?(e=n,t):e},t.target=function(e){return arguments.length?(n=e,t):n},t.context=function(e){return arguments.length?(v=null==e?null:e,t):v},t}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.prototype.slice},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";function r(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function i(){return new r}var o=Math.PI,a=2*o,s=a-1e-6;r.prototype=i.prototype={constructor:r,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,s=this._y1,u=n-t,c=r-e,l=a-t,h=s-e,f=l*l+h*h;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(h*u-c*l)>1e-6&&i){var d=n-a,p=r-s,v=u*u+c*c,g=d*d+p*p,m=Math.sqrt(v),y=Math.sqrt(f),b=i*Math.tan((o-Math.acos((v+f-g)/(2*m*y)))/2),_=b/y,w=b/m;Math.abs(_-1)>1e-6&&(this._+="L"+(t+_*l)+","+(e+_*h)),this._+="A"+i+","+i+",0,0,"+ +(h*d>l*p)+","+(this._x1=t+w*u)+","+(this._y1=e+w*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,u){t=+t,e=+e;var c=(n=+n)*Math.cos(r),l=n*Math.sin(r),h=t+c,f=e+l,d=1^u,p=u?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+h+","+f:(Math.abs(this._x1-h)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+h+","+f),n&&(p<0&&(p=p%a+a),p>s?this._+="A"+n+","+n+",0,1,"+d+","+(t-c)+","+(e-l)+"A"+n+","+n+",0,1,"+d+","+(this._x1=h)+","+(this._y1=f):p>1e-6&&(this._+="A"+n+","+n+",0,"+ +(p>=o)+","+d+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},e.a=i},function(t,e,n){"use strict";function r(){return{}}function i(t,e,n){t[e]=n}function o(){return Object(s.a)()}function a(t,e,n){t.set(e,n)}var s=n(78);e.a=function(){function t(r,i,o,a){if(i>=c.length)return null!=e&&r.sort(e),null!=n?n(r):r;for(var u,l,h,f=-1,d=r.length,p=c[i++],v=Object(s.a)(),g=o();++f<d;)(h=v.get(u=p(l=r[f])+""))?h.push(l):v.set(u,[l]);return v.each(function(e,n){a(g,n,t(e,i,o,a))}),g}var e,n,u,c=[],l=[];return u={object:function(e){return t(e,0,r,i)},map:function(e){return t(e,0,o,a)},entries:function(e){return function t(e,r){if(++r>c.length)return e;var i,o=l[r-1];return null!=n&&r>=c.length?i=e.entries():(i=[],e.each(function(e,n){i.push({key:n,values:t(e,r)})})),null!=o?i.sort(function(t,e){return o(t.key,e.key)}):i}(t(e,0,o,a),0)},key:function(t){return c.push(t),u},sortKeys:function(t){return l[c.length-1]=t,u},sortValues:function(t){return e=t,u},rollup:function(t){return n=t,u}}}},function(t,e,n){"use strict";function r(){}function i(t,e){var n=new r;if(t instanceof r)t.each(function(t){n.add(t)});else if(t){var i=-1,o=t.length;if(null==e)for(;++i<o;)n.add(t[i]);else for(;++i<o;)n.add(e(t[i],i,t))}return n}var o=n(78),a=o.a.prototype;r.prototype=i.prototype={constructor:r,has:a.has,add:function(t){return t+="",this[o.b+t]=t,this},remove:a.remove,clear:a.clear,values:a.keys,size:a.size,empty:a.empty,each:a.each},e.a=i},function(t,e,n){"use strict";e.a=function(t){var e=[];for(var n in t)e.push(n);return e}},function(t,e,n){"use strict";e.a=function(t){var e=[];for(var n in t)e.push(t[n]);return e}},function(t,e,n){"use strict";e.a=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e}},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n(80),i=Object(r.a)(","),o=i.parse,a=i.parseRows,s=i.format,u=i.formatRows},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n(80),i=Object(r.a)("\t"),o=i.parse,a=i.parseRows,s=i.format,u=i.formatRows},function(t,e,n){"use strict";var r=n(371);n.d(e,"a",function(){return r.a});var i=n(372);n.d(e,"b",function(){return i.a});var o=n(386);n.d(e,"c",function(){return o.a});var a=n(387);n.d(e,"d",function(){return a.a});var s=n(388);n.d(e,"e",function(){return s.a});var u=n(158);n.d(e,"f",function(){return u.a});var c=n(389);n.d(e,"g",function(){return c.a});var l=n(390);n.d(e,"h",function(){return l.a})},function(t,e,n){"use strict";e.a=function(t,e){function n(){var n,i,o=r.length,a=0,s=0;for(n=0;n<o;++n)a+=(i=r[n]).x,s+=i.y;for(a=a/o-t,s=s/o-e,n=0;n<o;++n)(i=r[n]).x-=a,i.y-=s}var r;return null==t&&(t=0),null==e&&(e=0),n.initialize=function(t){r=t},n.x=function(e){return arguments.length?(t=+e,n):t},n.y=function(t){return arguments.length?(e=+t,n):e},n}},function(t,e,n){"use strict";function r(t){return t.x+t.vx}function i(t){return t.y+t.vy}var o=n(22),a=n(81),s=n(82);e.a=function(t){function e(){function t(t,e,n,r,i){var o=t.data,s=t.r,c=v+s;if(!o)return e>d+c||r<d-c||n>p+c||i<p-c;if(o.index>u.index){var l=d-o.x-o.vx,f=p-o.y-o.vy,m=l*l+f*f;m<c*c&&(0===l&&(m+=(l=Object(a.a)())*l),0===f&&(m+=(f=Object(a.a)())*f),m=(c-(m=Math.sqrt(m)))/m*h,u.vx+=(l*=m)*(c=(s*=s)/(g+s)),u.vy+=(f*=m)*c,o.vx-=l*(c=1-c),o.vy-=f*c)}}for(var e,o,u,d,p,v,g,m=c.length,y=0;y<f;++y)for(o=Object(s.a)(c,r,i).visitAfter(n),e=0;e<m;++e)u=c[e],v=l[u.index],g=v*v,d=u.x+u.vx,p=u.y+u.vy,o.visit(t)}function n(t){if(t.data)return t.r=l[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function u(){if(c){var e,n,r=c.length;for(l=new Array(r),e=0;e<r;++e)n=c[e],l[n.index]=+t(n,e,c)}}var c,l,h=1,f=1;return"function"!=typeof t&&(t=Object(o.a)(null==t?1:+t)),e.initialize=function(t){c=t,u()},e.iterations=function(t){return arguments.length?(f=+t,e):f},e.strength=function(t){return arguments.length?(h=+t,e):h},e.radius=function(n){return arguments.length?(t="function"==typeof n?n:Object(o.a)(+n),u(),e):t},e}},function(t,e,n){"use strict";function r(t,e,n){var r=new i(null==e?g.b:e,null==n?m.b:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function i(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function o(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}e.a=r;var a=n(374),s=n(375),u=n(376),c=n(377),l=n(378),h=n(379),f=n(380),d=n(381),p=n(382),v=n(383),g=n(384),m=n(385),y=r.prototype=i.prototype;y.copy=function(){var t,e,n=new i(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=o(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var a=0;a<4;++a)(e=r.source[a])&&(e.length?t.push({source:e,target:r.target[a]=new Array(4)}):r.target[a]=o(e));return n},y.add=a.b,y.addAll=a.a,y.cover=s.a,y.data=u.a,y.extent=c.a,y.find=l.a,y.remove=h.a,y.removeAll=h.b,y.root=f.a,y.size=d.a,y.visit=p.a,y.visitAfter=v.a,y.x=g.a,y.y=m.a},function(t,e,n){"use strict";function r(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,c,l,h,f,d=t._root,p={data:r},v=t._x0,g=t._y0,m=t._x1,y=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(o=(v+m)/2))?v=o:m=o,(l=n>=(a=(g+y)/2))?g=a:y=a,i=d,!(d=d[h=l<<1|c]))return i[h]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=e>=(o=(v+m)/2))?v=o:m=o,(l=n>=(a=(g+y)/2))?g=a:y=a}while((h=l<<1|c)==(f=(u>=a)<<1|s>=o));return i[f]=d,i[h]=p,t}e.a=function(t){var e,n,i,o,a=t.length,s=new Array(a),u=new Array(a),c=1/0,l=1/0,h=-1/0,f=-1/0;for(n=0;n<a;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(s[n]=i,u[n]=o,i<c&&(c=i),i>h&&(h=i),o<l&&(l=o),o>f&&(f=o));for(h<c&&(c=this._x0,h=this._x1),f<l&&(l=this._y0,f=this._y1),this.cover(c,l).cover(h,f),n=0;n<a;++n)r(this,s[n],u[n],t[n]);return this},e.b=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return r(this.cover(e,n),e,n,t)}},function(t,e,n){"use strict";e.a=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{if(!(n>t||t>i||r>e||e>o))return this;var a,s,u=i-n,c=this._root;switch(s=(e<(r+o)/2)<<1|t<(n+i)/2){case 0:do{(a=new Array(4))[s]=c,c=a}while(o=r+(u*=2),t>(i=n+u)||e>o);break;case 1:do{(a=new Array(4))[s]=c,c=a}while(o=r+(u*=2),(n=i-u)>t||e>o);break;case 2:do{(a=new Array(4))[s]=c,c=a}while(r=o-(u*=2),t>(i=n+u)||r>e);break;case 3:do{(a=new Array(4))[s]=c,c=a}while(r=o-(u*=2),(n=i-u)>t||r>e)}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}},function(t,e,n){"use strict";e.a=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t}},function(t,e,n){"use strict";e.a=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}},function(t,e,n){"use strict";var r=n(83);e.a=function(t,e,n){var i,o,a,s,u,c,l,h=this._x0,f=this._y0,d=this._x1,p=this._y1,v=[],g=this._root;for(g&&v.push(new r.a(g,h,f,d,p)),null==n?n=1/0:(h=t-n,f=e-n,d=t+n,p=e+n,n*=n);c=v.pop();)if(!(!(g=c.node)||(o=c.x0)>d||(a=c.y0)>p||(s=c.x1)<h||(u=c.y1)<f))if(g.length){var m=(o+s)/2,y=(a+u)/2;v.push(new r.a(g[3],m,y,s,u),new r.a(g[2],o,y,m,u),new r.a(g[1],m,a,s,y),new r.a(g[0],o,a,m,y)),(l=(e>=y)<<1|t>=m)&&(c=v[v.length-1],v[v.length-1]=v[v.length-1-l],v[v.length-1-l]=c)}else{var b=t-+this._x.call(null,g.data),_=e-+this._y.call(null,g.data),w=b*b+_*_;if(w<n){var x=Math.sqrt(n=w);h=t-x,f=e-x,d=t+x,p=e+x,i=g.data}}return i}},function(t,e,n){"use strict";e.b=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},e.a=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,c,l,h,f,d=this._root,p=this._x0,v=this._y0,g=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(s=(p+g)/2))?p=s:g=s,(l=a>=(u=(v+m)/2))?v=u:m=u,e=d,!(d=d[h=l<<1|c]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)}},function(t,e,n){"use strict";e.a=function(){return this._root}},function(t,e,n){"use strict";e.a=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t}},function(t,e,n){"use strict";var r=n(83);e.a=function(t){var e,n,i,o,a,s,u=[],c=this._root;for(c&&u.push(new r.a(c,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(c=e.node,i=e.x0,o=e.y0,a=e.x1,s=e.y1)&&c.length){var l=(i+a)/2,h=(o+s)/2;(n=c[3])&&u.push(new r.a(n,l,h,a,s)),(n=c[2])&&u.push(new r.a(n,i,h,l,s)),(n=c[1])&&u.push(new r.a(n,l,o,a,h)),(n=c[0])&&u.push(new r.a(n,i,o,l,h))}return this}},function(t,e,n){"use strict";var r=n(83);e.a=function(t){var e,n=[],i=[];for(this._root&&n.push(new r.a(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var o=e.node;if(o.length){var a,s=e.x0,u=e.y0,c=e.x1,l=e.y1,h=(s+c)/2,f=(u+l)/2;(a=o[0])&&n.push(new r.a(a,s,u,h,f)),(a=o[1])&&n.push(new r.a(a,h,u,c,f)),(a=o[2])&&n.push(new r.a(a,s,f,h,l)),(a=o[3])&&n.push(new r.a(a,h,f,c,l))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this}},function(t,e,n){"use strict";e.b=function(t){return t[0]},e.a=function(t){return arguments.length?(this._x=t,this):this._x}},function(t,e,n){"use strict";e.b=function(t){return t[1]},e.a=function(t){return arguments.length?(this._y=t,this):this._y}},function(t,e,n){"use strict";function r(t){return t.index}function i(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var o=n(22),a=n(81),s=n(21);e.a=function(t){function e(e){for(var n=0,r=t.length;n<y;++n)for(var i,o,s,u,c,f,d,v=0;v<r;++v)o=(i=t[v]).source,u=(s=i.target).x+s.vx-o.x-o.vx||Object(a.a)(),c=s.y+s.vy-o.y-o.vy||Object(a.a)(),u*=f=((f=Math.sqrt(u*u+c*c))-h[v])/f*e*l[v],c*=f,s.vx-=u*(d=p[v]),s.vy-=c*d,o.vx+=u*(d=1-d),o.vy+=c*d}function n(){if(f){var e,n,r=f.length,o=t.length,a=Object(s.c)(f,v);for(e=0,d=new Array(r);e<o;++e)(n=t[e]).index=e,"object"!=typeof n.source&&(n.source=i(a,n.source)),"object"!=typeof n.target&&(n.target=i(a,n.target)),d[n.source.index]=(d[n.source.index]||0)+1,d[n.target.index]=(d[n.target.index]||0)+1;for(e=0,p=new Array(o);e<o;++e)n=t[e],p[e]=d[n.source.index]/(d[n.source.index]+d[n.target.index]);l=new Array(o),u(),h=new Array(o),c()}}function u(){if(f)for(var e=0,n=t.length;e<n;++e)l[e]=+g(t[e],e,t)}function c(){if(f)for(var e=0,n=t.length;e<n;++e)h[e]=+m(t[e],e,t)}var l,h,f,d,p,v=r,g=function(t){return 1/Math.min(d[t.source.index],d[t.target.index])},m=Object(o.a)(30),y=1;return null==t&&(t=[]),e.initialize=function(t){f=t,n()},e.links=function(r){return arguments.length?(t=r,n(),e):t},e.id=function(t){return arguments.length?(v=t,e):v},e.iterations=function(t){return arguments.length?(y=+t,e):y},e.strength=function(t){return arguments.length?(g="function"==typeof t?t:Object(o.a)(+t),u(),e):g},e.distance=function(t){return arguments.length?(m="function"==typeof t?t:Object(o.a)(+t),c(),e):m},e}},function(t,e,n){"use strict";var r=n(22),i=n(81),o=n(82),a=n(158);e.a=function(){function t(t){var e,r=u.length,i=Object(o.a)(u,a.b,a.c).visitAfter(n);for(l=t,e=0;e<r;++e)c=u[e],i.visit(s)}function e(){if(u){var t,e,n=u.length;for(h=new Array(n),t=0;t<n;++t)e=u[t],h[e.index]=+f(e,t,u)}}function n(t){var e,n,r,i,o,a=0,s=0;if(t.length){for(r=i=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(a+=e.value,s+=n,r+=n*e.x,i+=n*e.y);t.x=r/s,t.y=i/s}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=h[e.data.index]}while(e=e.next)}t.value=a}function s(t,e,n,r){if(!t.value)return!0;var o=t.x-c.x,a=t.y-c.y,s=r-e,u=o*o+a*a;if(s*s/v<u)return u<p&&(0===o&&(u+=(o=Object(i.a)())*o),0===a&&(u+=(a=Object(i.a)())*a),u<d&&(u=Math.sqrt(d*u)),c.vx+=o*t.value*l/u,c.vy+=a*t.value*l/u),!0;if(!(t.length||u>=p)){(t.data!==c||t.next)&&(0===o&&(u+=(o=Object(i.a)())*o),0===a&&(u+=(a=Object(i.a)())*a),u<d&&(u=Math.sqrt(d*u)));do{t.data!==c&&(s=h[t.data.index]*l/u,c.vx+=o*s,c.vy+=a*s)}while(t=t.next)}}var u,c,l,h,f=Object(r.a)(-30),d=1,p=1/0,v=.81;return t.initialize=function(t){u=t,e()},t.strength=function(n){return arguments.length?(f="function"==typeof n?n:Object(r.a)(+n),e(),t):f},t.distanceMin=function(e){return arguments.length?(d=e*e,t):Math.sqrt(d)},t.distanceMax=function(e){return arguments.length?(p=e*e,t):Math.sqrt(p)},t.theta=function(e){return arguments.length?(v=e*e,t):Math.sqrt(v)},t}},function(t,e,n){"use strict";var r=n(22);e.a=function(t,e,n){function i(t){for(var r=0,i=a.length;r<i;++r){var o=a[r],c=o.x-e||1e-6,l=o.y-n||1e-6,h=Math.sqrt(c*c+l*l),f=(u[r]-h)*s[r]*t/h;o.vx+=c*f,o.vy+=l*f}}function o(){if(a){var e,n=a.length;for(s=new Array(n),u=new Array(n),e=0;e<n;++e)u[e]=+t(a[e],e,a),s[e]=isNaN(u[e])?0:+c(a[e],e,a)}}var a,s,u,c=Object(r.a)(.1);return"function"!=typeof t&&(t=Object(r.a)(+t)),null==e&&(e=0),null==n&&(n=0),i.initialize=function(t){a=t,o()},i.strength=function(t){return arguments.length?(c="function"==typeof t?t:Object(r.a)(+t),o(),i):c},i.radius=function(e){return arguments.length?(t="function"==typeof e?e:Object(r.a)(+e),o(),i):t},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(t){return arguments.length?(n=+t,i):n},i}},function(t,e,n){"use strict";var r=n(22);e.a=function(t){function e(t){for(var e,n=0,r=i.length;n<r;++n)(e=i[n]).vx+=(a[n]-e.x)*o[n]*t}function n(){if(i){var e,n=i.length;for(o=new Array(n),a=new Array(n),e=0;e<n;++e)o[e]=isNaN(a[e]=+t(i[e],e,i))?0:+s(i[e],e,i)}}var i,o,a,s=Object(r.a)(.1);return"function"!=typeof t&&(t=Object(r.a)(null==t?0:+t)),e.initialize=function(t){i=t,n()},e.strength=function(t){return arguments.length?(s="function"==typeof t?t:Object(r.a)(+t),n(),e):s},e.x=function(i){return arguments.length?(t="function"==typeof i?i:Object(r.a)(+i),n(),e):t},e}},function(t,e,n){"use strict";var r=n(22);e.a=function(t){function e(t){for(var e,n=0,r=i.length;n<r;++n)(e=i[n]).vy+=(a[n]-e.y)*o[n]*t}function n(){if(i){var e,n=i.length;for(o=new Array(n),a=new Array(n),e=0;e<n;++e)o[e]=isNaN(a[e]=+t(i[e],e,i))?0:+s(i[e],e,i)}}var i,o,a,s=Object(r.a)(.1);return"function"!=typeof t&&(t=Object(r.a)(null==t?0:+t)),e.initialize=function(t){i=t,n()},e.strength=function(t){return arguments.length?(s="function"==typeof t?t:Object(r.a)(+t),n(),e):s},e.y=function(i){return arguments.length?(t="function"==typeof i?i:Object(r.a)(+i),n(),e):t},e}},function(t,e,n){"use strict";function r(t){return i=Object(s.a)(t),o=i.format,a=i.formatPrefix,i}n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a}),e.a=r;var i,o,a,s=n(159);r({decimal:".",thousands:",",grouping:[3],currency:["$",""]})},function(t,e,n){"use strict";e.a=function(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}},function(t,e,n){"use strict";e.a=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}},function(t,e,n){"use strict";e.a=function(t,e){t=t.toPrecision(e);t:for(var n,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t}},function(t,e,n){"use strict";var r=n(85);e.a=function(t,e){var n=Object(r.a)(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";var r=n(46);e.a=function(t){return Math.max(0,-Object(r.a)(Math.abs(t)))}},function(t,e,n){"use strict";var r=n(46);e.a=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Object(r.a)(e)/3)))-Object(r.a)(Math.abs(t)))}},function(t,e,n){"use strict";var r=n(46);e.a=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Object(r.a)(e)-Object(r.a)(t))+1}},function(t,e,n){"use strict";var r=n(163);n.d(e,"c",function(){return r.c});var i=n(401);n.d(e,"h",function(){return i.a});var o=n(402);n.d(e,"i",function(){return o.a});var a=n(164);n.d(e,"j",function(){return a.b});var s=n(166);n.d(e,"k",function(){return s.a});var u=n(172);n.d(e,"l",function(){return u.a});var c=n(404);n.d(e,"m",function(){return c.a});var l=n(48);n.d(e,"n",function(){return l.a});var h=n(406);n.d(e,"u",function(){return h.a});var f=n(173);n.d(e,"v",function(){return f.a});var d=n(407);n.d(e,"A",function(){return d.a}),n.d(e,"B",function(){return d.b});var p=n(408);n.d(e,"D",function(){return p.a});var v=n(174);n.d(e,"E",function(){return v.a});var g=n(409);n.d(e,"L",function(){return g.a});var m=n(176);n.d(e,"a",function(){return m.a});var y=n(417);n.d(e,"b",function(){return y.a});var b=n(418);n.d(e,"d",function(){return b.b}),n.d(e,"e",function(){return b.a});var _=n(419);n.d(e,"f",function(){return _.b}),n.d(e,"g",function(){return _.a});var w=n(420);n.d(e,"o",function(){return w.b}),n.d(e,"p",function(){return w.a});var x=n(87);n.d(e,"q",function(){return x.b}),n.d(e,"r",function(){return x.a});var E=n(421);n.d(e,"s",function(){return E.b}),n.d(e,"t",function(){return E.a});var C=n(177);n.d(e,"w",function(){return C.a}),n.d(e,"x",function(){return C.b});var k=n(422);n.d(e,"y",function(){return k.a}),n.d(e,"z",function(){return k.b});var T=n(423);n.d(e,"C",function(){return T.a});var S=n(11);n.d(e,"M",function(){return S.a}),n.d(e,"N",function(){return S.b});var O=n(90);n.d(e,"F",function(){return O.a}),n.d(e,"G",function(){return O.c});var M=n(424);n.d(e,"H",function(){return M.a}),n.d(e,"I",function(){return M.b});var A=n(425);n.d(e,"J",function(){return A.a}),n.d(e,"K",function(){return A.b});var P=n(426);n.d(e,"P",function(){return P.a}),n.d(e,"Q",function(){return P.b});var I=n(427);n.d(e,"T",function(){return I.a}),n.d(e,"U",function(){return I.b});var N=n(47);n.d(e,"O",function(){return N.a});var D=n(16);n.d(e,"R",function(){return D.a});var R=n(49);n.d(e,"S",function(){return R.a})},function(t,e,n){"use strict";function r(t,e){w.push(x=[d=t,v=t]),e<p&&(p=e),e>g&&(g=e)}function i(t,e){var n=Object(k.a)([t*T.r,e*T.r]);if(_){var r=Object(k.c)(_,n),i=[r[1],-r[0],0],o=Object(k.c)(i,r);Object(k.e)(o),o=Object(k.g)(o);var a,s=t-m,u=s>0?1:-1,c=o[0]*T.h*u,h=Object(T.a)(s)>180;h^(u*m<c&&c<u*t)?(a=o[1]*T.h)>g&&(g=a):h^(u*m<(c=(c+360)%360-180)&&c<u*t)?(a=-o[1]*T.h)<p&&(p=a):(e<p&&(p=e),e>g&&(g=e)),h?t<m?l(d,t)>l(d,v)&&(v=t):l(t,v)>l(d,v)&&(d=t):v>=d?(t<d&&(d=t),t>v&&(v=t)):t>m?l(d,t)>l(d,v)&&(v=t):l(t,v)>l(d,v)&&(d=t)}else w.push(x=[d=t,v=t]);e<p&&(p=e),e>g&&(g=e),_=n,m=t}function o(){M.point=i}function a(){x[0]=d,x[1]=v,M.point=r,_=null}function s(t,e){if(_){var n=t-m;O.add(Object(T.a)(n)>180?n+(n>0?360:-360):n)}else y=t,b=e;C.b.point(t,e),i(t,e)}function u(){C.b.lineStart()}function c(){s(y,b),C.b.lineEnd(),Object(T.a)(O)>T.i&&(d=-(v=180)),x[0]=d,x[1]=v,_=null}function l(t,e){return(e-=t)<0?e+360:e}function h(t,e){return t[0]-e[0]}function f(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var d,p,v,g,m,y,b,_,w,x,E=n(23),C=n(163),k=n(28),T=n(0),S=n(16),O=Object(E.a)(),M={point:r,lineStart:o,lineEnd:a,polygonStart:function(){M.point=s,M.lineStart=u,M.lineEnd=c,O.reset(),C.b.polygonStart()},polygonEnd:function(){C.b.polygonEnd(),M.point=r,M.lineStart=o,M.lineEnd=a,C.a<0?(d=-(v=180),p=-(g=90)):O>T.i?g=90:O<-T.i&&(p=-90),x[0]=d,x[1]=v}};e.a=function(t){var e,n,r,i,o,a,s;if(g=v=-(d=p=1/0),w=[],Object(S.a)(t,M),n=w.length){for(w.sort(h),e=1,o=[r=w[0]];e<n;++e)f(r,(i=w[e])[0])||f(r,i[1])?(l(r[0],i[1])>l(r[0],r[1])&&(r[1]=i[1]),l(i[0],r[1])>l(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=l(r[1],i[0]))>a&&(a=s,d=i[0],v=r[1])}return w=x=null,d===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[d,p],[v,g]]}},function(t,e,n){"use strict";function r(t,e){t*=M.r,e*=M.r;var n=Object(M.g)(e);i(n*Object(M.g)(t),n*Object(M.t)(t),Object(M.t)(e))}function i(t,e,n){v+=(t-v)/++d,g+=(e-g)/d,m+=(n-m)/d}function o(){I.point=a}function a(t,e){t*=M.r,e*=M.r;var n=Object(M.g)(e);T=n*Object(M.g)(t),S=n*Object(M.t)(t),O=Object(M.t)(e),I.point=s,i(T,S,O)}function s(t,e){t*=M.r,e*=M.r;var n=Object(M.g)(e),r=n*Object(M.g)(t),o=n*Object(M.t)(t),a=Object(M.t)(e),s=Object(M.e)(Object(M.u)((s=S*a-O*o)*s+(s=O*r-T*a)*s+(s=T*o-S*r)*s),T*r+S*o+O*a);p+=s,y+=s*(T+(T=r)),b+=s*(S+(S=o)),_+=s*(O+(O=a)),i(T,S,O)}function u(){I.point=r}function c(){I.point=h}function l(){f(C,k),I.point=r}function h(t,e){C=t,k=e,t*=M.r,e*=M.r,I.point=f;var n=Object(M.g)(e);T=n*Object(M.g)(t),S=n*Object(M.t)(t),O=Object(M.t)(e),i(T,S,O)}function f(t,e){t*=M.r,e*=M.r;var n=Object(M.g)(e),r=n*Object(M.g)(t),o=n*Object(M.t)(t),a=Object(M.t)(e),s=S*a-O*o,u=O*r-T*a,c=T*o-S*r,l=Object(M.u)(s*s+u*u+c*c),h=Object(M.c)(l),f=l&&-h/l;w+=f*s,x+=f*u,E+=f*c,p+=h,y+=h*(T+(T=r)),b+=h*(S+(S=o)),_+=h*(O+(O=a)),i(T,S,O)}var d,p,v,g,m,y,b,_,w,x,E,C,k,T,S,O,M=n(0),A=n(14),P=n(16),I={sphere:A.a,point:r,lineStart:o,lineEnd:u,polygonStart:function(){I.lineStart=c,I.lineEnd=l},polygonEnd:function(){I.lineStart=o,I.lineEnd=u}};e.a=function(t){d=p=v=g=m=y=b=_=w=x=E=0,Object(P.a)(t,I);var e=w,n=x,r=E,i=e*e+n*n+r*r;return i<M.j&&(e=y,n=b,r=_,p<M.i&&(e=v,n=g,r=m),(i=e*e+n*n+r*r)<M.j)?[NaN,NaN]:[Object(M.e)(n,e)*M.h,Object(M.c)(r/Object(M.u)(i))*M.h]}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(48);e.a=function(){var t,e,n,i=0,o=0,a=960,s=500;return n={stream:function(n){return t&&e===n?t:t=Object(r.a)(i,o,a,s)(e=n)},extent:function(r){return arguments.length?(i=+r[0][0],o=+r[0][1],a=+r[1][0],s=+r[1][1],t=e=null,n):[[i,o],[a,s]]}}}},function(t,e,n){"use strict";e.a=function(t,e,n,r,i,o){var a,s=t[0],u=t[1],c=0,l=1,h=e[0]-s,f=e[1]-u;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<l&&(l=a)}else if(h>0){if(a>l)return;a>c&&(c=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>l)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<l&&(l=a)}if(a=r-u,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>c&&(c=a)}if(a=o-u,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<l&&(l=a)}return c>0&&(t[0]=s+c*h,t[1]=u+c*f),l<1&&(e[0]=s+l*h,e[1]=u+l*f),!0}}}}}},function(t,e,n){"use strict";function r(t,e){return!(!t||!d.hasOwnProperty(t.type))&&d[t.type](t,e)}function i(t,e){return 0===Object(l.a)(t,e)}function o(t,e){var n=Object(l.a)(t[0],t[1]);return Object(l.a)(t[0],e)+Object(l.a)(e,t[1])<=n+h.i}function a(t,e){return!!Object(c.a)(t.map(s),u(e))}function s(t){return(t=t.map(u)).pop(),t}function u(t){return[t[0]*h.r,t[1]*h.r]}var c=n(171),l=n(173),h=n(0),f={Feature:function(t,e){return r(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)if(r(n[i].geometry,e))return!0;return!1}},d={Sphere:function(){return!0},Point:function(t,e){return i(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(i(n[r],e))return!0;return!1},LineString:function(t,e){return o(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(o(n[r],e))return!0;return!1},Polygon:function(t,e){return a(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(a(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)if(r(n[i],e))return!0;return!1}};e.a=function(t,e){return(t&&f.hasOwnProperty(t.type)?f[t.type]:r)(t,e)}},function(t,e,n){"use strict";function r(t,e,n){var r=Object(a.s)(t,e-s.i,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function i(t,e,n){var r=Object(a.s)(t,e-s.i,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function o(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Object(a.s)(Object(s.f)(c/_)*_,u,_).map(g).concat(Object(a.s)(Object(s.f)(d/w)*w,f,w).map(m)).concat(Object(a.s)(Object(s.f)(o/y)*y,n,y).filter(function(t){return Object(s.a)(t%_)>s.i}).map(p)).concat(Object(a.s)(Object(s.f)(h/b)*b,l,b).filter(function(t){return Object(s.a)(t%w)>s.i}).map(v))}var n,o,u,c,l,h,f,d,p,v,g,m,y=10,b=y,_=90,w=360,x=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[g(c).concat(m(f).slice(1),g(u).reverse().slice(1),m(d).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(c=+e[0][0],u=+e[1][0],d=+e[0][1],f=+e[1][1],c>u&&(e=c,c=u,u=e),d>f&&(e=d,d=f,f=e),t.precision(x)):[[c,d],[u,f]]},t.extentMinor=function(e){return arguments.length?(o=+e[0][0],n=+e[1][0],h=+e[0][1],l=+e[1][1],o>n&&(e=o,o=n,n=e),h>l&&(e=h,h=l,l=e),t.precision(x)):[[o,h],[n,l]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(_=+e[0],w=+e[1],t):[_,w]},t.stepMinor=function(e){return arguments.length?(y=+e[0],b=+e[1],t):[y,b]},t.precision=function(e){return arguments.length?(x=+e,p=r(h,l,90),v=i(o,n,x),g=r(d,f,90),m=i(c,u,x),t):x},t.extentMajor([[-180,-90+s.i],[180,90-s.i]]).extentMinor([[-180,-80-s.i],[180,80+s.i]])}e.a=o,e.b=function(){return o()()};var a=n(2),s=n(0)},function(t,e,n){"use strict";var r=n(0);e.a=function(t,e){var n=t[0]*r.r,i=t[1]*r.r,o=e[0]*r.r,a=e[1]*r.r,s=Object(r.g)(i),u=Object(r.t)(i),c=Object(r.g)(a),l=Object(r.t)(a),h=s*Object(r.g)(n),f=s*Object(r.t)(n),d=c*Object(r.g)(o),p=c*Object(r.t)(o),v=2*Object(r.c)(Object(r.u)(Object(r.m)(a-i)+s*c*Object(r.m)(o-n))),g=Object(r.t)(v),m=v?function(t){var e=Object(r.t)(t*=v)/g,n=Object(r.t)(v-t)/g,i=n*h+e*d,o=n*f+e*p,a=n*u+e*l;return[Object(r.e)(o,i)*r.h,Object(r.e)(a,Object(r.u)(i*i+o*o))*r.h]}:function(){return[n*r.h,i*r.h]};return m.distance=v,m}},function(t,e,n){"use strict";var r=n(86),i=n(16),o=n(410),a=n(175),s=n(411),u=n(412),c=n(413),l=n(414);e.a=function(t,e){function n(t){return t&&("function"==typeof d&&f.pointRadius(+d.apply(this,arguments)),Object(i.a)(t,h(f))),f.result()}var h,f,d=4.5;return n.area=function(t){return Object(i.a)(t,h(o.a)),o.a.result()},n.measure=function(t){return Object(i.a)(t,h(c.a)),c.a.result()},n.bounds=function(t){return Object(i.a)(t,h(a.a)),a.a.result()},n.centroid=function(t){return Object(i.a)(t,h(s.a)),s.a.result()},n.projection=function(e){return arguments.length?(h=null==e?(t=null,r.a):(t=e).stream,n):t},n.context=function(t){return arguments.length?(f=null==t?(e=null,new l.a):new u.a(e=t),"function"!=typeof d&&f.pointRadius(d),n):e},n.pointRadius=function(t){return arguments.length?(d="function"==typeof t?t:(f.pointRadius(+t),+t),n):d},n.projection(t).context(e)}},function(t,e,n){"use strict";function r(){g.point=i}function i(t,e){g.point=o,s=c=t,u=l=e}function o(t,e){v.add(l*t-c*e),c=t,l=e}function a(){o(s,u)}var s,u,c,l,h=n(23),f=n(0),d=n(14),p=Object(h.a)(),v=Object(h.a)(),g={point:d.a,lineStart:d.a,lineEnd:d.a,polygonStart:function(){g.lineStart=r,g.lineEnd=a},polygonEnd:function(){g.lineStart=g.lineEnd=g.point=d.a,p.add(Object(f.a)(v)),v.reset()},result:function(){var t=p/2;return p.reset(),t}};e.a=g},function(t,e,n){"use strict";function r(t,e){m+=t,y+=e,++b}function i(){T.point=o}function o(t,e){T.point=a,r(p=t,v=e)}function a(t,e){var n=t-p,i=e-v,o=Object(g.u)(n*n+i*i);_+=o*(p+t)/2,w+=o*(v+e)/2,x+=o,r(p=t,v=e)}function s(){T.point=r}function u(){T.point=l}function c(){h(f,d)}function l(t,e){T.point=h,r(f=p=t,d=v=e)}function h(t,e){var n=t-p,i=e-v,o=Object(g.u)(n*n+i*i);_+=o*(p+t)/2,w+=o*(v+e)/2,x+=o,E+=(o=v*t-p*e)*(p+t),C+=o*(v+e),k+=3*o,r(p=t,v=e)}var f,d,p,v,g=n(0),m=0,y=0,b=0,_=0,w=0,x=0,E=0,C=0,k=0,T={point:r,lineStart:i,lineEnd:s,polygonStart:function(){T.lineStart=u,T.lineEnd=c},polygonEnd:function(){T.point=r,T.lineStart=i,T.lineEnd=s},result:function(){var t=k?[E/k,C/k]:x?[_/x,w/x]:b?[m/b,y/b]:[NaN,NaN];return m=y=b=_=w=x=E=C=k=0,t}};e.a=T},function(t,e,n){"use strict";function r(t){this._context=t}e.a=r;var i=n(0),o=n(14);r.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,i.w)}},result:o.a}},function(t,e,n){"use strict";function r(t,e){p.point=i,a=u=t,s=c=e}function i(t,e){u-=t,c-=e,d.add(Object(h.u)(u*u+c*c)),u=t,c=e}var o,a,s,u,c,l=n(23),h=n(0),f=n(14),d=Object(l.a)(),p={point:f.a,lineStart:function(){p.point=r},lineEnd:function(){o&&i(a,s),p.point=f.a},polygonStart:function(){o=!0},polygonEnd:function(){o=null},result:function(){var t=+d;return d.reset(),t}};e.a=p},function(t,e,n){"use strict";function r(){this._string=[]}function i(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}e.a=r,r.prototype={_radius:4.5,_circle:i(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=i(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}}},function(t,e,n){"use strict";var r=n(28),i=n(0),o=n(49),a=16,s=Object(i.g)(30*i.r);e.a=function(t,e){return+e?function(t,e){function n(r,o,a,u,c,l,h,f,d,p,v,g,m,y){var b=h-r,_=f-o,w=b*b+_*_;if(w>4*e&&m--){var x=u+p,E=c+v,C=l+g,k=Object(i.u)(x*x+E*E+C*C),T=Object(i.c)(C/=k),S=Object(i.a)(Object(i.a)(C)-1)<i.i||Object(i.a)(a-d)<i.i?(a+d)/2:Object(i.e)(E,x),O=t(S,T),M=O[0],A=O[1],P=M-r,I=A-o,N=_*P-b*I;(N*N/w>e||Object(i.a)((b*P+_*I)/w-.5)>.3||u*p+c*v+l*g<s)&&(n(r,o,a,u,c,l,M,A,S,x/=k,E/=k,C,m,y),y.point(M,A),n(M,A,S,x,E,C,h,f,d,p,v,g,m,y))}}return function(e){function i(n,r){n=t(n,r),e.point(n[0],n[1])}function o(){b=NaN,C.point=s,e.lineStart()}function s(i,o){var s=Object(r.a)([i,o]),u=t(i,o);n(b,_,y,w,x,E,b=u[0],_=u[1],y=i,w=s[0],x=s[1],E=s[2],a,e),e.point(b,_)}function u(){C.point=i,e.lineEnd()}function c(){o(),C.point=l,C.lineEnd=h}function l(t,e){s(f=t,e),d=b,p=_,v=w,g=x,m=E,C.point=s}function h(){n(b,_,y,w,x,E,d,p,f,v,g,m,a,e),C.lineEnd=u,u()}var f,d,p,v,g,m,y,b,_,w,x,E,C={point:i,lineStart:o,lineEnd:u,polygonStart:function(){e.polygonStart(),C.lineStart=c},polygonEnd:function(){e.polygonEnd(),C.lineStart=o}};return C}}(t,e):function(t){return Object(o.b)({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}},function(t,e,n){"use strict";e.a=function(t){function e(t,e){return[t*n,Object(r.t)(e)/n]}var n=Object(r.g)(t);return e.invert=function(t,e){return[t/n,Object(r.c)(e*n)]},e};var r=n(0)},function(t,e,n){"use strict";var r=n(0),i=n(176),o=n(87),a=n(89);e.a=function(){function t(t){var e=t[0],n=t[1];return h=null,u.point(e,n),h||(c.point(e,n),h)||(l.point(e,n),h)}function e(){return n=s=null,t}var n,s,u,c,l,h,f=Object(i.a)(),d=Object(o.b)().rotate([154,0]).center([-2,58.5]).parallels([55,65]),p=Object(o.b)().rotate([157,0]).center([-3,19.9]).parallels([8,18]),v={point:function(t,e){h=[t,e]}};return t.invert=function(t){var e=f.scale(),n=f.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?d:i>=.166&&i<.234&&r>=-.214&&r<-.115?p:f).invert(t)},t.stream=function(t){return n&&s===t?n:n=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([f.stream(s=t),d.stream(t),p.stream(t)])},t.precision=function(t){return arguments.length?(f.precision(t),d.precision(t),p.precision(t),e()):f.precision()},t.scale=function(e){return arguments.length?(f.scale(e),d.scale(.35*e),p.scale(e),t.translate(f.translate())):f.scale()},t.translate=function(t){if(!arguments.length)return f.translate();var n=f.scale(),i=+t[0],o=+t[1];return u=f.translate(t).clipExtent([[i-.455*n,o-.238*n],[i+.455*n,o+.238*n]]).stream(v),c=d.translate([i-.307*n,o+.201*n]).clipExtent([[i-.425*n+r.i,o+.12*n+r.i],[i-.214*n-r.i,o+.234*n-r.i]]).stream(v),l=p.translate([i-.205*n,o+.212*n]).clipExtent([[i-.214*n+r.i,o+.166*n+r.i],[i-.115*n-r.i,o+.234*n-r.i]]).stream(v),e()},t.fitExtent=function(e,n){return Object(a.a)(t,e,n)},t.fitSize=function(e,n){return Object(a.b)(t,e,n)},t.scale(1070)}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(0),i=n(29),o=n(11),a=Object(i.b)(function(t){return Object(r.u)(2/(1+t))});a.invert=Object(i.a)(function(t){return 2*Object(r.c)(t/2)}),e.b=function(){return Object(o.a)(a).scale(124.75).clipAngle(179.999)}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(0),i=n(29),o=n(11),a=Object(i.b)(function(t){return(t=Object(r.b)(t))&&t/Object(r.t)(t)});a.invert=Object(i.a)(function(t){return t}),e.b=function(){return Object(o.a)(a).scale(79.4188).clipAngle(179.999)}},function(t,e,n){"use strict";function r(t){return Object(o.v)((o.l+t)/2)}function i(t,e){function n(t,e){u>0?e<-o.l+o.i&&(e=-o.l+o.i):e>o.l-o.i&&(e=o.l-o.i);var n=u/Object(o.p)(r(e),a);return[n*Object(o.t)(a*t),u-n*Object(o.g)(a*t)]}var i=Object(o.g)(t),a=t===e?Object(o.t)(t):Object(o.n)(i/Object(o.g)(e))/Object(o.n)(r(e)/r(t)),u=i*Object(o.p)(r(t),a)/a;return a?(n.invert=function(t,e){var n=u-e,r=Object(o.s)(a)*Object(o.u)(t*t+n*n);return[Object(o.e)(t,Object(o.a)(n))/a*Object(o.s)(n),2*Object(o.d)(Object(o.p)(u/r,1/a))-o.l]},n):s.c}e.a=i;var o=n(0),a=n(88),s=n(90);e.b=function(){return Object(a.a)(i).scale(109.5).parallels([30,30])}},function(t,e,n){"use strict";function r(t,e){function n(t,e){var n=s-e,r=o*t;return[n*Object(i.t)(r),s-n*Object(i.g)(r)]}var r=Object(i.g)(t),o=t===e?Object(i.t)(t):(r-Object(i.g)(e))/(e-t),s=r/o+t;return Object(i.a)(o)<i.i?a.b:(n.invert=function(t,e){var n=s-e;return[Object(i.e)(t,Object(i.a)(n))/o*Object(i.s)(n),s-Object(i.s)(o)*Object(i.u)(t*t+n*n)]},n)}e.a=r;var i=n(0),o=n(88),a=n(177);e.b=function(){return Object(o.a)(r).scale(131.154).center([0,13.9389])}},function(t,e,n){"use strict";function r(t,e){var n=Object(i.g)(e),r=Object(i.g)(t)*n;return[n*Object(i.t)(t)/r,Object(i.t)(e)/r]}e.b=r;var i=n(0),o=n(29),a=n(11);r.invert=Object(o.a)(i.d),e.a=function(){return Object(a.a)(r).scale(144.049).clipAngle(60)}},function(t,e,n){"use strict";function r(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?o.a:Object(a.b)({point:function(i,o){this.stream.point(i*t+n,o*e+r)}})}var i=n(48),o=n(86),a=n(49),s=n(89);e.a=function(){function t(){return u=c=null,l}var e,n,a,u,c,l,h=1,f=0,d=0,p=1,v=1,g=o.a,m=null,y=o.a;return l={stream:function(t){return u&&c===t?u:u=g(y(c=t))},postclip:function(r){return arguments.length?(y=r,m=e=n=a=null,t()):y},clipExtent:function(r){return arguments.length?(y=null==r?(m=e=n=a=null,o.a):Object(i.a)(m=+r[0][0],e=+r[0][1],n=+r[1][0],a=+r[1][1]),t()):null==m?null:[[m,e],[n,a]]},scale:function(e){return arguments.length?(g=r((h=+e)*p,h*v,f,d),t()):h},translate:function(e){return arguments.length?(g=r(h*p,h*v,f=+e[0],d=+e[1]),t()):[f,d]},reflectX:function(e){return arguments.length?(g=r(h*(p=e?-1:1),h*v,f,d),t()):p<0},reflectY:function(e){return arguments.length?(g=r(h*p,h*(v=e?-1:1),f,d),t()):v<0},fitExtent:function(t,e){return Object(s.a)(l,t,e)},fitSize:function(t,e){return Object(s.b)(l,t,e)}}}},function(t,e,n){"use strict";function r(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}e.b=r;var i=n(11),o=n(0);r.invert=function(t,e){var n,r=e,i=25;do{var a=r*r,s=a*a;r-=n=(r*(1.007226+a*(.015085+s*(.028874*a-.044475-.005916*s)))-e)/(1.007226+a*(.045255+s*(.259866*a-.311325-.005916*11*s)))}while(Object(o.a)(n)>o.i&&--i>0);return[t/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]},e.a=function(){return Object(i.a)(r).scale(175.295)}},function(t,e,n){"use strict";function r(t,e){return[Object(i.g)(e)*Object(i.t)(t),Object(i.t)(e)]}e.b=r;var i=n(0),o=n(29),a=n(11);r.invert=Object(o.a)(i.c),e.a=function(){return Object(a.a)(r).scale(249.5).clipAngle(90+i.i)}},function(t,e,n){"use strict";function r(t,e){var n=Object(i.g)(e),r=1+Object(i.g)(t)*n;return[n*Object(i.t)(t)/r,Object(i.t)(e)/r]}e.b=r;var i=n(0),o=n(29),a=n(11);r.invert=Object(o.a)(function(t){return 2*Object(i.d)(t)}),e.a=function(){return Object(a.a)(r).scale(250).clipAngle(142)}},function(t,e,n){"use strict";function r(t,e){return[Object(i.n)(Object(i.v)((i.l+e)/2)),-t]}e.b=r;var i=n(0),o=n(90);r.invert=function(t,e){return[-e,2*Object(i.d)(Object(i.k)(t))-i.l]},e.a=function(){var t=Object(o.b)(r),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}},function(t,e,n){"use strict";var r=n(429);n.d(e,"a",function(){return r.a});var i=n(91);n.d(e,"b",function(){return i.c});var o=n(441);n.d(e,"c",function(){return o.a});var a=n(178);n.d(e,"e",function(){return a.a});var s=n(179);n.d(e,"d",function(){return s.a});var u=n(443);n.d(e,"f",function(){return u.a});var c=n(444);n.d(e,"g",function(){return c.a});var l=n(445);n.d(e,"h",function(){return l.a});var h=n(446);n.d(e,"i",function(){return h.a});var f=n(447);n.d(e,"j",function(){return f.a});var d=n(30);n.d(e,"k",function(){return d.a});var p=n(50);n.d(e,"m",function(){return p.a});var v=n(448);n.d(e,"n",function(){return v.a});var g=n(93);n.d(e,"o",function(){return g.a});var m=n(449);n.d(e,"l",function(){return m.a})},function(t,e,n){"use strict";function r(t,e){return t.parent===e.parent?1:2}function i(t){return t.reduce(o,0)/t.length}function o(t,e){return t+e.x}function a(t){return 1+t.reduce(s,0)}function s(t,e){return Math.max(t,e.y)}e.a=function(){function t(t){var r,u=0;t.eachAfter(function(t){var n=t.children;n?(t.x=i(n),t.y=a(n)):(t.x=r?u+=e(t,r):0,t.y=0,r=t)});var c=function(t){for(var e;e=t.children;)t=e[0];return t}(t),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(t),h=c.x-e(c,l)/2,f=l.x+e(l,c)/2;return t.eachAfter(s?function(e){e.x=(e.x-t.x)*n,e.y=(t.y-e.y)*o}:function(e){e.x=(e.x-h)/(f-h)*n,e.y=(1-(t.y?e.y/t.y:1))*o})}var e=r,n=1,o=1,s=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(e){return arguments.length?(s=!1,n=+e[0],o=+e[1],t):s?null:[n,o]},t.nodeSize=function(e){return arguments.length?(s=!0,n=+e[0],o=+e[1],t):s?[n,o]:null},t}},function(t,e,n){"use strict";function r(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}e.a=function(){return this.eachAfter(r)}},function(t,e,n){"use strict";e.a=function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this}},function(t,e,n){"use strict";e.a=function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this}},function(t,e,n){"use strict";e.a=function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this}},function(t,e,n){"use strict";e.a=function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}},function(t,e,n){"use strict";e.a=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}},function(t,e,n){"use strict";e.a=function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}},function(t,e,n){"use strict";e.a=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}},function(t,e,n){"use strict";e.a=function(){var t=[];return this.each(function(e){t.push(e)}),t}},function(t,e,n){"use strict";e.a=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}},function(t,e,n){"use strict";e.a=function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}},function(t,e,n){"use strict";function r(t){return Math.sqrt(t.value)}function i(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function o(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,u=t(n)*e||0;if(u)for(i=0;i<a;++i)r[i].r+=u;if(o=Object(s.b)(r),u)for(i=0;i<a;++i)r[i].r-=u;n.r=o+u}}}function a(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var s=n(178),u=n(92),c=n(180);e.a=function(){function t(t){return t.x=n/2,t.y=s/2,e?t.eachBefore(i(e)).eachAfter(o(l,.5)).eachBefore(a(1)):t.eachBefore(i(r)).eachAfter(o(c.a,1)).eachAfter(o(l,t.r/Math.min(n,s))).eachBefore(a(Math.min(n,s)/(2*t.r))),t}var e=null,n=1,s=1,l=c.a;return t.radius=function(n){return arguments.length?(e=Object(u.a)(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],s=+e[1],t):[n,s]},t.padding=function(e){return arguments.length?(l="function"==typeof e?e:Object(c.b)(+e),t):l},t}},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),e.a=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t};var r=Array.prototype.slice},function(t,e,n){"use strict";var r=n(181),i=n(30);e.a=function(){function t(t){var i=t.height+1;return t.x0=t.y0=a,t.x1=n,t.y1=o/i,t.eachBefore(e(o,i)),s&&t.eachBefore(r.a),t}function e(t,e){return function(n){n.children&&Object(i.a)(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var r=n.x0,o=n.y0,s=n.x1-a,u=n.y1-a;s<r&&(r=s=(r+s)/2),u<o&&(o=u=(o+u)/2),n.x0=r,n.y0=o,n.x1=s,n.y1=u}}var n=1,o=1,a=0,s=!1;return t.round=function(e){return arguments.length?(s=!!e,t):s},t.size=function(e){return arguments.length?(n=+e[0],o=+e[1],t):[n,o]},t.padding=function(e){return arguments.length?(a=+e,t):a},t}},function(t,e,n){"use strict";function r(t){return t.id}function i(t){return t.parentId}var o=n(92),a=n(91),s="$",u={depth:-1},c={};e.a=function(){function t(t){var r,i,o,l,h,f,d,p=t.length,v=new Array(p),g={};for(i=0;i<p;++i)r=t[i],h=v[i]=new a.a(r),null!=(f=e(r,i,t))&&(f+="")&&(g[d=s+(h.id=f)]=d in g?c:h);for(i=0;i<p;++i)if(h=v[i],null!=(f=n(t[i],i,t))&&(f+="")){if(!(l=g[s+f]))throw new Error("missing: "+f);if(l===c)throw new Error("ambiguous: "+f);l.children?l.children.push(h):l.children=[h],h.parent=l}else{if(o)throw new Error("multiple roots");o=h}if(!o)throw new Error("no root");if(o.parent=u,o.eachBefore(function(t){t.depth=t.parent.depth+1,--p}).eachBefore(a.b),o.parent=null,p>0)throw new Error("cycle");return o}var e=r,n=i;return t.id=function(n){return arguments.length?(e=Object(o.b)(n),t):e},t.parentId=function(e){return arguments.length?(n=Object(o.b)(e),t):n},t}},function(t,e,n){"use strict";function r(t,e){return t.parent===e.parent?1:2}function i(t){var e=t.children;return e?e[0]:t.t}function o(t){var e=t.children;return e?e[e.length-1]:t.t}function a(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function s(t,e,n){return t.a.parent===e.parent?t.a:n}function u(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function c(t){for(var e,n,r,i,o,a=new u(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new u(r[i],i)),n.parent=e;return(a.parent=new u(null,0)).children=[a],a}var l=n(91);u.prototype=Object.create(l.a.prototype),e.a=function(){function t(t){var r=c(t);if(r.eachAfter(e),r.parent.m=-r.z,r.eachBefore(n),p)t.eachBefore(l);else{var i=t,o=t,a=t;t.eachBefore(function(t){t.x<i.x&&(i=t),t.x>o.x&&(o=t),t.depth>a.depth&&(a=t)});var s=i===o?1:h(i,o)/2,u=s-i.x,v=f/(o.x+s+u),g=d/(a.depth||1);t.eachBefore(function(t){t.x=(t.x+u)*v,t.y=t.depth*g})}return t}function e(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var i=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+h(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+h(t._,r._));t.parent.A=u(t,r,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t,e,n){if(e){for(var r,u=t,c=t,l=e,f=u.parent.children[0],d=u.m,p=c.m,v=l.m,g=f.m;l=o(l),u=i(u),l&&u;)f=i(f),(c=o(c)).a=t,(r=l.z+v-u.z-d+h(l._,u._))>0&&(a(s(l,t,n),t,r),d+=r,p+=r),v+=l.m,d+=u.m,g+=f.m,p+=c.m;l&&!o(c)&&(c.t=l,c.m+=v-p),u&&!i(f)&&(f.t=u,f.m+=d-g,n=t)}return n}function l(t){t.x*=f,t.y=t.depth*d}var h=r,f=1,d=1,p=null;return t.separation=function(e){return arguments.length?(h=e,t):h},t.size=function(e){return arguments.length?(p=!1,f=+e[0],d=+e[1],t):p?null:[f,d]},t.nodeSize=function(e){return arguments.length?(p=!0,f=+e[0],d=+e[1],t):p?[f,d]:null},t}},function(t,e,n){"use strict";var r=n(181),i=n(93),o=n(92),a=n(180);e.a=function(){function t(t){return t.x0=t.y0=0,t.x1=u,t.y1=c,t.eachBefore(e),l=[0],s&&t.eachBefore(r.a),t}function e(t){var e=l[t.depth],r=t.x0+e,i=t.y0+e,o=t.x1-e,a=t.y1-e;o<r&&(r=o=(r+o)/2),a<i&&(i=a=(i+a)/2),t.x0=r,t.y0=i,t.x1=o,t.y1=a,t.children&&(e=l[t.depth+1]=h(t)/2,r+=v(t)-e,i+=f(t)-e,o-=d(t)-e,a-=p(t)-e,o<r&&(r=o=(r+o)/2),a<i&&(i=a=(i+a)/2),n(t,r,i,o,a))}var n=i.a,s=!1,u=1,c=1,l=[0],h=a.a,f=a.a,d=a.a,p=a.a,v=a.a;return t.round=function(e){return arguments.length?(s=!!e,t):s},t.size=function(e){return arguments.length?(u=+e[0],c=+e[1],t):[u,c]},t.tile=function(e){return arguments.length?(n=Object(o.b)(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(h="function"==typeof e?e:Object(a.b)(+e),t):h},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(f="function"==typeof e?e:Object(a.b)(+e),t):f},t.paddingRight=function(e){return arguments.length?(d="function"==typeof e?e:Object(a.b)(+e),t):d},t.paddingBottom=function(e){return arguments.length?(p="function"==typeof e?e:Object(a.b)(+e),t):p},t.paddingLeft=function(e){return arguments.length?(v="function"==typeof e?e:Object(a.b)(+e),t):v},t}},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){var o,a,s=t.children,u=s.length,c=new Array(u+1);for(c[0]=a=o=0;o<u;++o)c[o+1]=a+=s[o].value;!function t(e,n,r,i,o,a,u){if(e>=n-1){var l=s[e];return l.x0=i,l.y0=o,l.x1=a,void(l.y1=u)}for(var h=c[e],f=r/2+h,d=e+1,p=n-1;d<p;){var v=d+p>>>1;c[v]<f?d=v+1:p=v}f-c[d-1]<c[d]-f&&e+1<d&&--d;var g=c[d]-h,m=r-g;if(a-i>u-o){var y=(i*m+a*g)/r;t(e,d,g,i,o,y,u),t(d,n,m,y,o,a,u)}else{var b=(o*m+u*g)/r;t(e,d,g,i,o,a,b),t(d,n,m,i,b,a,u)}}(0,u,t.value,e,n,r,i)}},function(t,e,n){"use strict";var r=n(30),i=n(50);e.a=function(t,e,n,o,a){(1&t.depth?i.a:r.a)(t,e,n,o,a)}},function(t,e,n){"use strict";var r=n(30),i=n(50),o=n(93);e.a=function t(e){function n(t,n,a,s,u){if((c=t._squarify)&&c.ratio===e)for(var c,l,h,f,d,p=-1,v=c.length,g=t.value;++p<v;){for(h=(l=c[p]).children,f=l.value=0,d=h.length;f<d;++f)l.value+=h[f].value;l.dice?Object(r.a)(l,n,a,s,a+=(u-a)*l.value/g):Object(i.a)(l,n,a,n+=(s-n)*l.value/g,u),g-=l.value}else t._squarify=c=Object(o.c)(e,t,n,a,s,u),c.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(o.b)},function(t,e,n){"use strict";var r=n(451);n.d(e,"a",function(){return r.a});var i=n(452);n.d(e,"b",function(){return i.a});var o=n(453);n.d(e,"d",function(){return o.a});var a=n(455);n.d(e,"c",function(){return a.a});var s=n(456);n.d(e,"e",function(){return s.a})},function(t,e,n){"use strict";e.a=function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2}},function(t,e,n){"use strict";e.a=function(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],u=0;++r<i;)e=s,s=t[r],u+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(u*=3),a/u]}},function(t,e,n){"use strict";function r(t,e){return t[0]-e[0]||t[1]-e[1]}function i(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;++i){for(;r>1&&Object(o.a)(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}var o=n(454);e.a=function(t){if((n=t.length)<3)return null;var e,n,o=new Array(n),a=new Array(n);for(e=0;e<n;++e)o[e]=[+t[e][0],+t[e][1],e];for(o.sort(r),e=0;e<n;++e)a[e]=[o[e][0],-o[e][1]];var s=i(o),u=i(a),c=u[0]===s[0],l=u[u.length-1]===s[s.length-1],h=[];for(e=s.length-1;e>=0;--e)h.push(t[o[s[e]][2]]);for(e=+c;e<u.length-l;++e)h.push(t[o[u[e]][2]]);return h}},function(t,e,n){"use strict";e.a=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}},function(t,e,n){"use strict";e.a=function(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],s=e[1],u=o[0],c=o[1],l=!1,h=0;h<i;++h)n=(o=t[h])[0],(r=o[1])>s!=c>s&&a<(u-n)*(s-r)/(c-r)+n&&(l=!l),u=n,c=r;return l}},function(t,e,n){"use strict";e.a=function(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],u=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],u+=Math.sqrt(e*e+n*n);return u}},function(t,e,n){"use strict";var r=n(458);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";function r(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function i(t){if(!t._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],r=n.length-1,i=n[r];n[r]=o(t,e),--t._waiting,++t._active,n=i.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||l)}}(t)}catch(e){if(t._tasks[t._ended+t._active-1])a(t,e);else if(!t._data)throw e}}function o(t,e){return function(n,r){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=n?a(t,n):(t._data[e]=r,t._waiting?i(t):s(t))))}}function a(t,e){var n,r=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--r>=0;)if((n=t._tasks[r])&&(t._tasks[r]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,s(t)}function s(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function u(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new r(t)}e.a=u;var c=n(459),l={};r.prototype=u.prototype={constructor:r,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var e=c.a.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),i(this),this},abort:function(){return null==this._error&&a(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(e,n){t.apply(null,[e].concat(n))},s(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,s(this),this}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=[].slice},function(t,e,n){"use strict";var r=n(461);n.d(e,"f",function(){return r.a});var i=n(182);n.d(e,"e",function(){return i.a});var o=n(462);n.d(e,"d",function(){return o.a});var a=n(463);n.d(e,"a",function(){return a.a});var s=n(183);n.d(e,"c",function(){return s.a});var u=n(464);n.d(e,"b",function(){return u.a})},function(t,e,n){"use strict";var r=n(24);e.a=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(r.a)},function(t,e,n){"use strict";var r=n(24),i=n(182);e.a=function t(e){function n(){var t=i.a.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(r.a)},function(t,e,n){"use strict";var r=n(24),i=n(183);e.a=function t(e){function n(t){var n=i.a.source(e)(t);return function(){return n()/t}}return n.source=t,n}(r.a)},function(t,e,n){"use strict";var r=n(24);e.a=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(r.a)},function(t,e,n){"use strict";var r=n(94);n.d(e,"d",function(){return r.a});var i=n(466);n.d(e,"b",function(){return i.a});var o=n(467);n.d(e,"c",function(){return o.a});var a=n(468);n.d(e,"e",function(){return a.a});var s=n(469);n.d(e,"g",function(){return s.a});var u=n(470);n.d(e,"a",function(){return u.a});var c=n(471);n.d(e,"f",function(){return c.a})},function(t,e,n){"use strict";var r=n(51);e.a=Object(r.a)("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)})},function(t,e,n){"use strict";var r=n(51);e.a=Object(r.a)("application/json",function(t){return JSON.parse(t.responseText)})},function(t,e,n){"use strict";var r=n(51);e.a=Object(r.a)("text/plain",function(t){return t.responseText})},function(t,e,n){"use strict";var r=n(51);e.a=Object(r.a)("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e})},function(t,e,n){"use strict";var r=n(79),i=n(184);e.a=Object(i.a)("text/csv",r.c)},function(t,e,n){"use strict";var r=n(79),i=n(184);e.a=Object(i.a)("text/tab-separated-values",r.h)},function(t,e,n){"use strict";var r=n(473);n.d(e,"i",function(){return r.a}),n.d(e,"o",function(){return r.b});var i=n(474);n.d(e,"j",function(){return i.a});var o=n(31);n.d(e,"l",function(){return o.a});var a=n(476);n.d(e,"m",function(){return a.a});var s=n(185);n.d(e,"n",function(){return s.a}),n.d(e,"k",function(){return s.b});var u=n(477);n.d(e,"p",function(){return u.a}),n.d(e,"t",function(){return u.b});var c=n(478);n.d(e,"q",function(){return c.a});var l=n(479);n.d(e,"r",function(){return l.a});var h=n(480);n.d(e,"u",function(){return h.a});var f=n(188);n.d(e,"v",function(){return f.b});var d=n(496);n.d(e,"w",function(){return d.a});var p=n(497);n.d(e,"x",function(){return p.a});var v=n(498);n.d(e,"z",function(){return v.a});var g=n(499);n.d(e,"A",function(){return g.a});var m=n(500);n.d(e,"y",function(){return m.a});var y=n(501);n.d(e,"b",function(){return y.a});var b=n(502);n.d(e,"f",function(){return b.b}),n.d(e,"h",function(){return b.c}),n.d(e,"a",function(){return b.a});var _=n(503);n.d(e,"g",function(){return _.a}),n.d(e,"d",function(){return _.c}),n.d(e,"c",function(){return _.b}),n.d(e,"e",function(){return _.d});var w=n(504);n.d(e,"s",function(){return w.a})},function(t,e,n){"use strict";function r(){function t(){var t=s().length,r=c[1]<c[0],o=c[r-0],a=c[1-r];e=(a-o)/Math.max(1,t-h+2*f),l&&(e=Math.floor(e)),o+=(a-o-e*(t-h))*d,n=e*(1-h),l&&(o=Math.round(o),n=Math.round(n));var p=Object(i.s)(t).map(function(t){return o+e*t});return u(r?p.reverse():p)}var e,n,a=Object(o.a)().unknown(void 0),s=a.domain,u=a.range,c=[0,1],l=!1,h=0,f=0,d=.5;return delete a.unknown,a.domain=function(e){return arguments.length?(s(e),t()):s()},a.range=function(e){return arguments.length?(c=[+e[0],+e[1]],t()):c.slice()},a.rangeRound=function(e){return c=[+e[0],+e[1]],l=!0,t()},a.bandwidth=function(){return n},a.step=function(){return e},a.round=function(e){return arguments.length?(l=!!e,t()):l},a.padding=function(e){return arguments.length?(h=f=Math.max(0,Math.min(1,e)),t()):h},a.paddingInner=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),t()):h},a.paddingOuter=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),t()):f},a.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),t()):d},a.copy=function(){return r().domain(s()).range(c).round(l).paddingInner(h).paddingOuter(f).align(d)},t()}e.a=r,e.b=function(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(r().paddingInner(1))};var i=n(2),o=n(185)},function(t,e,n){"use strict";e.a=function t(){function e(t){return+t}var n=[0,1];return e.invert=e,e.domain=e.range=function(t){return arguments.length?(n=r.a.call(t,o.a),e):n.slice()},e.copy=function(){return t().domain(n)},Object(i.b)(e)};var r=n(17),i=n(31),o=n(186)},function(t,e,n){"use strict";var r=n(2),i=n(84);e.a=function(t,e,n){var o,a=t[0],s=t[t.length-1],u=Object(r.A)(a,s,null==e?10:e);switch((n=Object(i.e)(null==n?",f":n)).type){case"s":var c=Math.max(Math.abs(a),Math.abs(s));return null!=n.precision||isNaN(o=Object(i.g)(u,c))||(n.precision=o),Object(i.d)(n,c);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(o=Object(i.h)(u,Math.max(Math.abs(a),Math.abs(s))))||(n.precision=o-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(o=Object(i.f)(u))||(n.precision=o-2*("%"===n.type))}return Object(i.a)(n)}},function(t,e,n){"use strict";function r(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:Object(h.a)(e)}function i(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function o(t){return isFinite(t)?+("1e"+t):t<0?0:t}function a(t){return 10===t?o:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function s(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function u(t){return function(e){return-t(-e)}}e.a=function t(){function e(){return p=s(h),v=a(h),o()[0]<0&&(p=u(p),v=u(v)),n}var n=Object(d.b)(r,i).domain([1,10]),o=n.domain,h=10,p=s(10),v=a(10);return n.base=function(t){return arguments.length?(h=+t,e()):h},n.domain=function(t){return arguments.length?(o(t),e()):o()},n.ticks=function(t){var e,n=o(),r=n[0],i=n[n.length-1];(e=i<r)&&(l=r,r=i,i=l);var a,s,u,l=p(r),f=p(i),d=null==t?10:+t,g=[];if(!(h%1)&&f-l<d){if(l=Math.round(l)-1,f=Math.round(f)+1,r>0){for(;l<f;++l)for(s=1,a=v(l);s<h;++s)if(!((u=a*s)<r)){if(u>i)break;g.push(u)}}else for(;l<f;++l)for(s=h-1,a=v(l);s>=1;--s)if(!((u=a*s)<r)){if(u>i)break;g.push(u)}}else g=Object(c.B)(l,f,Math.min(f-l,d)).map(v);return e?g.reverse():g},n.tickFormat=function(t,e){if(null==e&&(e=10===h?".0e":","),"function"!=typeof e&&(e=Object(l.a)(e)),t===1/0)return e;null==t&&(t=10);var r=Math.max(1,h*t/n.ticks().length);return function(t){var n=t/v(Math.round(p(t)));return n*h<h-.5&&(n*=h),n<=r?e(t):""}},n.nice=function(){return o(Object(f.a)(o(),{floor:function(t){return v(Math.floor(p(t)))},ceil:function(t){return v(Math.ceil(p(t)))}}))},n.copy=function(){return Object(d.a)(n,t().base(h))},n};var c=n(2),l=n(84),h=n(95),f=n(187),d=n(52)},function(t,e,n){"use strict";function r(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function i(){var t=1,e=Object(s.b)(function(e,n){return(n=r(n,t)-(e=r(e,t)))?function(i){return(r(i,t)-e)/n}:Object(o.a)(n)},function(e,n){return n=r(n,t)-(e=r(e,t)),function(i){return r(e+n*i,1/t)}}),n=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return Object(s.a)(e,i().exponent(t))},Object(a.b)(e)}e.a=i,e.b=function(){return i().exponent(.5)};var o=n(95),a=n(31),s=n(52)},function(t,e,n){"use strict";e.a=function t(){function e(){var t=0,e=Math.max(1,a.length);for(s=new Array(e-1);++t<e;)s[t-1]=Object(r.r)(o,t/e);return n}function n(t){if(!isNaN(t=+t))return a[Object(r.b)(s,t)]}var o=[],a=[],s=[];return n.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:[e>0?s[e-1]:o[0],e<s.length?s[e]:o[o.length-1]]},n.domain=function(t){if(!arguments.length)return o.slice();o=[];for(var n,i=0,a=t.length;i<a;++i)null==(n=t[i])||isNaN(n=+n)||o.push(n);return o.sort(r.a),e()},n.range=function(t){return arguments.length?(a=i.b.call(t),e()):a.slice()},n.quantiles=function(){return s.slice()},n.copy=function(){return t().domain(o).range(a)},n};var r=n(2),i=n(17)},function(t,e,n){"use strict";e.a=function t(){function e(t){if(t<=t)return l[Object(r.b)(c,t,0,u)]}function n(){var t=-1;for(c=new Array(u);++t<u;)c[t]=((t+1)*s-(t-u)*a)/(u+1);return e}var a=0,s=1,u=1,c=[.5],l=[0,1];return e.domain=function(t){return arguments.length?(a=+t[0],s=+t[1],n()):[a,s]},e.range=function(t){return arguments.length?(u=(l=i.b.call(t)).length-1,n()):l.slice()},e.invertExtent=function(t){var e=l.indexOf(t);return e<0?[NaN,NaN]:e<1?[a,c[0]]:e>=u?[c[u-1],s]:[c[e-1],c[e]]},e.copy=function(){return t().domain([a,s]).range(l)},Object(o.b)(e)};var r=n(2),i=n(17),o=n(31)},function(t,e,n){"use strict";e.a=function t(){function e(t){if(t<=t)return o[Object(r.b)(n,t,0,a)]}var n=[.5],o=[0,1],a=1;return e.domain=function(t){return arguments.length?(n=i.b.call(t),a=Math.min(n.length,o.length-1),e):n.slice()},e.range=function(t){return arguments.length?(o=i.b.call(t),a=Math.min(n.length,o.length-1),e):o.slice()},e.invertExtent=function(t){var e=o.indexOf(t);return[n[e-1],n[e]]},e.copy=function(){return t().domain(n).range(o)},e};var r=n(2),i=n(17)},function(t,e,n){"use strict";n.d(e,"b",function(){return o});var r=n(4),i=Object(r.a)(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Object(r.a)(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):i:null},e.a=i;var o=i.range},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(4),i=n(12),o=Object(r.a)(function(t){t.setTime(Math.floor(t/i.d)*i.d)},function(t,e){t.setTime(+t+e*i.d)},function(t,e){return(e-t)/i.d},function(t){return t.getUTCSeconds()});e.a=o;var a=o.range},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(4),i=n(12),o=Object(r.a)(function(t){t.setTime(Math.floor(t/i.c)*i.c)},function(t,e){t.setTime(+t+e*i.c)},function(t,e){return(e-t)/i.c},function(t){return t.getMinutes()});e.a=o;var a=o.range},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(4),i=n(12),o=Object(r.a)(function(t){var e=t.getTimezoneOffset()*i.c%i.b;e<0&&(e+=i.b),t.setTime(Math.floor((+t-e)/i.b)*i.b+e)},function(t,e){t.setTime(+t+e*i.b)},function(t,e){return(e-t)/i.b},function(t){return t.getHours()});e.a=o;var a=o.range},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(4),i=n(12),o=Object(r.a)(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*i.c)/i.a},function(t){return t.getDate()-1});e.b=o;var a=o.range},function(t,e,n){"use strict";function r(t){return Object(i.a)(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*o.c)/o.e})}n.d(e,"g",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"k",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"i",function(){return l}),n.d(e,"a",function(){return h}),n.d(e,"e",function(){return f}),n.d(e,"h",function(){return d}),n.d(e,"d",function(){return p}),n.d(e,"l",function(){return v}),n.d(e,"n",function(){return g}),n.d(e,"j",function(){return m}),n.d(e,"b",function(){return y}),n.d(e,"f",function(){return b});var i=n(4),o=n(12),a=r(0),s=r(1),u=r(2),c=r(3),l=r(4),h=r(5),f=r(6),d=a.range,p=s.range,v=u.range,g=c.range,m=l.range,y=h.range,b=f.range},function(t,e,n){"use strict";n.d(e,"b",function(){return o});var r=n(4),i=Object(r.a)(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()});e.a=i;var o=i.range},function(t,e,n){"use strict";n.d(e,"b",function(){return o});var r=n(4),i=Object(r.a)(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});i.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Object(r.a)(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null},e.a=i;var o=i.range},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(4),i=n(12),o=Object(r.a)(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*i.c)},function(t,e){return(e-t)/i.c},function(t){return t.getUTCMinutes()});e.a=o;var a=o.range},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(4),i=n(12),o=Object(r.a)(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*i.b)},function(t,e){return(e-t)/i.b},function(t){return t.getUTCHours()});e.a=o;var a=o.range},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(4),i=n(12),o=Object(r.a)(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/i.a},function(t){return t.getUTCDate()-1});e.a=o;var a=o.range},function(t,e,n){"use strict";function r(t){return Object(i.a)(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/o.e})}n.d(e,"g",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"k",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"i",function(){return l}),n.d(e,"a",function(){return h}),n.d(e,"e",function(){return f}),n.d(e,"h",function(){return d}),n.d(e,"d",function(){return p}),n.d(e,"l",function(){return v}),n.d(e,"n",function(){return g}),n.d(e,"j",function(){return m}),n.d(e,"b",function(){return y}),n.d(e,"f",function(){return b});var i=n(4),o=n(12),a=r(0),s=r(1),u=r(2),c=r(3),l=r(4),h=r(5),f=r(6),d=a.range,p=s.range,v=u.range,g=c.range,m=l.range,y=h.range,b=f.range},function(t,e,n){"use strict";n.d(e,"b",function(){return o});var r=n(4),i=Object(r.a)(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()});e.a=i;var o=i.range},function(t,e,n){"use strict";n.d(e,"b",function(){return o});var r=n(4),i=Object(r.a)(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});i.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Object(r.a)(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null},e.a=i;var o=i.range},function(t,e,n){"use strict";var r=n(191),i=n(96);+new Date("2000-01-01T00:00:00.000Z")||Object(i.c)(r.a)},function(t,e,n){"use strict";var r=n(188),i=n(189),o=n(32);e.a=function(){return Object(r.a)(o._7,o.R,o._5,o.F,o.J,o.N,o.V,o.L,i.b).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}},function(t,e,n){"use strict";var r=n(33);e.a=Object(r.a)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")},function(t,e,n){"use strict";var r=n(33);e.a=Object(r.a)("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6")},function(t,e,n){"use strict";var r=n(33);e.a=Object(r.a)("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9")},function(t,e,n){"use strict";var r=n(33);e.a=Object(r.a)("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5")},function(t,e,n){"use strict";var r=n(3),i=n(6);e.a=Object(i.f)(Object(r.b)(300,.5,0),Object(r.b)(-240,.5,1))},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"a",function(){return a});var r=n(3),i=n(6),o=Object(i.f)(Object(r.b)(-100,.75,.35),Object(r.b)(80,1.5,.8)),a=Object(i.f)(Object(r.b)(260,.75,.35),Object(r.b)(80,1.5,.8)),s=Object(r.b)();e.b=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return s.h=360*t-100,s.s=1.5-1.5*e,s.l=.8-.9*e,s+""}},function(t,e,n){"use strict";function r(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return s});var i=n(33);e.a=r(Object(i.a)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var o=r(Object(i.a)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),a=r(Object(i.a)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),s=r(Object(i.a)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},function(t,e,n){"use strict";e.a=function t(e){function n(t){var n=(t-i)/(o-i);return e(a?Math.max(0,Math.min(1,n)):n)}var i=0,o=1,a=!1;return n.domain=function(t){return arguments.length?(i=+t[0],o=+t[1],n):[i,o]},n.clamp=function(t){return arguments.length?(a=!!t,n):a},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return t(e).domain([i,o]).clamp(a)},Object(r.b)(n)};var r=n(31)},function(t,e,n){"use strict";function r(t){return t.innerRadius}function i(t){return t.outerRadius}function o(t){return t.startAngle}function a(t){return t.endAngle}function s(t){return t&&t.padAngle}function u(t,e,n,r,i,o,a){var s=t-n,u=e-r,c=(a?o:-o)/Object(h.l)(s*s+u*u),l=c*u,f=-c*s,d=t+l,p=e+f,v=n+l,g=r+f,m=(d+v)/2,y=(p+g)/2,b=v-d,_=g-p,w=b*b+_*_,x=i-o,E=d*g-v*p,C=(_<0?-1:1)*Object(h.l)(Object(h.h)(0,x*x*w-E*E)),k=(E*_-b*C)/w,T=(-E*b-_*C)/w,S=(E*_+b*C)/w,O=(-E*b+_*C)/w,M=k-m,A=T-y,P=S-m,I=O-y;return M*M+A*A>P*P+I*I&&(k=S,T=O),{cx:k,cy:T,x01:-l,y01:-f,x11:k*(i/x-1),y11:T*(i/x-1)}}var c=n(8),l=n(18),h=n(34);e.a=function(){function t(){var t,r,i=+e.apply(this,arguments),o=+n.apply(this,arguments),a=p.apply(this,arguments)-h.g,s=v.apply(this,arguments)-h.g,l=Object(h.a)(s-a),y=s>a;if(m||(m=t=Object(c.a)()),o<i&&(r=o,o=i,i=r),o>h.f)if(l>h.m-h.f)m.moveTo(o*Object(h.e)(a),o*Object(h.k)(a)),m.arc(0,0,o,a,s,!y),i>h.f&&(m.moveTo(i*Object(h.e)(s),i*Object(h.k)(s)),m.arc(0,0,i,s,a,y));else{var b,_,w=a,x=s,E=a,C=s,k=l,T=l,S=g.apply(this,arguments)/2,O=S>h.f&&(d?+d.apply(this,arguments):Object(h.l)(i*i+o*o)),M=Object(h.i)(Object(h.a)(o-i)/2,+f.apply(this,arguments)),A=M,P=M;if(O>h.f){var I=Object(h.c)(O/i*Object(h.k)(S)),N=Object(h.c)(O/o*Object(h.k)(S));(k-=2*I)>h.f?(E+=I*=y?1:-1,C-=I):(k=0,E=C=(a+s)/2),(T-=2*N)>h.f?(w+=N*=y?1:-1,x-=N):(T=0,w=x=(a+s)/2)}var D=o*Object(h.e)(w),R=o*Object(h.k)(w),j=i*Object(h.e)(C),L=i*Object(h.k)(C);if(M>h.f){var F=o*Object(h.e)(x),B=o*Object(h.k)(x),$=i*Object(h.e)(E),U=i*Object(h.k)(E);if(l<h.j){var z=k>h.f?function(t,e,n,r,i,o,a,s){var u=n-t,c=r-e,l=a-i,h=s-o,f=(l*(e-o)-h*(t-i))/(h*u-l*c);return[t+f*u,e+f*c]}(D,R,$,U,F,B,j,L):[j,L],q=D-z[0],V=R-z[1],H=F-z[0],W=B-z[1],G=1/Object(h.k)(Object(h.b)((q*H+V*W)/(Object(h.l)(q*q+V*V)*Object(h.l)(H*H+W*W)))/2),K=Object(h.l)(z[0]*z[0]+z[1]*z[1]);A=Object(h.i)(M,(i-K)/(G-1)),P=Object(h.i)(M,(o-K)/(G+1))}}T>h.f?P>h.f?(b=u($,U,D,R,o,P,y),_=u(F,B,j,L,o,P,y),m.moveTo(b.cx+b.x01,b.cy+b.y01),P<M?m.arc(b.cx,b.cy,P,Object(h.d)(b.y01,b.x01),Object(h.d)(_.y01,_.x01),!y):(m.arc(b.cx,b.cy,P,Object(h.d)(b.y01,b.x01),Object(h.d)(b.y11,b.x11),!y),m.arc(0,0,o,Object(h.d)(b.cy+b.y11,b.cx+b.x11),Object(h.d)(_.cy+_.y11,_.cx+_.x11),!y),m.arc(_.cx,_.cy,P,Object(h.d)(_.y11,_.x11),Object(h.d)(_.y01,_.x01),!y))):(m.moveTo(D,R),m.arc(0,0,o,w,x,!y)):m.moveTo(D,R),i>h.f&&k>h.f?A>h.f?(b=u(j,L,F,B,i,-A,y),_=u(D,R,$,U,i,-A,y),m.lineTo(b.cx+b.x01,b.cy+b.y01),A<M?m.arc(b.cx,b.cy,A,Object(h.d)(b.y01,b.x01),Object(h.d)(_.y01,_.x01),!y):(m.arc(b.cx,b.cy,A,Object(h.d)(b.y01,b.x01),Object(h.d)(b.y11,b.x11),!y),m.arc(0,0,i,Object(h.d)(b.cy+b.y11,b.cx+b.x11),Object(h.d)(_.cy+_.y11,_.cx+_.x11),y),m.arc(_.cx,_.cy,A,Object(h.d)(_.y11,_.x11),Object(h.d)(_.y01,_.x01),!y))):m.arc(0,0,i,C,E,y):m.lineTo(j,L)}else m.moveTo(0,0);if(m.closePath(),t)return m=null,t+""||null}var e=r,n=i,f=Object(l.a)(0),d=null,p=o,v=a,g=s,m=null;return t.centroid=function(){var t=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+p.apply(this,arguments)+ +v.apply(this,arguments))/2-h.j/2;return[Object(h.e)(r)*t,Object(h.k)(r)*t]},t.innerRadius=function(n){return arguments.length?(e="function"==typeof n?n:Object(l.a)(+n),t):e},t.outerRadius=function(e){return arguments.length?(n="function"==typeof e?e:Object(l.a)(+e),t):n},t.cornerRadius=function(e){return arguments.length?(f="function"==typeof e?e:Object(l.a)(+e),t):f},t.padRadius=function(e){return arguments.length?(d=null==e?null:"function"==typeof e?e:Object(l.a)(+e),t):d},t.startAngle=function(e){return arguments.length?(p="function"==typeof e?e:Object(l.a)(+e),t):p},t.endAngle=function(e){return arguments.length?(v="function"==typeof e?e:Object(l.a)(+e),t):v},t.padAngle=function(e){return arguments.length?(g="function"==typeof e?e:Object(l.a)(+e),t):g},t.context=function(e){return arguments.length?(m=null==e?null:e,t):m},t}},function(t,e,n){"use strict";var r=n(18),i=n(507),o=n(508),a=n(34);e.a=function(){function t(t){var r,i,o,h,f,d=t.length,p=0,v=new Array(d),g=new Array(d),m=+u.apply(this,arguments),y=Math.min(a.m,Math.max(-a.m,c.apply(this,arguments)-m)),b=Math.min(Math.abs(y)/d,l.apply(this,arguments)),_=b*(y<0?-1:1);for(r=0;r<d;++r)(f=g[v[r]=r]=+e(t[r],r,t))>0&&(p+=f);for(null!=n?v.sort(function(t,e){return n(g[t],g[e])}):null!=s&&v.sort(function(e,n){return s(t[e],t[n])}),r=0,o=p?(y-d*_)/p:0;r<d;++r,m=h)i=v[r],h=m+((f=g[i])>0?f*o:0)+_,g[i]={data:t[i],index:r,value:f,startAngle:m,endAngle:h,padAngle:b};return g}var e=o.a,n=i.a,s=null,u=Object(r.a)(0),c=Object(r.a)(a.m),l=Object(r.a)(0);return t.value=function(n){return arguments.length?(e="function"==typeof n?n:Object(r.a)(+n),t):e},t.sortValues=function(e){return arguments.length?(n=e,s=null,t):n},t.sort=function(e){return arguments.length?(s=e,n=null,t):s},t.startAngle=function(e){return arguments.length?(u="function"==typeof e?e:Object(r.a)(+e),t):u},t.endAngle=function(e){return arguments.length?(c="function"==typeof e?e:Object(r.a)(+e),t):c},t.padAngle=function(e){return arguments.length?(l="function"==typeof e?e:Object(r.a)(+e),t):l},t}},function(t,e,n){"use strict";e.a=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";var r=n(194),i=n(193),o=n(195);e.a=function(){var t=Object(i.a)().curve(r.a),e=t.curve,n=t.lineX0,a=t.lineX1,s=t.lineY0,u=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Object(o.b)(n())},delete t.lineX0,t.lineEndAngle=function(){return Object(o.b)(a())},delete t.lineX1,t.lineInnerRadius=function(){return Object(o.b)(s())},delete t.lineY0,t.lineOuterRadius=function(){return Object(o.b)(u())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Object(r.b)(t)):e()._curve},t}},function(t,e,n){"use strict";function r(t){return t.source}function i(t){return t.target}function o(t){function e(){var e,r=l.a.call(arguments),i=n.apply(this,r),h=o.apply(this,r);if(u||(u=e=Object(c.a)()),t(u,+a.apply(this,(r[0]=i,r)),+s.apply(this,r),+a.apply(this,(r[0]=h,r)),+s.apply(this,r)),e)return u=null,e+""||null}var n=r,o=i,a=f.a,s=f.b,u=null;return e.source=function(t){return arguments.length?(n=t,e):n},e.target=function(t){return arguments.length?(o=t,e):o},e.x=function(t){return arguments.length?(a="function"==typeof t?t:Object(h.a)(+t),e):a},e.y=function(t){return arguments.length?(s="function"==typeof t?t:Object(h.a)(+t),e):s},e.context=function(t){return arguments.length?(u=null==t?null:t,e):u},e}function a(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function s(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function u(t,e,n,r,i){var o=Object(d.a)(e,n),a=Object(d.a)(e,n=(n+i)/2),s=Object(d.a)(r,n),u=Object(d.a)(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}e.a=function(){return o(a)},e.c=function(){return o(s)},e.b=function(){var t=o(u);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t};var c=n(8),l=n(197),h=n(18),f=n(98),d=n(196)},function(t,e,n){"use strict";n.d(e,"b",function(){return f});var r=n(8),i=n(198),o=n(199),a=n(200),s=n(201),u=n(202),c=n(203),l=n(204),h=n(18),f=[i.a,o.a,a.a,u.a,s.a,c.a,l.a];e.a=function(){function t(){var t;if(o||(o=t=Object(r.a)()),e.apply(this,arguments).draw(o,+n.apply(this,arguments)),t)return o=null,t+""||null}var e=Object(h.a)(i.a),n=Object(h.a)(64),o=null;return t.type=function(n){return arguments.length?(e="function"==typeof n?n:Object(h.a)(n),t):e},t.size=function(e){return arguments.length?(n="function"==typeof e?e:Object(h.a)(+e),t):n},t.context=function(e){return arguments.length?(o=null==e?null:e,t):o},t}},function(t,e,n){"use strict";function r(t){this._context=t}var i=n(54),o=n(55);r.prototype={areaStart:i.a,areaEnd:i.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Object(o.c)(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},e.a=function(t){return new r(t)}},function(t,e,n){"use strict";function r(t){this._context=t}var i=n(55);r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Object(i.c)(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},e.a=function(t){return new r(t)}},function(t,e,n){"use strict";function r(t,e){this._basis=new i.a(t),this._beta=e}var i=n(55);r.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}},e.a=function t(e){function n(t){return 1===e?new i.a(t):new r(t,e)}return n.beta=function(e){return t(+e)},n}(.85)},function(t,e,n){"use strict";function r(t,e){this._context=t,this._alpha=e}var i=n(205),o=n(54),a=n(99);r.prototype={areaStart:o.a,areaEnd:o.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Object(a.b)(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.a=function t(e){function n(t){return e?new r(t,e):new i.a(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},function(t,e,n){"use strict";function r(t,e){this._context=t,this._alpha=e}var i=n(206),o=n(99);r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(o.b)(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.a=function t(e){function n(t){return e?new r(t,e):new i.a(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},function(t,e,n){"use strict";function r(t){this._context=t}var i=n(54);r.prototype={areaStart:i.a,areaEnd:i.a,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},e.a=function(t){return new r(t)}},function(t,e,n){"use strict";function r(t){return t<0?-1:1}function i(t,e,n){var i=t._x1-t._x0,o=e-t._x1,a=(t._y1-t._y0)/(i||o<0&&-0),s=(n-t._y1)/(o||i<0&&-0),u=(a*o+s*i)/(i+o);return(r(a)+r(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function o(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function a(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function s(t){this._context=t}function u(t){this._context=new c(t)}function c(t){this._context=t}e.a=function(t){return new s(t)},e.b=function(t){return new u(t)},s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:a(this,this._t0,o(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,a(this,o(this,n=i(this,t,e)),n);break;default:a(this,this._t0,n=i(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(u.prototype=Object.create(s.prototype)).point=function(t,e){s.prototype.point.call(this,e,t)},c.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}}},function(t,e,n){"use strict";function r(t){this._context=t}function i(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=i(t),o=i(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],o[0][a],r[1][a],o[1][a],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},e.a=function(t){return new r(t)}},function(t,e,n){"use strict";function r(t,e){this._context=t,this._t=e}e.c=function(t){return new r(t,0)},e.b=function(t){return new r(t,1)},r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}},e.a=function(t){return new r(t,.5)}},function(t,e,n){"use strict";function r(t,e){return t[e]}var i=n(197),o=n(18),a=n(35),s=n(36);e.a=function(){function t(t){var r,i,o=e.apply(this,arguments),a=t.length,s=o.length,l=new Array(s);for(r=0;r<s;++r){for(var h,f=o[r],d=l[r]=new Array(a),p=0;p<a;++p)d[p]=h=[0,+c(t[p],f,p,t)],h.data=t[p];d.key=f}for(r=0,i=n(l);r<s;++r)l[i[r]].index=r;return u(l,i),l}var e=Object(o.a)([]),n=s.a,u=a.a,c=r;return t.keys=function(n){return arguments.length?(e="function"==typeof n?n:Object(o.a)(i.a.call(n)),t):e},t.value=function(e){return arguments.length?(c="function"==typeof e?e:Object(o.a)(+e),t):c},t.order=function(e){return arguments.length?(n=null==e?s.a:"function"==typeof e?e:Object(o.a)(i.a.call(e)),t):n},t.offset=function(e){return arguments.length?(u=null==e?a.a:e,t):u},t}},function(t,e,n){"use strict";var r=n(35);e.a=function(t,e){if((i=t.length)>0){for(var n,i,o,a=0,s=t[0].length;a<s;++a){for(o=n=0;n<i;++n)o+=t[n][a][1]||0;if(o)for(n=0;n<i;++n)t[n][a][1]/=o}Object(r.a)(t,e)}}},function(t,e,n){"use strict";e.a=function(t,e){if((s=t.length)>1)for(var n,r,i,o,a,s,u=0,c=t[e[0]].length;u<c;++u)for(o=a=0,n=0;n<s;++n)(i=(r=t[e[n]][u])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o}},function(t,e,n){"use strict";var r=n(35);e.a=function(t,e){if((n=t.length)>0){for(var n,i=0,o=t[e[0]],a=o.length;i<a;++i){for(var s=0,u=0;s<n;++s)u+=t[s][i][1]||0;o[i][1]+=o[i][0]=-u/2}Object(r.a)(t,e)}}},function(t,e,n){"use strict";var r=n(35);e.a=function(t,e){if((o=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,o,a=0,s=1;s<i;++s){for(var u=0,c=0,l=0;u<o;++u){for(var h=t[e[u]],f=h[s][1]||0,d=(f-(h[s-1][1]||0))/2,p=0;p<u;++p){var v=t[e[p]];d+=(v[s][1]||0)-(v[s-1][1]||0)}c+=f,l+=d*f}n[s-1][1]+=n[s-1][0]=a,c&&(a-=l/c)}n[s-1][1]+=n[s-1][0]=a,Object(r.a)(t,e)}}},function(t,e,n){"use strict";var r=n(100);e.a=function(t){return Object(r.a)(t).reverse()}},function(t,e,n){"use strict";var r=n(36),i=n(100);e.a=function(t){var e,n,o=t.length,a=t.map(i.b),s=Object(r.a)(t).sort(function(t,e){return a[e]-a[t]}),u=0,c=0,l=[],h=[];for(e=0;e<o;++e)n=s[e],u<c?(u+=a[n],l.push(n)):(c+=a[n],h.push(n));return h.reverse().concat(l)}},function(t,e,n){"use strict";var r=n(36);e.a=function(t){return Object(r.a)(t).reverse()}},function(t,e,n){"use strict";var r=n(101);n.d(e,"d",function(){return r.a}),n.d(e,"c",function(){return r.b}),n.d(e,"f",function(){return r.c}),n.d(e,"g",function(){return r.d}),n.d(e,"h",function(){return r.e});var i=n(207);n.d(e,"e",function(){return i.a});var o=n(208);n.d(e,"a",function(){return o.a});var a=n(530);n.d(e,"b",function(){return a.a})},function(t,e,n){"use strict";var r=n(208),i=n(101),o=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:Object(i.e)(r.b);e.a=o},function(t,e,n){"use strict";var r=n(532);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(533),i=n(534),o=n(37);e.a=function(){function t(t){return new o.d(t.map(function(r,i){var a=[Math.round(e(r,i,t)/o.f)*o.f,Math.round(n(r,i,t)/o.f)*o.f];return a.index=i,a.data=r,a}),a)}var e=i.a,n=i.b,a=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:Object(r.a)(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:Object(r.a)(+e),t):n},t.extent=function(e){return arguments.length?(a=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):a&&[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},t.size=function(e){return arguments.length?(a=null==e?null:[[0,0],[+e[0],+e[1]]],t):a&&[a[1][0]-a[0][0],a[1][1]-a[0][1]]},t}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t){return t[0]},e.b=function(t){return t[1]}},function(t,e,n){"use strict";function r(t){var e=f.pop()||new function(){Object(s.a)(this),this.edge=this.site=this.circle=null};return e.site=t,e}function i(t){Object(c.b)(t),h.a.remove(t),f.push(t),Object(s.a)(t)}function o(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],c=u-e;if(!c)return s;var l=s-r,h=1/o-1/c,f=l/c;return h?(-f+Math.sqrt(f*f-2*h*(l*l/(-2*c)-u+c/2+i-o/2)))/h+r:(r+s)/2}function a(t,e){var n=t.N;if(n)return o(n,e);var r=t.site;return r[1]===e?r[0]:1/0}e.b=function(t){var e=t.circle,n=e.x,r=e.cy,o=[n,r],a=t.P,s=t.N,u=[t];i(t);for(var f=a;f.circle&&Math.abs(n-f.circle.x)<h.f&&Math.abs(r-f.circle.cy)<h.f;)a=f.P,u.unshift(f),i(f),f=a;u.unshift(f),Object(c.b)(f);for(var d=s;d.circle&&Math.abs(n-d.circle.x)<h.f&&Math.abs(r-d.circle.cy)<h.f;)s=d.N,u.push(d),i(d),d=s;u.push(d),Object(c.b)(d);var p,v=u.length;for(p=1;p<v;++p)d=u[p],f=u[p-1],Object(l.d)(d.edge,f.site,d.site,o);f=u[0],(d=u[v-1]).edge=Object(l.c)(f.site,d.site,null,o),Object(c.a)(f),Object(c.a)(d)},e.a=function(t){for(var e,n,i,s,f=t[0],d=t[1],p=h.a._;p;)if((i=o(p,d)-f)>h.f)p=p.L;else{if(!((s=f-a(p,d))>h.f)){i>-h.f?(e=p.P,n=p):s>-h.f?(e=p,n=p.N):e=n=p;break}if(!p.R){e=p;break}p=p.R}Object(u.c)(t);var v=r(t);if(h.a.insert(e,v),e||n){if(e===n)return Object(c.b)(e),n=r(e.site),h.a.insert(v,n),v.edge=n.edge=Object(l.c)(e.site,v.site),Object(c.a)(e),void Object(c.a)(n);if(!n)return void(v.edge=Object(l.c)(e.site,v.site));Object(c.b)(e),Object(c.b)(n);var g=e.site,m=g[0],y=g[1],b=t[0]-m,_=t[1]-y,w=n.site,x=w[0]-m,E=w[1]-y,C=2*(b*E-_*x),k=b*b+_*_,T=x*x+E*E,S=[(E*k-_*T)/C+m,(b*T-x*k)/C+y];Object(l.d)(n.edge,g,w,S),v.edge=Object(l.c)(g,t,null,S),n.edge=Object(l.c)(t,w,null,S),Object(c.a)(e),Object(c.a)(n)}};var s=n(102),u=n(209),c=n(210),l=n(103),h=n(37),f=[]},function(t,e,n){"use strict";var r=n(537);n.d(e,"a",function(){return r.a});var i=n(211);n.d(e,"c",function(){return i.b}),n.d(e,"b",function(){return i.c})},function(t,e,n){"use strict";function r(){return!h.c.button}function i(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function o(){return this.__zoom||v.c}function a(){return-h.c.deltaY*(h.c.deltaMode?120:1)/500}function s(){return"ontouchstart"in this}var u=n(15),c=n(63),l=n(6),h=n(1),f=n(76),d=n(538),p=n(539),v=n(211),g=n(540);e.a=function(){function t(t){t.property("__zoom",o).on("wheel.zoom",x).on("mousedown.zoom",E).on("dblclick.zoom",C).filter(N).on("touchstart.zoom",k).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(t,e){return(e=Math.max(D,Math.min(R,e)))===t.k?t:new v.a(e,t.x,t.y)}function n(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new v.a(t.k,r,i)}function m(t,e){var n=t.invertX(e[0][0])-j,r=t.invertX(e[1][0])-L,i=t.invertY(e[0][1])-F,o=t.invertY(e[1][1])-B;return t.translate(r>n?(n+r)/2:Math.min(0,n)||Math.max(0,r),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function b(t,e,n){t.on("start.zoom",function(){_(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).end()}).tween("zoom",function(){var t=this,r=arguments,i=_(t,r),o=P.apply(t,r),a=n||y(o),s=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),u=t.__zoom,c="function"==typeof e?e.apply(t,r):e,l=U(u.invert(a).concat(s/u.k),c.invert(a).concat(s/c.k));return function(t){if(1===t)t=c;else{var e=l(t),n=s/e[2];t=new v.a(n,a[0]-e[0]*n,a[1]-e[1]*n)}i.zoom(null,t)}})}function _(t,e){for(var n,r=0,i=z.length;r<i;++r)if((n=z[r]).that===t)return n;return new w(t,e)}function w(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=P.apply(t,e)}function x(){if(A.apply(this,arguments)){var t=_(this,arguments),r=this.__zoom,i=Math.max(D,Math.min(R,r.k*Math.pow(2,I.apply(this,arguments)))),o=Object(h.f)(this);if(t.wheel)t.mouse[0][0]===o[0]&&t.mouse[0][1]===o[1]||(t.mouse[1]=r.invert(t.mouse[0]=o)),clearTimeout(t.wheel);else{if(r.k===i)return;t.mouse=[o,r.invert(o)],Object(f.b)(this),t.start()}Object(g.a)(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},H),t.zoom("mouse",m(n(e(r,i),t.mouse[0],t.mouse[1]),t.extent))}}function E(){if(!M&&A.apply(this,arguments)){var t=_(this,arguments),e=Object(h.i)(h.c.view).on("mousemove.zoom",function(){if(Object(g.a)(),!t.moved){var e=h.c.clientX-i,r=h.c.clientY-o;t.moved=e*e+r*r>W}t.zoom("mouse",m(n(t.that.__zoom,t.mouse[0]=Object(h.f)(t.that),t.mouse[1]),t.extent))},!0).on("mouseup.zoom",function(){e.on("mousemove.zoom mouseup.zoom",null),Object(c.c)(h.c.view,t.moved),Object(g.a)(),t.end()},!0),r=Object(h.f)(this),i=h.c.clientX,o=h.c.clientY;Object(c.b)(h.c.view),Object(g.b)(),t.mouse=[r,this.__zoom.invert(r)],Object(f.b)(this),t.start()}}function C(){if(A.apply(this,arguments)){var r=this.__zoom,i=Object(h.f)(this),o=r.invert(i),a=m(n(e(r,r.k*(h.c.shiftKey?.5:2)),i,o),P.apply(this,arguments));Object(g.a)(),$>0?Object(h.i)(this).transition().duration($).call(b,a,i):Object(h.i)(this).call(t.transform,a)}}function k(){if(A.apply(this,arguments)){var t,e,n,r,i=_(this,arguments),o=h.c.changedTouches,a=o.length;for(Object(g.b)(),e=0;e<a;++e)n=o[e],r=[r=Object(h.o)(this,o,n.identifier),this.__zoom.invert(r),n.identifier],i.touch0?i.touch1||(i.touch1=r):(i.touch0=r,t=!0);if(O&&(O=clearTimeout(O),!i.touch1))return i.end(),void((r=Object(h.i)(this).on("dblclick.zoom"))&&r.apply(this,arguments));t&&(O=setTimeout(function(){O=null},V),Object(f.b)(this),i.start())}}function T(){var t,r,i,o,a=_(this,arguments),s=h.c.changedTouches,u=s.length;for(Object(g.a)(),O&&(O=clearTimeout(O)),t=0;t<u;++t)r=s[t],i=Object(h.o)(this,s,r.identifier),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var c=a.touch0[0],l=a.touch0[1],f=a.touch1[0],d=a.touch1[1],p=(p=f[0]-c[0])*p+(p=f[1]-c[1])*p,v=(v=d[0]-l[0])*v+(v=d[1]-l[1])*v;r=e(r,Math.sqrt(p/v)),i=[(c[0]+f[0])/2,(c[1]+f[1])/2],o=[(l[0]+d[0])/2,(l[1]+d[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],o=a.touch0[1]}a.zoom("touch",m(n(r,i,o),a.extent))}function S(){var t,e,n=_(this,arguments),r=h.c.changedTouches,i=r.length;for(Object(g.b)(),M&&clearTimeout(M),M=setTimeout(function(){M=null},V),t=0;t<i;++t)e=r[t],n.touch0&&n.touch0[2]===e.identifier?delete n.touch0:n.touch1&&n.touch1[2]===e.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0?n.touch0[1]=this.__zoom.invert(n.touch0[0]):n.end()}var O,M,A=r,P=i,I=a,N=s,D=0,R=1/0,j=-R,L=R,F=j,B=L,$=250,U=l.v,z=[],q=Object(u.a)("start","zoom","end"),V=500,H=150,W=0;return t.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",o),t!==n?b(t,e):n.interrupt().each(function(){_(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},t.scaleBy=function(e,n){t.scaleTo(e,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},t.scaleTo=function(r,i){t.transform(r,function(){var t=P.apply(this,arguments),r=this.__zoom,o=y(t),a=r.invert(o);return m(n(e(r,"function"==typeof i?i.apply(this,arguments):i),o,a),t)})},t.translateBy=function(e,n,r){t.transform(e,function(){return m(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof r?r.apply(this,arguments):r),P.apply(this,arguments))})},t.translateTo=function(e,n,r){t.transform(e,function(){var t=P.apply(this,arguments),e=this.__zoom,i=y(t);return m(v.c.translate(i[0],i[1]).scale(e.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof r?-r.apply(this,arguments):-r),t)})},w.prototype={start:function(){return 1==++this.active&&(this.index=z.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(z.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(e){Object(h.b)(new p.a(t,e,this.that.__zoom),q.apply,q,[e,this.that,this.args])}},t.wheelDelta=function(e){return arguments.length?(I="function"==typeof e?e:Object(d.a)(+e),t):I},t.filter=function(e){return arguments.length?(A="function"==typeof e?e:Object(d.a)(!!e),t):A},t.touchable=function(e){return arguments.length?(N="function"==typeof e?e:Object(d.a)(!!e),t):N},t.extent=function(e){return arguments.length?(P="function"==typeof e?e:Object(d.a)([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),t):P},t.scaleExtent=function(e){return arguments.length?(D=+e[0],R=+e[1],t):[D,R]},t.translateExtent=function(e){return arguments.length?(j=+e[0][0],L=+e[1][0],F=+e[0][1],B=+e[1][1],t):[[j,F],[L,B]]},t.duration=function(e){return arguments.length?($=+e,t):$},t.interpolate=function(e){return arguments.length?(U=e,t):U},t.on=function(){var e=q.on.apply(q,arguments);return e===q?t:e},t.clickDistance=function(e){return arguments.length?(W=(e=+e)*e,t):Math.sqrt(W)},t}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t,e,n){this.target=t,this.type=e,this.transform=n}},function(t,e,n){"use strict";e.b=function(){r.c.stopImmediatePropagation()};var r=n(1);e.a=function(){r.c.preventDefault(),r.c.stopImmediatePropagation()}},function(t,e,n){"use strict";function r(){var t=[],e=void 0,n=void 0,r=[],o={},a={},u=!1,c=void 0,l=N,h=void 0,f=void 0,d=Object(s.a)("subjectover","subjectout","subjectclick","connectorover","connectorout","connectorclick","noteover","noteout","noteclick","dragend","dragstart"),g=void 0,m=function(n){g=n,u||n.selectAll("circle.handle").remove();var s=t.map(function(t){return t.type||(t.type=l),t.disable||(t.disable=r),new p(t)});e=e||new v({annotations:s,accessors:o,accessorsInverse:a,ids:c}),n.selectAll("g").data([e]).enter().append("g").attr("class","annotations");var m=n.select("g.annotations");U(m,e.annotations,"g","annotation"),m.selectAll("g.annotation").each(function(t){var e=Object(i.b)(this);e.attr("class","annotation"),U(e,[t],"g","annotation-connector"),U(e,[t],"g","annotation-subject"),U(e,[t],"g","annotation-note"),U(e.select("g.annotation-note"),[t],"g","annotation-note-content"),t.type="[object Object]"===t.type.toString()?t.type:new t.type({a:e,annotation:t,textWrap:h,notePadding:f,editMode:u,dispatcher:d,accessors:o}),t.type.draw(),t.type.drawText&&t.type.drawText()})};return m.json=function(){return console.log("Annotations JSON was copied to your clipboard. Please note the annotation type is not JSON compatible. It appears in the objects array in the console, but not in the copied JSON.",e.json),window.copy(JSON.stringify(e.json.map(function(t){return delete t.type,t}))),m},m.update=function(){return t&&e&&(t=e.annotations.map(function(t){return t.type.draw(),t})),m},m.updateText=function(){return e&&(e.updateText(h),t=e.annotations),m},m.updatedAccessors=function(){return e.setPositionWithAccessors(),t=e.annotations,m},m.disable=function(n){return arguments.length?(r=n,e&&(e.updateDisable(r),t=e.annotations),m):r},m.textWrap=function(n){return arguments.length?(h=n,e&&(e.updateTextWrap(h),t=e.annotations),m):h},m.notePadding=function(n){return arguments.length?(f=n,e&&(e.updateNotePadding(f),t=e.annotations),m):f},m.type=function(n,r){return arguments.length?(l=n,e&&(e.annotations.map(function(t){t.type.note&&t.type.note.selectAll("*:not(.annotation-note-content)").remove(),t.type.noteContent&&t.type.noteContent.selectAll("*").remove(),t.type.subject&&t.type.subject.selectAll("*").remove(),t.type.connector&&t.type.connector.selectAll("*").remove(),t.type.typeSettings={},t.type=l,t.subject=r&&r.subject||t.subject,t.connector=r&&r.connector||t.connector,t.note=r&&r.note||t.note}),t=e.annotations),m):l},m.annotations=function(n){return arguments.length?(t=n,e&&e.annotations&&(t.some(function(t){return!t.type||"[object Object]"!==t.type.toString()})?(e=null,m(g)):e.annotations=t),m):e&&e.annotations||t},m.context=function(t){return arguments.length?(n=t,m):n},m.accessors=function(t){return arguments.length?(o=t,m):o},m.accessorsInverse=function(t){return arguments.length?(a=t,m):a},m.ids=function(t){return arguments.length?(c=t,m):c},m.editMode=function(n){return arguments.length?(u=n,g&&g.selectAll("g.annotation").classed("editable",u),e&&(e.editMode(u),t=e.annotations),m):u},m.collection=function(t){return arguments.length?(e=t,m):e},m.on=function(){var t=d.on.apply(d,arguments);return t===d?m:t},m}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"annotation",function(){return r}),n.d(e,"annotationTypeBase",function(){return M}),n.d(e,"annotationLabel",function(){return I}),n.d(e,"annotationCallout",function(){return N}),n.d(e,"annotationCalloutCurve",function(){return R}),n.d(e,"annotationCalloutElbow",function(){return D}),n.d(e,"annotationCalloutCircle",function(){return L}),n.d(e,"annotationCalloutRect",function(){return F}),n.d(e,"annotationXYThreshold",function(){return $}),n.d(e,"annotationBadge",function(){return j}),n.d(e,"annotationCustomType",function(){return A});var i=n(542),o=n(577),a=n(616),s=n(640),u=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},f=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},d=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},p=function(){function t(e){var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.nx,s=e.ny,c=e.dy,l=void 0===c?0:c,h=e.dx,f=void 0===h?0:h,d=e.color,p=void 0===d?"grey":d,v=e.data,g=e.type,m=e.subject,y=e.connector,b=e.note,_=e.disable,w=e.id,x=e.className;u(this,t),this._dx=void 0!==a?a-r:f,this._dy=void 0!==s?s-o:l,this._x=r,this._y=o,this._color=p,this.id=w,this._className=x||"",this.type=g||"",this.data=v,this.note=b||{},this.connector=y||{},this.subject=m||{},this.disable=_||[]}return c(t,[{key:"updatePosition",value:function(){this.type.setPosition&&(this.type.setPosition(),this.type.subject&&0!==this.type.subject.selectAll(":not(.handle)").nodes().length&&this.type.redrawSubject())}},{key:"updateOffset",value:function(){this.type.setOffset&&(this.type.setOffset(),0!==this.type.connector.selectAll(":not(.handle)").nodes().length&&this.type.redrawConnector(),this.type.redrawNote())}},{key:"className",get:function(){return this._className},set:function(t){this._className=t,this.type.setClassName&&this.type.setClassName()}},{key:"x",get:function(){return this._x},set:function(t){this._x=t,this.updatePosition()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this.updatePosition()}},{key:"color",get:function(){return this._color},set:function(t){this._color=t,this.updatePosition()}},{key:"dx",get:function(){return this._dx},set:function(t){this._dx=t,this.updateOffset()}},{key:"dy",get:function(){return this._dy},set:function(t){this._dy=t,this.updateOffset()}},{key:"nx",set:function(t){this._dx=t-this._x,this.updateOffset()}},{key:"ny",set:function(t){this._dy=t-this._y,this.updateOffset()}},{key:"offset",get:function(){return{x:this._dx,y:this._dy}},set:function(t){var e=t.x,n=t.y;this._dx=e,this._dy=n,this.updateOffset()}},{key:"position",get:function(){return{x:this._x,y:this._y}},set:function(t){var e=t.x,n=t.y;this._x=e,this._y=n,this.updatePosition()}},{key:"translation",get:function(){return{x:this._x+this._dx,y:this._y+this._dy}}},{key:"json",get:function(){var t={x:this._x,y:this._y,dx:this._dx,dy:this._dy};return this.data&&Object.keys(this.data).length>0&&(t.data=this.data),this.type&&(t.type=this.type),this._className&&(t.className=this._className),Object.keys(this.connector).length>0&&(t.connector=this.connector),Object.keys(this.subject).length>0&&(t.subject=this.subject),Object.keys(this.note).length>0&&(t.note=this.note),t}}]),t}(),v=function(){function t(e){var n=e.annotations,r=e.accessors,i=e.accessorsInverse;u(this,t),this.accessors=r,this.accessorsInverse=i,this.annotations=n}return c(t,[{key:"clearTypes",value:function(t){this.annotations.forEach(function(e){e.type=void 0,e.subject=t&&t.subject||e.subject,e.connector=t&&t.connector||e.connector,e.note=t&&t.note||e.note})}},{key:"setPositionWithAccessors",value:function(){var t=this;this.annotations.forEach(function(e){e.type.setPositionWithAccessors(t.accessors)})}},{key:"editMode",value:function(t){this.annotations.forEach(function(e){e.type&&(e.type.editMode=t,e.type.updateEditMode())})}},{key:"updateDisable",value:function(t){this.annotations.forEach(function(e){e.disable=t,e.type&&t.forEach(function(t){e.type[t]&&(e.type[t].remove&&e.type[t].remove(),e.type[t]=void 0)})})}},{key:"updateTextWrap",value:function(t){this.annotations.forEach(function(e){e.type&&e.type.updateTextWrap&&e.type.updateTextWrap(t)})}},{key:"updateText",value:function(){this.annotations.forEach(function(t){t.type&&t.type.drawText&&t.type.drawText()})}},{key:"updateNotePadding",value:function(t){this.annotations.forEach(function(e){e.type&&(e.type.notePadding=t)})}},{key:"json",get:function(){var t=this;return this.annotations.map(function(e){var n=e.json;return t.accessorsInverse&&e.data&&(n.data={},Object.keys(t.accessorsInverse).forEach(function(r){n.data[r]=t.accessorsInverse[r]({x:e.x,y:e.y})})),n})}},{key:"noteNodes",get:function(){return this.annotations.map(function(t){return l({},t.type.getNoteBBoxOffset(),{positionX:t.x,positionY:t.y})})}}]),t}(),g=function(t){var e=t.group,n=t.handles,r=t.r,a=void 0===r?10:r,s=e.selectAll("circle.handle").data(n);s.enter().append("circle").attr("class","handle").attr("fill","grey").attr("fill-opacity",.1).attr("cursor","move").attr("stroke-dasharray",5).attr("stroke","grey").call(Object(o.a)().container(Object(i.b)("g.annotations").node()).on("start",function(t){return t.start&&t.start(t)}).on("drag",function(t){return t.drag&&t.drag(t)}).on("end",function(t){return t.end&&t.end(t)})),e.selectAll("circle.handle").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("r",function(t){return t.r||a}).attr("class",function(t){return"handle "+(t.className||"")}),s.exit().remove()},m=function(t,e){return"dynamic"!==t&&"left"!==t&&"right"!==t||(t=e<0?"top":"bottom"),t},y=function(t,e){return"dynamic"!==t&&"top"!==t&&"bottom"!==t||(t=e<0?"right":"left"),t},b=["topBottom","top","bottom"],_=["leftRight","left","right"],w=function(t){var e=t.data,n=t.curve,r=void 0===n?a.c:n,i=t.canvasContext,o=t.className,s=t.classID,u=Object(a.d)().curve(r),c={type:"path",className:o,classID:s,data:e};return i?(u.context(i),c.pathMethods=u):c.attrs={d:u(e)},c},x=function(t){var e=t.data,n=t.canvasContext,r={type:"path",className:t.className,classID:t.classID,data:e},i=Object(a.a)().innerRadius(e.innerRadius||0).outerRadius(e.outerRadius||e.radius||2).startAngle(e.startAngle||0).endAngle(e.endAngle||2*Math.PI);return n?(i.context(n),r.pathMethods=lineGen):r.attrs={d:i()},r},E=function(t){var e=t.type,n=t.subjectType,r=e.annotation,i=r.position,o=r.x-i.x,a=o+r.dx,s=r.y-i.y,u=s+r.dy,c=r.subject;if("circle"===n&&(c.outerRadius||c.radius)){var l=Math.sqrt((o-a)*(o-a)+(s-u)*(s-u)),h=Math.asin(-u/l),f=c.outerRadius||c.radius+(c.radiusPadding||0);o=Math.abs(Math.cos(h)*f)*(a<0?-1:1),s=Math.abs(Math.sin(h)*f)*(u<0?-1:1)}if("rect"===n){var d=c.width,p=c.height;(d>0&&r.dx>0||d<0&&r.dx<0)&&(o=Math.abs(d)>Math.abs(r.dx)?d/2:d),(p>0&&r.dy>0||p<0&&r.dy<0)&&(s=Math.abs(p)>Math.abs(r.dy)?p/2:p),o===d/2&&s===p/2&&(o=a,s=u)}return[[o,s],[a,u]]},C=function(t){var e=t.type,n=t.connectorData,r=t.subjectType;n||(n={}),n.points&&"number"!=typeof n.points||(n.points=k(e.annotation.offset,n.points)),n.curve||(n.curve=a.b);var o=[];if(e.editMode){var s=n.points.map(function(t,e){return l({},function(t){var e=t.cx,n=void 0===e?0:e,r=t.cy;return{move:{x:n,y:void 0===r?0:r}}}({cx:t[0],cy:t[1]}),{index:e})});o=e.mapHandles(s.map(function(t){return l({},t.move,{drag:function(t){n.points[t][0]+=i.a.dx,n.points[t][1]+=i.a.dy,e.redrawConnector()}.bind(e,t.index)})}))}var u=E({type:e,subjectType:r});return u=[u[0]].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(n.points),[u[1]]),{components:[w({data:u,curve:n.curve,className:"connector"})],handles:o}},k=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n={x:t.x/(e+1),y:t.y/(e+1)},r=[],i=1;i<=e;i++)r.push([n.x*i+i%2*20,n.y*i-i%2*20]);return r},T=function(t){var e=t.subjectData,n=t.type;e.radius||e.outerRadius||(e.radius=20);var r=[],o=x({data:e,className:"subject"});if(n.editMode){var a=function(t){var e=t.cx,n=void 0===e?0:e,r=t.cy,i=void 0===r?0:r,o=t.r1,a=t.r2,s=t.padding,u={move:{x:n,y:i}};return void 0!==o&&(u.r1={x:n+o/Math.sqrt(2),y:i+o/Math.sqrt(2)}),void 0!==a&&(u.r2={x:n+a/Math.sqrt(2),y:i+a/Math.sqrt(2)}),void 0!==s&&(u.padding={x:n+o+s,y:i}),u}({r1:o.data.outerRadius||o.data.radius,r2:o.data.innerRadius,padding:e.radiusPadding}),s=function(t){var r=e[t]+i.a.dx*Math.sqrt(2);e[t]=r,n.redrawSubject(),n.redrawConnector()},u=[l({},a.r1,{drag:s.bind(n,void 0!==e.outerRadius?"outerRadius":"radius")})];e.innerRadius&&u.push(l({},a.r2,{drag:s.bind(n,"innerRadius")})),r=n.mapHandles(u)}return o.attrs["fill-opacity"]=0,{components:[o],handles:r}},S=function(t){var e=t.subjectData,n=t.type;e.width||(e.width=100),e.height||(e.height=100);var r=[],o=e.width,a=e.height,s=w({data:[[0,0],[o,0],[o,a],[0,a],[0,0]],className:"subject"});if(n.editMode){var u=[{x:o,y:a/2,drag:function(){e.width=i.a.x,n.redrawSubject(),n.redrawConnector()}.bind(n)},{x:o/2,y:a,drag:function(){e.height=i.a.y,n.redrawSubject(),n.redrawConnector()}.bind(n)}];r=n.mapHandles(u)}return s.attrs["fill-opacity"]=.1,{components:[s],handles:r}},O=function(t){var e=t.subjectData,n=void 0===e?{}:e,r=t.type,o=void 0===r?{}:r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=o.typeSettings&&o.typeSettings.subject;n.radius||(s&&s.radius?n.radius=s.radius:n.radius=14),n.x||s&&s.x&&(n.x=s.x),n.y||s&&s.y&&(n.y=s.y);var u=[],c=[],l=n.radius,h=.7*l,f=0,d=0,p=Math.sqrt(2)*l,v={xleftcorner:-l,xrightcorner:l,ytopcorner:-l,ybottomcorner:l,xleft:-p,xright:p,ytop:-p,ybottom:p};n.x&&!n.y?f=v["x"+n.x]:n.y&&!n.x?d=v["y"+n.y]:n.x&&n.y&&(f=v["x"+n.x+"corner"],d=v["y"+n.y+"corner"]);var g="translate("+f+", "+d+")",m=x({className:"subject",data:{radius:l}});m.attrs.transform=g,m.attrs.fill=a.color,m.attrs["stroke-linecap"]="round",m.attrs["stroke-width"]="3px";var y=x({className:"subject-ring",data:{outerRadius:l,innerRadius:h}});y.attrs.transform=g,y.attrs["stroke-width"]="3px",y.attrs.fill="white";var b=void 0;if(f&&d||!f&&!d)b=w({className:"subject-pointer",data:[[0,0],[f||0,0],[0,d||0],[0,0]]});else if(f||d){var _=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t&&t/Math.sqrt(2)/Math.sqrt(2)||e*l/Math.sqrt(2)};b=w({className:"subject-pointer",data:[[0,0],[_(f),_(d)],[_(f,-1),_(d,-1)],[0,0]]})}if(b&&(b.attrs.fill=a.color,b.attrs["stroke-linecap"]="round",b.attrs["stroke-width"]="3px",c.push(b)),o.editMode){var E={x:2*f,y:2*d,drag:function(){n.x=i.a.x<2*-l?"left":i.a.x>2*l?"right":void 0,n.y=i.a.y<2*-l?"top":i.a.y>2*l?"bottom":void 0,o.redrawSubject()}.bind(o)};E.x||E.y||(E.y=-l),u=o.mapHandles([E])}var C=void 0;return n.text&&(C={type:"text",className:"badge-text",attrs:{fill:"white",stroke:"none","font-size":".7em",text:n.text,"text-anchor":"middle",dy:".25em",x:f,y:d}}),c.push(m),c.push(y),c.push(C),{components:c,handles:u}},M=function(){function t(e){var n=e.a,r=e.annotation,i=e.editMode,o=e.dispatcher,a=e.notePadding,s=e.accessors;if(u(this,t),this.a=n,this.note=-1===r.disable.indexOf("note")&&n.select("g.annotation-note"),this.noteContent=this.note&&n.select("g.annotation-note-content"),this.connector=-1===r.disable.indexOf("connector")&&n.select("g.annotation-connector"),this.subject=-1===r.disable.indexOf("subject")&&n.select("g.annotation-subject"),this.dispatcher=o,o){var c=z.bind(null,o,r);c({component:this.note,name:"note"}),c({component:this.connector,name:"connector"}),c({component:this.subject,name:"subject"})}this.annotation=r,this.editMode=r.editMode||i,this.notePadding=void 0!==a?a:3,this.offsetCornerX=0,this.offsetCornerY=0,s&&r.data&&this.init(s)}return c(t,[{key:"init",value:function(t){this.annotation.x||this.mapX(t),this.annotation.y||this.mapY(t)}},{key:"mapY",value:function(t){t.y&&(this.annotation.y=t.y(this.annotation.data))}},{key:"mapX",value:function(t){t.x&&(this.annotation.x=t.x(this.annotation.data))}},{key:"updateEditMode",value:function(){this.a.selectAll("circle.handle").remove()}},{key:"drawOnSVG",value:function(t,e){var n=this;Array.isArray(e)||(e=[e]),e.filter(function(t){return t}).forEach(function(e){var r=e.type,i=e.className,o=e.attrs,a=e.handles,s=e.classID;if("handle"===r)g({group:t,r:o&&o.r,handles:a});else{U(t,[n.annotation],r,i,s);for(var u=t.select(r+"."+(s||i)),c=Object.keys(o),l=[],h=u.node().attributes,f=h.length-1;f>=0;f--){var d=h[f].name;-1===c.indexOf(d)&&"class"!==d&&l.push(d)}c.forEach(function(t){"text"===t?u.text(o[t]):u.attr(t,o[t])}),l.forEach(function(t){return u.attr(t,null)})}})}},{key:"getNoteBBox",value:function(){return V(this.note,".annotation-note-content text")}},{key:"getNoteBBoxOffset",value:function(){var t=V(this.note,".annotation-note-content"),e=this.noteContent.attr("transform").split(/\(|\,|\)/g);return t.offsetCornerX=parseFloat(e[1])+this.annotation.dx,t.offsetCornerY=parseFloat(e[2])+this.annotation.dy,t.offsetX=this.annotation.dx,t.offsetY=this.annotation.dy,t}},{key:"drawSubject",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.annotation.subject,r=e.type,i={type:this,subjectData:n},o={};"circle"===r?o=T(i):"rect"===r?o=S(i):"threshold"===r?o=function(t){var e=t.subjectData,n=t.type.annotation.position,r=(void 0!==e.x1?e.x1:n.x)-n.x,i=(void 0!==e.x2?e.x2:n.x)-n.x,o=(void 0!==e.y1?e.y1:n.y)-n.y,a=(void 0!==e.y2?e.y2:n.y)-n.y;return{components:[w({data:[[r,o],[i,a]],className:"subject"})]}}(i):"badge"===r&&(o=O(i,this.annotation));var a=o,s=a.components,u=void 0===s?[]:s,c=a.handles,l=void 0===c?[]:c;return u.forEach(function(e){e&&e.attrs&&!e.attrs.stroke&&(e.attrs.stroke=t.annotation.color)}),this.editMode&&(l=l.concat(this.mapHandles([{drag:this.dragSubject.bind(this)}])),u.push({type:"handle",handles:l})),u}},{key:"drawConnector",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.annotation.connector,r=n.type||e.type,i={type:this,connectorData:n};i.subjectType=this.typeSettings&&this.typeSettings.subject&&this.typeSettings.subject.type;var o="curve"===r?C(i):"elbow"===r?function(t){var e=t.type,n=t.subjectType,r=e.annotation,i=r.position,o=r.x-i.x,a=o+r.dx,s=r.y-i.y,u=s+r.dy,c=r.subject;if("rect"===n){var l=c.width,h=c.height;(l>0&&r.dx>0||l<0&&r.dx<0)&&(o=Math.abs(l)>Math.abs(r.dx)?l/2:l),(h>0&&r.dy>0||h<0&&r.dy<0)&&(s=Math.abs(h)>Math.abs(r.dy)?h/2:h),o===l/2&&s===h/2&&(o=a,s=u)}var f=[[o,s],[a,u]],d=u-s,p=a-o,v=a,g=u,m=u<s&&a>o||a<o&&u>s?-1:1;if(Math.abs(p)<Math.abs(d)?(v=a,g=s+p*m):(g=u,v=o+d*m),"circle"===n&&(c.outerRadius||c.radius)){var y=(c.outerRadius||c.radius)+(c.radiusPadding||0),b=y/Math.sqrt(2);if(Math.abs(p)>b&&Math.abs(d)>b)f=[[o=b*(a<0?-1:1),s=b*(u<0?-1:1)],[v,g],[a,u]];else if(Math.abs(p)>Math.abs(d)){var _=Math.asin(-u/y);f=[[o=Math.abs(Math.cos(_)*y)*(a<0?-1:1),u],[a,u]]}else{var x=Math.acos(a/y);f=[[a,s=Math.abs(Math.sin(x)*y)*(u<0?-1:1)],[a,u]]}}else f=[[o,s],[v,g],[a,u]];return{components:[w({data:f,className:"connector"})]}}(i):function(t){var e=E(t);return{components:[w({data:e,className:"connector"})]}}(i),a=o.components,s=void 0===a?[]:a,u=o.handles,c=void 0===u?[]:u,l=s[0];l&&(l.attrs.stroke=this.annotation.color,l.attrs.fill="none");var h=n.end||e.end,f={};if("arrow"===h){var d=l.data[1],p=l.data[0];Math.sqrt(Math.pow(d[0]-p[0],2)+Math.pow(d[1]-p[1],2))<5&&l.data[2]&&(d=l.data[2]),f=function(t){var e=t.annotation,n=t.start,r=t.end,i=t.scale,o=void 0===i?1:i,a=e.position;n=n?[-r[0]+n[0],-r[1]+n[1]]:[e.dx,e.dy],r||(r=[e.x-a.x,e.y-a.y]);var s=r[0],u=r[1],c=n[0],l=n[1],h=10*o,f=16/180*Math.PI,d=Math.atan(l/c);c<0&&(d+=Math.PI);var p=[[s,u],[Math.cos(d+f)*h+s,Math.sin(d+f)*h+u],[Math.cos(d-f)*h+s,Math.sin(d-f)*h+u],[s,u]];return{components:[w({data:p,className:"connector-end connector-arrow",classID:"connector-end"})]}}({annotation:this.annotation,start:d,end:p,scale:n.endScale})}else"dot"===h?f=function(t){var e=t.line,n=t.scale,r=void 0===n?1:n,i=x({className:"connector-end connector-dot",classID:"connector-end",data:{radius:3*Math.sqrt(r)}});return i.attrs.transform="translate("+e.data[0][0]+", "+e.data[0][1]+")",{components:[i]}}({line:l,scale:n.endScale}):h&&"none"!==h||this.connector&&this.connector.select(".connector-end").remove();return f.components&&(f.components.forEach(function(e){e.attrs.fill=t.annotation.color,e.attrs.stroke=t.annotation.color}),s=s.concat(f.components)),this.editMode&&0!==c.length&&s.push({type:"handle",handles:c}),s}},{key:"drawNote",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.annotation.note,r=n.align||e.align||"dynamic",a={bbox:e.bbox,align:r,offset:this.annotation.offset},s=n.lineType||e.lineType,u={};"vertical"===s?u=function(t){var e=t.align,n=t.x,r=void 0===n?0:n,i=t.y,o=void 0===i?0:i,a=t.bbox,s=t.offset;"top"===(e=m(e,s.y))?o-=a.height:"middle"===e&&(o-=a.height/2);var u=[[r,o],[r,o+a.height]];return{components:[w({data:u,className:"note-line"})]}}(a):"horizontal"===s&&(u=function(t){var e=t.align,n=t.x,r=void 0===n?0:n,i=t.y,o=void 0===i?0:i,a=t.offset,s=t.bbox;"right"===(e=y(e,a.x))?r-=s.width:"middle"===e&&(r-=s.width/2);var u=[[r,o],[r+s.width,o]];return{components:[w({data:u,className:"note-line"})]}}(a));var c=u,l=c.components,h=void 0===l?[]:l,f=c.handles,d=void 0===f?[]:f;if(h.forEach(function(e){e.attrs.stroke=t.annotation.color}),this.editMode){d=this.mapHandles([{x:0,y:0,drag:this.dragNote.bind(this)}]),h.push({type:"handle",handles:d});var p=this.dragNote.bind(this),v=this.dragstarted.bind(this),g=this.dragended.bind(this);this.note.call(Object(o.a)().container(Object(i.b)("g.annotations").node()).on("start",function(t){return v(t)}).on("drag",function(t){return p(t)}).on("end",function(t){return g(t)}))}else this.note.on("mousedown.drag",null);return h}},{key:"drawNoteContent",value:function(t){var e=this.annotation.note,n=void 0!==e.padding?e.padding:this.notePadding,r=e.orientation||t.orientation||"topBottom",i=e.lineType||t.lineType,o=e.align||t.align||"dynamic";"vertical"===i?r="leftRight":"horizontal"===i&&(r="topBottom");var a=function(t){var e=t.padding,n=void 0===e?0:e,r=t.bbox,i=void 0===r?{x:0,y:0,width:0,height:0}:r,o=t.align,a=t.orientation,s=t.offset,u=void 0===s?{x:0,y:0}:s,c=-i.x,l=0;return-1!==b.indexOf(a)?(o=y(o,u.x),u.y<0&&"topBottom"===a||"top"===a?l-=i.height+n:l+=n,"middle"===o?c-=i.width/2:"right"===o&&(c-=i.width)):-1!==_.indexOf(a)&&(o=m(o,u.y),u.x<0&&"leftRight"===a||"left"===a?c-=i.width+n:c+=n,"middle"===o?l-=i.height/2:"top"===o&&(l-=i.height)),{x:c,y:l}}({padding:n,bbox:t.bbox,offset:this.annotation.offset,orientation:r,align:o}),s=a.x,u=a.y;return this.offsetCornerX=s+this.annotation.dx,this.offsetCornerY=u+this.annotation.dy,this.note&&this.noteContent.attr("transform","translate("+s+", "+u+")"),[]}},{key:"drawOnScreen",value:function(t,e){return this.drawOnSVG(t,e)}},{key:"redrawSubject",value:function(){this.subject&&this.drawOnScreen(this.subject,this.drawSubject())}},{key:"redrawConnector",value:function(){this.connector&&this.drawOnScreen(this.connector,this.drawConnector())}},{key:"redrawNote",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNoteBBox();this.noteContent&&this.drawOnScreen(this.noteContent,this.drawNoteContent({bbox:t})),this.note&&this.drawOnScreen(this.note,this.drawNote({bbox:t}))}},{key:"setPosition",value:function(){var t=this.annotation.position;this.a.attr("transform","translate("+t.x+", "+t.y+")")}},{key:"setOffset",value:function(){if(this.note){var t=this.annotation.offset;this.note.attr("transform","translate("+t.x+", "+t.y+")")}}},{key:"setPositionWithAccessors",value:function(t){t&&this.annotation.data&&(this.mapX(t),this.mapY(t)),this.setPosition()}},{key:"setClassName",value:function(){this.a.attr("class","annotation "+(this.className&&this.className())+" "+(this.editMode?"editable":"")+" "+(this.annotation.className||""))}},{key:"draw",value:function(){this.setClassName(),this.setPosition(),this.setOffset(),this.redrawSubject(),this.redrawConnector(),this.redrawNote()}},{key:"dragstarted",value:function(){i.a.sourceEvent.stopPropagation(),this.dispatcher&&this.dispatcher.call("dragstart",this.a,this.annotation),this.a.classed("dragging",!0),this.a.selectAll("circle.handle").style("pointer-events","none")}},{key:"dragended",value:function(){this.dispatcher&&this.dispatcher.call("dragend",this.a,this.annotation),this.a.classed("dragging",!1),this.a.selectAll("circle.handle").style("pointer-events","all")}},{key:"dragSubject",value:function(){var t=this.annotation.position;t.x+=i.a.dx,t.y+=i.a.dy,this.annotation.position=t}},{key:"dragNote",value:function(){var t=this.annotation.offset;t.x+=i.a.dx,t.y+=i.a.dy,this.annotation.offset=t}},{key:"mapHandles",value:function(t){var e=this;return t.map(function(t){return l({},t,{start:e.dragstarted.bind(e),end:e.dragended.bind(e)})})}}]),t}(),A=function(t,e,n){return function(t){function r(t){u(this,r);var n=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));return n.typeSettings=e,e.disable&&e.disable.forEach(function(t){n[t]&&n[t].remove(),n[t]=void 0,"note"===t&&(n.noteContent=void 0)}),n}return f(r,t),c(r,[{key:"className",value:function(){return""+(e.className||h(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"className",this)&&h(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"className",this).call(this)||"")}},{key:"drawSubject",value:function(t){return this.typeSettings.subject=l({},e.subject,this.typeSettings.subject),h(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawSubject",this).call(this,l({},t,this.typeSettings.subject))}},{key:"drawConnector",value:function(t){return this.typeSettings.connector=l({},e.connector,this.typeSettings.connector),h(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawConnector",this).call(this,l({},t,e.connector,this.typeSettings.connector))}},{key:"drawNote",value:function(t){return this.typeSettings.note=l({},e.note,this.typeSettings.note),h(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawNote",this).call(this,l({},t,e.note,this.typeSettings.note))}},{key:"drawNoteContent",value:function(t){return h(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawNoteContent",this).call(this,l({},t,e.note,this.typeSettings.note))}}],[{key:"init",value:function(t,e){return h(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,t,e),n&&(t=n(t,e)),t}}]),r}(t)},P=function(t){function e(t){u(this,e);var n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.textWrap=t.textWrap||120,n.drawText(),n}return f(e,M),c(e,[{key:"updateTextWrap",value:function(t){this.textWrap=t,this.drawText()}},{key:"drawText",value:function(){if(this.note){U(this.note,[this.annotation],"g","annotation-note-content");var t=this.note.select("g.annotation-note-content");U(t,[this.annotation],"rect","annotation-note-bg"),U(t,[this.annotation],"text","annotation-note-label"),U(t,[this.annotation],"text","annotation-note-title");var e={height:0},n=this.a.select("text.annotation-note-label"),r=this.annotation.note&&this.annotation.note.wrap||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrap||this.textWrap,i=this.annotation.note&&this.annotation.note.wrapSplitter||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrapSplitter;if(this.annotation.note.title){var o=this.a.select("text.annotation-note-title");o.text(this.annotation.note.title),o.attr("fill",this.annotation.color),o.attr("font-weight","bold"),o.call(q,r,i),e=o.node().getBBox()}n.text(this.annotation.note.label).attr("dx","0"),n.call(q,r,i),n.attr("y",1.1*e.height||0),n.attr("fill",this.annotation.color);var a=this.getNoteBBox();this.a.select("rect.annotation-note-bg").attr("width",a.width).attr("height",a.height).attr("x",a.x).attr("fill","white").attr("fill-opacity",0)}}}]),e}(),I=A(P,{className:"label",note:{align:"middle"},disable:["subject"]}),N=A(P,{className:"callout",note:{lineType:"horizontal"},disable:["subject"]}),D=A(N,{className:"callout elbow",connector:{type:"elbow"},disable:["subject"]}),R=A(N,{className:"callout curve",connector:{type:"curve"},disable:["subject"]}),j=A(M,{className:"badge",subject:{type:"badge"},disable:["connector","note"]}),L=A(P,{className:"callout circle",subject:{type:"circle"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),F=A(P,{className:"callout rect",subject:{type:"rect"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),B=function(t){function e(){return u(this,e),d(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,N),c(e,[{key:"mapY",value:function(t){h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mapY",this).call(this,t);var n=this.annotation;(n.subject.x1||n.subject.x2)&&n.data&&t.y&&(n.y=t.y(n.data)),!n.subject.x1&&!n.subject.x2||n.x||(n.x=n.subject.x1||n.subject.x2)}},{key:"mapX",value:function(t){h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mapX",this).call(this,t);var n=this.annotation;(n.subject.y1||n.subject.y2)&&n.data&&t.x&&(n.x=t.x(n.data)),!n.subject.y1&&!n.subject.y2||n.y||(n.y=n.subject.y1||n.subject.y2)}}]),e}(),$=A(B,{className:"callout xythreshold",subject:{type:"threshold"}}),U=function(t,e,n,r,i){var o=t.selectAll(n+"."+(i||r)).data(e);return o.enter().append(n).merge(o).attr("class",r),o.exit().remove(),t},z=function(t,e,n){var r=n.component,i=n.name;r&&r.on("mouseover.annotations",function(){t.call(i+"over",r,e)}).on("mouseout.annotations",function(){return t.call(i+"out",r,e)}).on("click.annotations",function(){return t.call(i+"click",r,e)})},q=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.2;t.each(function(){for(var t=Object(i.b)(this),o=t.text().split(n||/[ \t\r\n]+/).reverse().filter(function(t){return""!==t}),a=void 0,s=[],u=t.text(null).append("tspan").attr("x",0).attr("dy","0.8em");a=o.pop();)s.push(a),u.text(s.join(" ")),u.node().getComputedTextLength()>e&&s.length>1&&(s.pop(),u.text(s.join(" ")),s=[a],u=t.append("tspan").attr("x",0).attr("dy",r+"em").text(a))})},V=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":not(.handle)";return t?t.selectAll(e).nodes().reduce(function(t,e){var n=e.getBBox();t.x=Math.min(t.x,n.x),t.y=Math.min(t.y,n.y),t.width=Math.max(t.width,n.width);var r=e&&e.attributes&&e.attributes.y;return t.height=Math.max(t.height,(r&&parseFloat(r.value)||0)+n.height),t},{x:0,y:0,width:0,height:0}):{x:0,y:0,width:0,height:0}},H={annotation:r,annotationTypeBase:M,annotationLabel:I,annotationCallout:N,annotationCalloutCurve:R,annotationCalloutElbow:D,annotationCalloutCircle:L,annotationCalloutRect:F,annotationXYThreshold:$,annotationBadge:j,annotationCustomType:A};e.default=H},function(t,e,n){"use strict";var r=(n(104),n(543),n(212),n(544),n(105),n(106),n(545));n.d(e,"b",function(){return r.a});var i=(n(574),n(9),n(110),n(213),n(575),n(576),n(111),n(108));n.d(e,"a",function(){return i.b})},function(t,e,n){"use strict";function r(){this._="@"+(++i).toString(36)}var i=0;r.prototype=function(){return new r}.prototype={constructor:r,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}}},function(t,e,n){"use strict";n(107),n(109)},function(t,e,n){"use strict";var r=n(9);e.a=function(t){return"string"==typeof t?new r.a([[document.querySelector(t)]],[document.documentElement]):new r.a([[t]],r.b)}},function(t,e,n){"use strict";var r=n(9),i=n(110);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,u,c=e[a],l=c.length,h=o[a]=new Array(l),f=0;f<l;++f)(s=c[f])&&(u=t.call(s,s.__data__,f,c))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u);return new r.a(o,this._parents)}},function(t,e,n){"use strict";var r=n(9),i=n(213);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=[],a=[],s=0;s<n;++s)for(var u,c=e[s],l=c.length,h=0;h<l;++h)(u=c[h])&&(o.push(t.call(u,u.__data__,h,c)),a.push(u));return new r.a(o,a)}},function(t,e,n){"use strict";var r=n(9),i=n(212);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,u=e[a],c=u.length,l=o[a]=[],h=0;h<c;++h)(s=u[h])&&t.call(s,s.__data__,h,u)&&l.push(s);return new r.a(o,this._parents)}},function(t,e,n){"use strict";function r(t,e,n,r,i,o){for(var s,u=0,c=e.length,l=o.length;u<l;++u)(s=e[u])?(s.__data__=o[u],r[u]=s):n[u]=new a.a(t,o[u]);for(;u<c;++u)(s=e[u])&&(i[u]=s)}function i(t,e,n,r,i,o,s){var c,l,h,f={},d=e.length,p=o.length,v=new Array(d);for(c=0;c<d;++c)(l=e[c])&&(v[c]=h=u+s.call(l,l.__data__,c,e),h in f?i[c]=l:f[h]=l);for(c=0;c<p;++c)(l=f[h=u+s.call(t,o[c],c,o)])?(r[c]=l,l.__data__=o[c],f[h]=null):n[c]=new a.a(t,o[c]);for(c=0;c<d;++c)(l=e[c])&&f[v[c]]===l&&(i[c]=l)}var o=n(9),a=n(214),s=n(550),u="$";e.a=function(t,e){if(!t)return m=new Array(this.size()),d=-1,this.each(function(t){m[++d]=t}),m;var n=e?i:r,a=this._parents,u=this._groups;"function"!=typeof t&&(t=Object(s.a)(t));for(var c=u.length,l=new Array(c),h=new Array(c),f=new Array(c),d=0;d<c;++d){var p=a[d],v=u[d],g=v.length,m=t.call(p,p&&p.__data__,d,a),y=m.length,b=h[d]=new Array(y),_=l[d]=new Array(y);n(p,v,b,_,f[d]=new Array(g),m,e);for(var w,x,E=0,C=0;E<y;++E)if(w=b[E]){for(E>=C&&(C=E+1);!(x=_[C])&&++C<y;);w._next=x||null}}return(l=new o.a(l,a))._enter=h,l._exit=f,l}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(215),i=n(9);e.a=function(){return new i.a(this._exit||this._groups.map(r.a),this._parents)}},function(t,e,n){"use strict";var r=n(9);e.a=function(t){for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var c,l=e[u],h=n[u],f=l.length,d=s[u]=new Array(f),p=0;p<f;++p)(c=l[p]||h[p])&&(d[p]=c);for(;u<i;++u)s[u]=e[u];return new r.a(s,this._parents)}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this}},function(t,e,n){"use strict";function r(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var i=n(9);e.a=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=r);for(var n=this._groups,o=n.length,a=new Array(o),s=0;s<o;++s){for(var u,c=n[s],l=c.length,h=a[s]=new Array(l),f=0;f<l;++f)(u=c[f])&&(h[f]=u);h.sort(e)}return new i.a(a,this._parents).order()}},function(t,e,n){"use strict";e.a=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}},function(t,e,n){"use strict";e.a=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}},function(t,e,n){"use strict";e.a=function(){var t=0;return this.each(function(){++t}),t}},function(t,e,n){"use strict";e.a=function(){return!this.node()}},function(t,e,n){"use strict";e.a=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this}},function(t,e,n){"use strict";var r=n(105);e.a=function(t,e){var n=Object(r.a)(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))}},function(t,e,n){"use strict";var r=n(111);e.a=function(t,e,n){var i;return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):Object(r.a)(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)}},function(t,e,n){"use strict";e.a=function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]}},function(t,e,n){"use strict";function r(t){return t.trim().split(/^|\s+/)}function i(t){return t.classList||new o(t)}function o(t){this._node=t,this._names=r(t.getAttribute("class")||"")}function a(t,e){for(var n=i(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function s(t,e){for(var n=i(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function u(t){return function(){a(this,t)}}function c(t){return function(){s(this,t)}}function l(t,e){return function(){(e.apply(this,arguments)?a:s)(this,t)}}o.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}},e.a=function(t,e){var n=r(t+"");if(arguments.length<2){for(var o=i(this.node()),a=-1,s=n.length;++a<s;)if(!o.contains(n[a]))return!1;return!0}return this.each(("function"==typeof e?l:e?u:c)(n,e))}},function(t,e,n){"use strict";function r(){this.textContent=""}e.a=function(t){return arguments.length?this.each(null==t?r:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent}},function(t,e,n){"use strict";function r(){this.innerHTML=""}e.a=function(t){return arguments.length?this.each(null==t?r:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML}},function(t,e,n){"use strict";function r(){this.nextSibling&&this.parentNode.appendChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";var r=n(104);e.a=function(t){var e="function"==typeof t?t:Object(r.a)(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}},function(t,e,n){"use strict";function r(){return null}var i=n(104),o=n(110);e.a=function(t,e){var n="function"==typeof t?t:Object(i.a)(t),a=null==e?r:"function"==typeof e?e:Object(o.a)(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})}},function(t,e,n){"use strict";function r(){var t=this.parentNode;t&&t.removeChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";e.a=function(t){return arguments.length?this.property("__data__",t):this.node().__data__}},function(t,e,n){"use strict";function r(t,e,n){var r=Object(i.a)(t),o=r.CustomEvent;o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}var i=n(111);e.a=function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return r(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return r(this,t,e)}})(t,e))}},function(t,e,n){"use strict";n(9)},function(t,e,n){"use strict";n(107),n(109)},function(t,e,n){"use strict";n(107),n(109)},function(t,e,n){"use strict";var r=n(578);n.d(e,"a",function(){return r.a}),n(221)},function(t,e,n){"use strict";function r(){return!s.b.button}function i(){return this.parentNode}function o(t){return null==t?{x:s.b.x,y:s.b.y}:t}var a=n(579),s=n(112),u=n(221),c=n(222),l=n(614),h=n(615);e.a=function(){function t(t){t.on("mousedown.drag",e).on("touchstart.drag",d).on("touchmove.drag",p).on("touchend.drag touchcancel.drag",v).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){if(!y&&b.apply(this,arguments)){var t=g("mouse",_.apply(this,arguments),s.c,this,arguments);t&&(Object(s.d)(s.b.view).on("mousemove.drag",n,!0).on("mouseup.drag",f,!0),Object(u.a)(s.b.view),Object(c.b)(),m=!1,t("start"))}}function n(){Object(c.a)(),m=!0,x.mouse("drag")}function f(){Object(s.d)(s.b.view).on("mousemove.drag mouseup.drag",null),Object(u.b)(s.b.view,m),Object(c.a)(),x.mouse("end")}function d(){if(b.apply(this,arguments)){var t,e,n=s.b.changedTouches,r=_.apply(this,arguments),i=n.length;for(t=0;t<i;++t)(e=g(n[t].identifier,r,s.e,this,arguments))&&(Object(c.b)(),e("start"))}}function p(){var t,e,n=s.b.changedTouches,r=n.length;for(t=0;t<r;++t)(e=x[n[t].identifier])&&(Object(c.a)(),e("drag"))}function v(){var t,e,n=s.b.changedTouches,r=n.length;for(y&&clearTimeout(y),y=setTimeout(function(){y=null},500),t=0;t<r;++t)(e=x[n[t].identifier])&&(Object(c.b)(),e("end"))}function g(e,n,r,i,o){var a,u,c,l=r(n,e),f=E.copy();if(Object(s.a)(new h.a(t,"beforestart",a,e,C,l[0],l[1],0,0,f),function(){return null!=(s.b.subject=a=w.apply(i,o))&&(u=a.x-l[0]||0,c=a.y-l[1]||0,!0)}))return function d(p){var v,g=l;switch(p){case"start":x[e]=d,v=C++;break;case"end":delete x[e],--C;case"drag":l=r(n,e),v=C}Object(s.a)(new h.a(t,p,a,e,v,l[0]+u,l[1]+c,l[0]-g[0],l[1]-g[1],f),f.apply,f,[p,i,o])}}var m,y,b=r,_=i,w=o,x={},E=Object(a.a)("start","drag","end"),C=0;return t.filter=function(e){return arguments.length?(b="function"==typeof e?e:Object(l.a)(!!e),t):b},t.container=function(e){return arguments.length?(_="function"==typeof e?e:Object(l.a)(e),t):_},t.subject=function(e){return arguments.length?(w="function"==typeof e?e:Object(l.a)(e),t):w},t.on=function(){var e=E.on.apply(E,arguments);return e===E?t:e},t}},function(t,e,n){"use strict";var r=n(580);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";function r(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function o(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function a(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=s,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}var s={value:function(){}};i.prototype=r.prototype={constructor:i,on:function(t,e){var n,r=this._,i=function(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}(t+"",r),s=-1,u=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<u;)if(n=(t=i[s]).type)r[n]=a(r[n],t.name,e);else if(null==e)for(n in r)r[n]=a(r[n],t.name,null);return this}for(;++s<u;)if((n=(t=i[s]).type)&&(n=o(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new i(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},e.a=r},function(t,e,n){"use strict";function r(){this._="@"+(++i).toString(36)}var i=0;r.prototype=function(){return new r}.prototype={constructor:r,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}}},function(t,e,n){"use strict";var r=n(116),i=n(118);e.a=function(t){var e=Object(r.a)();return e.changedTouches&&(e=e.changedTouches[0]),Object(i.a)(t,e)}},function(t,e,n){"use strict";var r=n(10);e.a=function(t){return"string"==typeof t?new r.a([[document.querySelector(t)]],[document.documentElement]):new r.a([[t]],r.b)}},function(t,e,n){"use strict";var r=n(10),i=n(119);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,u,c=e[a],l=c.length,h=o[a]=new Array(l),f=0;f<l;++f)(s=c[f])&&(u=t.call(s,s.__data__,f,c))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u);return new r.a(o,this._parents)}},function(t,e,n){"use strict";var r=n(10),i=n(217);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=[],a=[],s=0;s<n;++s)for(var u,c=e[s],l=c.length,h=0;h<l;++h)(u=c[h])&&(o.push(t.call(u,u.__data__,h,c)),a.push(u));return new r.a(o,a)}},function(t,e,n){"use strict";var r=n(10),i=n(216);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,u=e[a],c=u.length,l=o[a]=[],h=0;h<c;++h)(s=u[h])&&t.call(s,s.__data__,h,u)&&l.push(s);return new r.a(o,this._parents)}},function(t,e,n){"use strict";function r(t,e,n,r,i,o){for(var s,u=0,c=e.length,l=o.length;u<l;++u)(s=e[u])?(s.__data__=o[u],r[u]=s):n[u]=new a.a(t,o[u]);for(;u<c;++u)(s=e[u])&&(i[u]=s)}function i(t,e,n,r,i,o,s){var c,l,h,f={},d=e.length,p=o.length,v=new Array(d);for(c=0;c<d;++c)(l=e[c])&&(v[c]=h=u+s.call(l,l.__data__,c,e),h in f?i[c]=l:f[h]=l);for(c=0;c<p;++c)(l=f[h=u+s.call(t,o[c],c,o)])?(r[c]=l,l.__data__=o[c],f[h]=null):n[c]=new a.a(t,o[c]);for(c=0;c<d;++c)(l=e[c])&&f[v[c]]===l&&(i[c]=l)}var o=n(10),a=n(218),s=n(588),u="$";e.a=function(t,e){if(!t)return m=new Array(this.size()),d=-1,this.each(function(t){m[++d]=t}),m;var n=e?i:r,a=this._parents,u=this._groups;"function"!=typeof t&&(t=Object(s.a)(t));for(var c=u.length,l=new Array(c),h=new Array(c),f=new Array(c),d=0;d<c;++d){var p=a[d],v=u[d],g=v.length,m=t.call(p,p&&p.__data__,d,a),y=m.length,b=h[d]=new Array(y),_=l[d]=new Array(y);n(p,v,b,_,f[d]=new Array(g),m,e);for(var w,x,E=0,C=0;E<y;++E)if(w=b[E]){for(E>=C&&(C=E+1);!(x=_[C])&&++C<y;);w._next=x||null}}return(l=new o.a(l,a))._enter=h,l._exit=f,l}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(219),i=n(10);e.a=function(){return new i.a(this._exit||this._groups.map(r.a),this._parents)}},function(t,e,n){"use strict";var r=n(10);e.a=function(t){for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var c,l=e[u],h=n[u],f=l.length,d=s[u]=new Array(f),p=0;p<f;++p)(c=l[p]||h[p])&&(d[p]=c);for(;u<i;++u)s[u]=e[u];return new r.a(s,this._parents)}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this}},function(t,e,n){"use strict";function r(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var i=n(10);e.a=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=r);for(var n=this._groups,o=n.length,a=new Array(o),s=0;s<o;++s){for(var u,c=n[s],l=c.length,h=a[s]=new Array(l),f=0;f<l;++f)(u=c[f])&&(h[f]=u);h.sort(e)}return new i.a(a,this._parents).order()}},function(t,e,n){"use strict";e.a=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}},function(t,e,n){"use strict";e.a=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}},function(t,e,n){"use strict";e.a=function(){var t=0;return this.each(function(){++t}),t}},function(t,e,n){"use strict";e.a=function(){return!this.node()}},function(t,e,n){"use strict";e.a=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this}},function(t,e,n){"use strict";var r=n(114);e.a=function(t,e){var n=Object(r.a)(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))}},function(t,e,n){"use strict";e.a=function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]}},function(t,e,n){"use strict";function r(t){return t.trim().split(/^|\s+/)}function i(t){return t.classList||new o(t)}function o(t){this._node=t,this._names=r(t.getAttribute("class")||"")}function a(t,e){for(var n=i(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function s(t,e){for(var n=i(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function u(t){return function(){a(this,t)}}function c(t){return function(){s(this,t)}}function l(t,e){return function(){(e.apply(this,arguments)?a:s)(this,t)}}o.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}},e.a=function(t,e){var n=r(t+"");if(arguments.length<2){for(var o=i(this.node()),a=-1,s=n.length;++a<s;)if(!o.contains(n[a]))return!1;return!0}return this.each(("function"==typeof e?l:e?u:c)(n,e))}},function(t,e,n){"use strict";function r(){this.textContent=""}e.a=function(t){return arguments.length?this.each(null==t?r:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent}},function(t,e,n){"use strict";function r(){this.innerHTML=""}e.a=function(t){return arguments.length?this.each(null==t?r:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML}},function(t,e,n){"use strict";function r(){this.nextSibling&&this.parentNode.appendChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";var r=n(113);e.a=function(t){var e="function"==typeof t?t:Object(r.a)(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}},function(t,e,n){"use strict";function r(){return null}var i=n(113),o=n(119);e.a=function(t,e){var n="function"==typeof t?t:Object(i.a)(t),a=null==e?r:"function"==typeof e?e:Object(o.a)(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})}},function(t,e,n){"use strict";function r(){var t=this.parentNode;t&&t.removeChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";e.a=function(t){return arguments.length?this.property("__data__",t):this.node().__data__}},function(t,e,n){"use strict";function r(t,e,n){var r=Object(i.a)(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}var i=n(120);e.a=function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return r(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return r(this,t,e)}})(t,e))}},function(t,e,n){"use strict";n(10)},function(t,e,n){"use strict";var r=n(116),i=n(118);e.a=function(t,e,n){arguments.length<3&&(n=e,e=Object(r.a)().changedTouches);for(var o,a=0,s=e?e.length:0;a<s;++a)if((o=e[a]).identifier===n)return Object(i.a)(t,o);return null}},function(t,e,n){"use strict";n(116),n(118)},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=c}e.a=r,r.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t}},function(t,e,n){"use strict";var r=n(617);n.d(e,"a",function(){return r.a});var i=(n(223),n(121));n.d(e,"d",function(){return i.a});var o=(n(618),n(621),n(226),n(622),n(227),n(228),n(229),n(231),n(230),n(232),n(233),n(623),n(624),n(59),n(625),n(234),n(235),n(60),n(626),n(627),n(122));n.d(e,"b",function(){return o.a});var a=(n(628),n(57));n.d(e,"c",function(){return a.a}),n(629),n(630),n(631),n(632),n(634),n(40),n(635),n(636),n(123),n(637),n(638),n(41),n(639)},function(t,e,n){"use strict";function r(t){return t.innerRadius}function i(t){return t.outerRadius}function o(t){return t.startAngle}function a(t){return t.endAngle}function s(t){return t&&t.padAngle}function u(t){return t>=1?f.b:t<=-1?-f.b:Math.asin(t)}function c(t,e,n,r,i,o,a){var s=t-n,u=e-r,c=(a?o:-o)/Math.sqrt(s*s+u*u),l=c*u,h=-c*s,f=t+l,d=e+h,p=n+l,v=r+h,g=(f+p)/2,m=(d+v)/2,y=p-f,b=v-d,_=y*y+b*b,w=i-o,x=f*v-p*d,E=(b<0?-1:1)*Math.sqrt(Math.max(0,w*w*_-x*x)),C=(x*b-y*E)/_,k=(-x*y-b*E)/_,T=(x*b+y*E)/_,S=(-x*y+b*E)/_,O=C-g,M=k-m,A=T-g,P=S-m;return O*O+M*M>A*A+P*P&&(C=T,k=S),{cx:C,cy:k,x01:-l,y01:-h,x11:C*(i/w-1),y11:k*(i/w-1)}}var l=n(8),h=n(25),f=n(39);e.a=function(){function t(){var t,r,i=+e.apply(this,arguments),o=+n.apply(this,arguments),a=v.apply(this,arguments)-f.b,s=g.apply(this,arguments)-f.b,h=Math.abs(s-a),b=s>a;if(y||(y=t=Object(l.a)()),o<i&&(r=o,o=i,i=r),o>f.a)if(h>f.d-f.a)y.moveTo(o*Math.cos(a),o*Math.sin(a)),y.arc(0,0,o,a,s,!b),i>f.a&&(y.moveTo(i*Math.cos(s),i*Math.sin(s)),y.arc(0,0,i,s,a,b));else{var _,w,x=a,E=s,C=a,k=s,T=h,S=h,O=m.apply(this,arguments)/2,M=O>f.a&&(p?+p.apply(this,arguments):Math.sqrt(i*i+o*o)),A=Math.min(Math.abs(o-i)/2,+d.apply(this,arguments)),P=A,I=A;if(M>f.a){var N=u(M/i*Math.sin(O)),D=u(M/o*Math.sin(O));(T-=2*N)>f.a?(C+=N*=b?1:-1,k-=N):(T=0,C=k=(a+s)/2),(S-=2*D)>f.a?(x+=D*=b?1:-1,E-=D):(S=0,x=E=(a+s)/2)}var R=o*Math.cos(x),j=o*Math.sin(x),L=i*Math.cos(k),F=i*Math.sin(k);if(A>f.a){var B=o*Math.cos(E),$=o*Math.sin(E),U=i*Math.cos(C),z=i*Math.sin(C);if(h<f.c){var q=T>f.a?function(t,e,n,r,i,o,a,s){var u=n-t,c=r-e,l=a-i,h=s-o,f=(l*(e-o)-h*(t-i))/(h*u-l*c);return[t+f*u,e+f*c]}(R,j,U,z,B,$,L,F):[L,F],V=R-q[0],H=j-q[1],W=B-q[0],G=$-q[1],K=1/Math.sin(Math.acos((V*W+H*G)/(Math.sqrt(V*V+H*H)*Math.sqrt(W*W+G*G)))/2),Y=Math.sqrt(q[0]*q[0]+q[1]*q[1]);P=Math.min(A,(i-Y)/(K-1)),I=Math.min(A,(o-Y)/(K+1))}}S>f.a?I>f.a?(_=c(U,z,R,j,o,I,b),w=c(B,$,L,F,o,I,b),y.moveTo(_.cx+_.x01,_.cy+_.y01),I<A?y.arc(_.cx,_.cy,I,Math.atan2(_.y01,_.x01),Math.atan2(w.y01,w.x01),!b):(y.arc(_.cx,_.cy,I,Math.atan2(_.y01,_.x01),Math.atan2(_.y11,_.x11),!b),y.arc(0,0,o,Math.atan2(_.cy+_.y11,_.cx+_.x11),Math.atan2(w.cy+w.y11,w.cx+w.x11),!b),y.arc(w.cx,w.cy,I,Math.atan2(w.y11,w.x11),Math.atan2(w.y01,w.x01),!b))):(y.moveTo(R,j),y.arc(0,0,o,x,E,!b)):y.moveTo(R,j),i>f.a&&T>f.a?P>f.a?(_=c(L,F,B,$,i,-P,b),w=c(R,j,U,z,i,-P,b),y.lineTo(_.cx+_.x01,_.cy+_.y01),P<A?y.arc(_.cx,_.cy,P,Math.atan2(_.y01,_.x01),Math.atan2(w.y01,w.x01),!b):(y.arc(_.cx,_.cy,P,Math.atan2(_.y01,_.x01),Math.atan2(_.y11,_.x11),!b),y.arc(0,0,i,Math.atan2(_.cy+_.y11,_.cx+_.x11),Math.atan2(w.cy+w.y11,w.cx+w.x11),b),y.arc(w.cx,w.cy,P,Math.atan2(w.y11,w.x11),Math.atan2(w.y01,w.x01),!b))):y.arc(0,0,i,k,C,b):y.lineTo(L,F)}else y.moveTo(0,0);if(y.closePath(),t)return y=null,t+""||null}var e=r,n=i,d=Object(h.a)(0),p=null,v=o,g=a,m=s,y=null;return t.centroid=function(){var t=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+v.apply(this,arguments)+ +g.apply(this,arguments))/2-f.c/2;return[Math.cos(r)*t,Math.sin(r)*t]},t.innerRadius=function(n){return arguments.length?(e="function"==typeof n?n:Object(h.a)(+n),t):e},t.outerRadius=function(e){return arguments.length?(n="function"==typeof e?e:Object(h.a)(+e),t):n},t.cornerRadius=function(e){return arguments.length?(d="function"==typeof e?e:Object(h.a)(+e),t):d},t.padRadius=function(e){return arguments.length?(p=null==e?null:"function"==typeof e?e:Object(h.a)(+e),t):p},t.startAngle=function(e){return arguments.length?(v="function"==typeof e?e:Object(h.a)(+e),t):v},t.endAngle=function(e){return arguments.length?(g="function"==typeof e?e:Object(h.a)(+e),t):g},t.padAngle=function(e){return arguments.length?(m="function"==typeof e?e:Object(h.a)(+e),t):m},t.context=function(e){return arguments.length?(y=null==e?null:e,t):y},t}},function(t,e,n){"use strict";n(25),n(619),n(620),n(39)},function(t,e,n){"use strict";e.a=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";n(225),n(223),n(226)},function(t,e,n){"use strict";var r=(n(8),n(227)),i=n(228),o=n(229),a=n(230),s=n(231),u=n(232),c=n(233);n(25),r.a,i.a,o.a,s.a,a.a,u.a,c.a},function(t,e,n){"use strict";var r=n(58);n(59);r.a,r.a},function(t,e,n){"use strict";n(59)},function(t,e,n){"use strict";function r(t,e){this._basis=new i.a(t),this._beta=e}var i=n(59);r.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}},function t(e){function n(t){return 1===e?new i.a(t):new r(t,e)}return n.beta=function(e){return t(+e)},n}(.85)},function(t,e,n){"use strict";function r(t,e){this._context=t,this._alpha=e}var i=n(234),o=n(58),a=n(122);r.prototype={areaStart:o.a,areaEnd:o.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Object(a.b)(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new r(t,e):new i.a(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},function(t,e,n){"use strict";function r(t,e){this._context=t,this._alpha=e}var i=n(235),o=n(122);r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(o.b)(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new r(t,e):new i.a(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},function(t,e,n){"use strict";var r=n(58);r.a,r.a},function(t,e,n){"use strict";function r(t){return t<0?-1:1}function i(t,e,n){var i=t._x1-t._x0,o=e-t._x1,a=(t._y1-t._y0)/(i||o<0&&-0),s=(n-t._y1)/(o||i<0&&-0),u=(a*o+s*i)/(i+o);return(r(a)+r(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function o(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function a(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function s(t){this._context=t}function u(t){this._context=t}s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:a(this,this._t0,o(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,a(this,o(this,n=i(this,t,e)),n);break;default:a(this,this._t0,n=i(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(function(t){this._context=new u(t)}.prototype=Object.create(s.prototype)).point=function(t,e){s.prototype.point.call(this,e,t)},u.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}}},function(t,e,n){"use strict"},function(t,e,n){"use strict"},function(t,e,n){"use strict";n(633),n(25),n(40),n(41)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.prototype.slice},function(t,e,n){"use strict";n(40)},function(t,e,n){"use strict";n(40)},function(t,e,n){"use strict";n(40)},function(t,e,n){"use strict";n(123)},function(t,e,n){"use strict";n(41),n(123)},function(t,e,n){"use strict";n(41)},function(t,e,n){"use strict";var r=n(641);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";function r(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function o(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function a(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=s,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}var s={value:function(){}};i.prototype=r.prototype={constructor:i,on:function(t,e){var n,r=this._,i=function(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}(t+"",r),s=-1,u=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<u;)if(n=(t=i[s]).type)r[n]=a(r[n],t.name,e);else if(null==e)for(n in r)r[n]=a(r[n],t.name,null);return this}for(;++s<u;)if((n=(t=i[s]).type)&&(n=o(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new i(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},e.a=r},function(t,e,n){!function(t,e){"use strict";function n(t,e){var n=[],r=[];return t.length&&function t(e,i){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var o=Array(e.length-1),a=0;a<o.length;a++)0===a&&n.push(e[0]),a===o.length-1&&r.push(e[a+1]),o[a]=[(1-i)*e[a][0]+i*e[a+1][0],(1-i)*e[a][1]+i*e[a+1][1]];t(o,i)}}(t,e),{left:n,right:r.reverse()}}function r(t){var e={};return 4===t.length&&(e.x2=t[2][0],e.y2=t[2][1]),t.length>=3&&(e.x1=t[1][0],e.y1=t[1][1]),e.x=t[t.length-1][0],e.y=t[t.length-1][1],4===t.length?e.type="C":3===t.length?e.type="Q":e.type="L",e}function i(t,e){for(var r=[],i=t,o=1/(e=e||2),a=0;a<e-1;a++){var s=o/(1-o*a),u=n(i,s);r.push(u.left),i=u.right}return r.push(i),r}function o(t,e,n){var o=[[t.x,t.y]];return null!=e.x1&&o.push([e.x1,e.y1]),null!=e.x2&&o.push([e.x2,e.y2]),o.push([e.x,e.y]),i(o,n).map(r)}function a(t,e){for(var n=Array(t),r=0;r<t;r++)n[r]=e;return n}function s(t){var e=(t=t.trim().replace(/ /g,","))[0],n=t.substring(1).split(",");return d[e.toUpperCase()].reduce(function(t,e,r){return t[e]=+n[r],t},{type:e})}function u(t){var e=t.type;return""+e+d[e.toUpperCase()].map(function(e){return t[e]}).join(",")}function c(t,e,n){var r,i=[];return"L"===e.type||"Q"===e.type||"C"===e.type?i=i.concat(o(t,e,n)):("M"===(r=f({},t)).type&&(r.type="L"),(i=i.concat(a(n-1).map(function(){return r}))).push(e)),i}function l(t,e,n){var r=t.length-1,i=e.length-1,o=r/i,s=a(i).reduce(function(e,r,i){var a=Math.floor(o*i);if(n&&a<t.length-1&&n(t[a],t[a+1])){var s=o*i%1<.5;e[a]&&(s?a>0?a-=1:a<t.length-1&&(a+=1):a<t.length-1?a+=1:a>0&&(a-=1))}return e[a]=(e[a]||0)+1,e},[]),u=s.reduce(function(e,n,r){if(r===t.length-1){var i=a(n,f({},t[t.length-1]));return"M"===i[0].type&&i.forEach(function(t){t.type="L"}),e.concat(i)}return e.concat(c(t[r],t[r+1],n))},[]);return u.unshift(t[0]),u}function h(t){return null==t?"":t.trim().replace(/[Z]/gi,"").replace(/\s+/," ").replace(/([MLCSTQAHV])\s*/gi,"$1")}var f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"]};t.interpolatePath=function(t,n,r){var i=h(t),o=h(n),a=""===i?[]:i.split(/(?=[MLCSTQAHV])/gi),c=""===o?[]:o.split(/(?=[MLCSTQAHV])/gi);if(!a.length&&!c.length)return function(){return""};a.length?c.length||c.push(a[0]):a.push(c[0]);var f=a.map(s),d=c.map(s);0!==Math.abs(c.length-a.length)&&(d.length>f.length?f=l(f,d,r):d.length<f.length&&(d=l(d,f,r)));var p=(f=f.map(function(t,e){return function(t,e){var n,r={x1:"x",y1:"y",x2:"x",y2:"y"},i=["xAxisRotation","largeArcFlag","sweepFlag"];return t.type!==e.type&&"M"!==e.type.toUpperCase()&&(n={},Object.keys(e).forEach(function(o){var a=e[o],s=t[o];void 0===s&&(i.includes(o)?s=a:(void 0===s&&r[o]&&(s=t[r[o]]),void 0===s&&(s=0))),n[o]=s}),n.type=e.type,t=n),t}(t,d[e])})).map(u).join(""),v=d.map(u).join("");null!=t&&"Z"!==t[t.length-1]||null!=n&&"Z"!==n[n.length-1]||(p+="Z",v+="Z");var g=e.interpolateString(p,v);return function(t){return 1===t?null==n?"":n:g(t)}},Object.defineProperty(t,"__esModule",{value:!0})}(e,n(643))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(124);n.d(e,"interpolate",function(){return r.a});var i=n(239);n.d(e,"interpolateArray",function(){return i.a});var o=n(125);n.d(e,"interpolateBasis",function(){return o.b});var a=n(237);n.d(e,"interpolateBasisClosed",function(){return a.a});var s=n(240);n.d(e,"interpolateDate",function(){return s.a});var u=n(61);n.d(e,"interpolateNumber",function(){return u.a});var c=n(241);n.d(e,"interpolateObject",function(){return c.a});var l=n(644);n.d(e,"interpolateRound",function(){return l.a});var h=n(242);n.d(e,"interpolateString",function(){return h.a});var f=n(645);n.d(e,"interpolateTransformCss",function(){return f.a}),n.d(e,"interpolateTransformSvg",function(){return f.b});var d=n(648);n.d(e,"interpolateZoom",function(){return d.a});var p=n(236);n.d(e,"interpolateRgb",function(){return p.a}),n.d(e,"interpolateRgbBasis",function(){return p.b}),n.d(e,"interpolateRgbBasisClosed",function(){return p.c});var v=n(649);n.d(e,"interpolateHsl",function(){return v.a}),n.d(e,"interpolateHslLong",function(){return v.b});var g=n(650);n.d(e,"interpolateLab",function(){return g.a});var m=n(651);n.d(e,"interpolateHcl",function(){return m.a}),n.d(e,"interpolateHclLong",function(){return m.b});var y=n(652);n.d(e,"interpolateCubehelix",function(){return y.b}),n.d(e,"interpolateCubehelixLong",function(){return y.a});var b=n(653);n.d(e,"piecewise",function(){return b.a});var _=n(654);n.d(e,"quantize",function(){return _.a})},function(t,e,n){"use strict";e.a=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}},function(t,e,n){"use strict";function r(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}function a(t,r,o,a,s,u){if(t!==o||r!==a){var c=s.push("translate(",null,e,null,n);u.push({i:c-4,x:Object(i.a)(t,o)},{i:c-2,x:Object(i.a)(r,a)})}else(o||a)&&s.push("translate("+o+e+a+n)}function s(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Object(i.a)(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}function u(t,e,n,a){t!==e?a.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Object(i.a)(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}function c(t,e,n,r,a,s){if(t!==n||e!==r){var u=a.push(o(a)+"scale(",null,",",null,")");s.push({i:u-4,x:Object(i.a)(t,n)},{i:u-2,x:Object(i.a)(e,r)})}else 1===n&&1===r||a.push(o(a)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),a(e.translateX,e.translateY,n.translateX,n.translateY,r,i),s(e.rotate,n.rotate,r,i),u(e.skewX,n.skewX,r,i),c(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){for(var e,n=-1,o=i.length;++n<o;)r[(e=i[n]).i]=e.x(t);return r.join("")}}}n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});var i=n(61),o=n(646),a=r(o.a,"px, ","px)","deg)"),s=r(o.b,", ",")",")")},function(t,e,n){"use strict";e.a=function(t){return"none"===t?s.b:(r||(r=document.createElement("DIV"),i=document.documentElement,o=document.defaultView),r.style.transform=t,t=o.getComputedStyle(i.appendChild(r),null).getPropertyValue("transform"),i.removeChild(r),t=t.slice(7,-1).split(","),Object(s.a)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},e.b=function(t){return null==t?s.b:(a||(a=document.createElementNS("http://www.w3.org/2000/svg","g")),a.setAttribute("transform",t),(t=a.transform.baseVal.consolidate())?(t=t.matrix,Object(s.a)(t.a,t.b,t.c,t.d,t.e,t.f)):s.b)};var r,i,o,a,s=n(647)},function(t,e,n){"use strict";n.d(e,"b",function(){return i});var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};e.a=function(t,e,n,i,o,a){var s,u,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*i)&&(n-=t*c,i-=e*c),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,c/=u),t*i<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*r,skewX:Math.atan(c)*r,scaleX:s,scaleY:u}}},function(t,e,n){"use strict";function r(t){return((t=Math.exp(t))+1/t)/2}var i=Math.SQRT2;e.a=function(t,e){var n,o,a=t[0],s=t[1],u=t[2],c=e[0],l=e[1],h=e[2],f=c-a,d=l-s,p=f*f+d*d;if(p<1e-12)o=Math.log(h/u)/i,n=function(t){return[a+t*f,s+t*d,u*Math.exp(i*t*o)]};else{var v=Math.sqrt(p),g=(h*h-u*u+4*p)/(2*u*2*v),m=(h*h-u*u-4*p)/(2*h*2*v),y=Math.log(Math.sqrt(g*g+1)-g),b=Math.log(Math.sqrt(m*m+1)-m);o=(b-y)/i,n=function(t){var e=t*o,n=r(y),c=u/(2*v)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(i*e+y)-function(t){return((t=Math.exp(t))-1/t)/2}(y));return[a+c*f,s+c*d,u*n/r(i*e+y)]}}return n.duration=1e3*o,n}},function(t,e,n){"use strict";function r(t){return function(e,n){var r=t((e=Object(i.d)(e)).h,(n=Object(i.d)(n)).h),a=Object(o.a)(e.s,n.s),s=Object(o.a)(e.l,n.l),u=Object(o.a)(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=a(t),e.l=s(t),e.opacity=u(t),e+""}}}n.d(e,"b",function(){return a});var i=n(3),o=n(42);e.a=r(o.c);var a=r(o.a)},function(t,e,n){"use strict";e.a=function(t,e){var n=Object(i.a)((t=Object(r.e)(t)).l,(e=Object(r.e)(e)).l),o=Object(i.a)(t.a,e.a),a=Object(i.a)(t.b,e.b),s=Object(i.a)(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=o(e),t.b=a(e),t.opacity=s(e),t+""}};var r=n(3),i=n(42)},function(t,e,n){"use strict";function r(t){return function(e,n){var r=t((e=Object(i.c)(e)).h,(n=Object(i.c)(n)).h),a=Object(o.a)(e.c,n.c),s=Object(o.a)(e.l,n.l),u=Object(o.a)(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=a(t),e.l=s(t),e.opacity=u(t),e+""}}}n.d(e,"b",function(){return a});var i=n(3),o=n(42);e.a=r(o.c);var a=r(o.a)},function(t,e,n){"use strict";function r(t){return function e(n){function r(e,r){var a=t((e=Object(i.b)(e)).h,(r=Object(i.b)(r)).h),s=Object(o.a)(e.s,r.s),u=Object(o.a)(e.l,r.l),c=Object(o.a)(e.opacity,r.opacity);return function(t){return e.h=a(t),e.s=s(t),e.l=u(Math.pow(t,n)),e.opacity=c(t),e+""}}return n=+n,r.gamma=e,r}(1)}n.d(e,"a",function(){return a});var i=n(3),o=n(42);e.b=r(o.c);var a=r(o.a)},function(t,e,n){"use strict";e.a=function(t,e){for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}},function(t,e,n){"use strict";e.a=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(656);n.d(e,"sankey",function(){return r.a});var i=n(243);n.d(e,"sankeyCenter",function(){return i.a}),n.d(e,"sankeyLeft",function(){return i.c}),n.d(e,"sankeyRight",function(){return i.d}),n.d(e,"sankeyJustify",function(){return i.b});var o=n(658);n.d(e,"sankeyLinkHorizontal",function(){return o.a})},function(t,e,n){"use strict";function r(t,e){return o(t.source,e.source)||t.index-e.index}function i(t,e){return o(t.target,e.target)||t.index-e.index}function o(t,e){return t.y0-e.y0}function a(t){return t.value}function s(t){return(t.y0+t.y1)/2}function u(t){return s(t.source)*t.value}function c(t){return s(t.target)*t.value}function l(t){return t.index}function h(t){return t.nodes}function f(t){return t.links}function d(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var p=n(2),v=n(21),g=n(243),m=n(657);e.a=function(){function t(){var t={nodes:k.apply(null,arguments),links:T.apply(null,arguments)};return function(t){t.nodes.forEach(function(t,e){t.index=e,t.sourceLinks=[],t.targetLinks=[]});var e=Object(v.c)(t.nodes,E);t.links.forEach(function(t,n){t.index=n;var r=t.source,i=t.target;"object"!=typeof r&&(r=t.source=d(e,r)),"object"!=typeof i&&(i=t.target=d(e,i)),r.sourceLinks.push(t),i.targetLinks.push(t)})}(t),function(t){t.nodes.forEach(function(t){t.value=Math.max(Object(p.v)(t.sourceLinks,a),Object(p.v)(t.targetLinks,a))})}(t),function(t){var e,r,i;for(e=t.nodes,r=[],i=0;e.length;++i,e=r,r=[])e.forEach(function(t){t.depth=i,t.sourceLinks.forEach(function(t){r.indexOf(t.target)<0&&r.push(t.target)})});for(e=t.nodes,r=[],i=0;e.length;++i,e=r,r=[])e.forEach(function(t){t.height=i,t.targetLinks.forEach(function(t){r.indexOf(t.source)<0&&r.push(t.source)})});var o=(b-n-w)/(i-1);t.nodes.forEach(function(t){t.x1=(t.x0=n+Math.max(0,Math.min(i-1,Math.floor(C.call(null,t,i))))*o)+w})}(t),function(t){function e(){n.forEach(function(t){var e,n,r,i=y,a=t.length;for(t.sort(o),r=0;r<a;++r)e=t[r],(n=i-e.y0)>0&&(e.y0+=n,e.y1+=n),i=e.y1+x;if((n=i-x-_)>0)for(i=e.y0-=n,e.y1-=n,r=a-2;r>=0;--r)e=t[r],(n=e.y1+x-i)>0&&(e.y0-=n,e.y1-=n),i=e.y0})}var n=Object(v.d)().key(function(t){return t.x0}).sortKeys(p.a).entries(t.nodes).map(function(t){return t.values});!function(){var e=Object(p.o)(n,function(t){return(_-y-(t.length-1)*x)/Object(p.v)(t,a)});n.forEach(function(t){t.forEach(function(t,n){t.y1=(t.y0=n)+t.value*e})}),t.links.forEach(function(t){t.width=t.value*e})}(),e();for(var r=1,i=S;i>0;--i)!function(t){n.slice().reverse().forEach(function(e){e.forEach(function(e){if(e.sourceLinks.length){var n=(Object(p.v)(e.sourceLinks,c)/Object(p.v)(e.sourceLinks,a)-s(e))*t;e.y0+=n,e.y1+=n}})})}(r*=.99),e(),function(t){n.forEach(function(e){e.forEach(function(e){if(e.targetLinks.length){var n=(Object(p.v)(e.targetLinks,u)/Object(p.v)(e.targetLinks,a)-s(e))*t;e.y0+=n,e.y1+=n}})})}(r),e()}(t),e(t),t}function e(t){t.nodes.forEach(function(t){t.sourceLinks.sort(i),t.targetLinks.sort(r)}),t.nodes.forEach(function(t){var e=t.y0,n=e;t.sourceLinks.forEach(function(t){t.y0=e+t.width/2,e+=t.width}),t.targetLinks.forEach(function(t){t.y1=n+t.width/2,n+=t.width})})}var n=0,y=0,b=1,_=1,w=24,x=8,E=l,C=g.b,k=h,T=f,S=32;return t.update=function(t){return e(t),t},t.nodeId=function(e){return arguments.length?(E="function"==typeof e?e:Object(m.a)(e),t):E},t.nodeAlign=function(e){return arguments.length?(C="function"==typeof e?e:Object(m.a)(e),t):C},t.nodeWidth=function(e){return arguments.length?(w=+e,t):w},t.nodePadding=function(e){return arguments.length?(x=+e,t):x},t.nodes=function(e){return arguments.length?(k="function"==typeof e?e:Object(m.a)(e),t):k},t.links=function(e){return arguments.length?(T="function"==typeof e?e:Object(m.a)(e),t):T},t.size=function(e){return arguments.length?(n=y=0,b=+e[0],_=+e[1],t):[b-n,_-y]},t.extent=function(e){return arguments.length?(n=+e[0][0],b=+e[1][0],y=+e[0][1],_=+e[1][1],t):[[n,y],[b,_]]},t.iterations=function(e){return arguments.length?(S=+e,t):S},t}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";function r(t){return[t.source.x1,t.y0]}function i(t){return[t.target.x0,t.y1]}var o=n(192);e.a=function(){return Object(o.x)().source(r).target(i)}},function(t,e,n){"use strict";var r=n(38),i=(n.n(r),n(19));e.a={mixins:[i.a],props:{generator:{default:function(){return Object(r.chartAxis)()}}},data:function(){return{name:"axis-chart"}}}},function(t,e,n){"use strict";var r=n(38),i=(n.n(r),n(19));e.a={mixins:[i.a],props:{generator:{default:function(){return Object(r.chartPie)()}}},data:function(){return{name:"pie-chart"}}}},function(t,e,n){"use strict";var r=n(38),i=(n.n(r),n(19));e.a={mixins:[i.a],props:{generator:{default:function(){return Object(r.chartSankey)()}}},data:function(){return{name:"sankey-chart"}}}},function(t,e,n){"use strict";var r=n(38),i=(n.n(r),n(19));e.a={mixins:[i.a],props:{generator:{default:function(){return Object(r.chartSunburst)()}}},data:function(){return{name:"sunburst-chart"}}}},function(t,e,n){"use strict";var r=n(19);e.a={mixins:[r.a],props:{generator:{required:!0,type:Function},name:{type:String,default:"generator"}}}}])},t.exports=r()},zQR9:function(t,e,n){"use strict";var r=n("h65t")(!0);n("vIB/")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},zwoO:function(t,e,n){"use strict";e.__esModule=!0;var r,i=n("pFYg"),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,o.default)(e))&&"function"!=typeof e?t:e}}});
//# sourceMappingURL=vendor.910335b60445ec7f6983.js.map